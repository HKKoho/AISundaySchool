(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function a(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=a(l);fetch(l.href,u)}})();function Gl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uc={exports:{}},zr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nh;function Ib(){if(Nh)return zr;Nh=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function a(r,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:t,type:r,key:c,ref:l!==void 0?l:null,props:u}}return zr.Fragment=e,zr.jsx=a,zr.jsxs=a,zr}var Th;function kb(){return Th||(Th=1,uc.exports=Ib()),uc.exports}var d=kb(),cc={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch;function Rb(){if(Ch)return Te;Ch=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function E(D){return D===null||typeof D!="object"?null:(D=w&&D[w]||D["@@iterator"],typeof D=="function"?D:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,U={};function I(D,W,T){this.props=D,this.context=W,this.refs=U,this.updater=T||C}I.prototype.isReactComponent={},I.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},I.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function B(){}B.prototype=I.prototype;function P(D,W,T){this.props=D,this.context=W,this.refs=U,this.updater=T||C}var q=P.prototype=new B;q.constructor=P,A(q,I.prototype),q.isPureReactComponent=!0;var H=Array.isArray;function k(){}var M={H:null,A:null,T:null,S:null},ae=Object.prototype.hasOwnProperty;function J(D,W,T){var O=T.ref;return{$$typeof:t,type:D,key:W,ref:O!==void 0?O:null,props:T}}function ne(D,W){return J(D.type,W,D.props)}function le(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function $(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(T){return W[T]})}var K=/\/+/g;function X(D,W){return typeof D=="object"&&D!==null&&D.key!=null?$(""+D.key):W.toString(36)}function ue(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(k,k):(D.status="pending",D.then(function(W){D.status==="pending"&&(D.status="fulfilled",D.value=W)},function(W){D.status==="pending"&&(D.status="rejected",D.reason=W)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function V(D,W,T,O,ce){var oe=typeof D;(oe==="undefined"||oe==="boolean")&&(D=null);var xe=!1;if(D===null)xe=!0;else switch(oe){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(D.$$typeof){case t:case e:xe=!0;break;case x:return xe=D._init,V(xe(D._payload),W,T,O,ce)}}if(xe)return ce=ce(D),xe=O===""?"."+X(D,0):O,H(ce)?(T="",xe!=null&&(T=xe.replace(K,"$&/")+"/"),V(ce,W,T,"",function(ot){return ot})):ce!=null&&(le(ce)&&(ce=ne(ce,T+(ce.key==null||D&&D.key===ce.key?"":(""+ce.key).replace(K,"$&/")+"/")+xe)),W.push(ce)),1;xe=0;var qe=O===""?".":O+":";if(H(D))for(var Ne=0;Ne<D.length;Ne++)O=D[Ne],oe=qe+X(O,Ne),xe+=V(O,W,T,oe,ce);else if(Ne=E(D),typeof Ne=="function")for(D=Ne.call(D),Ne=0;!(O=D.next()).done;)O=O.value,oe=qe+X(O,Ne++),xe+=V(O,W,T,oe,ce);else if(oe==="object"){if(typeof D.then=="function")return V(ue(D),W,T,O,ce);throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return xe}function re(D,W,T){if(D==null)return D;var O=[],ce=0;return V(D,O,"","",function(oe){return W.call(T,oe,ce++)}),O}function me(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(T){(D._status===0||D._status===-1)&&(D._status=1,D._result=T)},function(T){(D._status===0||D._status===-1)&&(D._status=2,D._result=T)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var ve=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},_={map:re,forEach:function(D,W,T){re(D,function(){W.apply(this,arguments)},T)},count:function(D){var W=0;return re(D,function(){W++}),W},toArray:function(D){return re(D,function(W){return W})||[]},only:function(D){if(!le(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Te.Activity=b,Te.Children=_,Te.Component=I,Te.Fragment=a,Te.Profiler=l,Te.PureComponent=P,Te.StrictMode=r,Te.Suspense=y,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Te.__COMPILER_RUNTIME={__proto__:null,c:function(D){return M.H.useMemoCache(D)}},Te.cache=function(D){return function(){return D.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(D,W,T){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var O=A({},D.props),ce=D.key;if(W!=null)for(oe in W.key!==void 0&&(ce=""+W.key),W)!ae.call(W,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&W.ref===void 0||(O[oe]=W[oe]);var oe=arguments.length-2;if(oe===1)O.children=T;else if(1<oe){for(var xe=Array(oe),qe=0;qe<oe;qe++)xe[qe]=arguments[qe+2];O.children=xe}return J(D.type,ce,O)},Te.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Te.createElement=function(D,W,T){var O,ce={},oe=null;if(W!=null)for(O in W.key!==void 0&&(oe=""+W.key),W)ae.call(W,O)&&O!=="key"&&O!=="__self"&&O!=="__source"&&(ce[O]=W[O]);var xe=arguments.length-2;if(xe===1)ce.children=T;else if(1<xe){for(var qe=Array(xe),Ne=0;Ne<xe;Ne++)qe[Ne]=arguments[Ne+2];ce.children=qe}if(D&&D.defaultProps)for(O in xe=D.defaultProps,xe)ce[O]===void 0&&(ce[O]=xe[O]);return J(D,oe,ce)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(D){return{$$typeof:m,render:D}},Te.isValidElement=le,Te.lazy=function(D){return{$$typeof:x,_payload:{_status:-1,_result:D},_init:me}},Te.memo=function(D,W){return{$$typeof:p,type:D,compare:W===void 0?null:W}},Te.startTransition=function(D){var W=M.T,T={};M.T=T;try{var O=D(),ce=M.S;ce!==null&&ce(T,O),typeof O=="object"&&O!==null&&typeof O.then=="function"&&O.then(k,ve)}catch(oe){ve(oe)}finally{W!==null&&T.types!==null&&(W.types=T.types),M.T=W}},Te.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Te.use=function(D){return M.H.use(D)},Te.useActionState=function(D,W,T){return M.H.useActionState(D,W,T)},Te.useCallback=function(D,W){return M.H.useCallback(D,W)},Te.useContext=function(D){return M.H.useContext(D)},Te.useDebugValue=function(){},Te.useDeferredValue=function(D,W){return M.H.useDeferredValue(D,W)},Te.useEffect=function(D,W){return M.H.useEffect(D,W)},Te.useEffectEvent=function(D){return M.H.useEffectEvent(D)},Te.useId=function(){return M.H.useId()},Te.useImperativeHandle=function(D,W,T){return M.H.useImperativeHandle(D,W,T)},Te.useInsertionEffect=function(D,W){return M.H.useInsertionEffect(D,W)},Te.useLayoutEffect=function(D,W){return M.H.useLayoutEffect(D,W)},Te.useMemo=function(D,W){return M.H.useMemo(D,W)},Te.useOptimistic=function(D,W){return M.H.useOptimistic(D,W)},Te.useReducer=function(D,W,T){return M.H.useReducer(D,W,T)},Te.useRef=function(D){return M.H.useRef(D)},Te.useState=function(D){return M.H.useState(D)},Te.useSyncExternalStore=function(D,W,T){return M.H.useSyncExternalStore(D,W,T)},Te.useTransition=function(){return M.H.useTransition()},Te.version="19.2.0",Te}var Ah;function ed(){return Ah||(Ah=1,cc.exports=Rb()),cc.exports}var z=ed();const J0=Gl(z);var dc={exports:{}},jr={},fc={exports:{}},mc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _h;function Mb(){return _h||(_h=1,(function(t){function e(V,re){var me=V.length;V.push(re);e:for(;0<me;){var ve=me-1>>>1,_=V[ve];if(0<l(_,re))V[ve]=re,V[me]=_,me=ve;else break e}}function a(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var re=V[0],me=V.pop();if(me!==re){V[0]=me;e:for(var ve=0,_=V.length,D=_>>>1;ve<D;){var W=2*(ve+1)-1,T=V[W],O=W+1,ce=V[O];if(0>l(T,me))O<_&&0>l(ce,T)?(V[ve]=ce,V[O]=me,ve=O):(V[ve]=T,V[W]=me,ve=W);else if(O<_&&0>l(ce,me))V[ve]=ce,V[O]=me,ve=O;else break e}}return re}function l(V,re){var me=V.sortIndex-re.sortIndex;return me!==0?me:V.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();t.unstable_now=function(){return c.now()-m}}var y=[],p=[],x=1,b=null,w=3,E=!1,C=!1,A=!1,U=!1,I=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function q(V){for(var re=a(p);re!==null;){if(re.callback===null)r(p);else if(re.startTime<=V)r(p),re.sortIndex=re.expirationTime,e(y,re);else break;re=a(p)}}function H(V){if(A=!1,q(V),!C)if(a(y)!==null)C=!0,k||(k=!0,$());else{var re=a(p);re!==null&&ue(H,re.startTime-V)}}var k=!1,M=-1,ae=5,J=-1;function ne(){return U?!0:!(t.unstable_now()-J<ae)}function le(){if(U=!1,k){var V=t.unstable_now();J=V;var re=!0;try{e:{C=!1,A&&(A=!1,B(M),M=-1),E=!0;var me=w;try{t:{for(q(V),b=a(y);b!==null&&!(b.expirationTime>V&&ne());){var ve=b.callback;if(typeof ve=="function"){b.callback=null,w=b.priorityLevel;var _=ve(b.expirationTime<=V);if(V=t.unstable_now(),typeof _=="function"){b.callback=_,q(V),re=!0;break t}b===a(y)&&r(y),q(V)}else r(y);b=a(y)}if(b!==null)re=!0;else{var D=a(p);D!==null&&ue(H,D.startTime-V),re=!1}}break e}finally{b=null,w=me,E=!1}re=void 0}}finally{re?$():k=!1}}}var $;if(typeof P=="function")$=function(){P(le)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,X=K.port2;K.port1.onmessage=le,$=function(){X.postMessage(null)}}else $=function(){I(le,0)};function ue(V,re){M=I(function(){V(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(V){switch(w){case 1:case 2:case 3:var re=3;break;default:re=w}var me=w;w=re;try{return V()}finally{w=me}},t.unstable_requestPaint=function(){U=!0},t.unstable_runWithPriority=function(V,re){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var me=w;w=V;try{return re()}finally{w=me}},t.unstable_scheduleCallback=function(V,re,me){var ve=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ve+me:ve):me=ve,V){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=me+_,V={id:x++,callback:re,priorityLevel:V,startTime:me,expirationTime:_,sortIndex:-1},me>ve?(V.sortIndex=me,e(p,V),a(y)===null&&V===a(p)&&(A?(B(M),M=-1):A=!0,ue(H,me-ve))):(V.sortIndex=_,e(y,V),C||E||(C=!0,k||(k=!0,$()))),V},t.unstable_shouldYield=ne,t.unstable_wrapCallback=function(V){var re=w;return function(){var me=w;w=re;try{return V.apply(this,arguments)}finally{w=me}}}})(mc)),mc}var Ih;function Db(){return Ih||(Ih=1,fc.exports=Mb()),fc.exports}var pc={exports:{}},Tt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kh;function Lb(){if(kh)return Tt;kh=1;var t=ed();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(e(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,p,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:y,containerInfo:p,implementation:x}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tt.createPortal=function(y,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(y,p,null,x)},Tt.flushSync=function(y){var p=c.T,x=r.p;try{if(c.T=null,r.p=2,y)return y()}finally{c.T=p,r.p=x,r.d.f()}},Tt.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(y,p))},Tt.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Tt.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var x=p.as,b=m(x,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?r.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:E}):x==="script"&&r.d.X(y,{crossOrigin:b,integrity:w,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Tt.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=m(p.as,p.crossOrigin);r.d.M(y,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(y)},Tt.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,b=m(x,p.crossOrigin);r.d.L(y,x,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Tt.preloadModule=function(y,p){if(typeof y=="string")if(p){var x=m(p.as,p.crossOrigin);r.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(y)},Tt.requestFormReset=function(y){r.d.r(y)},Tt.unstable_batchedUpdates=function(y,p){return y(p)},Tt.useFormState=function(y,p,x){return c.H.useFormState(y,p,x)},Tt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tt.version="19.2.0",Tt}var Rh;function qb(){if(Rh)return pc.exports;Rh=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pc.exports=Lb(),pc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mh;function Pb(){if(Mh)return jr;Mh=1;var t=Db(),e=ed(),a=qb();function r(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function c(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function y(n){if(u(n)!==n)throw Error(r(188))}function p(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(r(188));return i!==n?null:n}for(var o=n,s=i;;){var h=o.return;if(h===null)break;var v=h.alternate;if(v===null){if(s=h.return,s!==null){o=s;continue}break}if(h.child===v.child){for(v=h.child;v;){if(v===o)return y(h),n;if(v===s)return y(h),i;v=v.sibling}throw Error(r(188))}if(o.return!==s.return)o=h,s=v;else{for(var S=!1,N=h.child;N;){if(N===o){S=!0,o=h,s=v;break}if(N===s){S=!0,s=h,o=v;break}N=N.sibling}if(!S){for(N=v.child;N;){if(N===o){S=!0,o=v,s=h;break}if(N===s){S=!0,s=v,o=h;break}N=N.sibling}if(!S)throw Error(r(189))}}if(o.alternate!==s)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?n:i}function x(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=x(n),i!==null)return i;n=n.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),P=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function $(n){return n===null||typeof n!="object"?null:(n=le&&n[le]||n["@@iterator"],typeof n=="function"?n:null)}var K=Symbol.for("react.client.reference");function X(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===K?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case I:return"Profiler";case U:return"StrictMode";case H:return"Suspense";case k:return"SuspenseList";case J:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case C:return"Portal";case P:return n.displayName||"Context";case B:return(n._context.displayName||"Context")+".Consumer";case q:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return i=n.displayName||null,i!==null?i:X(n.type)||"Memo";case ae:i=n._payload,n=n._init;try{return X(n(i))}catch{}}return null}var ue=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ve=[],_=-1;function D(n){return{current:n}}function W(n){0>_||(n.current=ve[_],ve[_]=null,_--)}function T(n,i){_++,ve[_]=n.current,n.current=i}var O=D(null),ce=D(null),oe=D(null),xe=D(null);function qe(n,i){switch(T(oe,i),T(ce,n),T(O,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Yp(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Yp(i),n=Kp(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}W(O),T(O,n)}function Ne(){W(O),W(ce),W(oe)}function ot(n){n.memoizedState!==null&&T(xe,n);var i=O.current,o=Kp(i,n.type);i!==o&&(T(ce,n),T(O,o))}function nt(n){ce.current===n&&(W(O),W(ce)),xe.current===n&&(W(xe),Vr._currentValue=me)}var _t,_n;function zt(n){if(_t===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);_t=i&&i[1]||"",_n=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_t+n+_n}var Ni=!1;function Ti(n,i){if(!n||Ni)return"";Ni=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(i){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Q){var Y=Q}Reflect.construct(n,[],ie)}else{try{ie.call()}catch(Q){Y=Q}n.call(ie.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(ie=n())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=s.DetermineComponentFrameRoot(),S=v[0],N=v[1];if(S&&N){var R=S.split(`
`),F=N.split(`
`);for(h=s=0;s<R.length&&!R[s].includes("DetermineComponentFrameRoot");)s++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(s===R.length||h===F.length)for(s=R.length-1,h=F.length-1;1<=s&&0<=h&&R[s]!==F[h];)h--;for(;1<=s&&0<=h;s--,h--)if(R[s]!==F[h]){if(s!==1||h!==1)do if(s--,h--,0>h||R[s]!==F[h]){var Z=`
`+R[s].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=s&&0<=h);break}}}finally{Ni=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?zt(o):""}function Yi(n,i){switch(n.tag){case 26:case 27:case 5:return zt(n.type);case 16:return zt("Lazy");case 13:return n.child!==i&&i!==null?zt("Suspense Fallback"):zt("Suspense");case 19:return zt("SuspenseList");case 0:case 15:return Ti(n.type,!1);case 11:return Ti(n.type.render,!1);case 1:return Ti(n.type,!0);case 31:return zt("Activity");default:return""}}function Ki(n){try{var i="",o=null;do i+=Yi(n,o),o=n,n=n.return;while(n);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Qi=Object.prototype.hasOwnProperty,$i=t.unstable_scheduleCallback,Xa=t.unstable_cancelCallback,Kl=t.unstable_shouldYield,Ql=t.unstable_requestPaint,It=t.unstable_now,$l=t.unstable_getCurrentPriorityLevel,ee=t.unstable_ImmediatePriority,de=t.unstable_UserBlockingPriority,Se=t.unstable_NormalPriority,ke=t.unstable_LowPriority,He=t.unstable_IdlePriority,jt=t.log,In=t.unstable_setDisableYieldValue,kt=null,pt=null;function Mt(n){if(typeof jt=="function"&&In(n),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(kt,n)}catch{}}var Ke=Math.clz32?Math.clz32:hx,Qn=Math.log,pn=Math.LN2;function hx(n){return n>>>=0,n===0?32:31-(Qn(n)/pn|0)|0}var uo=256,co=262144,fo=4194304;function Ci(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function mo(n,i,o){var s=n.pendingLanes;if(s===0)return 0;var h=0,v=n.suspendedLanes,S=n.pingedLanes;n=n.warmLanes;var N=s&134217727;return N!==0?(s=N&~v,s!==0?h=Ci(s):(S&=N,S!==0?h=Ci(S):o||(o=N&~n,o!==0&&(h=Ci(o))))):(N=s&~v,N!==0?h=Ci(N):S!==0?h=Ci(S):o||(o=s&~n,o!==0&&(h=Ci(o)))),h===0?0:i!==0&&i!==h&&(i&v)===0&&(v=h&-h,o=i&-i,v>=o||v===32&&(o&4194048)!==0)?i:h}function Za(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function gx(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ad(){var n=fo;return fo<<=1,(fo&62914560)===0&&(fo=4194304),n}function Xl(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function Wa(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function yx(n,i,o,s,h,v){var S=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var N=n.entanglements,R=n.expirationTimes,F=n.hiddenUpdates;for(o=S&~o;0<o;){var Z=31-Ke(o),ie=1<<Z;N[Z]=0,R[Z]=-1;var Y=F[Z];if(Y!==null)for(F[Z]=null,Z=0;Z<Y.length;Z++){var Q=Y[Z];Q!==null&&(Q.lane&=-536870913)}o&=~ie}s!==0&&_d(n,s,0),v!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=v&~(S&~i))}function _d(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var s=31-Ke(i);n.entangledLanes|=i,n.entanglements[s]=n.entanglements[s]|1073741824|o&261930}function Id(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var s=31-Ke(o),h=1<<s;h&i|n[s]&i&&(n[s]|=i),o&=~h}}function kd(n,i){var o=i&-i;return o=(o&42)!==0?1:Zl(o),(o&(n.suspendedLanes|i))!==0?0:o}function Zl(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Wl(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Rd(){var n=re.p;return n!==0?n:(n=window.event,n===void 0?32:yh(n.type))}function Md(n,i){var o=re.p;try{return re.p=n,i()}finally{re.p=o}}var $n=Math.random().toString(36).slice(2),bt="__reactFiber$"+$n,Dt="__reactProps$"+$n,Xi="__reactContainer$"+$n,es="__reactEvents$"+$n,xx="__reactListeners$"+$n,vx="__reactHandles$"+$n,Dd="__reactResources$"+$n,er="__reactMarker$"+$n;function ts(n){delete n[bt],delete n[Dt],delete n[es],delete n[xx],delete n[vx]}function Zi(n){var i=n[bt];if(i)return i;for(var o=n.parentNode;o;){if(i=o[Xi]||o[bt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=th(n);n!==null;){if(o=n[bt])return o;n=th(n)}return i}n=o,o=n.parentNode}return null}function Wi(n){if(n=n[bt]||n[Xi]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function tr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(r(33))}function ea(n){var i=n[Dd];return i||(i=n[Dd]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function gt(n){n[er]=!0}var Ld=new Set,qd={};function Ai(n,i){ta(n,i),ta(n+"Capture",i)}function ta(n,i){for(qd[n]=i,n=0;n<i.length;n++)Ld.add(i[n])}var bx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pd={},Ud={};function wx(n){return Qi.call(Ud,n)?!0:Qi.call(Pd,n)?!1:bx.test(n)?Ud[n]=!0:(Pd[n]=!0,!1)}function po(n,i,o){if(wx(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var s=i.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function ho(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function kn(n,i,o,s){if(s===null)n.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+s)}}function en(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Bd(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Sx(n,i,o){var s=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,v=s.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return h.call(this)},set:function(S){o=""+S,v.call(this,S)}}),Object.defineProperty(n,i,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ns(n){if(!n._valueTracker){var i=Bd(n)?"checked":"value";n._valueTracker=Sx(n,i,""+n[i])}}function Vd(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),s="";return n&&(s=Bd(n)?n.checked?"true":"false":n.value),n=s,n!==o?(i.setValue(n),!0):!1}function go(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ex=/[\n"\\]/g;function tn(n){return n.replace(Ex,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function is(n,i,o,s,h,v,S,N){n.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.type=S:n.removeAttribute("type"),i!=null?S==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+en(i)):n.value!==""+en(i)&&(n.value=""+en(i)):S!=="submit"&&S!=="reset"||n.removeAttribute("value"),i!=null?as(n,S,en(i)):o!=null?as(n,S,en(o)):s!=null&&n.removeAttribute("value"),h==null&&v!=null&&(n.defaultChecked=!!v),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?n.name=""+en(N):n.removeAttribute("name")}function Gd(n,i,o,s,h,v,S,N){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.type=v),i!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||i!=null)){ns(n);return}o=o!=null?""+en(o):"",i=i!=null?""+en(i):o,N||i===n.value||(n.value=i),n.defaultValue=i}s=s??h,s=typeof s!="function"&&typeof s!="symbol"&&!!s,n.checked=N?n.checked:!!s,n.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(n.name=S),ns(n)}function as(n,i,o){i==="number"&&go(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function na(n,i,o,s){if(n=n.options,i){i={};for(var h=0;h<o.length;h++)i["$"+o[h]]=!0;for(o=0;o<n.length;o++)h=i.hasOwnProperty("$"+n[o].value),n[o].selected!==h&&(n[o].selected=h),h&&s&&(n[o].defaultSelected=!0)}else{for(o=""+en(o),i=null,h=0;h<n.length;h++){if(n[h].value===o){n[h].selected=!0,s&&(n[h].defaultSelected=!0);return}i!==null||n[h].disabled||(i=n[h])}i!==null&&(i.selected=!0)}}function Od(n,i,o){if(i!=null&&(i=""+en(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+en(o):""}function Hd(n,i,o,s){if(i==null){if(s!=null){if(o!=null)throw Error(r(92));if(ue(s)){if(1<s.length)throw Error(r(93));s=s[0]}o=s}o==null&&(o=""),i=o}o=en(i),n.defaultValue=o,s=n.textContent,s===o&&s!==""&&s!==null&&(n.value=s),ns(n)}function ia(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var Nx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zd(n,i,o){var s=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?s?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":s?n.setProperty(i,o):typeof o!="number"||o===0||Nx.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function jd(n,i,o){if(i!=null&&typeof i!="object")throw Error(r(62));if(n=n.style,o!=null){for(var s in o)!o.hasOwnProperty(s)||i!=null&&i.hasOwnProperty(s)||(s.indexOf("--")===0?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="");for(var h in i)s=i[h],i.hasOwnProperty(h)&&o[h]!==s&&zd(n,h,s)}else for(var v in i)i.hasOwnProperty(v)&&zd(n,v,i[v])}function rs(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yo(n){return Cx.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Rn(){}var os=null;function ls(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var aa=null,ra=null;function Fd(n){var i=Wi(n);if(i&&(n=i.stateNode)){var o=n[Dt]||null;e:switch(n=i.stateNode,i.type){case"input":if(is(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+tn(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var s=o[i];if(s!==n&&s.form===n.form){var h=s[Dt]||null;if(!h)throw Error(r(90));is(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<o.length;i++)s=o[i],s.form===n.form&&Vd(s)}break e;case"textarea":Od(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&na(n,!!o.multiple,i,!1)}}}var ss=!1;function Jd(n,i,o){if(ss)return n(i,o);ss=!0;try{var s=n(i);return s}finally{if(ss=!1,(aa!==null||ra!==null)&&(al(),aa&&(i=aa,n=ra,ra=aa=null,Fd(i),n)))for(i=0;i<n.length;i++)Fd(n[i])}}function nr(n,i){var o=n.stateNode;if(o===null)return null;var s=o[Dt]||null;if(s===null)return null;o=s[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(n=n.type,s=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!s;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(r(231,i,typeof o));return o}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),us=!1;if(Mn)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){us=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{us=!1}var Xn=null,cs=null,xo=null;function Yd(){if(xo)return xo;var n,i=cs,o=i.length,s,h="value"in Xn?Xn.value:Xn.textContent,v=h.length;for(n=0;n<o&&i[n]===h[n];n++);var S=o-n;for(s=1;s<=S&&i[o-s]===h[v-s];s++);return xo=h.slice(n,1<s?1-s:void 0)}function vo(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function bo(){return!0}function Kd(){return!1}function Lt(n){function i(o,s,h,v,S){this._reactName=o,this._targetInst=h,this.type=s,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var N in n)n.hasOwnProperty(N)&&(o=n[N],this[N]=o?o(v):v[N]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?bo:Kd,this.isPropagationStopped=Kd,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=bo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=bo)},persist:function(){},isPersistent:bo}),i}var _i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=Lt(_i),ar=b({},_i,{view:0,detail:0}),Ax=Lt(ar),ds,fs,rr,So=b({},ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==rr&&(rr&&n.type==="mousemove"?(ds=n.screenX-rr.screenX,fs=n.screenY-rr.screenY):fs=ds=0,rr=n),ds)},movementY:function(n){return"movementY"in n?n.movementY:fs}}),Qd=Lt(So),_x=b({},So,{dataTransfer:0}),Ix=Lt(_x),kx=b({},ar,{relatedTarget:0}),ms=Lt(kx),Rx=b({},_i,{animationName:0,elapsedTime:0,pseudoElement:0}),Mx=Lt(Rx),Dx=b({},_i,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Lx=Lt(Dx),qx=b({},_i,{data:0}),$d=Lt(qx),Px={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ux={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vx(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Bx[n])?!!i[n]:!1}function ps(){return Vx}var Gx=b({},ar,{key:function(n){if(n.key){var i=Px[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=vo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ux[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(n){return n.type==="keypress"?vo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?vo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ox=Lt(Gx),Hx=b({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xd=Lt(Hx),zx=b({},ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),jx=Lt(zx),Fx=b({},_i,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jx=Lt(Fx),Yx=b({},So,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Kx=Lt(Yx),Qx=b({},_i,{newState:0,oldState:0}),$x=Lt(Qx),Xx=[9,13,27,32],hs=Mn&&"CompositionEvent"in window,or=null;Mn&&"documentMode"in document&&(or=document.documentMode);var Zx=Mn&&"TextEvent"in window&&!or,Zd=Mn&&(!hs||or&&8<or&&11>=or),Wd=" ",ef=!1;function tf(n,i){switch(n){case"keyup":return Xx.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var oa=!1;function Wx(n,i){switch(n){case"compositionend":return nf(i);case"keypress":return i.which!==32?null:(ef=!0,Wd);case"textInput":return n=i.data,n===Wd&&ef?null:n;default:return null}}function ev(n,i){if(oa)return n==="compositionend"||!hs&&tf(n,i)?(n=Yd(),xo=cs=Xn=null,oa=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Zd&&i.locale!=="ko"?null:i.data;default:return null}}var tv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function af(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!tv[n.type]:i==="textarea"}function rf(n,i,o,s){aa?ra?ra.push(s):ra=[s]:aa=s,i=dl(i,"onChange"),0<i.length&&(o=new wo("onChange","change",null,o,s),n.push({event:o,listeners:i}))}var lr=null,sr=null;function nv(n){Op(n,0)}function Eo(n){var i=tr(n);if(Vd(i))return n}function of(n,i){if(n==="change")return i}var lf=!1;if(Mn){var gs;if(Mn){var ys="oninput"in document;if(!ys){var sf=document.createElement("div");sf.setAttribute("oninput","return;"),ys=typeof sf.oninput=="function"}gs=ys}else gs=!1;lf=gs&&(!document.documentMode||9<document.documentMode)}function uf(){lr&&(lr.detachEvent("onpropertychange",cf),sr=lr=null)}function cf(n){if(n.propertyName==="value"&&Eo(sr)){var i=[];rf(i,sr,n,ls(n)),Jd(nv,i)}}function iv(n,i,o){n==="focusin"?(uf(),lr=i,sr=o,lr.attachEvent("onpropertychange",cf)):n==="focusout"&&uf()}function av(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Eo(sr)}function rv(n,i){if(n==="click")return Eo(i)}function ov(n,i){if(n==="input"||n==="change")return Eo(i)}function lv(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Ft=typeof Object.is=="function"?Object.is:lv;function ur(n,i){if(Ft(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),s=Object.keys(i);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var h=o[s];if(!Qi.call(i,h)||!Ft(n[h],i[h]))return!1}return!0}function df(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ff(n,i){var o=df(n);n=0;for(var s;o;){if(o.nodeType===3){if(s=n+o.textContent.length,n<=i&&s>=i)return{node:o,offset:i-n};n=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=df(o)}}function mf(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?mf(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function pf(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=go(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=go(n.document)}return i}function xs(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var sv=Mn&&"documentMode"in document&&11>=document.documentMode,la=null,vs=null,cr=null,bs=!1;function hf(n,i,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;bs||la==null||la!==go(s)||(s=la,"selectionStart"in s&&xs(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),cr&&ur(cr,s)||(cr=s,s=dl(vs,"onSelect"),0<s.length&&(i=new wo("onSelect","select",null,i,o),n.push({event:i,listeners:s}),i.target=la)))}function Ii(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var sa={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionrun:Ii("Transition","TransitionRun"),transitionstart:Ii("Transition","TransitionStart"),transitioncancel:Ii("Transition","TransitionCancel"),transitionend:Ii("Transition","TransitionEnd")},ws={},gf={};Mn&&(gf=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function ki(n){if(ws[n])return ws[n];if(!sa[n])return n;var i=sa[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in gf)return ws[n]=i[o];return n}var yf=ki("animationend"),xf=ki("animationiteration"),vf=ki("animationstart"),uv=ki("transitionrun"),cv=ki("transitionstart"),dv=ki("transitioncancel"),bf=ki("transitionend"),wf=new Map,Ss="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ss.push("scrollEnd");function hn(n,i){wf.set(n,i),Ai(i,[n])}var No=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},nn=[],ua=0,Es=0;function To(){for(var n=ua,i=Es=ua=0;i<n;){var o=nn[i];nn[i++]=null;var s=nn[i];nn[i++]=null;var h=nn[i];nn[i++]=null;var v=nn[i];if(nn[i++]=null,s!==null&&h!==null){var S=s.pending;S===null?h.next=h:(h.next=S.next,S.next=h),s.pending=h}v!==0&&Sf(o,h,v)}}function Co(n,i,o,s){nn[ua++]=n,nn[ua++]=i,nn[ua++]=o,nn[ua++]=s,Es|=s,n.lanes|=s,n=n.alternate,n!==null&&(n.lanes|=s)}function Ns(n,i,o,s){return Co(n,i,o,s),Ao(n)}function Ri(n,i){return Co(n,null,null,i),Ao(n)}function Sf(n,i,o){n.lanes|=o;var s=n.alternate;s!==null&&(s.lanes|=o);for(var h=!1,v=n.return;v!==null;)v.childLanes|=o,s=v.alternate,s!==null&&(s.childLanes|=o),v.tag===22&&(n=v.stateNode,n===null||n._visibility&1||(h=!0)),n=v,v=v.return;return n.tag===3?(v=n.stateNode,h&&i!==null&&(h=31-Ke(o),n=v.hiddenUpdates,s=n[h],s===null?n[h]=[i]:s.push(i),i.lane=o|536870912),v):null}function Ao(n){if(50<Mr)throw Mr=0,Du=null,Error(r(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var ca={};function fv(n,i,o,s){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(n,i,o,s){return new fv(n,i,o,s)}function Ts(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Dn(n,i){var o=n.alternate;return o===null?(o=Jt(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Ef(n,i){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function _o(n,i,o,s,h,v){var S=0;if(s=n,typeof n=="function")Ts(n)&&(S=1);else if(typeof n=="string")S=yb(n,o,O.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case J:return n=Jt(31,o,i,h),n.elementType=J,n.lanes=v,n;case A:return Mi(o.children,h,v,i);case U:S=8,h|=24;break;case I:return n=Jt(12,o,i,h|2),n.elementType=I,n.lanes=v,n;case H:return n=Jt(13,o,i,h),n.elementType=H,n.lanes=v,n;case k:return n=Jt(19,o,i,h),n.elementType=k,n.lanes=v,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case P:S=10;break e;case B:S=9;break e;case q:S=11;break e;case M:S=14;break e;case ae:S=16,s=null;break e}S=29,o=Error(r(130,n===null?"null":typeof n,"")),s=null}return i=Jt(S,o,i,h),i.elementType=n,i.type=s,i.lanes=v,i}function Mi(n,i,o,s){return n=Jt(7,n,s,i),n.lanes=o,n}function Cs(n,i,o){return n=Jt(6,n,null,i),n.lanes=o,n}function Nf(n){var i=Jt(18,null,null,0);return i.stateNode=n,i}function As(n,i,o){return i=Jt(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Tf=new WeakMap;function an(n,i){if(typeof n=="object"&&n!==null){var o=Tf.get(n);return o!==void 0?o:(i={value:n,source:i,stack:Ki(i)},Tf.set(n,i),i)}return{value:n,source:i,stack:Ki(i)}}var da=[],fa=0,Io=null,dr=0,rn=[],on=0,Zn=null,wn=1,Sn="";function Ln(n,i){da[fa++]=dr,da[fa++]=Io,Io=n,dr=i}function Cf(n,i,o){rn[on++]=wn,rn[on++]=Sn,rn[on++]=Zn,Zn=n;var s=wn;n=Sn;var h=32-Ke(s)-1;s&=~(1<<h),o+=1;var v=32-Ke(i)+h;if(30<v){var S=h-h%5;v=(s&(1<<S)-1).toString(32),s>>=S,h-=S,wn=1<<32-Ke(i)+h|o<<h|s,Sn=v+n}else wn=1<<v|o<<h|s,Sn=n}function _s(n){n.return!==null&&(Ln(n,1),Cf(n,1,0))}function Is(n){for(;n===Io;)Io=da[--fa],da[fa]=null,dr=da[--fa],da[fa]=null;for(;n===Zn;)Zn=rn[--on],rn[on]=null,Sn=rn[--on],rn[on]=null,wn=rn[--on],rn[on]=null}function Af(n,i){rn[on++]=wn,rn[on++]=Sn,rn[on++]=Zn,wn=i.id,Sn=i.overflow,Zn=n}var wt=null,Ze=null,Pe=!1,Wn=null,ln=!1,ks=Error(r(519));function ei(n){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fr(an(i,n)),ks}function _f(n){var i=n.stateNode,o=n.type,s=n.memoizedProps;switch(i[bt]=n,i[Dt]=s,o){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(o=0;o<Lr.length;o++)Me(Lr[o],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),Gd(i,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),Hd(i,s.value,s.defaultValue,s.children)}o=s.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||s.suppressHydrationWarning===!0||Fp(i.textContent,o)?(s.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),s.onScroll!=null&&Me("scroll",i),s.onScrollEnd!=null&&Me("scrollend",i),s.onClick!=null&&(i.onclick=Rn),i=!0):i=!1,i||ei(n,!0)}function If(n){for(wt=n.return;wt;)switch(wt.tag){case 5:case 31:case 13:ln=!1;return;case 27:case 3:ln=!0;return;default:wt=wt.return}}function ma(n){if(n!==wt)return!1;if(!Pe)return If(n),Pe=!0,!1;var i=n.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Ku(n.type,n.memoizedProps)),o=!o),o&&Ze&&ei(n),If(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Ze=eh(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Ze=eh(n)}else i===27?(i=Ze,pi(n.type)?(n=Wu,Wu=null,Ze=n):Ze=i):Ze=wt?un(n.stateNode.nextSibling):null;return!0}function Di(){Ze=wt=null,Pe=!1}function Rs(){var n=Wn;return n!==null&&(Bt===null?Bt=n:Bt.push.apply(Bt,n),Wn=null),n}function fr(n){Wn===null?Wn=[n]:Wn.push(n)}var Ms=D(null),Li=null,qn=null;function ti(n,i,o){T(Ms,i._currentValue),i._currentValue=o}function Pn(n){n._currentValue=Ms.current,W(Ms)}function Ds(n,i,o){for(;n!==null;){var s=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,s!==null&&(s.childLanes|=i)):s!==null&&(s.childLanes&i)!==i&&(s.childLanes|=i),n===o)break;n=n.return}}function Ls(n,i,o,s){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var v=h.dependencies;if(v!==null){var S=h.child;v=v.firstContext;e:for(;v!==null;){var N=v;v=h;for(var R=0;R<i.length;R++)if(N.context===i[R]){v.lanes|=o,N=v.alternate,N!==null&&(N.lanes|=o),Ds(v.return,o,n),s||(S=null);break e}v=N.next}}else if(h.tag===18){if(S=h.return,S===null)throw Error(r(341));S.lanes|=o,v=S.alternate,v!==null&&(v.lanes|=o),Ds(S,o,n),S=null}else S=h.child;if(S!==null)S.return=h;else for(S=h;S!==null;){if(S===n){S=null;break}if(h=S.sibling,h!==null){h.return=S.return,S=h;break}S=S.return}h=S}}function pa(n,i,o,s){n=null;for(var h=i,v=!1;h!==null;){if(!v){if((h.flags&524288)!==0)v=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var S=h.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var N=h.type;Ft(h.pendingProps.value,S.value)||(n!==null?n.push(N):n=[N])}}else if(h===xe.current){if(S=h.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Vr):n=[Vr])}h=h.return}n!==null&&Ls(i,n,o,s),i.flags|=262144}function ko(n){for(n=n.firstContext;n!==null;){if(!Ft(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function qi(n){Li=n,qn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function St(n){return kf(Li,n)}function Ro(n,i){return Li===null&&qi(n),kf(n,i)}function kf(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},qn===null){if(n===null)throw Error(r(308));qn=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else qn=qn.next=i;return o}var mv=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,s){n.push(s)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},pv=t.unstable_scheduleCallback,hv=t.unstable_NormalPriority,ut={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qs(){return{controller:new mv,data:new Map,refCount:0}}function mr(n){n.refCount--,n.refCount===0&&pv(hv,function(){n.controller.abort()})}var pr=null,Ps=0,ha=0,ga=null;function gv(n,i){if(pr===null){var o=pr=[];Ps=0,ha=Vu(),ga={status:"pending",value:void 0,then:function(s){o.push(s)}}}return Ps++,i.then(Rf,Rf),i}function Rf(){if(--Ps===0&&pr!==null){ga!==null&&(ga.status="fulfilled");var n=pr;pr=null,ha=0,ga=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function yv(n,i){var o=[],s={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return n.then(function(){s.status="fulfilled",s.value=i;for(var h=0;h<o.length;h++)(0,o[h])(i)},function(h){for(s.status="rejected",s.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),s}var Mf=V.S;V.S=function(n,i){hp=It(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&gv(n,i),Mf!==null&&Mf(n,i)};var Pi=D(null);function Us(){var n=Pi.current;return n!==null?n:Qe.pooledCache}function Mo(n,i){i===null?T(Pi,Pi.current):T(Pi,i.pool)}function Df(){var n=Us();return n===null?null:{parent:ut._currentValue,pool:n}}var ya=Error(r(460)),Bs=Error(r(474)),Do=Error(r(542)),Lo={then:function(){}};function Lf(n){return n=n.status,n==="fulfilled"||n==="rejected"}function qf(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(Rn,Rn),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Uf(n),n;default:if(typeof i.status=="string")i.then(Rn,Rn);else{if(n=Qe,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=i,n.status="pending",n.then(function(s){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=s}},function(s){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=s}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Uf(n),n}throw Bi=i,ya}}function Ui(n){try{var i=n._init;return i(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Bi=o,ya):o}}var Bi=null;function Pf(){if(Bi===null)throw Error(r(459));var n=Bi;return Bi=null,n}function Uf(n){if(n===ya||n===Do)throw Error(r(483))}var xa=null,hr=0;function qo(n){var i=hr;return hr+=1,xa===null&&(xa=[]),qf(xa,n,i)}function gr(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Po(n,i){throw i.$$typeof===w?Error(r(525)):(n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Bf(n){function i(G,L){if(n){var j=G.deletions;j===null?(G.deletions=[L],G.flags|=16):j.push(L)}}function o(G,L){if(!n)return null;for(;L!==null;)i(G,L),L=L.sibling;return null}function s(G){for(var L=new Map;G!==null;)G.key!==null?L.set(G.key,G):L.set(G.index,G),G=G.sibling;return L}function h(G,L){return G=Dn(G,L),G.index=0,G.sibling=null,G}function v(G,L,j){return G.index=j,n?(j=G.alternate,j!==null?(j=j.index,j<L?(G.flags|=67108866,L):j):(G.flags|=67108866,L)):(G.flags|=1048576,L)}function S(G){return n&&G.alternate===null&&(G.flags|=67108866),G}function N(G,L,j,te){return L===null||L.tag!==6?(L=Cs(j,G.mode,te),L.return=G,L):(L=h(L,j),L.return=G,L)}function R(G,L,j,te){var be=j.type;return be===A?Z(G,L,j.props.children,te,j.key):L!==null&&(L.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===ae&&Ui(be)===L.type)?(L=h(L,j.props),gr(L,j),L.return=G,L):(L=_o(j.type,j.key,j.props,null,G.mode,te),gr(L,j),L.return=G,L)}function F(G,L,j,te){return L===null||L.tag!==4||L.stateNode.containerInfo!==j.containerInfo||L.stateNode.implementation!==j.implementation?(L=As(j,G.mode,te),L.return=G,L):(L=h(L,j.children||[]),L.return=G,L)}function Z(G,L,j,te,be){return L===null||L.tag!==7?(L=Mi(j,G.mode,te,be),L.return=G,L):(L=h(L,j),L.return=G,L)}function ie(G,L,j){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Cs(""+L,G.mode,j),L.return=G,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case E:return j=_o(L.type,L.key,L.props,null,G.mode,j),gr(j,L),j.return=G,j;case C:return L=As(L,G.mode,j),L.return=G,L;case ae:return L=Ui(L),ie(G,L,j)}if(ue(L)||$(L))return L=Mi(L,G.mode,j,null),L.return=G,L;if(typeof L.then=="function")return ie(G,qo(L),j);if(L.$$typeof===P)return ie(G,Ro(G,L),j);Po(G,L)}return null}function Y(G,L,j,te){var be=L!==null?L.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return be!==null?null:N(G,L,""+j,te);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case E:return j.key===be?R(G,L,j,te):null;case C:return j.key===be?F(G,L,j,te):null;case ae:return j=Ui(j),Y(G,L,j,te)}if(ue(j)||$(j))return be!==null?null:Z(G,L,j,te,null);if(typeof j.then=="function")return Y(G,L,qo(j),te);if(j.$$typeof===P)return Y(G,L,Ro(G,j),te);Po(G,j)}return null}function Q(G,L,j,te,be){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return G=G.get(j)||null,N(L,G,""+te,be);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case E:return G=G.get(te.key===null?j:te.key)||null,R(L,G,te,be);case C:return G=G.get(te.key===null?j:te.key)||null,F(L,G,te,be);case ae:return te=Ui(te),Q(G,L,j,te,be)}if(ue(te)||$(te))return G=G.get(j)||null,Z(L,G,te,be,null);if(typeof te.then=="function")return Q(G,L,j,qo(te),be);if(te.$$typeof===P)return Q(G,L,j,Ro(L,te),be);Po(L,te)}return null}function pe(G,L,j,te){for(var be=null,Ue=null,ye=L,Ae=L=0,Le=null;ye!==null&&Ae<j.length;Ae++){ye.index>Ae?(Le=ye,ye=null):Le=ye.sibling;var Be=Y(G,ye,j[Ae],te);if(Be===null){ye===null&&(ye=Le);break}n&&ye&&Be.alternate===null&&i(G,ye),L=v(Be,L,Ae),Ue===null?be=Be:Ue.sibling=Be,Ue=Be,ye=Le}if(Ae===j.length)return o(G,ye),Pe&&Ln(G,Ae),be;if(ye===null){for(;Ae<j.length;Ae++)ye=ie(G,j[Ae],te),ye!==null&&(L=v(ye,L,Ae),Ue===null?be=ye:Ue.sibling=ye,Ue=ye);return Pe&&Ln(G,Ae),be}for(ye=s(ye);Ae<j.length;Ae++)Le=Q(ye,G,Ae,j[Ae],te),Le!==null&&(n&&Le.alternate!==null&&ye.delete(Le.key===null?Ae:Le.key),L=v(Le,L,Ae),Ue===null?be=Le:Ue.sibling=Le,Ue=Le);return n&&ye.forEach(function(vi){return i(G,vi)}),Pe&&Ln(G,Ae),be}function we(G,L,j,te){if(j==null)throw Error(r(151));for(var be=null,Ue=null,ye=L,Ae=L=0,Le=null,Be=j.next();ye!==null&&!Be.done;Ae++,Be=j.next()){ye.index>Ae?(Le=ye,ye=null):Le=ye.sibling;var vi=Y(G,ye,Be.value,te);if(vi===null){ye===null&&(ye=Le);break}n&&ye&&vi.alternate===null&&i(G,ye),L=v(vi,L,Ae),Ue===null?be=vi:Ue.sibling=vi,Ue=vi,ye=Le}if(Be.done)return o(G,ye),Pe&&Ln(G,Ae),be;if(ye===null){for(;!Be.done;Ae++,Be=j.next())Be=ie(G,Be.value,te),Be!==null&&(L=v(Be,L,Ae),Ue===null?be=Be:Ue.sibling=Be,Ue=Be);return Pe&&Ln(G,Ae),be}for(ye=s(ye);!Be.done;Ae++,Be=j.next())Be=Q(ye,G,Ae,Be.value,te),Be!==null&&(n&&Be.alternate!==null&&ye.delete(Be.key===null?Ae:Be.key),L=v(Be,L,Ae),Ue===null?be=Be:Ue.sibling=Be,Ue=Be);return n&&ye.forEach(function(_b){return i(G,_b)}),Pe&&Ln(G,Ae),be}function Ye(G,L,j,te){if(typeof j=="object"&&j!==null&&j.type===A&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case E:e:{for(var be=j.key;L!==null;){if(L.key===be){if(be=j.type,be===A){if(L.tag===7){o(G,L.sibling),te=h(L,j.props.children),te.return=G,G=te;break e}}else if(L.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===ae&&Ui(be)===L.type){o(G,L.sibling),te=h(L,j.props),gr(te,j),te.return=G,G=te;break e}o(G,L);break}else i(G,L);L=L.sibling}j.type===A?(te=Mi(j.props.children,G.mode,te,j.key),te.return=G,G=te):(te=_o(j.type,j.key,j.props,null,G.mode,te),gr(te,j),te.return=G,G=te)}return S(G);case C:e:{for(be=j.key;L!==null;){if(L.key===be)if(L.tag===4&&L.stateNode.containerInfo===j.containerInfo&&L.stateNode.implementation===j.implementation){o(G,L.sibling),te=h(L,j.children||[]),te.return=G,G=te;break e}else{o(G,L);break}else i(G,L);L=L.sibling}te=As(j,G.mode,te),te.return=G,G=te}return S(G);case ae:return j=Ui(j),Ye(G,L,j,te)}if(ue(j))return pe(G,L,j,te);if($(j)){if(be=$(j),typeof be!="function")throw Error(r(150));return j=be.call(j),we(G,L,j,te)}if(typeof j.then=="function")return Ye(G,L,qo(j),te);if(j.$$typeof===P)return Ye(G,L,Ro(G,j),te);Po(G,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,L!==null&&L.tag===6?(o(G,L.sibling),te=h(L,j),te.return=G,G=te):(o(G,L),te=Cs(j,G.mode,te),te.return=G,G=te),S(G)):o(G,L)}return function(G,L,j,te){try{hr=0;var be=Ye(G,L,j,te);return xa=null,be}catch(ye){if(ye===ya||ye===Do)throw ye;var Ue=Jt(29,ye,null,G.mode);return Ue.lanes=te,Ue.return=G,Ue}finally{}}}var Vi=Bf(!0),Vf=Bf(!1),ni=!1;function Vs(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gs(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ii(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ai(n,i,o){var s=n.updateQueue;if(s===null)return null;if(s=s.shared,(Ge&2)!==0){var h=s.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),s.pending=i,i=Ao(n),Sf(n,null,o),i}return Co(n,s,i,o),Ao(n)}function yr(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var s=i.lanes;s&=n.pendingLanes,o|=s,i.lanes=o,Id(n,o)}}function Os(n,i){var o=n.updateQueue,s=n.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var h=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?h=v=S:v=v.next=S,o=o.next}while(o!==null);v===null?h=v=i:v=v.next=i}else h=v=i;o={baseState:s.baseState,firstBaseUpdate:h,lastBaseUpdate:v,shared:s.shared,callbacks:s.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var Hs=!1;function xr(){if(Hs){var n=ga;if(n!==null)throw n}}function vr(n,i,o,s){Hs=!1;var h=n.updateQueue;ni=!1;var v=h.firstBaseUpdate,S=h.lastBaseUpdate,N=h.shared.pending;if(N!==null){h.shared.pending=null;var R=N,F=R.next;R.next=null,S===null?v=F:S.next=F,S=R;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,N=Z.lastBaseUpdate,N!==S&&(N===null?Z.firstBaseUpdate=F:N.next=F,Z.lastBaseUpdate=R))}if(v!==null){var ie=h.baseState;S=0,Z=F=R=null,N=v;do{var Y=N.lane&-536870913,Q=Y!==N.lane;if(Q?(De&Y)===Y:(s&Y)===Y){Y!==0&&Y===ha&&(Hs=!0),Z!==null&&(Z=Z.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var pe=n,we=N;Y=i;var Ye=o;switch(we.tag){case 1:if(pe=we.payload,typeof pe=="function"){ie=pe.call(Ye,ie,Y);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=we.payload,Y=typeof pe=="function"?pe.call(Ye,ie,Y):pe,Y==null)break e;ie=b({},ie,Y);break e;case 2:ni=!0}}Y=N.callback,Y!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:N.tag,payload:N.payload,callback:N.callback,next:null},Z===null?(F=Z=Q,R=ie):Z=Z.next=Q,S|=Y;if(N=N.next,N===null){if(N=h.shared.pending,N===null)break;Q=N,N=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);Z===null&&(R=ie),h.baseState=R,h.firstBaseUpdate=F,h.lastBaseUpdate=Z,v===null&&(h.shared.lanes=0),ui|=S,n.lanes=S,n.memoizedState=ie}}function Gf(n,i){if(typeof n!="function")throw Error(r(191,n));n.call(i)}function Of(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Gf(o[n],i)}var va=D(null),Uo=D(0);function Hf(n,i){n=Fn,T(Uo,n),T(va,i),Fn=n|i.baseLanes}function zs(){T(Uo,Fn),T(va,va.current)}function js(){Fn=Uo.current,W(va),W(Uo)}var Yt=D(null),sn=null;function ri(n){var i=n.alternate;T(lt,lt.current&1),T(Yt,n),sn===null&&(i===null||va.current!==null||i.memoizedState!==null)&&(sn=n)}function Fs(n){T(lt,lt.current),T(Yt,n),sn===null&&(sn=n)}function zf(n){n.tag===22?(T(lt,lt.current),T(Yt,n),sn===null&&(sn=n)):oi()}function oi(){T(lt,lt.current),T(Yt,Yt.current)}function Kt(n){W(Yt),sn===n&&(sn=null),W(lt)}var lt=D(0);function Bo(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Xu(o)||Zu(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Un=0,Ce=null,Fe=null,ct=null,Vo=!1,ba=!1,Gi=!1,Go=0,br=0,wa=null,xv=0;function it(){throw Error(r(321))}function Js(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!Ft(n[o],i[o]))return!1;return!0}function Ys(n,i,o,s,h,v){return Un=v,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,V.H=n===null||n.memoizedState===null?Cm:su,Gi=!1,v=o(s,h),Gi=!1,ba&&(v=Ff(i,o,s,h)),jf(n),v}function jf(n){V.H=Er;var i=Fe!==null&&Fe.next!==null;if(Un=0,ct=Fe=Ce=null,Vo=!1,br=0,wa=null,i)throw Error(r(300));n===null||dt||(n=n.dependencies,n!==null&&ko(n)&&(dt=!0))}function Ff(n,i,o,s){Ce=n;var h=0;do{if(ba&&(wa=null),br=0,ba=!1,25<=h)throw Error(r(301));if(h+=1,ct=Fe=null,n.updateQueue!=null){var v=n.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}V.H=Am,v=i(o,s)}while(ba);return v}function vv(){var n=V.H,i=n.useState()[0];return i=typeof i.then=="function"?wr(i):i,n=n.useState()[0],(Fe!==null?Fe.memoizedState:null)!==n&&(Ce.flags|=1024),i}function Ks(){var n=Go!==0;return Go=0,n}function Qs(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function $s(n){if(Vo){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Vo=!1}Un=0,ct=Fe=Ce=null,ba=!1,br=Go=0,wa=null}function Rt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ce.memoizedState=ct=n:ct=ct.next=n,ct}function st(){if(Fe===null){var n=Ce.alternate;n=n!==null?n.memoizedState:null}else n=Fe.next;var i=ct===null?Ce.memoizedState:ct.next;if(i!==null)ct=i,Fe=n;else{if(n===null)throw Ce.alternate===null?Error(r(467)):Error(r(310));Fe=n,n={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},ct===null?Ce.memoizedState=ct=n:ct=ct.next=n}return ct}function Oo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wr(n){var i=br;return br+=1,wa===null&&(wa=[]),n=qf(wa,n,i),i=Ce,(ct===null?i.memoizedState:ct.next)===null&&(i=i.alternate,V.H=i===null||i.memoizedState===null?Cm:su),n}function Ho(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return wr(n);if(n.$$typeof===P)return St(n)}throw Error(r(438,String(n)))}function Xs(n){var i=null,o=Ce.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var s=Ce.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(i={data:s.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Oo(),Ce.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),s=0;s<n;s++)o[s]=ne;return i.index++,o}function Bn(n,i){return typeof i=="function"?i(n):i}function zo(n){var i=st();return Zs(i,Fe,n)}function Zs(n,i,o){var s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=o;var h=n.baseQueue,v=s.pending;if(v!==null){if(h!==null){var S=h.next;h.next=v.next,v.next=S}i.baseQueue=h=v,s.pending=null}if(v=n.baseState,h===null)n.memoizedState=v;else{i=h.next;var N=S=null,R=null,F=i,Z=!1;do{var ie=F.lane&-536870913;if(ie!==F.lane?(De&ie)===ie:(Un&ie)===ie){var Y=F.revertLane;if(Y===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ie===ha&&(Z=!0);else if((Un&Y)===Y){F=F.next,Y===ha&&(Z=!0);continue}else ie={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},R===null?(N=R=ie,S=v):R=R.next=ie,Ce.lanes|=Y,ui|=Y;ie=F.action,Gi&&o(v,ie),v=F.hasEagerState?F.eagerState:o(v,ie)}else Y={lane:ie,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},R===null?(N=R=Y,S=v):R=R.next=Y,Ce.lanes|=ie,ui|=ie;F=F.next}while(F!==null&&F!==i);if(R===null?S=v:R.next=N,!Ft(v,n.memoizedState)&&(dt=!0,Z&&(o=ga,o!==null)))throw o;n.memoizedState=v,n.baseState=S,n.baseQueue=R,s.lastRenderedState=v}return h===null&&(s.lanes=0),[n.memoizedState,s.dispatch]}function Ws(n){var i=st(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var s=o.dispatch,h=o.pending,v=i.memoizedState;if(h!==null){o.pending=null;var S=h=h.next;do v=n(v,S.action),S=S.next;while(S!==h);Ft(v,i.memoizedState)||(dt=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),o.lastRenderedState=v}return[v,s]}function Jf(n,i,o){var s=Ce,h=st(),v=Pe;if(v){if(o===void 0)throw Error(r(407));o=o()}else o=i();var S=!Ft((Fe||h).memoizedState,o);if(S&&(h.memoizedState=o,dt=!0),h=h.queue,nu(Qf.bind(null,s,h,n),[n]),h.getSnapshot!==i||S||ct!==null&&ct.memoizedState.tag&1){if(s.flags|=2048,Sa(9,{destroy:void 0},Kf.bind(null,s,h,o,i),null),Qe===null)throw Error(r(349));v||(Un&127)!==0||Yf(s,i,o)}return o}function Yf(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=Ce.updateQueue,i===null?(i=Oo(),Ce.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function Kf(n,i,o,s){i.value=o,i.getSnapshot=s,$f(i)&&Xf(n)}function Qf(n,i,o){return o(function(){$f(i)&&Xf(n)})}function $f(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!Ft(n,o)}catch{return!0}}function Xf(n){var i=Ri(n,2);i!==null&&Vt(i,n,2)}function eu(n){var i=Rt();if(typeof n=="function"){var o=n;if(n=o(),Gi){Mt(!0);try{o()}finally{Mt(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:n},i}function Zf(n,i,o,s){return n.baseState=o,Zs(n,Fe,typeof s=="function"?s:Bn)}function bv(n,i,o,s,h){if(Jo(n))throw Error(r(485));if(n=i.action,n!==null){var v={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){v.listeners.push(S)}};V.T!==null?o(!0):v.isTransition=!1,s(v),o=i.pending,o===null?(v.next=i.pending=v,Wf(i,v)):(v.next=o.next,i.pending=o.next=v)}}function Wf(n,i){var o=i.action,s=i.payload,h=n.state;if(i.isTransition){var v=V.T,S={};V.T=S;try{var N=o(h,s),R=V.S;R!==null&&R(S,N),em(n,i,N)}catch(F){tu(n,i,F)}finally{v!==null&&S.types!==null&&(v.types=S.types),V.T=v}}else try{v=o(h,s),em(n,i,v)}catch(F){tu(n,i,F)}}function em(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(s){tm(n,i,s)},function(s){return tu(n,i,s)}):tm(n,i,o)}function tm(n,i,o){i.status="fulfilled",i.value=o,nm(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,Wf(n,o)))}function tu(n,i,o){var s=n.pending;if(n.pending=null,s!==null){s=s.next;do i.status="rejected",i.reason=o,nm(i),i=i.next;while(i!==s)}n.action=null}function nm(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function im(n,i){return i}function am(n,i){if(Pe){var o=Qe.formState;if(o!==null){e:{var s=Ce;if(Pe){if(Ze){t:{for(var h=Ze,v=ln;h.nodeType!==8;){if(!v){h=null;break t}if(h=un(h.nextSibling),h===null){h=null;break t}}v=h.data,h=v==="F!"||v==="F"?h:null}if(h){Ze=un(h.nextSibling),s=h.data==="F!";break e}}ei(s)}s=!1}s&&(i=o[0])}}return o=Rt(),o.memoizedState=o.baseState=i,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:im,lastRenderedState:i},o.queue=s,o=Em.bind(null,Ce,s),s.dispatch=o,s=eu(!1),v=lu.bind(null,Ce,!1,s.queue),s=Rt(),h={state:i,dispatch:null,action:n,pending:null},s.queue=h,o=bv.bind(null,Ce,h,v,o),h.dispatch=o,s.memoizedState=n,[i,o,!1]}function rm(n){var i=st();return om(i,Fe,n)}function om(n,i,o){if(i=Zs(n,i,im)[0],n=zo(Bn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var s=wr(i)}catch(S){throw S===ya?Do:S}else s=i;i=st();var h=i.queue,v=h.dispatch;return o!==i.memoizedState&&(Ce.flags|=2048,Sa(9,{destroy:void 0},wv.bind(null,h,o),null)),[s,v,n]}function wv(n,i){n.action=i}function lm(n){var i=st(),o=Fe;if(o!==null)return om(i,o,n);st(),i=i.memoizedState,o=st();var s=o.queue.dispatch;return o.memoizedState=n,[i,s,!1]}function Sa(n,i,o,s){return n={tag:n,create:o,deps:s,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=Oo(),Ce.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(s=o.next,o.next=n,n.next=s,i.lastEffect=n),n}function sm(){return st().memoizedState}function jo(n,i,o,s){var h=Rt();Ce.flags|=n,h.memoizedState=Sa(1|i,{destroy:void 0},o,s===void 0?null:s)}function Fo(n,i,o,s){var h=st();s=s===void 0?null:s;var v=h.memoizedState.inst;Fe!==null&&s!==null&&Js(s,Fe.memoizedState.deps)?h.memoizedState=Sa(i,v,o,s):(Ce.flags|=n,h.memoizedState=Sa(1|i,v,o,s))}function um(n,i){jo(8390656,8,n,i)}function nu(n,i){Fo(2048,8,n,i)}function Sv(n){Ce.flags|=4;var i=Ce.updateQueue;if(i===null)i=Oo(),Ce.updateQueue=i,i.events=[n];else{var o=i.events;o===null?i.events=[n]:o.push(n)}}function cm(n){var i=st().memoizedState;return Sv({ref:i,nextImpl:n}),function(){if((Ge&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function dm(n,i){return Fo(4,2,n,i)}function fm(n,i){return Fo(4,4,n,i)}function mm(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function pm(n,i,o){o=o!=null?o.concat([n]):null,Fo(4,4,mm.bind(null,i,n),o)}function iu(){}function hm(n,i){var o=st();i=i===void 0?null:i;var s=o.memoizedState;return i!==null&&Js(i,s[1])?s[0]:(o.memoizedState=[n,i],n)}function gm(n,i){var o=st();i=i===void 0?null:i;var s=o.memoizedState;if(i!==null&&Js(i,s[1]))return s[0];if(s=n(),Gi){Mt(!0);try{n()}finally{Mt(!1)}}return o.memoizedState=[s,i],s}function au(n,i,o){return o===void 0||(Un&1073741824)!==0&&(De&261930)===0?n.memoizedState=i:(n.memoizedState=o,n=yp(),Ce.lanes|=n,ui|=n,o)}function ym(n,i,o,s){return Ft(o,i)?o:va.current!==null?(n=au(n,o,s),Ft(n,i)||(dt=!0),n):(Un&42)===0||(Un&1073741824)!==0&&(De&261930)===0?(dt=!0,n.memoizedState=o):(n=yp(),Ce.lanes|=n,ui|=n,i)}function xm(n,i,o,s,h){var v=re.p;re.p=v!==0&&8>v?v:8;var S=V.T,N={};V.T=N,lu(n,!1,i,o);try{var R=h(),F=V.S;if(F!==null&&F(N,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Z=yv(R,s);Sr(n,i,Z,Xt(n))}else Sr(n,i,s,Xt(n))}catch(ie){Sr(n,i,{then:function(){},status:"rejected",reason:ie},Xt())}finally{re.p=v,S!==null&&N.types!==null&&(S.types=N.types),V.T=S}}function Ev(){}function ru(n,i,o,s){if(n.tag!==5)throw Error(r(476));var h=vm(n).queue;xm(n,h,i,me,o===null?Ev:function(){return bm(n),o(s)})}function vm(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:me},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function bm(n){var i=vm(n);i.next===null&&(i=n.alternate.memoizedState),Sr(n,i.next.queue,{},Xt())}function ou(){return St(Vr)}function wm(){return st().memoizedState}function Sm(){return st().memoizedState}function Nv(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=Xt();n=ii(o);var s=ai(i,n,o);s!==null&&(Vt(s,i,o),yr(s,i,o)),i={cache:qs()},n.payload=i;return}i=i.return}}function Tv(n,i,o){var s=Xt();o={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Jo(n)?Nm(i,o):(o=Ns(n,i,o,s),o!==null&&(Vt(o,n,s),Tm(o,i,s)))}function Em(n,i,o){var s=Xt();Sr(n,i,o,s)}function Sr(n,i,o,s){var h={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Jo(n))Nm(i,h);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var S=i.lastRenderedState,N=v(S,o);if(h.hasEagerState=!0,h.eagerState=N,Ft(N,S))return Co(n,i,h,0),Qe===null&&To(),!1}catch{}finally{}if(o=Ns(n,i,h,s),o!==null)return Vt(o,n,s),Tm(o,i,s),!0}return!1}function lu(n,i,o,s){if(s={lane:2,revertLane:Vu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Jo(n)){if(i)throw Error(r(479))}else i=Ns(n,o,s,2),i!==null&&Vt(i,n,2)}function Jo(n){var i=n.alternate;return n===Ce||i!==null&&i===Ce}function Nm(n,i){ba=Vo=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function Tm(n,i,o){if((o&4194048)!==0){var s=i.lanes;s&=n.pendingLanes,o|=s,i.lanes=o,Id(n,o)}}var Er={readContext:St,use:Ho,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it,useHostTransitionStatus:it,useFormState:it,useActionState:it,useOptimistic:it,useMemoCache:it,useCacheRefresh:it};Er.useEffectEvent=it;var Cm={readContext:St,use:Ho,useCallback:function(n,i){return Rt().memoizedState=[n,i===void 0?null:i],n},useContext:St,useEffect:um,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,jo(4194308,4,mm.bind(null,i,n),o)},useLayoutEffect:function(n,i){return jo(4194308,4,n,i)},useInsertionEffect:function(n,i){jo(4,2,n,i)},useMemo:function(n,i){var o=Rt();i=i===void 0?null:i;var s=n();if(Gi){Mt(!0);try{n()}finally{Mt(!1)}}return o.memoizedState=[s,i],s},useReducer:function(n,i,o){var s=Rt();if(o!==void 0){var h=o(i);if(Gi){Mt(!0);try{o(i)}finally{Mt(!1)}}}else h=i;return s.memoizedState=s.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},s.queue=n,n=n.dispatch=Tv.bind(null,Ce,n),[s.memoizedState,n]},useRef:function(n){var i=Rt();return n={current:n},i.memoizedState=n},useState:function(n){n=eu(n);var i=n.queue,o=Em.bind(null,Ce,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:iu,useDeferredValue:function(n,i){var o=Rt();return au(o,n,i)},useTransition:function(){var n=eu(!1);return n=xm.bind(null,Ce,n.queue,!0,!1),Rt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var s=Ce,h=Rt();if(Pe){if(o===void 0)throw Error(r(407));o=o()}else{if(o=i(),Qe===null)throw Error(r(349));(De&127)!==0||Yf(s,i,o)}h.memoizedState=o;var v={value:o,getSnapshot:i};return h.queue=v,um(Qf.bind(null,s,v,n),[n]),s.flags|=2048,Sa(9,{destroy:void 0},Kf.bind(null,s,v,o,i),null),o},useId:function(){var n=Rt(),i=Qe.identifierPrefix;if(Pe){var o=Sn,s=wn;o=(s&~(1<<32-Ke(s)-1)).toString(32)+o,i="_"+i+"R_"+o,o=Go++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=xv++,i="_"+i+"r_"+o.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:ou,useFormState:am,useActionState:am,useOptimistic:function(n){var i=Rt();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=lu.bind(null,Ce,!0,o),o.dispatch=i,[n,i]},useMemoCache:Xs,useCacheRefresh:function(){return Rt().memoizedState=Nv.bind(null,Ce)},useEffectEvent:function(n){var i=Rt(),o={impl:n};return i.memoizedState=o,function(){if((Ge&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},su={readContext:St,use:Ho,useCallback:hm,useContext:St,useEffect:nu,useImperativeHandle:pm,useInsertionEffect:dm,useLayoutEffect:fm,useMemo:gm,useReducer:zo,useRef:sm,useState:function(){return zo(Bn)},useDebugValue:iu,useDeferredValue:function(n,i){var o=st();return ym(o,Fe.memoizedState,n,i)},useTransition:function(){var n=zo(Bn)[0],i=st().memoizedState;return[typeof n=="boolean"?n:wr(n),i]},useSyncExternalStore:Jf,useId:wm,useHostTransitionStatus:ou,useFormState:rm,useActionState:rm,useOptimistic:function(n,i){var o=st();return Zf(o,Fe,n,i)},useMemoCache:Xs,useCacheRefresh:Sm};su.useEffectEvent=cm;var Am={readContext:St,use:Ho,useCallback:hm,useContext:St,useEffect:nu,useImperativeHandle:pm,useInsertionEffect:dm,useLayoutEffect:fm,useMemo:gm,useReducer:Ws,useRef:sm,useState:function(){return Ws(Bn)},useDebugValue:iu,useDeferredValue:function(n,i){var o=st();return Fe===null?au(o,n,i):ym(o,Fe.memoizedState,n,i)},useTransition:function(){var n=Ws(Bn)[0],i=st().memoizedState;return[typeof n=="boolean"?n:wr(n),i]},useSyncExternalStore:Jf,useId:wm,useHostTransitionStatus:ou,useFormState:lm,useActionState:lm,useOptimistic:function(n,i){var o=st();return Fe!==null?Zf(o,Fe,n,i):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Xs,useCacheRefresh:Sm};Am.useEffectEvent=cm;function uu(n,i,o,s){i=n.memoizedState,o=o(s,i),o=o==null?i:b({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var cu={enqueueSetState:function(n,i,o){n=n._reactInternals;var s=Xt(),h=ii(s);h.payload=i,o!=null&&(h.callback=o),i=ai(n,h,s),i!==null&&(Vt(i,n,s),yr(i,n,s))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var s=Xt(),h=ii(s);h.tag=1,h.payload=i,o!=null&&(h.callback=o),i=ai(n,h,s),i!==null&&(Vt(i,n,s),yr(i,n,s))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=Xt(),s=ii(o);s.tag=2,i!=null&&(s.callback=i),i=ai(n,s,o),i!==null&&(Vt(i,n,o),yr(i,n,o))}};function _m(n,i,o,s,h,v,S){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(s,v,S):i.prototype&&i.prototype.isPureReactComponent?!ur(o,s)||!ur(h,v):!0}function Im(n,i,o,s){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,s),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,s),i.state!==n&&cu.enqueueReplaceState(i,i.state,null)}function Oi(n,i){var o=i;if("ref"in i){o={};for(var s in i)s!=="ref"&&(o[s]=i[s])}if(n=n.defaultProps){o===i&&(o=b({},o));for(var h in n)o[h]===void 0&&(o[h]=n[h])}return o}function km(n){No(n)}function Rm(n){console.error(n)}function Mm(n){No(n)}function Yo(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(s){setTimeout(function(){throw s})}}function Dm(n,i,o){try{var s=n.onCaughtError;s(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function du(n,i,o){return o=ii(o),o.tag=3,o.payload={element:null},o.callback=function(){Yo(n,i)},o}function Lm(n){return n=ii(n),n.tag=3,n}function qm(n,i,o,s){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var v=s.value;n.payload=function(){return h(v)},n.callback=function(){Dm(i,o,s)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(n.callback=function(){Dm(i,o,s),typeof h!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var N=s.stack;this.componentDidCatch(s.value,{componentStack:N!==null?N:""})})}function Cv(n,i,o,s,h){if(o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(i=o.alternate,i!==null&&pa(i,o,h,!0),o=Yt.current,o!==null){switch(o.tag){case 31:case 13:return sn===null?rl():o.alternate===null&&at===0&&(at=3),o.flags&=-257,o.flags|=65536,o.lanes=h,s===Lo?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([s]):i.add(s),Pu(n,s,h)),!1;case 22:return o.flags|=65536,s===Lo?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([s])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([s]):o.add(s)),Pu(n,s,h)),!1}throw Error(r(435,o.tag))}return Pu(n,s,h),rl(),!1}if(Pe)return i=Yt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,s!==ks&&(n=Error(r(422),{cause:s}),fr(an(n,o)))):(s!==ks&&(i=Error(r(423),{cause:s}),fr(an(i,o))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,s=an(s,o),h=du(n.stateNode,s,h),Os(n,h),at!==4&&(at=2)),!1;var v=Error(r(520),{cause:s});if(v=an(v,o),Rr===null?Rr=[v]:Rr.push(v),at!==4&&(at=2),i===null)return!0;s=an(s,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=h&-h,o.lanes|=n,n=du(o.stateNode,s,n),Os(o,n),!1;case 1:if(i=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ci===null||!ci.has(v))))return o.flags|=65536,h&=-h,o.lanes|=h,h=Lm(h),qm(h,n,o,s),Os(o,h),!1}o=o.return}while(o!==null);return!1}var fu=Error(r(461)),dt=!1;function Et(n,i,o,s){i.child=n===null?Vf(i,null,o,s):Vi(i,n.child,o,s)}function Pm(n,i,o,s,h){o=o.render;var v=i.ref;if("ref"in s){var S={};for(var N in s)N!=="ref"&&(S[N]=s[N])}else S=s;return qi(i),s=Ys(n,i,o,S,v,h),N=Ks(),n!==null&&!dt?(Qs(n,i,h),Vn(n,i,h)):(Pe&&N&&_s(i),i.flags|=1,Et(n,i,s,h),i.child)}function Um(n,i,o,s,h){if(n===null){var v=o.type;return typeof v=="function"&&!Ts(v)&&v.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=v,Bm(n,i,v,s,h)):(n=_o(o.type,null,s,i,i.mode,h),n.ref=i.ref,n.return=i,i.child=n)}if(v=n.child,!bu(n,h)){var S=v.memoizedProps;if(o=o.compare,o=o!==null?o:ur,o(S,s)&&n.ref===i.ref)return Vn(n,i,h)}return i.flags|=1,n=Dn(v,s),n.ref=i.ref,n.return=i,i.child=n}function Bm(n,i,o,s,h){if(n!==null){var v=n.memoizedProps;if(ur(v,s)&&n.ref===i.ref)if(dt=!1,i.pendingProps=s=v,bu(n,h))(n.flags&131072)!==0&&(dt=!0);else return i.lanes=n.lanes,Vn(n,i,h)}return mu(n,i,o,s,h)}function Vm(n,i,o,s){var h=s.children,v=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((i.flags&128)!==0){if(v=v!==null?v.baseLanes|o:o,n!==null){for(s=i.child=n.child,h=0;s!==null;)h=h|s.lanes|s.childLanes,s=s.sibling;s=h&~v}else s=0,i.child=null;return Gm(n,i,v,o,s)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Mo(i,v!==null?v.cachePool:null),v!==null?Hf(i,v):zs(),zf(i);else return s=i.lanes=536870912,Gm(n,i,v!==null?v.baseLanes|o:o,o,s)}else v!==null?(Mo(i,v.cachePool),Hf(i,v),oi(),i.memoizedState=null):(n!==null&&Mo(i,null),zs(),oi());return Et(n,i,h,o),i.child}function Nr(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Gm(n,i,o,s,h){var v=Us();return v=v===null?null:{parent:ut._currentValue,pool:v},i.memoizedState={baseLanes:o,cachePool:v},n!==null&&Mo(i,null),zs(),zf(i),n!==null&&pa(n,i,s,!0),i.childLanes=h,null}function Ko(n,i){return i=$o({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function Om(n,i,o){return Vi(i,n.child,null,o),n=Ko(i,i.pendingProps),n.flags|=2,Kt(i),i.memoizedState=null,n}function Av(n,i,o){var s=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(Pe){if(s.mode==="hidden")return n=Ko(i,s),i.lanes=536870912,Nr(null,n);if(Fs(i),(n=Ze)?(n=Wp(n,ln),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:Zn!==null?{id:wn,overflow:Sn}:null,retryLane:536870912,hydrationErrors:null},o=Nf(n),o.return=i,i.child=o,wt=i,Ze=null)):n=null,n===null)throw ei(i);return i.lanes=536870912,null}return Ko(i,s)}var v=n.memoizedState;if(v!==null){var S=v.dehydrated;if(Fs(i),h)if(i.flags&256)i.flags&=-257,i=Om(n,i,o);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(r(558));else if(dt||pa(n,i,o,!1),h=(o&n.childLanes)!==0,dt||h){if(s=Qe,s!==null&&(S=kd(s,o),S!==0&&S!==v.retryLane))throw v.retryLane=S,Ri(n,S),Vt(s,n,S),fu;rl(),i=Om(n,i,o)}else n=v.treeContext,Ze=un(S.nextSibling),wt=i,Pe=!0,Wn=null,ln=!1,n!==null&&Af(i,n),i=Ko(i,s),i.flags|=4096;return i}return n=Dn(n.child,{mode:s.mode,children:s.children}),n.ref=i.ref,i.child=n,n.return=i,n}function Qo(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(n===null||n.ref!==o)&&(i.flags|=4194816)}}function mu(n,i,o,s,h){return qi(i),o=Ys(n,i,o,s,void 0,h),s=Ks(),n!==null&&!dt?(Qs(n,i,h),Vn(n,i,h)):(Pe&&s&&_s(i),i.flags|=1,Et(n,i,o,h),i.child)}function Hm(n,i,o,s,h,v){return qi(i),i.updateQueue=null,o=Ff(i,s,o,h),jf(n),s=Ks(),n!==null&&!dt?(Qs(n,i,v),Vn(n,i,v)):(Pe&&s&&_s(i),i.flags|=1,Et(n,i,o,v),i.child)}function zm(n,i,o,s,h){if(qi(i),i.stateNode===null){var v=ca,S=o.contextType;typeof S=="object"&&S!==null&&(v=St(S)),v=new o(s,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=cu,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=s,v.state=i.memoizedState,v.refs={},Vs(i),S=o.contextType,v.context=typeof S=="object"&&S!==null?St(S):ca,v.state=i.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(uu(i,o,S,s),v.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(S=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),S!==v.state&&cu.enqueueReplaceState(v,v.state,null),vr(i,s,v,h),xr(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),s=!0}else if(n===null){v=i.stateNode;var N=i.memoizedProps,R=Oi(o,N);v.props=R;var F=v.context,Z=o.contextType;S=ca,typeof Z=="object"&&Z!==null&&(S=St(Z));var ie=o.getDerivedStateFromProps;Z=typeof ie=="function"||typeof v.getSnapshotBeforeUpdate=="function",N=i.pendingProps!==N,Z||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(N||F!==S)&&Im(i,v,s,S),ni=!1;var Y=i.memoizedState;v.state=Y,vr(i,s,v,h),xr(),F=i.memoizedState,N||Y!==F||ni?(typeof ie=="function"&&(uu(i,o,ie,s),F=i.memoizedState),(R=ni||_m(i,o,R,s,Y,F,S))?(Z||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=s,i.memoizedState=F),v.props=s,v.state=F,v.context=S,s=R):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),s=!1)}else{v=i.stateNode,Gs(n,i),S=i.memoizedProps,Z=Oi(o,S),v.props=Z,ie=i.pendingProps,Y=v.context,F=o.contextType,R=ca,typeof F=="object"&&F!==null&&(R=St(F)),N=o.getDerivedStateFromProps,(F=typeof N=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==ie||Y!==R)&&Im(i,v,s,R),ni=!1,Y=i.memoizedState,v.state=Y,vr(i,s,v,h),xr();var Q=i.memoizedState;S!==ie||Y!==Q||ni||n!==null&&n.dependencies!==null&&ko(n.dependencies)?(typeof N=="function"&&(uu(i,o,N,s),Q=i.memoizedState),(Z=ni||_m(i,o,Z,s,Y,Q,R)||n!==null&&n.dependencies!==null&&ko(n.dependencies))?(F||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(s,Q,R),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(s,Q,R)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),i.memoizedProps=s,i.memoizedState=Q),v.props=s,v.state=Q,v.context=R,s=Z):(typeof v.componentDidUpdate!="function"||S===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),s=!1)}return v=s,Qo(n,i),s=(i.flags&128)!==0,v||s?(v=i.stateNode,o=s&&typeof o.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,n!==null&&s?(i.child=Vi(i,n.child,null,h),i.child=Vi(i,null,o,h)):Et(n,i,o,h),i.memoizedState=v.state,n=i.child):n=Vn(n,i,h),n}function jm(n,i,o,s){return Di(),i.flags|=256,Et(n,i,o,s),i.child}var pu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hu(n){return{baseLanes:n,cachePool:Df()}}function gu(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=$t),n}function Fm(n,i,o){var s=i.pendingProps,h=!1,v=(i.flags&128)!==0,S;if((S=v)||(S=n!==null&&n.memoizedState===null?!1:(lt.current&2)!==0),S&&(h=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,n===null){if(Pe){if(h?ri(i):oi(),(n=Ze)?(n=Wp(n,ln),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:Zn!==null?{id:wn,overflow:Sn}:null,retryLane:536870912,hydrationErrors:null},o=Nf(n),o.return=i,i.child=o,wt=i,Ze=null)):n=null,n===null)throw ei(i);return Zu(n)?i.lanes=32:i.lanes=536870912,null}var N=s.children;return s=s.fallback,h?(oi(),h=i.mode,N=$o({mode:"hidden",children:N},h),s=Mi(s,h,o,null),N.return=i,s.return=i,N.sibling=s,i.child=N,s=i.child,s.memoizedState=hu(o),s.childLanes=gu(n,S,o),i.memoizedState=pu,Nr(null,s)):(ri(i),yu(i,N))}var R=n.memoizedState;if(R!==null&&(N=R.dehydrated,N!==null)){if(v)i.flags&256?(ri(i),i.flags&=-257,i=xu(n,i,o)):i.memoizedState!==null?(oi(),i.child=n.child,i.flags|=128,i=null):(oi(),N=s.fallback,h=i.mode,s=$o({mode:"visible",children:s.children},h),N=Mi(N,h,o,null),N.flags|=2,s.return=i,N.return=i,s.sibling=N,i.child=s,Vi(i,n.child,null,o),s=i.child,s.memoizedState=hu(o),s.childLanes=gu(n,S,o),i.memoizedState=pu,i=Nr(null,s));else if(ri(i),Zu(N)){if(S=N.nextSibling&&N.nextSibling.dataset,S)var F=S.dgst;S=F,s=Error(r(419)),s.stack="",s.digest=S,fr({value:s,source:null,stack:null}),i=xu(n,i,o)}else if(dt||pa(n,i,o,!1),S=(o&n.childLanes)!==0,dt||S){if(S=Qe,S!==null&&(s=kd(S,o),s!==0&&s!==R.retryLane))throw R.retryLane=s,Ri(n,s),Vt(S,n,s),fu;Xu(N)||rl(),i=xu(n,i,o)}else Xu(N)?(i.flags|=192,i.child=n.child,i=null):(n=R.treeContext,Ze=un(N.nextSibling),wt=i,Pe=!0,Wn=null,ln=!1,n!==null&&Af(i,n),i=yu(i,s.children),i.flags|=4096);return i}return h?(oi(),N=s.fallback,h=i.mode,R=n.child,F=R.sibling,s=Dn(R,{mode:"hidden",children:s.children}),s.subtreeFlags=R.subtreeFlags&65011712,F!==null?N=Dn(F,N):(N=Mi(N,h,o,null),N.flags|=2),N.return=i,s.return=i,s.sibling=N,i.child=s,Nr(null,s),s=i.child,N=n.child.memoizedState,N===null?N=hu(o):(h=N.cachePool,h!==null?(R=ut._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Df(),N={baseLanes:N.baseLanes|o,cachePool:h}),s.memoizedState=N,s.childLanes=gu(n,S,o),i.memoizedState=pu,Nr(n.child,s)):(ri(i),o=n.child,n=o.sibling,o=Dn(o,{mode:"visible",children:s.children}),o.return=i,o.sibling=null,n!==null&&(S=i.deletions,S===null?(i.deletions=[n],i.flags|=16):S.push(n)),i.child=o,i.memoizedState=null,o)}function yu(n,i){return i=$o({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function $o(n,i){return n=Jt(22,n,null,i),n.lanes=0,n}function xu(n,i,o){return Vi(i,n.child,null,o),n=yu(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Jm(n,i,o){n.lanes|=i;var s=n.alternate;s!==null&&(s.lanes|=i),Ds(n.return,i,o)}function vu(n,i,o,s,h,v){var S=n.memoizedState;S===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:h,treeForkCount:v}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=o,S.tailMode=h,S.treeForkCount=v)}function Ym(n,i,o){var s=i.pendingProps,h=s.revealOrder,v=s.tail;s=s.children;var S=lt.current,N=(S&2)!==0;if(N?(S=S&1|2,i.flags|=128):S&=1,T(lt,S),Et(n,i,s,o),s=Pe?dr:0,!N&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Jm(n,o,i);else if(n.tag===19)Jm(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(h){case"forwards":for(o=i.child,h=null;o!==null;)n=o.alternate,n!==null&&Bo(n)===null&&(h=o),o=o.sibling;o=h,o===null?(h=i.child,i.child=null):(h=o.sibling,o.sibling=null),vu(i,!1,h,o,v,s);break;case"backwards":case"unstable_legacy-backwards":for(o=null,h=i.child,i.child=null;h!==null;){if(n=h.alternate,n!==null&&Bo(n)===null){i.child=h;break}n=h.sibling,h.sibling=o,o=h,h=n}vu(i,!0,o,null,v,s);break;case"together":vu(i,!1,null,null,void 0,s);break;default:i.memoizedState=null}return i.child}function Vn(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),ui|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(pa(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,o=Dn(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=Dn(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function bu(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&ko(n)))}function _v(n,i,o){switch(i.tag){case 3:qe(i,i.stateNode.containerInfo),ti(i,ut,n.memoizedState.cache),Di();break;case 27:case 5:ot(i);break;case 4:qe(i,i.stateNode.containerInfo);break;case 10:ti(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Fs(i),null;break;case 13:var s=i.memoizedState;if(s!==null)return s.dehydrated!==null?(ri(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Fm(n,i,o):(ri(i),n=Vn(n,i,o),n!==null?n.sibling:null);ri(i);break;case 19:var h=(n.flags&128)!==0;if(s=(o&i.childLanes)!==0,s||(pa(n,i,o,!1),s=(o&i.childLanes)!==0),h){if(s)return Ym(n,i,o);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),T(lt,lt.current),s)break;return null;case 22:return i.lanes=0,Vm(n,i,o,i.pendingProps);case 24:ti(i,ut,n.memoizedState.cache)}return Vn(n,i,o)}function Km(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)dt=!0;else{if(!bu(n,o)&&(i.flags&128)===0)return dt=!1,_v(n,i,o);dt=(n.flags&131072)!==0}else dt=!1,Pe&&(i.flags&1048576)!==0&&Cf(i,dr,i.index);switch(i.lanes=0,i.tag){case 16:e:{var s=i.pendingProps;if(n=Ui(i.elementType),i.type=n,typeof n=="function")Ts(n)?(s=Oi(n,s),i.tag=1,i=zm(null,i,n,s,o)):(i.tag=0,i=mu(null,i,n,s,o));else{if(n!=null){var h=n.$$typeof;if(h===q){i.tag=11,i=Pm(null,i,n,s,o);break e}else if(h===M){i.tag=14,i=Um(null,i,n,s,o);break e}}throw i=X(n)||n,Error(r(306,i,""))}}return i;case 0:return mu(n,i,i.type,i.pendingProps,o);case 1:return s=i.type,h=Oi(s,i.pendingProps),zm(n,i,s,h,o);case 3:e:{if(qe(i,i.stateNode.containerInfo),n===null)throw Error(r(387));s=i.pendingProps;var v=i.memoizedState;h=v.element,Gs(n,i),vr(i,s,null,o);var S=i.memoizedState;if(s=S.cache,ti(i,ut,s),s!==v.cache&&Ls(i,[ut],o,!0),xr(),s=S.element,v.isDehydrated)if(v={element:s,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=jm(n,i,s,o);break e}else if(s!==h){h=an(Error(r(424)),i),fr(h),i=jm(n,i,s,o);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ze=un(n.firstChild),wt=i,Pe=!0,Wn=null,ln=!0,o=Vf(i,null,s,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Di(),s===h){i=Vn(n,i,o);break e}Et(n,i,s,o)}i=i.child}return i;case 26:return Qo(n,i),n===null?(o=rh(i.type,null,i.pendingProps,null))?i.memoizedState=o:Pe||(o=i.type,n=i.pendingProps,s=fl(oe.current).createElement(o),s[bt]=i,s[Dt]=n,Nt(s,o,n),gt(s),i.stateNode=s):i.memoizedState=rh(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return ot(i),n===null&&Pe&&(s=i.stateNode=nh(i.type,i.pendingProps,oe.current),wt=i,ln=!0,h=Ze,pi(i.type)?(Wu=h,Ze=un(s.firstChild)):Ze=h),Et(n,i,i.pendingProps.children,o),Qo(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Pe&&((h=s=Ze)&&(s=ab(s,i.type,i.pendingProps,ln),s!==null?(i.stateNode=s,wt=i,Ze=un(s.firstChild),ln=!1,h=!0):h=!1),h||ei(i)),ot(i),h=i.type,v=i.pendingProps,S=n!==null?n.memoizedProps:null,s=v.children,Ku(h,v)?s=null:S!==null&&Ku(h,S)&&(i.flags|=32),i.memoizedState!==null&&(h=Ys(n,i,vv,null,null,o),Vr._currentValue=h),Qo(n,i),Et(n,i,s,o),i.child;case 6:return n===null&&Pe&&((n=o=Ze)&&(o=rb(o,i.pendingProps,ln),o!==null?(i.stateNode=o,wt=i,Ze=null,n=!0):n=!1),n||ei(i)),null;case 13:return Fm(n,i,o);case 4:return qe(i,i.stateNode.containerInfo),s=i.pendingProps,n===null?i.child=Vi(i,null,s,o):Et(n,i,s,o),i.child;case 11:return Pm(n,i,i.type,i.pendingProps,o);case 7:return Et(n,i,i.pendingProps,o),i.child;case 8:return Et(n,i,i.pendingProps.children,o),i.child;case 12:return Et(n,i,i.pendingProps.children,o),i.child;case 10:return s=i.pendingProps,ti(i,i.type,s.value),Et(n,i,s.children,o),i.child;case 9:return h=i.type._context,s=i.pendingProps.children,qi(i),h=St(h),s=s(h),i.flags|=1,Et(n,i,s,o),i.child;case 14:return Um(n,i,i.type,i.pendingProps,o);case 15:return Bm(n,i,i.type,i.pendingProps,o);case 19:return Ym(n,i,o);case 31:return Av(n,i,o);case 22:return Vm(n,i,o,i.pendingProps);case 24:return qi(i),s=St(ut),n===null?(h=Us(),h===null&&(h=Qe,v=qs(),h.pooledCache=v,v.refCount++,v!==null&&(h.pooledCacheLanes|=o),h=v),i.memoizedState={parent:s,cache:h},Vs(i),ti(i,ut,h)):((n.lanes&o)!==0&&(Gs(n,i),vr(i,null,null,o),xr()),h=n.memoizedState,v=i.memoizedState,h.parent!==s?(h={parent:s,cache:s},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ti(i,ut,s)):(s=v.cache,ti(i,ut,s),s!==h.cache&&Ls(i,[ut],o,!0))),Et(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Gn(n){n.flags|=4}function wu(n,i,o,s,h){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(h&335544128)===h)if(n.stateNode.complete)n.flags|=8192;else if(wp())n.flags|=8192;else throw Bi=Lo,Bs}else n.flags&=-16777217}function Qm(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!ch(i))if(wp())n.flags|=8192;else throw Bi=Lo,Bs}function Xo(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Ad():536870912,n.lanes|=i,Ca|=i)}function Tr(n,i){if(!Pe)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:s.sibling=null}}function We(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,s=0;if(i)for(var h=n.child;h!==null;)o|=h.lanes|h.childLanes,s|=h.subtreeFlags&65011712,s|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)o|=h.lanes|h.childLanes,s|=h.subtreeFlags,s|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=s,n.childLanes=o,i}function Iv(n,i,o){var s=i.pendingProps;switch(Is(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(i),null;case 1:return We(i),null;case 3:return o=i.stateNode,s=null,n!==null&&(s=n.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Pn(ut),Ne(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(ma(i)?Gn(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Rs())),We(i),null;case 26:var h=i.type,v=i.memoizedState;return n===null?(Gn(i),v!==null?(We(i),Qm(i,v)):(We(i),wu(i,h,null,s,o))):v?v!==n.memoizedState?(Gn(i),We(i),Qm(i,v)):(We(i),i.flags&=-16777217):(n=n.memoizedProps,n!==s&&Gn(i),We(i),wu(i,h,n,s,o)),null;case 27:if(nt(i),o=oe.current,h=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==s&&Gn(i);else{if(!s){if(i.stateNode===null)throw Error(r(166));return We(i),null}n=O.current,ma(i)?_f(i):(n=nh(h,s,o),i.stateNode=n,Gn(i))}return We(i),null;case 5:if(nt(i),h=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==s&&Gn(i);else{if(!s){if(i.stateNode===null)throw Error(r(166));return We(i),null}if(v=O.current,ma(i))_f(i);else{var S=fl(oe.current);switch(v){case 1:v=S.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:v=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":v=S.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":v=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":v=S.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?v.multiple=!0:s.size&&(v.size=s.size);break;default:v=typeof s.is=="string"?S.createElement(h,{is:s.is}):S.createElement(h)}}v[bt]=i,v[Dt]=s;e:for(S=i.child;S!==null;){if(S.tag===5||S.tag===6)v.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===i)break e;for(;S.sibling===null;){if(S.return===null||S.return===i)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}i.stateNode=v;e:switch(Nt(v,h,s),h){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Gn(i)}}return We(i),wu(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,o),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==s&&Gn(i);else{if(typeof s!="string"&&i.stateNode===null)throw Error(r(166));if(n=oe.current,ma(i)){if(n=i.stateNode,o=i.memoizedProps,s=null,h=wt,h!==null)switch(h.tag){case 27:case 5:s=h.memoizedProps}n[bt]=i,n=!!(n.nodeValue===o||s!==null&&s.suppressHydrationWarning===!0||Fp(n.nodeValue,o)),n||ei(i,!0)}else n=fl(n).createTextNode(s),n[bt]=i,i.stateNode=n}return We(i),null;case 31:if(o=i.memoizedState,n===null||n.memoizedState!==null){if(s=ma(i),o!==null){if(n===null){if(!s)throw Error(r(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[bt]=i}else Di(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;We(i),n=!1}else o=Rs(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return i.flags&256?(Kt(i),i):(Kt(i),null);if((i.flags&128)!==0)throw Error(r(558))}return We(i),null;case 13:if(s=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=ma(i),s!==null&&s.dehydrated!==null){if(n===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[bt]=i}else Di(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;We(i),h=!1}else h=Rs(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Kt(i),i):(Kt(i),null)}return Kt(i),(i.flags&128)!==0?(i.lanes=o,i):(o=s!==null,n=n!==null&&n.memoizedState!==null,o&&(s=i.child,h=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(h=s.alternate.memoizedState.cachePool.pool),v=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(v=s.memoizedState.cachePool.pool),v!==h&&(s.flags|=2048)),o!==n&&o&&(i.child.flags|=8192),Xo(i,i.updateQueue),We(i),null);case 4:return Ne(),n===null&&zu(i.stateNode.containerInfo),We(i),null;case 10:return Pn(i.type),We(i),null;case 19:if(W(lt),s=i.memoizedState,s===null)return We(i),null;if(h=(i.flags&128)!==0,v=s.rendering,v===null)if(h)Tr(s,!1);else{if(at!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(v=Bo(n),v!==null){for(i.flags|=128,Tr(s,!1),n=v.updateQueue,i.updateQueue=n,Xo(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)Ef(o,n),o=o.sibling;return T(lt,lt.current&1|2),Pe&&Ln(i,s.treeForkCount),i.child}n=n.sibling}s.tail!==null&&It()>nl&&(i.flags|=128,h=!0,Tr(s,!1),i.lanes=4194304)}else{if(!h)if(n=Bo(v),n!==null){if(i.flags|=128,h=!0,n=n.updateQueue,i.updateQueue=n,Xo(i,n),Tr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!v.alternate&&!Pe)return We(i),null}else 2*It()-s.renderingStartTime>nl&&o!==536870912&&(i.flags|=128,h=!0,Tr(s,!1),i.lanes=4194304);s.isBackwards?(v.sibling=i.child,i.child=v):(n=s.last,n!==null?n.sibling=v:i.child=v,s.last=v)}return s.tail!==null?(n=s.tail,s.rendering=n,s.tail=n.sibling,s.renderingStartTime=It(),n.sibling=null,o=lt.current,T(lt,h?o&1|2:o&1),Pe&&Ln(i,s.treeForkCount),n):(We(i),null);case 22:case 23:return Kt(i),js(),s=i.memoizedState!==null,n!==null?n.memoizedState!==null!==s&&(i.flags|=8192):s&&(i.flags|=8192),s?(o&536870912)!==0&&(i.flags&128)===0&&(We(i),i.subtreeFlags&6&&(i.flags|=8192)):We(i),o=i.updateQueue,o!==null&&Xo(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==o&&(i.flags|=2048),n!==null&&W(Pi),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Pn(ut),We(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function kv(n,i){switch(Is(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Pn(ut),Ne(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return nt(i),null;case 31:if(i.memoizedState!==null){if(Kt(i),i.alternate===null)throw Error(r(340));Di()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(Kt(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Di()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return W(lt),null;case 4:return Ne(),null;case 10:return Pn(i.type),null;case 22:case 23:return Kt(i),js(),n!==null&&W(Pi),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Pn(ut),null;case 25:return null;default:return null}}function $m(n,i){switch(Is(i),i.tag){case 3:Pn(ut),Ne();break;case 26:case 27:case 5:nt(i);break;case 4:Ne();break;case 31:i.memoizedState!==null&&Kt(i);break;case 13:Kt(i);break;case 19:W(lt);break;case 10:Pn(i.type);break;case 22:case 23:Kt(i),js(),n!==null&&W(Pi);break;case 24:Pn(ut)}}function Cr(n,i){try{var o=i.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var h=s.next;o=h;do{if((o.tag&n)===n){s=void 0;var v=o.create,S=o.inst;s=v(),S.destroy=s}o=o.next}while(o!==h)}}catch(N){je(i,i.return,N)}}function li(n,i,o){try{var s=i.updateQueue,h=s!==null?s.lastEffect:null;if(h!==null){var v=h.next;s=v;do{if((s.tag&n)===n){var S=s.inst,N=S.destroy;if(N!==void 0){S.destroy=void 0,h=i;var R=o,F=N;try{F()}catch(Z){je(h,R,Z)}}}s=s.next}while(s!==v)}}catch(Z){je(i,i.return,Z)}}function Xm(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{Of(i,o)}catch(s){je(n,n.return,s)}}}function Zm(n,i,o){o.props=Oi(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(s){je(n,i,s)}}function Ar(n,i){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var s=n.stateNode;break;case 30:s=n.stateNode;break;default:s=n.stateNode}typeof o=="function"?n.refCleanup=o(s):o.current=s}}catch(h){je(n,i,h)}}function En(n,i){var o=n.ref,s=n.refCleanup;if(o!==null)if(typeof s=="function")try{s()}catch(h){je(n,i,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){je(n,i,h)}else o.current=null}function Wm(n){var i=n.type,o=n.memoizedProps,s=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break e;case"img":o.src?s.src=o.src:o.srcSet&&(s.srcset=o.srcSet)}}catch(h){je(n,n.return,h)}}function Su(n,i,o){try{var s=n.stateNode;Zv(s,n.type,o,i),s[Dt]=i}catch(h){je(n,n.return,h)}}function ep(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&pi(n.type)||n.tag===4}function Eu(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ep(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&pi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Nu(n,i,o){var s=n.tag;if(s===5||s===6)n=n.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(n),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Rn));else if(s!==4&&(s===27&&pi(n.type)&&(o=n.stateNode,i=null),n=n.child,n!==null))for(Nu(n,i,o),n=n.sibling;n!==null;)Nu(n,i,o),n=n.sibling}function Zo(n,i,o){var s=n.tag;if(s===5||s===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(s!==4&&(s===27&&pi(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Zo(n,i,o),n=n.sibling;n!==null;)Zo(n,i,o),n=n.sibling}function tp(n){var i=n.stateNode,o=n.memoizedProps;try{for(var s=n.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Nt(i,s,o),i[bt]=n,i[Dt]=o}catch(v){je(n,n.return,v)}}var On=!1,ft=!1,Tu=!1,np=typeof WeakSet=="function"?WeakSet:Set,yt=null;function Rv(n,i){if(n=n.containerInfo,Ju=vl,n=pf(n),xs(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var h=s.anchorOffset,v=s.focusNode;s=s.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var S=0,N=-1,R=-1,F=0,Z=0,ie=n,Y=null;t:for(;;){for(var Q;ie!==o||h!==0&&ie.nodeType!==3||(N=S+h),ie!==v||s!==0&&ie.nodeType!==3||(R=S+s),ie.nodeType===3&&(S+=ie.nodeValue.length),(Q=ie.firstChild)!==null;)Y=ie,ie=Q;for(;;){if(ie===n)break t;if(Y===o&&++F===h&&(N=S),Y===v&&++Z===s&&(R=S),(Q=ie.nextSibling)!==null)break;ie=Y,Y=ie.parentNode}ie=Q}o=N===-1||R===-1?null:{start:N,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(Yu={focusedElem:n,selectionRange:o},vl=!1,yt=i;yt!==null;)if(i=yt,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,yt=n;else for(;yt!==null;){switch(i=yt,v=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)h=n[o],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&v!==null){n=void 0,o=i,h=v.memoizedProps,v=v.memoizedState,s=o.stateNode;try{var pe=Oi(o.type,h);n=s.getSnapshotBeforeUpdate(pe,v),s.__reactInternalSnapshotBeforeUpdate=n}catch(we){je(o,o.return,we)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)$u(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":$u(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=i.sibling,n!==null){n.return=i.return,yt=n;break}yt=i.return}}function ip(n,i,o){var s=o.flags;switch(o.tag){case 0:case 11:case 15:zn(n,o),s&4&&Cr(5,o);break;case 1:if(zn(n,o),s&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(S){je(o,o.return,S)}else{var h=Oi(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(h,i,n.__reactInternalSnapshotBeforeUpdate)}catch(S){je(o,o.return,S)}}s&64&&Xm(o),s&512&&Ar(o,o.return);break;case 3:if(zn(n,o),s&64&&(n=o.updateQueue,n!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Of(n,i)}catch(S){je(o,o.return,S)}}break;case 27:i===null&&s&4&&tp(o);case 26:case 5:zn(n,o),i===null&&s&4&&Wm(o),s&512&&Ar(o,o.return);break;case 12:zn(n,o);break;case 31:zn(n,o),s&4&&op(n,o);break;case 13:zn(n,o),s&4&&lp(n,o),s&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=Gv.bind(null,o),ob(n,o))));break;case 22:if(s=o.memoizedState!==null||On,!s){i=i!==null&&i.memoizedState!==null||ft,h=On;var v=ft;On=s,(ft=i)&&!v?jn(n,o,(o.subtreeFlags&8772)!==0):zn(n,o),On=h,ft=v}break;case 30:break;default:zn(n,o)}}function ap(n){var i=n.alternate;i!==null&&(n.alternate=null,ap(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&ts(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var tt=null,qt=!1;function Hn(n,i,o){for(o=o.child;o!==null;)rp(n,i,o),o=o.sibling}function rp(n,i,o){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(kt,o)}catch{}switch(o.tag){case 26:ft||En(o,i),Hn(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ft||En(o,i);var s=tt,h=qt;pi(o.type)&&(tt=o.stateNode,qt=!1),Hn(n,i,o),Pr(o.stateNode),tt=s,qt=h;break;case 5:ft||En(o,i);case 6:if(s=tt,h=qt,tt=null,Hn(n,i,o),tt=s,qt=h,tt!==null)if(qt)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(o.stateNode)}catch(v){je(o,i,v)}else try{tt.removeChild(o.stateNode)}catch(v){je(o,i,v)}break;case 18:tt!==null&&(qt?(n=tt,Xp(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),La(n)):Xp(tt,o.stateNode));break;case 4:s=tt,h=qt,tt=o.stateNode.containerInfo,qt=!0,Hn(n,i,o),tt=s,qt=h;break;case 0:case 11:case 14:case 15:li(2,o,i),ft||li(4,o,i),Hn(n,i,o);break;case 1:ft||(En(o,i),s=o.stateNode,typeof s.componentWillUnmount=="function"&&Zm(o,i,s)),Hn(n,i,o);break;case 21:Hn(n,i,o);break;case 22:ft=(s=ft)||o.memoizedState!==null,Hn(n,i,o),ft=s;break;default:Hn(n,i,o)}}function op(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{La(n)}catch(o){je(i,i.return,o)}}}function lp(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{La(n)}catch(o){je(i,i.return,o)}}function Mv(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new np),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new np),i;default:throw Error(r(435,n.tag))}}function Wo(n,i){var o=Mv(n);i.forEach(function(s){if(!o.has(s)){o.add(s);var h=Ov.bind(null,n,s);s.then(h,h)}})}function Pt(n,i){var o=i.deletions;if(o!==null)for(var s=0;s<o.length;s++){var h=o[s],v=n,S=i,N=S;e:for(;N!==null;){switch(N.tag){case 27:if(pi(N.type)){tt=N.stateNode,qt=!1;break e}break;case 5:tt=N.stateNode,qt=!1;break e;case 3:case 4:tt=N.stateNode.containerInfo,qt=!0;break e}N=N.return}if(tt===null)throw Error(r(160));rp(v,S,h),tt=null,qt=!1,v=h.alternate,v!==null&&(v.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)sp(i,n),i=i.sibling}var gn=null;function sp(n,i){var o=n.alternate,s=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Pt(i,n),Ut(n),s&4&&(li(3,n,n.return),Cr(3,n),li(5,n,n.return));break;case 1:Pt(i,n),Ut(n),s&512&&(ft||o===null||En(o,o.return)),s&64&&On&&(n=n.updateQueue,n!==null&&(s=n.callbacks,s!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?s:o.concat(s))));break;case 26:var h=gn;if(Pt(i,n),Ut(n),s&512&&(ft||o===null||En(o,o.return)),s&4){var v=o!==null?o.memoizedState:null;if(s=n.memoizedState,o===null)if(s===null)if(n.stateNode===null){e:{s=n.type,o=n.memoizedProps,h=h.ownerDocument||h;t:switch(s){case"title":v=h.getElementsByTagName("title")[0],(!v||v[er]||v[bt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=h.createElement(s),h.head.insertBefore(v,h.querySelector("head > title"))),Nt(v,s,o),v[bt]=n,gt(v),s=v;break e;case"link":var S=sh("link","href",h).get(s+(o.href||""));if(S){for(var N=0;N<S.length;N++)if(v=S[N],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(N,1);break t}}v=h.createElement(s),Nt(v,s,o),h.head.appendChild(v);break;case"meta":if(S=sh("meta","content",h).get(s+(o.content||""))){for(N=0;N<S.length;N++)if(v=S[N],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(N,1);break t}}v=h.createElement(s),Nt(v,s,o),h.head.appendChild(v);break;default:throw Error(r(468,s))}v[bt]=n,gt(v),s=v}n.stateNode=s}else uh(h,n.type,n.stateNode);else n.stateNode=lh(h,s,n.memoizedProps);else v!==s?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,s===null?uh(h,n.type,n.stateNode):lh(h,s,n.memoizedProps)):s===null&&n.stateNode!==null&&Su(n,n.memoizedProps,o.memoizedProps)}break;case 27:Pt(i,n),Ut(n),s&512&&(ft||o===null||En(o,o.return)),o!==null&&s&4&&Su(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Pt(i,n),Ut(n),s&512&&(ft||o===null||En(o,o.return)),n.flags&32){h=n.stateNode;try{ia(h,"")}catch(pe){je(n,n.return,pe)}}s&4&&n.stateNode!=null&&(h=n.memoizedProps,Su(n,h,o!==null?o.memoizedProps:h)),s&1024&&(Tu=!0);break;case 6:if(Pt(i,n),Ut(n),s&4){if(n.stateNode===null)throw Error(r(162));s=n.memoizedProps,o=n.stateNode;try{o.nodeValue=s}catch(pe){je(n,n.return,pe)}}break;case 3:if(hl=null,h=gn,gn=ml(i.containerInfo),Pt(i,n),gn=h,Ut(n),s&4&&o!==null&&o.memoizedState.isDehydrated)try{La(i.containerInfo)}catch(pe){je(n,n.return,pe)}Tu&&(Tu=!1,up(n));break;case 4:s=gn,gn=ml(n.stateNode.containerInfo),Pt(i,n),Ut(n),gn=s;break;case 12:Pt(i,n),Ut(n);break;case 31:Pt(i,n),Ut(n),s&4&&(s=n.updateQueue,s!==null&&(n.updateQueue=null,Wo(n,s)));break;case 13:Pt(i,n),Ut(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(tl=It()),s&4&&(s=n.updateQueue,s!==null&&(n.updateQueue=null,Wo(n,s)));break;case 22:h=n.memoizedState!==null;var R=o!==null&&o.memoizedState!==null,F=On,Z=ft;if(On=F||h,ft=Z||R,Pt(i,n),ft=Z,On=F,Ut(n),s&8192)e:for(i=n.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(o===null||R||On||ft||Hi(n)),o=null,i=n;;){if(i.tag===5||i.tag===26){if(o===null){R=o=i;try{if(v=R.stateNode,h)S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{N=R.stateNode;var ie=R.memoizedProps.style,Y=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;N.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(pe){je(R,R.return,pe)}}}else if(i.tag===6){if(o===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(pe){je(R,R.return,pe)}}}else if(i.tag===18){if(o===null){R=i;try{var Q=R.stateNode;h?Zp(Q,!0):Zp(R.stateNode,!1)}catch(pe){je(R,R.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}s&4&&(s=n.updateQueue,s!==null&&(o=s.retryQueue,o!==null&&(s.retryQueue=null,Wo(n,o))));break;case 19:Pt(i,n),Ut(n),s&4&&(s=n.updateQueue,s!==null&&(n.updateQueue=null,Wo(n,s)));break;case 30:break;case 21:break;default:Pt(i,n),Ut(n)}}function Ut(n){var i=n.flags;if(i&2){try{for(var o,s=n.return;s!==null;){if(ep(s)){o=s;break}s=s.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var h=o.stateNode,v=Eu(n);Zo(n,v,h);break;case 5:var S=o.stateNode;o.flags&32&&(ia(S,""),o.flags&=-33);var N=Eu(n);Zo(n,N,S);break;case 3:case 4:var R=o.stateNode.containerInfo,F=Eu(n);Nu(n,F,R);break;default:throw Error(r(161))}}catch(Z){je(n,n.return,Z)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function up(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;up(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function zn(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ip(n,i.alternate,i),i=i.sibling}function Hi(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:li(4,i,i.return),Hi(i);break;case 1:En(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Zm(i,i.return,o),Hi(i);break;case 27:Pr(i.stateNode);case 26:case 5:En(i,i.return),Hi(i);break;case 22:i.memoizedState===null&&Hi(i);break;case 30:Hi(i);break;default:Hi(i)}n=n.sibling}}function jn(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var s=i.alternate,h=n,v=i,S=v.flags;switch(v.tag){case 0:case 11:case 15:jn(h,v,o),Cr(4,v);break;case 1:if(jn(h,v,o),s=v,h=s.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){je(s,s.return,F)}if(s=v,h=s.updateQueue,h!==null){var N=s.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Gf(R[h],N)}catch(F){je(s,s.return,F)}}o&&S&64&&Xm(v),Ar(v,v.return);break;case 27:tp(v);case 26:case 5:jn(h,v,o),o&&s===null&&S&4&&Wm(v),Ar(v,v.return);break;case 12:jn(h,v,o);break;case 31:jn(h,v,o),o&&S&4&&op(h,v);break;case 13:jn(h,v,o),o&&S&4&&lp(h,v);break;case 22:v.memoizedState===null&&jn(h,v,o),Ar(v,v.return);break;case 30:break;default:jn(h,v,o)}i=i.sibling}}function Cu(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&mr(o))}function Au(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&mr(n))}function yn(n,i,o,s){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)cp(n,i,o,s),i=i.sibling}function cp(n,i,o,s){var h=i.flags;switch(i.tag){case 0:case 11:case 15:yn(n,i,o,s),h&2048&&Cr(9,i);break;case 1:yn(n,i,o,s);break;case 3:yn(n,i,o,s),h&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&mr(n)));break;case 12:if(h&2048){yn(n,i,o,s),n=i.stateNode;try{var v=i.memoizedProps,S=v.id,N=v.onPostCommit;typeof N=="function"&&N(S,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(R){je(i,i.return,R)}}else yn(n,i,o,s);break;case 31:yn(n,i,o,s);break;case 13:yn(n,i,o,s);break;case 23:break;case 22:v=i.stateNode,S=i.alternate,i.memoizedState!==null?v._visibility&2?yn(n,i,o,s):_r(n,i):v._visibility&2?yn(n,i,o,s):(v._visibility|=2,Ea(n,i,o,s,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Cu(S,i);break;case 24:yn(n,i,o,s),h&2048&&Au(i.alternate,i);break;default:yn(n,i,o,s)}}function Ea(n,i,o,s,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var v=n,S=i,N=o,R=s,F=S.flags;switch(S.tag){case 0:case 11:case 15:Ea(v,S,N,R,h),Cr(8,S);break;case 23:break;case 22:var Z=S.stateNode;S.memoizedState!==null?Z._visibility&2?Ea(v,S,N,R,h):_r(v,S):(Z._visibility|=2,Ea(v,S,N,R,h)),h&&F&2048&&Cu(S.alternate,S);break;case 24:Ea(v,S,N,R,h),h&&F&2048&&Au(S.alternate,S);break;default:Ea(v,S,N,R,h)}i=i.sibling}}function _r(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,s=i,h=s.flags;switch(s.tag){case 22:_r(o,s),h&2048&&Cu(s.alternate,s);break;case 24:_r(o,s),h&2048&&Au(s.alternate,s);break;default:_r(o,s)}i=i.sibling}}var Ir=8192;function Na(n,i,o){if(n.subtreeFlags&Ir)for(n=n.child;n!==null;)dp(n,i,o),n=n.sibling}function dp(n,i,o){switch(n.tag){case 26:Na(n,i,o),n.flags&Ir&&n.memoizedState!==null&&xb(o,gn,n.memoizedState,n.memoizedProps);break;case 5:Na(n,i,o);break;case 3:case 4:var s=gn;gn=ml(n.stateNode.containerInfo),Na(n,i,o),gn=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=Ir,Ir=16777216,Na(n,i,o),Ir=s):Na(n,i,o));break;default:Na(n,i,o)}}function fp(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function kr(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var s=i[o];yt=s,pp(s,n)}fp(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)mp(n),n=n.sibling}function mp(n){switch(n.tag){case 0:case 11:case 15:kr(n),n.flags&2048&&li(9,n,n.return);break;case 3:kr(n);break;case 12:kr(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,el(n)):kr(n);break;default:kr(n)}}function el(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var s=i[o];yt=s,pp(s,n)}fp(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:li(8,i,i.return),el(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,el(i));break;default:el(i)}n=n.sibling}}function pp(n,i){for(;yt!==null;){var o=yt;switch(o.tag){case 0:case 11:case 15:li(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var s=o.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:mr(o.memoizedState.cache)}if(s=o.child,s!==null)s.return=o,yt=s;else e:for(o=n;yt!==null;){s=yt;var h=s.sibling,v=s.return;if(ap(s),s===o){yt=null;break e}if(h!==null){h.return=v,yt=h;break e}yt=v}}}var Dv={getCacheForType:function(n){var i=St(ut),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o},cacheSignal:function(){return St(ut).controller.signal}},Lv=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Qe=null,Re=null,De=0,ze=0,Qt=null,si=!1,Ta=!1,_u=!1,Fn=0,at=0,ui=0,zi=0,Iu=0,$t=0,Ca=0,Rr=null,Bt=null,ku=!1,tl=0,hp=0,nl=1/0,il=null,ci=null,ht=0,di=null,Aa=null,Jn=0,Ru=0,Mu=null,gp=null,Mr=0,Du=null;function Xt(){return(Ge&2)!==0&&De!==0?De&-De:V.T!==null?Vu():Rd()}function yp(){if($t===0)if((De&536870912)===0||Pe){var n=co;co<<=1,(co&3932160)===0&&(co=262144),$t=n}else $t=536870912;return n=Yt.current,n!==null&&(n.flags|=32),$t}function Vt(n,i,o){(n===Qe&&(ze===2||ze===9)||n.cancelPendingCommit!==null)&&(_a(n,0),fi(n,De,$t,!1)),Wa(n,o),((Ge&2)===0||n!==Qe)&&(n===Qe&&((Ge&2)===0&&(zi|=o),at===4&&fi(n,De,$t,!1)),Nn(n))}function xp(n,i,o){if((Ge&6)!==0)throw Error(r(327));var s=!o&&(i&127)===0&&(i&n.expiredLanes)===0||Za(n,i),h=s?Uv(n,i):qu(n,i,!0),v=s;do{if(h===0){Ta&&!s&&fi(n,i,0,!1);break}else{if(o=n.current.alternate,v&&!qv(o)){h=qu(n,i,!1),v=!1;continue}if(h===2){if(v=i,n.errorRecoveryDisabledLanes&v)var S=0;else S=n.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;e:{var N=n;h=Rr;var R=N.current.memoizedState.isDehydrated;if(R&&(_a(N,S).flags|=256),S=qu(N,S,!1),S!==2){if(_u&&!R){N.errorRecoveryDisabledLanes|=v,zi|=v,h=4;break e}v=Bt,Bt=h,v!==null&&(Bt===null?Bt=v:Bt.push.apply(Bt,v))}h=S}if(v=!1,h!==2)continue}}if(h===1){_a(n,0),fi(n,i,0,!0);break}e:{switch(s=n,v=h,v){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:fi(s,i,$t,!si);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=tl+300-It(),10<h)){if(fi(s,i,$t,!si),mo(s,0,!0)!==0)break e;Jn=i,s.timeoutHandle=Qp(vp.bind(null,s,o,Bt,il,ku,i,$t,zi,Ca,si,v,"Throttled",-0,0),h);break e}vp(s,o,Bt,il,ku,i,$t,zi,Ca,si,v,null,-0,0)}}break}while(!0);Nn(n)}function vp(n,i,o,s,h,v,S,N,R,F,Z,ie,Y,Q){if(n.timeoutHandle=-1,ie=i.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rn},dp(i,v,ie);var pe=(v&62914560)===v?tl-It():(v&4194048)===v?hp-It():0;if(pe=vb(ie,pe),pe!==null){Jn=v,n.cancelPendingCommit=pe(Ap.bind(null,n,i,v,o,s,h,S,N,R,Z,ie,null,Y,Q)),fi(n,v,S,!F);return}}Ap(n,i,v,o,s,h,S,N,R)}function qv(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var s=0;s<o.length;s++){var h=o[s],v=h.getSnapshot;h=h.value;try{if(!Ft(v(),h))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function fi(n,i,o,s){i&=~Iu,i&=~zi,n.suspendedLanes|=i,n.pingedLanes&=~i,s&&(n.warmLanes|=i),s=n.expirationTimes;for(var h=i;0<h;){var v=31-Ke(h),S=1<<v;s[v]=-1,h&=~S}o!==0&&_d(n,o,i)}function al(){return(Ge&6)===0?(Dr(0),!1):!0}function Lu(){if(Re!==null){if(ze===0)var n=Re.return;else n=Re,qn=Li=null,$s(n),xa=null,hr=0,n=Re;for(;n!==null;)$m(n.alternate,n),n=n.return;Re=null}}function _a(n,i){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,tb(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Jn=0,Lu(),Qe=n,Re=o=Dn(n.current,null),De=i,ze=0,Qt=null,si=!1,Ta=Za(n,i),_u=!1,Ca=$t=Iu=zi=ui=at=0,Bt=Rr=null,ku=!1,(i&8)!==0&&(i|=i&32);var s=n.entangledLanes;if(s!==0)for(n=n.entanglements,s&=i;0<s;){var h=31-Ke(s),v=1<<h;i|=n[h],s&=~v}return Fn=i,To(),o}function bp(n,i){Ce=null,V.H=Er,i===ya||i===Do?(i=Pf(),ze=3):i===Bs?(i=Pf(),ze=4):ze=i===fu?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Qt=i,Re===null&&(at=1,Yo(n,an(i,n.current)))}function wp(){var n=Yt.current;return n===null?!0:(De&4194048)===De?sn===null:(De&62914560)===De||(De&536870912)!==0?n===sn:!1}function Sp(){var n=V.H;return V.H=Er,n===null?Er:n}function Ep(){var n=V.A;return V.A=Dv,n}function rl(){at=4,si||(De&4194048)!==De&&Yt.current!==null||(Ta=!0),(ui&134217727)===0&&(zi&134217727)===0||Qe===null||fi(Qe,De,$t,!1)}function qu(n,i,o){var s=Ge;Ge|=2;var h=Sp(),v=Ep();(Qe!==n||De!==i)&&(il=null,_a(n,i)),i=!1;var S=at;e:do try{if(ze!==0&&Re!==null){var N=Re,R=Qt;switch(ze){case 8:Lu(),S=6;break e;case 3:case 2:case 9:case 6:Yt.current===null&&(i=!0);var F=ze;if(ze=0,Qt=null,Ia(n,N,R,F),o&&Ta){S=0;break e}break;default:F=ze,ze=0,Qt=null,Ia(n,N,R,F)}}Pv(),S=at;break}catch(Z){bp(n,Z)}while(!0);return i&&n.shellSuspendCounter++,qn=Li=null,Ge=s,V.H=h,V.A=v,Re===null&&(Qe=null,De=0,To()),S}function Pv(){for(;Re!==null;)Np(Re)}function Uv(n,i){var o=Ge;Ge|=2;var s=Sp(),h=Ep();Qe!==n||De!==i?(il=null,nl=It()+500,_a(n,i)):Ta=Za(n,i);e:do try{if(ze!==0&&Re!==null){i=Re;var v=Qt;t:switch(ze){case 1:ze=0,Qt=null,Ia(n,i,v,1);break;case 2:case 9:if(Lf(v)){ze=0,Qt=null,Tp(i);break}i=function(){ze!==2&&ze!==9||Qe!==n||(ze=7),Nn(n)},v.then(i,i);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:Lf(v)?(ze=0,Qt=null,Tp(i)):(ze=0,Qt=null,Ia(n,i,v,7));break;case 5:var S=null;switch(Re.tag){case 26:S=Re.memoizedState;case 5:case 27:var N=Re;if(S?ch(S):N.stateNode.complete){ze=0,Qt=null;var R=N.sibling;if(R!==null)Re=R;else{var F=N.return;F!==null?(Re=F,ol(F)):Re=null}break t}}ze=0,Qt=null,Ia(n,i,v,5);break;case 6:ze=0,Qt=null,Ia(n,i,v,6);break;case 8:Lu(),at=6;break e;default:throw Error(r(462))}}Bv();break}catch(Z){bp(n,Z)}while(!0);return qn=Li=null,V.H=s,V.A=h,Ge=o,Re!==null?0:(Qe=null,De=0,To(),at)}function Bv(){for(;Re!==null&&!Kl();)Np(Re)}function Np(n){var i=Km(n.alternate,n,Fn);n.memoizedProps=n.pendingProps,i===null?ol(n):Re=i}function Tp(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=Hm(o,i,i.pendingProps,i.type,void 0,De);break;case 11:i=Hm(o,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:$s(i);default:$m(o,i),i=Re=Ef(i,Fn),i=Km(o,i,Fn)}n.memoizedProps=n.pendingProps,i===null?ol(n):Re=i}function Ia(n,i,o,s){qn=Li=null,$s(i),xa=null,hr=0;var h=i.return;try{if(Cv(n,h,i,o,De)){at=1,Yo(n,an(o,n.current)),Re=null;return}}catch(v){if(h!==null)throw Re=h,v;at=1,Yo(n,an(o,n.current)),Re=null;return}i.flags&32768?(Pe||s===1?n=!0:Ta||(De&536870912)!==0?n=!1:(si=n=!0,(s===2||s===9||s===3||s===6)&&(s=Yt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Cp(i,n)):ol(i)}function ol(n){var i=n;do{if((i.flags&32768)!==0){Cp(i,si);return}n=i.return;var o=Iv(i.alternate,i,Fn);if(o!==null){Re=o;return}if(i=i.sibling,i!==null){Re=i;return}Re=i=n}while(i!==null);at===0&&(at=5)}function Cp(n,i){do{var o=kv(n.alternate,n);if(o!==null){o.flags&=32767,Re=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){Re=n;return}Re=n=o}while(n!==null);at=6,Re=null}function Ap(n,i,o,s,h,v,S,N,R){n.cancelPendingCommit=null;do ll();while(ht!==0);if((Ge&6)!==0)throw Error(r(327));if(i!==null){if(i===n.current)throw Error(r(177));if(v=i.lanes|i.childLanes,v|=Es,yx(n,o,v,S,N,R),n===Qe&&(Re=Qe=null,De=0),Aa=i,di=n,Jn=o,Ru=v,Mu=h,gp=s,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Hv(Se,function(){return Mp(),null})):(n.callbackNode=null,n.callbackPriority=0),s=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||s){s=V.T,V.T=null,h=re.p,re.p=2,S=Ge,Ge|=4;try{Rv(n,i,o)}finally{Ge=S,re.p=h,V.T=s}}ht=1,_p(),Ip(),kp()}}function _p(){if(ht===1){ht=0;var n=di,i=Aa,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=V.T,V.T=null;var s=re.p;re.p=2;var h=Ge;Ge|=4;try{sp(i,n);var v=Yu,S=pf(n.containerInfo),N=v.focusedElem,R=v.selectionRange;if(S!==N&&N&&N.ownerDocument&&mf(N.ownerDocument.documentElement,N)){if(R!==null&&xs(N)){var F=R.start,Z=R.end;if(Z===void 0&&(Z=F),"selectionStart"in N)N.selectionStart=F,N.selectionEnd=Math.min(Z,N.value.length);else{var ie=N.ownerDocument||document,Y=ie&&ie.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),pe=N.textContent.length,we=Math.min(R.start,pe),Ye=R.end===void 0?we:Math.min(R.end,pe);!Q.extend&&we>Ye&&(S=Ye,Ye=we,we=S);var G=ff(N,we),L=ff(N,Ye);if(G&&L&&(Q.rangeCount!==1||Q.anchorNode!==G.node||Q.anchorOffset!==G.offset||Q.focusNode!==L.node||Q.focusOffset!==L.offset)){var j=ie.createRange();j.setStart(G.node,G.offset),Q.removeAllRanges(),we>Ye?(Q.addRange(j),Q.extend(L.node,L.offset)):(j.setEnd(L.node,L.offset),Q.addRange(j))}}}}for(ie=[],Q=N;Q=Q.parentNode;)Q.nodeType===1&&ie.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ie.length;N++){var te=ie[N];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}vl=!!Ju,Yu=Ju=null}finally{Ge=h,re.p=s,V.T=o}}n.current=i,ht=2}}function Ip(){if(ht===2){ht=0;var n=di,i=Aa,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=V.T,V.T=null;var s=re.p;re.p=2;var h=Ge;Ge|=4;try{ip(n,i.alternate,i)}finally{Ge=h,re.p=s,V.T=o}}ht=3}}function kp(){if(ht===4||ht===3){ht=0,Ql();var n=di,i=Aa,o=Jn,s=gp;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ht=5:(ht=0,Aa=di=null,Rp(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(ci=null),Wl(o),i=i.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(kt,i,void 0,(i.current.flags&128)===128)}catch{}if(s!==null){i=V.T,h=re.p,re.p=2,V.T=null;try{for(var v=n.onRecoverableError,S=0;S<s.length;S++){var N=s[S];v(N.value,{componentStack:N.stack})}}finally{V.T=i,re.p=h}}(Jn&3)!==0&&ll(),Nn(n),h=n.pendingLanes,(o&261930)!==0&&(h&42)!==0?n===Du?Mr++:(Mr=0,Du=n):Mr=0,Dr(0)}}function Rp(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,mr(i)))}function ll(){return _p(),Ip(),kp(),Mp()}function Mp(){if(ht!==5)return!1;var n=di,i=Ru;Ru=0;var o=Wl(Jn),s=V.T,h=re.p;try{re.p=32>o?32:o,V.T=null,o=Mu,Mu=null;var v=di,S=Jn;if(ht=0,Aa=di=null,Jn=0,(Ge&6)!==0)throw Error(r(331));var N=Ge;if(Ge|=4,mp(v.current),cp(v,v.current,S,o),Ge=N,Dr(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(kt,v)}catch{}return!0}finally{re.p=h,V.T=s,Rp(n,i)}}function Dp(n,i,o){i=an(o,i),i=du(n.stateNode,i,2),n=ai(n,i,2),n!==null&&(Wa(n,2),Nn(n))}function je(n,i,o){if(n.tag===3)Dp(n,n,o);else for(;i!==null;){if(i.tag===3){Dp(i,n,o);break}else if(i.tag===1){var s=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ci===null||!ci.has(s))){n=an(o,n),o=Lm(2),s=ai(i,o,2),s!==null&&(qm(o,s,i,n),Wa(s,2),Nn(s));break}}i=i.return}}function Pu(n,i,o){var s=n.pingCache;if(s===null){s=n.pingCache=new Lv;var h=new Set;s.set(i,h)}else h=s.get(i),h===void 0&&(h=new Set,s.set(i,h));h.has(o)||(_u=!0,h.add(o),n=Vv.bind(null,n,i,o),i.then(n,n))}function Vv(n,i,o){var s=n.pingCache;s!==null&&s.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Qe===n&&(De&o)===o&&(at===4||at===3&&(De&62914560)===De&&300>It()-tl?(Ge&2)===0&&_a(n,0):Iu|=o,Ca===De&&(Ca=0)),Nn(n)}function Lp(n,i){i===0&&(i=Ad()),n=Ri(n,i),n!==null&&(Wa(n,i),Nn(n))}function Gv(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),Lp(n,o)}function Ov(n,i){var o=0;switch(n.tag){case 31:case 13:var s=n.stateNode,h=n.memoizedState;h!==null&&(o=h.retryLane);break;case 19:s=n.stateNode;break;case 22:s=n.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(i),Lp(n,o)}function Hv(n,i){return $i(n,i)}var sl=null,ka=null,Uu=!1,ul=!1,Bu=!1,mi=0;function Nn(n){n!==ka&&n.next===null&&(ka===null?sl=ka=n:ka=ka.next=n),ul=!0,Uu||(Uu=!0,jv())}function Dr(n,i){if(!Bu&&ul){Bu=!0;do for(var o=!1,s=sl;s!==null;){if(n!==0){var h=s.pendingLanes;if(h===0)var v=0;else{var S=s.suspendedLanes,N=s.pingedLanes;v=(1<<31-Ke(42|n)+1)-1,v&=h&~(S&~N),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,Bp(s,v))}else v=De,v=mo(s,s===Qe?v:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(v&3)===0||Za(s,v)||(o=!0,Bp(s,v));s=s.next}while(o);Bu=!1}}function zv(){qp()}function qp(){ul=Uu=!1;var n=0;mi!==0&&eb()&&(n=mi);for(var i=It(),o=null,s=sl;s!==null;){var h=s.next,v=Pp(s,i);v===0?(s.next=null,o===null?sl=h:o.next=h,h===null&&(ka=o)):(o=s,(n!==0||(v&3)!==0)&&(ul=!0)),s=h}ht!==0&&ht!==5||Dr(n),mi!==0&&(mi=0)}function Pp(n,i){for(var o=n.suspendedLanes,s=n.pingedLanes,h=n.expirationTimes,v=n.pendingLanes&-62914561;0<v;){var S=31-Ke(v),N=1<<S,R=h[S];R===-1?((N&o)===0||(N&s)!==0)&&(h[S]=gx(N,i)):R<=i&&(n.expiredLanes|=N),v&=~N}if(i=Qe,o=De,o=mo(n,n===i?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),s=n.callbackNode,o===0||n===i&&(ze===2||ze===9)||n.cancelPendingCommit!==null)return s!==null&&s!==null&&Xa(s),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Za(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(s!==null&&Xa(s),Wl(o)){case 2:case 8:o=de;break;case 32:o=Se;break;case 268435456:o=He;break;default:o=Se}return s=Up.bind(null,n),o=$i(o,s),n.callbackPriority=i,n.callbackNode=o,i}return s!==null&&s!==null&&Xa(s),n.callbackPriority=2,n.callbackNode=null,2}function Up(n,i){if(ht!==0&&ht!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(ll()&&n.callbackNode!==o)return null;var s=De;return s=mo(n,n===Qe?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),s===0?null:(xp(n,s,i),Pp(n,It()),n.callbackNode!=null&&n.callbackNode===o?Up.bind(null,n):null)}function Bp(n,i){if(ll())return null;xp(n,i,!0)}function jv(){nb(function(){(Ge&6)!==0?$i(ee,zv):qp()})}function Vu(){if(mi===0){var n=ha;n===0&&(n=uo,uo<<=1,(uo&261888)===0&&(uo=256)),mi=n}return mi}function Vp(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:yo(""+n)}function Gp(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function Fv(n,i,o,s,h){if(i==="submit"&&o&&o.stateNode===h){var v=Vp((h[Dt]||null).action),S=s.submitter;S&&(i=(i=S[Dt]||null)?Vp(i.formAction):S.getAttribute("formAction"),i!==null&&(v=i,S=null));var N=new wo("action","action",null,s,h);n.push({event:N,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(mi!==0){var R=S?Gp(h,S):new FormData(h);ru(o,{pending:!0,data:R,method:h.method,action:v},null,R)}}else typeof v=="function"&&(N.preventDefault(),R=S?Gp(h,S):new FormData(h),ru(o,{pending:!0,data:R,method:h.method,action:v},v,R))},currentTarget:h}]})}}for(var Gu=0;Gu<Ss.length;Gu++){var Ou=Ss[Gu],Jv=Ou.toLowerCase(),Yv=Ou[0].toUpperCase()+Ou.slice(1);hn(Jv,"on"+Yv)}hn(yf,"onAnimationEnd"),hn(xf,"onAnimationIteration"),hn(vf,"onAnimationStart"),hn("dblclick","onDoubleClick"),hn("focusin","onFocus"),hn("focusout","onBlur"),hn(uv,"onTransitionRun"),hn(cv,"onTransitionStart"),hn(dv,"onTransitionCancel"),hn(bf,"onTransitionEnd"),ta("onMouseEnter",["mouseout","mouseover"]),ta("onMouseLeave",["mouseout","mouseover"]),ta("onPointerEnter",["pointerout","pointerover"]),ta("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lr));function Op(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var s=n[o],h=s.event;s=s.listeners;e:{var v=void 0;if(i)for(var S=s.length-1;0<=S;S--){var N=s[S],R=N.instance,F=N.currentTarget;if(N=N.listener,R!==v&&h.isPropagationStopped())break e;v=N,h.currentTarget=F;try{v(h)}catch(Z){No(Z)}h.currentTarget=null,v=R}else for(S=0;S<s.length;S++){if(N=s[S],R=N.instance,F=N.currentTarget,N=N.listener,R!==v&&h.isPropagationStopped())break e;v=N,h.currentTarget=F;try{v(h)}catch(Z){No(Z)}h.currentTarget=null,v=R}}}}function Me(n,i){var o=i[es];o===void 0&&(o=i[es]=new Set);var s=n+"__bubble";o.has(s)||(Hp(i,n,2,!1),o.add(s))}function Hu(n,i,o){var s=0;i&&(s|=4),Hp(o,n,s,i)}var cl="_reactListening"+Math.random().toString(36).slice(2);function zu(n){if(!n[cl]){n[cl]=!0,Ld.forEach(function(o){o!=="selectionchange"&&(Kv.has(o)||Hu(o,!1,n),Hu(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[cl]||(i[cl]=!0,Hu("selectionchange",!1,i))}}function Hp(n,i,o,s){switch(yh(i)){case 2:var h=Sb;break;case 8:h=Eb;break;default:h=ac}o=h.bind(null,i,o,n),h=void 0,!us||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),s?h!==void 0?n.addEventListener(i,o,{capture:!0,passive:h}):n.addEventListener(i,o,!0):h!==void 0?n.addEventListener(i,o,{passive:h}):n.addEventListener(i,o,!1)}function ju(n,i,o,s,h){var v=s;if((i&1)===0&&(i&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var N=s.stateNode.containerInfo;if(N===h)break;if(S===4)for(S=s.return;S!==null;){var R=S.tag;if((R===3||R===4)&&S.stateNode.containerInfo===h)return;S=S.return}for(;N!==null;){if(S=Zi(N),S===null)return;if(R=S.tag,R===5||R===6||R===26||R===27){s=v=S;continue e}N=N.parentNode}}s=s.return}Jd(function(){var F=v,Z=ls(o),ie=[];e:{var Y=wf.get(n);if(Y!==void 0){var Q=wo,pe=n;switch(n){case"keypress":if(vo(o)===0)break e;case"keydown":case"keyup":Q=Ox;break;case"focusin":pe="focus",Q=ms;break;case"focusout":pe="blur",Q=ms;break;case"beforeblur":case"afterblur":Q=ms;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Qd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Ix;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=jx;break;case yf:case xf:case vf:Q=Mx;break;case bf:Q=Jx;break;case"scroll":case"scrollend":Q=Ax;break;case"wheel":Q=Kx;break;case"copy":case"cut":case"paste":Q=Lx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Xd;break;case"toggle":case"beforetoggle":Q=$x}var we=(i&4)!==0,Ye=!we&&(n==="scroll"||n==="scrollend"),G=we?Y!==null?Y+"Capture":null:Y;we=[];for(var L=F,j;L!==null;){var te=L;if(j=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||j===null||G===null||(te=nr(L,G),te!=null&&we.push(qr(L,te,j))),Ye)break;L=L.return}0<we.length&&(Y=new Q(Y,pe,null,o,Z),ie.push({event:Y,listeners:we}))}}if((i&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",Y&&o!==os&&(pe=o.relatedTarget||o.fromElement)&&(Zi(pe)||pe[Xi]))break e;if((Q||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(pe=o.relatedTarget||o.toElement,Q=F,pe=pe?Zi(pe):null,pe!==null&&(Ye=u(pe),we=pe.tag,pe!==Ye||we!==5&&we!==27&&we!==6)&&(pe=null)):(Q=null,pe=F),Q!==pe)){if(we=Qd,te="onMouseLeave",G="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(we=Xd,te="onPointerLeave",G="onPointerEnter",L="pointer"),Ye=Q==null?Y:tr(Q),j=pe==null?Y:tr(pe),Y=new we(te,L+"leave",Q,o,Z),Y.target=Ye,Y.relatedTarget=j,te=null,Zi(Z)===F&&(we=new we(G,L+"enter",pe,o,Z),we.target=j,we.relatedTarget=Ye,te=we),Ye=te,Q&&pe)t:{for(we=Qv,G=Q,L=pe,j=0,te=G;te;te=we(te))j++;te=0;for(var be=L;be;be=we(be))te++;for(;0<j-te;)G=we(G),j--;for(;0<te-j;)L=we(L),te--;for(;j--;){if(G===L||L!==null&&G===L.alternate){we=G;break t}G=we(G),L=we(L)}we=null}else we=null;Q!==null&&zp(ie,Y,Q,we,!1),pe!==null&&Ye!==null&&zp(ie,Ye,pe,we,!0)}}e:{if(Y=F?tr(F):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var Ue=of;else if(af(Y))if(lf)Ue=ov;else{Ue=av;var ye=iv}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?F&&rs(F.elementType)&&(Ue=of):Ue=rv;if(Ue&&(Ue=Ue(n,F))){rf(ie,Ue,o,Z);break e}ye&&ye(n,Y,F),n==="focusout"&&F&&Y.type==="number"&&F.memoizedProps.value!=null&&as(Y,"number",Y.value)}switch(ye=F?tr(F):window,n){case"focusin":(af(ye)||ye.contentEditable==="true")&&(la=ye,vs=F,cr=null);break;case"focusout":cr=vs=la=null;break;case"mousedown":bs=!0;break;case"contextmenu":case"mouseup":case"dragend":bs=!1,hf(ie,o,Z);break;case"selectionchange":if(sv)break;case"keydown":case"keyup":hf(ie,o,Z)}var Ae;if(hs)e:{switch(n){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else oa?tf(n,o)&&(Le="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Le="onCompositionStart");Le&&(Zd&&o.locale!=="ko"&&(oa||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&oa&&(Ae=Yd()):(Xn=Z,cs="value"in Xn?Xn.value:Xn.textContent,oa=!0)),ye=dl(F,Le),0<ye.length&&(Le=new $d(Le,n,null,o,Z),ie.push({event:Le,listeners:ye}),Ae?Le.data=Ae:(Ae=nf(o),Ae!==null&&(Le.data=Ae)))),(Ae=Zx?Wx(n,o):ev(n,o))&&(Le=dl(F,"onBeforeInput"),0<Le.length&&(ye=new $d("onBeforeInput","beforeinput",null,o,Z),ie.push({event:ye,listeners:Le}),ye.data=Ae)),Fv(ie,n,F,o,Z)}Op(ie,i)})}function qr(n,i,o){return{instance:n,listener:i,currentTarget:o}}function dl(n,i){for(var o=i+"Capture",s=[];n!==null;){var h=n,v=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||v===null||(h=nr(n,o),h!=null&&s.unshift(qr(n,h,v)),h=nr(n,i),h!=null&&s.push(qr(n,h,v))),n.tag===3)return s;n=n.return}return[]}function Qv(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function zp(n,i,o,s,h){for(var v=i._reactName,S=[];o!==null&&o!==s;){var N=o,R=N.alternate,F=N.stateNode;if(N=N.tag,R!==null&&R===s)break;N!==5&&N!==26&&N!==27||F===null||(R=F,h?(F=nr(o,v),F!=null&&S.unshift(qr(o,F,R))):h||(F=nr(o,v),F!=null&&S.push(qr(o,F,R)))),o=o.return}S.length!==0&&n.push({event:i,listeners:S})}var $v=/\r\n?/g,Xv=/\u0000|\uFFFD/g;function jp(n){return(typeof n=="string"?n:""+n).replace($v,`
`).replace(Xv,"")}function Fp(n,i){return i=jp(i),jp(n)===i}function Je(n,i,o,s,h,v){switch(o){case"children":typeof s=="string"?i==="body"||i==="textarea"&&s===""||ia(n,s):(typeof s=="number"||typeof s=="bigint")&&i!=="body"&&ia(n,""+s);break;case"className":ho(n,"class",s);break;case"tabIndex":ho(n,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ho(n,o,s);break;case"style":jd(n,s,v);break;case"data":if(i!=="object"){ho(n,"data",s);break}case"src":case"href":if(s===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){n.removeAttribute(o);break}s=yo(""+s),n.setAttribute(o,s);break;case"action":case"formAction":if(typeof s=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(i!=="input"&&Je(n,i,"name",h.name,h,null),Je(n,i,"formEncType",h.formEncType,h,null),Je(n,i,"formMethod",h.formMethod,h,null),Je(n,i,"formTarget",h.formTarget,h,null)):(Je(n,i,"encType",h.encType,h,null),Je(n,i,"method",h.method,h,null),Je(n,i,"target",h.target,h,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){n.removeAttribute(o);break}s=yo(""+s),n.setAttribute(o,s);break;case"onClick":s!=null&&(n.onclick=Rn);break;case"onScroll":s!=null&&Me("scroll",n);break;case"onScrollEnd":s!=null&&Me("scrollend",n);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(o=s.__html,o!=null){if(h.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"multiple":n.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":n.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){n.removeAttribute("xlink:href");break}o=yo(""+s),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?n.setAttribute(o,""+s):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":s===!0?n.setAttribute(o,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?n.setAttribute(o,s):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?n.setAttribute(o,s):n.removeAttribute(o);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?n.removeAttribute(o):n.setAttribute(o,s);break;case"popover":Me("beforetoggle",n),Me("toggle",n),po(n,"popover",s);break;case"xlinkActuate":kn(n,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":kn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":kn(n,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":kn(n,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":kn(n,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":kn(n,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":kn(n,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":kn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":kn(n,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":po(n,"is",s);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Tx.get(o)||o,po(n,o,s))}}function Fu(n,i,o,s,h,v){switch(o){case"style":jd(n,s,v);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(o=s.__html,o!=null){if(h.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"children":typeof s=="string"?ia(n,s):(typeof s=="number"||typeof s=="bigint")&&ia(n,""+s);break;case"onScroll":s!=null&&Me("scroll",n);break;case"onScrollEnd":s!=null&&Me("scrollend",n);break;case"onClick":s!=null&&(n.onclick=Rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qd.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),i=o.slice(2,h?o.length-7:void 0),v=n[Dt]||null,v=v!=null?v[o]:null,typeof v=="function"&&n.removeEventListener(i,v,h),typeof s=="function")){typeof v!="function"&&v!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,s,h);break e}o in n?n[o]=s:s===!0?n.setAttribute(o,""):po(n,o,s)}}}function Nt(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",n),Me("load",n);var s=!1,h=!1,v;for(v in o)if(o.hasOwnProperty(v)){var S=o[v];if(S!=null)switch(v){case"src":s=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Je(n,i,v,S,o,null)}}h&&Je(n,i,"srcSet",o.srcSet,o,null),s&&Je(n,i,"src",o.src,o,null);return;case"input":Me("invalid",n);var N=v=S=h=null,R=null,F=null;for(s in o)if(o.hasOwnProperty(s)){var Z=o[s];if(Z!=null)switch(s){case"name":h=Z;break;case"type":S=Z;break;case"checked":R=Z;break;case"defaultChecked":F=Z;break;case"value":v=Z;break;case"defaultValue":N=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,i));break;default:Je(n,i,s,Z,o,null)}}Gd(n,v,N,R,F,S,h,!1);return;case"select":Me("invalid",n),s=S=v=null;for(h in o)if(o.hasOwnProperty(h)&&(N=o[h],N!=null))switch(h){case"value":v=N;break;case"defaultValue":S=N;break;case"multiple":s=N;default:Je(n,i,h,N,o,null)}i=v,o=S,n.multiple=!!s,i!=null?na(n,!!s,i,!1):o!=null&&na(n,!!s,o,!0);return;case"textarea":Me("invalid",n),v=h=s=null;for(S in o)if(o.hasOwnProperty(S)&&(N=o[S],N!=null))switch(S){case"value":s=N;break;case"defaultValue":h=N;break;case"children":v=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:Je(n,i,S,N,o,null)}Hd(n,s,h,v);return;case"option":for(R in o)if(o.hasOwnProperty(R)&&(s=o[R],s!=null))switch(R){case"selected":n.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Je(n,i,R,s,o,null)}return;case"dialog":Me("beforetoggle",n),Me("toggle",n),Me("cancel",n),Me("close",n);break;case"iframe":case"object":Me("load",n);break;case"video":case"audio":for(s=0;s<Lr.length;s++)Me(Lr[s],n);break;case"image":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"embed":case"source":case"link":Me("error",n),Me("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in o)if(o.hasOwnProperty(F)&&(s=o[F],s!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Je(n,i,F,s,o,null)}return;default:if(rs(i)){for(Z in o)o.hasOwnProperty(Z)&&(s=o[Z],s!==void 0&&Fu(n,i,Z,s,o,void 0));return}}for(N in o)o.hasOwnProperty(N)&&(s=o[N],s!=null&&Je(n,i,N,s,o,null))}function Zv(n,i,o,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,v=null,S=null,N=null,R=null,F=null,Z=null;for(Q in o){var ie=o[Q];if(o.hasOwnProperty(Q)&&ie!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":R=ie;default:s.hasOwnProperty(Q)||Je(n,i,Q,null,s,ie)}}for(var Y in s){var Q=s[Y];if(ie=o[Y],s.hasOwnProperty(Y)&&(Q!=null||ie!=null))switch(Y){case"type":v=Q;break;case"name":h=Q;break;case"checked":F=Q;break;case"defaultChecked":Z=Q;break;case"value":S=Q;break;case"defaultValue":N=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:Q!==ie&&Je(n,i,Y,Q,s,ie)}}is(n,S,N,R,F,Z,v,h);return;case"select":Q=S=N=Y=null;for(v in o)if(R=o[v],o.hasOwnProperty(v)&&R!=null)switch(v){case"value":break;case"multiple":Q=R;default:s.hasOwnProperty(v)||Je(n,i,v,null,s,R)}for(h in s)if(v=s[h],R=o[h],s.hasOwnProperty(h)&&(v!=null||R!=null))switch(h){case"value":Y=v;break;case"defaultValue":N=v;break;case"multiple":S=v;default:v!==R&&Je(n,i,h,v,s,R)}i=N,o=S,s=Q,Y!=null?na(n,!!o,Y,!1):!!s!=!!o&&(i!=null?na(n,!!o,i,!0):na(n,!!o,o?[]:"",!1));return;case"textarea":Q=Y=null;for(N in o)if(h=o[N],o.hasOwnProperty(N)&&h!=null&&!s.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Je(n,i,N,null,s,h)}for(S in s)if(h=s[S],v=o[S],s.hasOwnProperty(S)&&(h!=null||v!=null))switch(S){case"value":Y=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==v&&Je(n,i,S,h,s,v)}Od(n,Y,Q);return;case"option":for(var pe in o)if(Y=o[pe],o.hasOwnProperty(pe)&&Y!=null&&!s.hasOwnProperty(pe))switch(pe){case"selected":n.selected=!1;break;default:Je(n,i,pe,null,s,Y)}for(R in s)if(Y=s[R],Q=o[R],s.hasOwnProperty(R)&&Y!==Q&&(Y!=null||Q!=null))switch(R){case"selected":n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Je(n,i,R,Y,s,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in o)Y=o[we],o.hasOwnProperty(we)&&Y!=null&&!s.hasOwnProperty(we)&&Je(n,i,we,null,s,Y);for(F in s)if(Y=s[F],Q=o[F],s.hasOwnProperty(F)&&Y!==Q&&(Y!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,i));break;default:Je(n,i,F,Y,s,Q)}return;default:if(rs(i)){for(var Ye in o)Y=o[Ye],o.hasOwnProperty(Ye)&&Y!==void 0&&!s.hasOwnProperty(Ye)&&Fu(n,i,Ye,void 0,s,Y);for(Z in s)Y=s[Z],Q=o[Z],!s.hasOwnProperty(Z)||Y===Q||Y===void 0&&Q===void 0||Fu(n,i,Z,Y,s,Q);return}}for(var G in o)Y=o[G],o.hasOwnProperty(G)&&Y!=null&&!s.hasOwnProperty(G)&&Je(n,i,G,null,s,Y);for(ie in s)Y=s[ie],Q=o[ie],!s.hasOwnProperty(ie)||Y===Q||Y==null&&Q==null||Je(n,i,ie,Y,s,Q)}function Jp(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Wv(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,o=performance.getEntriesByType("resource"),s=0;s<o.length;s++){var h=o[s],v=h.transferSize,S=h.initiatorType,N=h.duration;if(v&&N&&Jp(S)){for(S=0,N=h.responseEnd,s+=1;s<o.length;s++){var R=o[s],F=R.startTime;if(F>N)break;var Z=R.transferSize,ie=R.initiatorType;Z&&Jp(ie)&&(R=R.responseEnd,S+=Z*(R<N?1:(N-F)/(R-F)))}if(--s,i+=8*(v+S)/(h.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Ju=null,Yu=null;function fl(n){return n.nodeType===9?n:n.ownerDocument}function Yp(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kp(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Ku(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Qu=null;function eb(){var n=window.event;return n&&n.type==="popstate"?n===Qu?!1:(Qu=n,!0):(Qu=null,!1)}var Qp=typeof setTimeout=="function"?setTimeout:void 0,tb=typeof clearTimeout=="function"?clearTimeout:void 0,$p=typeof Promise=="function"?Promise:void 0,nb=typeof queueMicrotask=="function"?queueMicrotask:typeof $p<"u"?function(n){return $p.resolve(null).then(n).catch(ib)}:Qp;function ib(n){setTimeout(function(){throw n})}function pi(n){return n==="head"}function Xp(n,i){var o=i,s=0;do{var h=o.nextSibling;if(n.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"||o==="/&"){if(s===0){n.removeChild(h),La(i);return}s--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")s++;else if(o==="html")Pr(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,Pr(o);for(var v=o.firstChild;v;){var S=v.nextSibling,N=v.nodeName;v[er]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&v.rel.toLowerCase()==="stylesheet"||o.removeChild(v),v=S}}else o==="body"&&Pr(n.ownerDocument.body);o=h}while(o);La(i)}function Zp(n,i){var o=n;n=0;do{var s=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),s&&s.nodeType===8)if(o=s.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=s}while(o)}function $u(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":$u(o),ts(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function ab(n,i,o,s){for(;n.nodeType===1;){var h=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!s&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(s){if(!n[er])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(v=n.getAttribute("rel"),v==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(v!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(v=n.getAttribute("src"),(v!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&v&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var v=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===v)return n}else return n;if(n=un(n.nextSibling),n===null)break}return null}function rb(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=un(n.nextSibling),n===null))return null;return n}function Wp(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=un(n.nextSibling),n===null))return null;return n}function Xu(n){return n.data==="$?"||n.data==="$~"}function Zu(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function ob(n,i){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||o.readyState!=="loading")i();else{var s=function(){i(),o.removeEventListener("DOMContentLoaded",s)};o.addEventListener("DOMContentLoaded",s),n._reactRetry=s}}function un(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var Wu=null;function eh(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(i===0)return un(n.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}n=n.nextSibling}return null}function th(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return n;i--}else o!=="/$"&&o!=="/&"||i++}n=n.previousSibling}return null}function nh(n,i,o){switch(i=fl(o),n){case"html":if(n=i.documentElement,!n)throw Error(r(452));return n;case"head":if(n=i.head,!n)throw Error(r(453));return n;case"body":if(n=i.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Pr(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);ts(n)}var cn=new Map,ih=new Set;function ml(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Yn=re.d;re.d={f:lb,r:sb,D:ub,C:cb,L:db,m:fb,X:pb,S:mb,M:hb};function lb(){var n=Yn.f(),i=al();return n||i}function sb(n){var i=Wi(n);i!==null&&i.tag===5&&i.type==="form"?bm(i):Yn.r(n)}var Ra=typeof document>"u"?null:document;function ah(n,i,o){var s=Ra;if(s&&typeof i=="string"&&i){var h=tn(i);h='link[rel="'+n+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),ih.has(h)||(ih.add(h),n={rel:n,crossOrigin:o,href:i},s.querySelector(h)===null&&(i=s.createElement("link"),Nt(i,"link",n),gt(i),s.head.appendChild(i)))}}function ub(n){Yn.D(n),ah("dns-prefetch",n,null)}function cb(n,i){Yn.C(n,i),ah("preconnect",n,i)}function db(n,i,o){Yn.L(n,i,o);var s=Ra;if(s&&n&&i){var h='link[rel="preload"][as="'+tn(i)+'"]';i==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+tn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+tn(o.imageSizes)+'"]')):h+='[href="'+tn(n)+'"]';var v=h;switch(i){case"style":v=Ma(n);break;case"script":v=Da(n)}cn.has(v)||(n=b({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),cn.set(v,n),s.querySelector(h)!==null||i==="style"&&s.querySelector(Ur(v))||i==="script"&&s.querySelector(Br(v))||(i=s.createElement("link"),Nt(i,"link",n),gt(i),s.head.appendChild(i)))}}function fb(n,i){Yn.m(n,i);var o=Ra;if(o&&n){var s=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+tn(s)+'"][href="'+tn(n)+'"]',v=h;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Da(n)}if(!cn.has(v)&&(n=b({rel:"modulepreload",href:n},i),cn.set(v,n),o.querySelector(h)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Br(v)))return}s=o.createElement("link"),Nt(s,"link",n),gt(s),o.head.appendChild(s)}}}function mb(n,i,o){Yn.S(n,i,o);var s=Ra;if(s&&n){var h=ea(s).hoistableStyles,v=Ma(n);i=i||"default";var S=h.get(v);if(!S){var N={loading:0,preload:null};if(S=s.querySelector(Ur(v)))N.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":i},o),(o=cn.get(v))&&ec(n,o);var R=S=s.createElement("link");gt(R),Nt(R,"link",n),R._p=new Promise(function(F,Z){R.onload=F,R.onerror=Z}),R.addEventListener("load",function(){N.loading|=1}),R.addEventListener("error",function(){N.loading|=2}),N.loading|=4,pl(S,i,s)}S={type:"stylesheet",instance:S,count:1,state:N},h.set(v,S)}}}function pb(n,i){Yn.X(n,i);var o=Ra;if(o&&n){var s=ea(o).hoistableScripts,h=Da(n),v=s.get(h);v||(v=o.querySelector(Br(h)),v||(n=b({src:n,async:!0},i),(i=cn.get(h))&&tc(n,i),v=o.createElement("script"),gt(v),Nt(v,"link",n),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},s.set(h,v))}}function hb(n,i){Yn.M(n,i);var o=Ra;if(o&&n){var s=ea(o).hoistableScripts,h=Da(n),v=s.get(h);v||(v=o.querySelector(Br(h)),v||(n=b({src:n,async:!0,type:"module"},i),(i=cn.get(h))&&tc(n,i),v=o.createElement("script"),gt(v),Nt(v,"link",n),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},s.set(h,v))}}function rh(n,i,o,s){var h=(h=oe.current)?ml(h):null;if(!h)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Ma(o.href),o=ea(h).hoistableStyles,s=o.get(i),s||(s={type:"style",instance:null,count:0,state:null},o.set(i,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Ma(o.href);var v=ea(h).hoistableStyles,S=v.get(n);if(S||(h=h.ownerDocument||h,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(n,S),(v=h.querySelector(Ur(n)))&&!v._p&&(S.instance=v,S.state.loading=5),cn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},cn.set(n,o),v||gb(h,n,o,S.state))),i&&s===null)throw Error(r(528,""));return S}if(i&&s!==null)throw Error(r(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Da(o),o=ea(h).hoistableScripts,s=o.get(i),s||(s={type:"script",instance:null,count:0,state:null},o.set(i,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Ma(n){return'href="'+tn(n)+'"'}function Ur(n){return'link[rel="stylesheet"]['+n+"]"}function oh(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function gb(n,i,o,s){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?s.loading=1:(i=n.createElement("link"),s.preload=i,i.addEventListener("load",function(){return s.loading|=1}),i.addEventListener("error",function(){return s.loading|=2}),Nt(i,"link",o),gt(i),n.head.appendChild(i))}function Da(n){return'[src="'+tn(n)+'"]'}function Br(n){return"script[async]"+n}function lh(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var s=n.querySelector('style[data-href~="'+tn(o.href)+'"]');if(s)return i.instance=s,gt(s),s;var h=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return s=(n.ownerDocument||n).createElement("style"),gt(s),Nt(s,"style",h),pl(s,o.precedence,n),i.instance=s;case"stylesheet":h=Ma(o.href);var v=n.querySelector(Ur(h));if(v)return i.state.loading|=4,i.instance=v,gt(v),v;s=oh(o),(h=cn.get(h))&&ec(s,h),v=(n.ownerDocument||n).createElement("link"),gt(v);var S=v;return S._p=new Promise(function(N,R){S.onload=N,S.onerror=R}),Nt(v,"link",s),i.state.loading|=4,pl(v,o.precedence,n),i.instance=v;case"script":return v=Da(o.src),(h=n.querySelector(Br(v)))?(i.instance=h,gt(h),h):(s=o,(h=cn.get(v))&&(s=b({},o),tc(s,h)),n=n.ownerDocument||n,h=n.createElement("script"),gt(h),Nt(h,"link",s),n.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(s=i.instance,i.state.loading|=4,pl(s,o.precedence,n));return i.instance}function pl(n,i,o){for(var s=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=s.length?s[s.length-1]:null,v=h,S=0;S<s.length;S++){var N=s[S];if(N.dataset.precedence===i)v=N;else if(v!==h)break}v?v.parentNode.insertBefore(n,v.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function ec(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function tc(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var hl=null;function sh(n,i,o){if(hl===null){var s=new Map,h=hl=new Map;h.set(o,s)}else h=hl,s=h.get(o),s||(s=new Map,h.set(o,s));if(s.has(n))return s;for(s.set(n,null),o=o.getElementsByTagName(n),h=0;h<o.length;h++){var v=o[h];if(!(v[er]||v[bt]||n==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var S=v.getAttribute(i)||"";S=n+S;var N=s.get(S);N?N.push(v):s.set(S,[v])}}return s}function uh(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function yb(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ch(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function xb(n,i,o,s){if(o.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var h=Ma(s.href),v=i.querySelector(Ur(h));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=gl.bind(n),i.then(n,n)),o.state.loading|=4,o.instance=v,gt(v);return}v=i.ownerDocument||i,s=oh(s),(h=cn.get(h))&&ec(s,h),v=v.createElement("link"),gt(v);var S=v;S._p=new Promise(function(N,R){S.onload=N,S.onerror=R}),Nt(v,"link",s),o.instance=v}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=gl.bind(n),i.addEventListener("load",o),i.addEventListener("error",o))}}var nc=0;function vb(n,i){return n.stylesheets&&n.count===0&&xl(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var s=setTimeout(function(){if(n.stylesheets&&xl(n,n.stylesheets),n.unsuspend){var v=n.unsuspend;n.unsuspend=null,v()}},6e4+i);0<n.imgBytes&&nc===0&&(nc=62500*Wv());var h=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&xl(n,n.stylesheets),n.unsuspend)){var v=n.unsuspend;n.unsuspend=null,v()}},(n.imgBytes>nc?50:800)+i);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(s),clearTimeout(h)}}:null}function gl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xl(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var yl=null;function xl(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,yl=new Map,i.forEach(bb,n),yl=null,gl.call(n))}function bb(n,i){if(!(i.state.loading&4)){var o=yl.get(n);if(o)var s=o.get(null);else{o=new Map,yl.set(n,o);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<h.length;v++){var S=h[v];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),s=S)}s&&o.set(null,s)}h=i.instance,S=h.getAttribute("data-precedence"),v=o.get(S)||s,v===s&&o.set(null,h),o.set(S,h),this.count++,s=gl.bind(this),h.addEventListener("load",s),h.addEventListener("error",s),v?v.parentNode.insertBefore(h,v.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),i.state.loading|=4}}var Vr={$$typeof:P,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function wb(n,i,o,s,h,v,S,N,R){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xl(0),this.hiddenUpdates=Xl(null),this.identifierPrefix=s,this.onUncaughtError=h,this.onCaughtError=v,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function dh(n,i,o,s,h,v,S,N,R,F,Z,ie){return n=new wb(n,i,o,S,R,F,Z,ie,N),i=1,v===!0&&(i|=24),v=Jt(3,null,null,i),n.current=v,v.stateNode=n,i=qs(),i.refCount++,n.pooledCache=i,i.refCount++,v.memoizedState={element:s,isDehydrated:o,cache:i},Vs(v),n}function fh(n){return n?(n=ca,n):ca}function mh(n,i,o,s,h,v){h=fh(h),s.context===null?s.context=h:s.pendingContext=h,s=ii(i),s.payload={element:o},v=v===void 0?null:v,v!==null&&(s.callback=v),o=ai(n,s,i),o!==null&&(Vt(o,n,i),yr(o,n,i))}function ph(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function ic(n,i){ph(n,i),(n=n.alternate)&&ph(n,i)}function hh(n){if(n.tag===13||n.tag===31){var i=Ri(n,67108864);i!==null&&Vt(i,n,67108864),ic(n,67108864)}}function gh(n){if(n.tag===13||n.tag===31){var i=Xt();i=Zl(i);var o=Ri(n,i);o!==null&&Vt(o,n,i),ic(n,i)}}var vl=!0;function Sb(n,i,o,s){var h=V.T;V.T=null;var v=re.p;try{re.p=2,ac(n,i,o,s)}finally{re.p=v,V.T=h}}function Eb(n,i,o,s){var h=V.T;V.T=null;var v=re.p;try{re.p=8,ac(n,i,o,s)}finally{re.p=v,V.T=h}}function ac(n,i,o,s){if(vl){var h=rc(s);if(h===null)ju(n,i,s,bl,o),xh(n,s);else if(Tb(h,n,i,o,s))s.stopPropagation();else if(xh(n,s),i&4&&-1<Nb.indexOf(n)){for(;h!==null;){var v=Wi(h);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var S=Ci(v.pendingLanes);if(S!==0){var N=v;for(N.pendingLanes|=2,N.entangledLanes|=2;S;){var R=1<<31-Ke(S);N.entanglements[1]|=R,S&=~R}Nn(v),(Ge&6)===0&&(nl=It()+500,Dr(0))}}break;case 31:case 13:N=Ri(v,2),N!==null&&Vt(N,v,2),al(),ic(v,2)}if(v=rc(s),v===null&&ju(n,i,s,bl,o),v===h)break;h=v}h!==null&&s.stopPropagation()}else ju(n,i,s,null,o)}}function rc(n){return n=ls(n),oc(n)}var bl=null;function oc(n){if(bl=null,n=Zi(n),n!==null){var i=u(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=c(i),n!==null)return n;n=null}else if(o===31){if(n=m(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return bl=n,null}function yh(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($l()){case ee:return 2;case de:return 8;case Se:case ke:return 32;case He:return 268435456;default:return 32}default:return 32}}var lc=!1,hi=null,gi=null,yi=null,Gr=new Map,Or=new Map,xi=[],Nb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xh(n,i){switch(n){case"focusin":case"focusout":hi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":Gr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Or.delete(i.pointerId)}}function Hr(n,i,o,s,h,v){return n===null||n.nativeEvent!==v?(n={blockedOn:i,domEventName:o,eventSystemFlags:s,nativeEvent:v,targetContainers:[h]},i!==null&&(i=Wi(i),i!==null&&hh(i)),n):(n.eventSystemFlags|=s,i=n.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),n)}function Tb(n,i,o,s,h){switch(i){case"focusin":return hi=Hr(hi,n,i,o,s,h),!0;case"dragenter":return gi=Hr(gi,n,i,o,s,h),!0;case"mouseover":return yi=Hr(yi,n,i,o,s,h),!0;case"pointerover":var v=h.pointerId;return Gr.set(v,Hr(Gr.get(v)||null,n,i,o,s,h)),!0;case"gotpointercapture":return v=h.pointerId,Or.set(v,Hr(Or.get(v)||null,n,i,o,s,h)),!0}return!1}function vh(n){var i=Zi(n.target);if(i!==null){var o=u(i);if(o!==null){if(i=o.tag,i===13){if(i=c(o),i!==null){n.blockedOn=i,Md(n.priority,function(){gh(o)});return}}else if(i===31){if(i=m(o),i!==null){n.blockedOn=i,Md(n.priority,function(){gh(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function wl(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=rc(n.nativeEvent);if(o===null){o=n.nativeEvent;var s=new o.constructor(o.type,o);os=s,o.target.dispatchEvent(s),os=null}else return i=Wi(o),i!==null&&hh(i),n.blockedOn=o,!1;i.shift()}return!0}function bh(n,i,o){wl(n)&&o.delete(i)}function Cb(){lc=!1,hi!==null&&wl(hi)&&(hi=null),gi!==null&&wl(gi)&&(gi=null),yi!==null&&wl(yi)&&(yi=null),Gr.forEach(bh),Or.forEach(bh)}function Sl(n,i){n.blockedOn===i&&(n.blockedOn=null,lc||(lc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Cb)))}var El=null;function wh(n){El!==n&&(El=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){El===n&&(El=null);for(var i=0;i<n.length;i+=3){var o=n[i],s=n[i+1],h=n[i+2];if(typeof s!="function"){if(oc(s||o)===null)continue;break}var v=Wi(o);v!==null&&(n.splice(i,3),i-=3,ru(v,{pending:!0,data:h,method:o.method,action:s},s,h))}}))}function La(n){function i(R){return Sl(R,n)}hi!==null&&Sl(hi,n),gi!==null&&Sl(gi,n),yi!==null&&Sl(yi,n),Gr.forEach(i),Or.forEach(i);for(var o=0;o<xi.length;o++){var s=xi[o];s.blockedOn===n&&(s.blockedOn=null)}for(;0<xi.length&&(o=xi[0],o.blockedOn===null);)vh(o),o.blockedOn===null&&xi.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(s=0;s<o.length;s+=3){var h=o[s],v=o[s+1],S=h[Dt]||null;if(typeof v=="function")S||wh(o);else if(S){var N=null;if(v&&v.hasAttribute("formAction")){if(h=v,S=v[Dt]||null)N=S.formAction;else if(oc(h)!==null)continue}else N=S.action;typeof N=="function"?o[s+1]=N:(o.splice(s,3),s-=3),wh(o)}}}function Sh(){function n(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(S){return h=S})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),s||setTimeout(o,20)}function o(){if(!s&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,h=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){s=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function sc(n){this._internalRoot=n}Nl.prototype.render=sc.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));var o=i.current,s=Xt();mh(o,s,n,i,null,null)},Nl.prototype.unmount=sc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;mh(n.current,2,null,n,null,null),al(),i[Xi]=null}};function Nl(n){this._internalRoot=n}Nl.prototype.unstable_scheduleHydration=function(n){if(n){var i=Rd();n={blockedOn:null,target:n,priority:i};for(var o=0;o<xi.length&&i!==0&&i<xi[o].priority;o++);xi.splice(o,0,n),o===0&&vh(n)}};var Eh=e.version;if(Eh!=="19.2.0")throw Error(r(527,Eh,"19.2.0"));re.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=p(i),n=n!==null?x(n):null,n=n===null?null:n.stateNode,n};var Ab={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tl.isDisabled&&Tl.supportsFiber)try{kt=Tl.inject(Ab),pt=Tl}catch{}}return jr.createRoot=function(n,i){if(!l(n))throw Error(r(299));var o=!1,s="",h=km,v=Rm,S=Mm;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(s=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError)),i=dh(n,1,!1,null,null,o,s,null,h,v,S,Sh),n[Xi]=i.current,zu(n),new sc(i)},jr.hydrateRoot=function(n,i,o){if(!l(n))throw Error(r(299));var s=!1,h="",v=km,S=Rm,N=Mm,R=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError),o.formState!==void 0&&(R=o.formState)),i=dh(n,1,!0,i,o??null,s,h,R,v,S,N,Sh),i.context=fh(null),o=i.current,s=Xt(),s=Zl(s),h=ii(s),h.callback=null,ai(o,h,s),o=s,i.current.lanes=o,Wa(i,o),Nn(i),n[Xi]=i.current,zu(n),new Nl(i)},jr.version="19.2.0",jr}var Dh;function Ub(){if(Dh)return dc.exports;Dh=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dc.exports=Pb(),dc.exports}var Bb=Ub();const Vb=Gl(Bb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ob=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,r)=>r?r.toUpperCase():a.toLowerCase()),Lh=t=>{const e=Ob(t);return e.charAt(0).toUpperCase()+e.slice(1)},Y0=(...t)=>t.filter((e,a,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===a).join(" ").trim(),Hb=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=z.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:c,...m},y)=>z.createElement("svg",{ref:y,...zb,width:e,height:e,stroke:t,strokeWidth:r?Number(a)*24/Number(e):a,className:Y0("lucide",l),...!u&&!Hb(m)&&{"aria-hidden":"true"},...m},[...c.map(([p,x])=>z.createElement(p,x)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(t,e)=>{const a=z.forwardRef(({className:r,...l},u)=>z.createElement(jb,{ref:u,iconNode:e,className:Y0(`lucide-${Gb(Lh(t))}`,`lucide-${t}`,r),...l}));return a.displayName=Lh(t),a};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ro=rt("arrow-left",Fb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],K0=rt("book-open",Jb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Kb=rt("book",Yb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],hc=rt("circle-check-big",Qb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],gc=rt("file-text",$b);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Q0=rt("funnel",Xb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Wb=rt("gamepad-2",Zb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],t1=rt("graduation-cap",e1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Lc=rt("info",n1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],a1=rt("languages",i1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],yc=rt("loader-circle",r1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],l1=rt("message-circle",o1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],u1=rt("mic-off",s1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],td=rt("mic",c1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],qh=rt("pen-line",d1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],m1=rt("save",f1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Wr=rt("search",p1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ph=rt("send",h1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],y1=rt("sparkles",g1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],v1=rt("square",x1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],w1=rt("upload",b1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Va=rt("volume-2",S1),Uh=({onNavigate:t})=>{const e=[{id:"bible-game",title:"聖經探索",subtitle:"Bible Interactive Game",description:"通過互動遊戲探索聖經故事和聖經背景知識，與AI邊玩邊學習",icon:Wb,color:"from-purple-500 to-purple-700",hoverColor:"hover:from-purple-600 hover:to-purple-800"},{id:"biblical-language",title:"原文學習",subtitle:"Biblical Textual Learning",description:"學習聖經原文語言：希伯來文和希臘文發音練習與AI對話",icon:a1,color:"from-amber-500 to-amber-700",hoverColor:"hover:from-amber-600 hover:to-amber-800"},{id:"theology-search",title:"研經助手",subtitle:"Bible Explore Assistant",description:"全方位聖經神學研究平台：AI互動、文檔分析、作業輔導和資源搜尋",icon:Wr,color:"from-green-500 to-green-700",hoverColor:"hover:from-green-600 hover:to-green-800"}];return d.jsxs("div",{className:"w-full max-w-6xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h1",{className:"text-5xl font-bold mb-4 bg-gradient-to-r from-indigo-400 to-purple-400 bg-clip-text text-transparent",children:"AI Christian Sunday School Platform"}),d.jsx("p",{className:"text-xl text-gray-300",children:"基督教 主日學 AI 工具平台 - 探索信仰，學習聖言"})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 px-4 max-w-5xl mx-auto",children:e.map(a=>{const r=a.icon;return d.jsxs("button",{onClick:()=>t(a.id),className:`group relative overflow-hidden rounded-2xl bg-gradient-to-br ${a.color} ${a.hoverColor} p-10 transition-all duration-300 transform hover:scale-105 hover:shadow-2xl bg-opacity-80 backdrop-blur-sm`,style:{opacity:.75},children:[d.jsxs("div",{className:"relative z-10",children:[d.jsx("div",{className:"mb-6 flex justify-center",children:d.jsx("div",{className:"p-5 bg-white/20 rounded-full backdrop-blur-sm",children:d.jsx(r,{className:"w-16 h-16 text-white"})})}),d.jsx("h2",{className:"text-3xl font-bold text-white mb-3",children:a.title}),d.jsx("p",{className:"text-base text-white/80 mb-4 font-medium",children:a.subtitle}),d.jsx("p",{className:"text-white/90 leading-relaxed text-base",children:a.description})]}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]},a.id)})}),d.jsxs("div",{className:"mt-16 text-center text-gray-400 text-sm",children:[d.jsx("p",{children:"選擇一個功能開始您的聖經探索之旅"}),d.jsx("p",{className:"mt-2",children:"Choose a feature to begin your faith exploration journey"})]})]})};var dn=(t=>(t.LANDING="LANDING",t.BIBLE="BIBLE",t.THEOLOGY_SEARCH="THEOLOGY_SEARCH",t.BIBLICAL_LANGUAGE="BIBLICAL_LANGUAGE",t))(dn||{}),$0=(t=>(t.NIV="NIV",t.ESV="ESV",t.KJV="KJV",t))($0||{}),fe=(t=>(t.BIBLE_BACKGROUND="Bible Background",t.PERSON_IN_BIBLE="Person in Bible",t))(fe||{}),xn=(t=>(t.THEOLOGY_CHAT="Theology Chat",t.READING_QA="Reading Q&A",t.ASSIGNMENT_ASSISTANT="Assignment Assistant",t.RESOURCE_SEARCH="Resource Search",t))(xn||{}),vn=(t=>(t.INPUT="input",t.PLANNING="planning",t.DRAFTING="drafting",t.CRITIQUING="critiquing",t.REVISING="revising",t))(vn||{}),Ua=(t=>(t.UNDERGRADUATE="undergraduate",t.GRADUATE="graduate",t.DOCTORAL="doctoral",t.GENERAL="general",t))(Ua||{});const X0=[{id:"q1",character:"亞伯拉罕",characterImage:"https://picsum.photos/seed/abraham/100",category:fe.PERSON_IN_BIBLE,question:"上帝與我立約，並以一個特定的記號為標誌。這個約主要是關於什麼？",options:["一個新船的承諾。","建造金字塔的合約。","土地、後裔和祝福的承諾。","只吃蔬菜的法令。"],correctAnswerIndex:2,explanation:"亞伯拉罕之約（創世記 12, 15, 17章）是上帝一個基礎性的應許。這個約的記號是割禮，一個象徵分別為聖的身體標記。這個「分別為聖」的主題是洗禮概念的前身。",journalPrompt:{title:"亞伯拉罕之約",content:"約是神聖的承諾。上帝應許亞伯拉罕土地、無數的後裔，並且萬國都將因他得福。這為上帝與人類持續的關係奠定了基礎。"},deepDive:{title:"聖約神學",content:'在希伯來文中，約是 "berit"。它不僅僅是一份合約；它是一個將兩方連結在一起的莊嚴誓言。古代的約通常包含一個儀式或記號，就像割禮一樣。這種具有約束力的關係性承諾的概念，對於理解後來的聖經主題，包括耶穌所立的新約，至關重要。',sources:[{text:"創世記 17:1-14 (NIV)",url:"https://www.biblegateway.com/passage/?search=Genesis+17&version=NIV"},{text:"早期教父論聖約",url:"#"}]}},{id:"q2",character:"摩西",characterImage:"https://picsum.photos/seed/moses/100",category:fe.BIBLE_BACKGROUND,question:"在西奈山，我為以色列領受了律法，其中包含許多涉及血的潔淨禮儀。這些禮儀的主要目的是什麼？",options:["潔淨禮儀上的不潔，以恢復親近上帝的機會。","為年度游泳比賽做準備。","在沙漠的炎熱中降溫。","在節期前洗衣服。"],correctAnswerIndex:0,explanation:"利未記的律法（利未記 11-15章）規定用水洗滌或獻祭血的潔淨禮儀，以潔淨個人的禮儀不潔（例如，接觸屍體或患有皮膚病後）。這不是關於身體的骯髒，而是關於處於聖潔的狀態，以便親近聖潔的上帝。水和血成為了屬靈潔淨的有力象徵。",journalPrompt:{title:"以水潔淨",content:"賜給摩西的律法教導說，上帝是聖潔的，人們需要被潔淨才能親近祂。水是這種禮儀潔淨的主要方式，象徵著從不潔狀態到潔淨狀態的轉變。"},deepDive:{title:"禮儀潔淨與道德潔淨",content:"區分禮儀上的不潔與罪是很重要的。一個人可能在沒有犯罪的情況下變得禮儀上不潔。這些律法教導以色列一個深刻的功課：親近上帝需要聖潔。後來的先知會強調，內心真正的潔淨比外在的儀式更重要，這是施洗約翰和耶穌將會進一步發展的主題。",sources:[{text:"利未記 15:31 (ESV)",url:"https://www.biblegateway.com/passage/?search=Leviticus+15:31&version=ESV"},{text:"希伯來書 9:13-14 (KJV)",url:"https://www.biblegateway.com/passage/?search=Hebrews+9:13-14&version=KJV"}]}},{id:"q5",character:"以西結",characterImage:"https://picsum.photos/seed/ezekiel/100",category:fe.PERSON_IN_BIBLE,question:"在流亡巴比倫期間，我傳達了上帝的一個應許，要賜給祂的子民一顆「新心」和一個「新靈」。這個應許主要意味著什麼？",options:["對新音樂風格的欣賞。","一種內在的、屬靈的轉變，使人能夠順服上帝。","身體上的心臟移植。","學習新語言的能力。"],correctAnswerIndex:1,explanation:"以西結書 36:25-27 是一個關鍵的舊約段落，預言了上帝將要進行的內在潔淨和更新工作。上帝應許要用清水潔淨祂的子民，除去他們的「石心」（硬心），並賜給他們一顆「肉心」（軟心），將祂的靈放在他們裡面。這直接預示了基督教洗禮中所象徵的重生和聖靈的內住。",journalPrompt:{title:"新心的應許",content:"先知以西結預言了一個超越外在儀式的新約。上帝應許要從內心深處改變祂的子民，潔淨他們，並賜給他們祂的靈，使他們能夠遵行祂的道。"},deepDive:{title:"舊約中的重生",content:"雖然「重生」一詞是新約的概念，但其根源深植於舊約的應許中。像以西結書 36 章和耶利米書 31:31-34（關於刻在心版上的新約）這樣的段落，都指向了上帝有一天會對人心進行根本性的工作。這不再僅僅是遵守外在的律法，而是擁有一顆被改變的、渴望順服上帝的心。基督教的洗禮正是這個應許實現的標誌。",sources:[{text:"以西結書 36:25-27 (NIV)",url:"https://www.biblegateway.com/passage/?search=Ezekiel+36:25-27&version=NIV"},{text:"耶利米書 31:31-34 (ESV)",url:"https://www.biblegateway.com/passage/?search=Jeremiah+31:31-34&version=ESV"}]}},{id:"q3",character:"施洗約翰",characterImage:"https://picsum.photos/seed/john/100",category:fe.PERSON_IN_BIBLE,question:"我在約旦河為人們施洗。我的洗禮是...",options:["加入當地的釣魚俱樂部。","加入羅馬軍隊的入會儀式。","一個沒有意義的文化傳統。","悔改的洗，使罪得赦。"],correctAnswerIndex:3,explanation:"約翰的洗禮是一個強有力的公開宣告。人們承認自己的罪，並歸向神，為即將到來的彌賽亞做準備。它將舊約中水的潔淨主題與個人悔改的迫切呼籲聯繫起來。",journalPrompt:{title:"悔改的洗禮",content:"施洗約翰是舊約與新約之間的橋樑。他在約旦河的洗禮象徵著遠離罪惡，並為迎接彌賽亞耶穌的到來預備心靈。"},deepDive:{title:"浸禮池（Mikveh）與約翰的洗禮",content:"猶太傳統中已有在「浸禮池」中進行禮儀性浸泡以求潔淨的作法。約翰的洗禮在形式上相似，但其信息卻是激進的，將此儀式應用於全以色列，作為全國悔改的標誌。他宣稱，一位比他更偉大的將要來臨，祂不僅用水施洗，還要用聖靈與火施洗。",sources:[{text:"馬可福音 1:4-8 (NIV)",url:"https://www.biblegateway.com/passage/?search=Mark+1:4-8&version=NIV"},{text:"馬太福音 3:11 (ESV)",url:"https://www.biblegateway.com/passage/?search=Matthew+3:11&version=ESV"}]}},{id:"q4",character:"使徒彼得",characterImage:"https://picsum.photos/seed/peter/100",category:fe.PERSON_IN_BIBLE,question:"在五旬節那天，我告訴眾人要「悔改，並受洗」，目的是什麼？",options:["為了得到一頓免費的餐點。","為了使你們的罪得赦，並領受所賜的聖靈。","為了登記新社區的人口普查。","為了在耶路撒冷的陽光下降溫。"],correctAnswerIndex:1,explanation:"彼得在使徒行傳第二章的講道標誌著基督教會的誕生。洗禮現在明確地與信靠耶穌基督、藉祂的死與復活赦免罪惡，以及聖靈的內住聯繫在一起。這是進入新約群體的入會儀式。",journalPrompt:{title:"新約的洗禮",content:"基督教的洗禮，如彼得所傳講的，是救贖歷史的高潮。它結合了聖約（加入神的子民）、潔淨（罪得赦免）和新生命（領受聖靈）的主題。"},deepDive:{title:"洗禮：與基督聯合的象徵",content:"使徒保羅後來解釋說，洗禮是在靈性上與耶穌同死、同埋葬、同復活（羅馬書 6:3-4）。當一個人浸入水中時，象徵著舊我罪性的死亡。從水中出來則象徵著在基督裡復活，得著新生命。這是福音本身一個深刻的畫面。",sources:[{text:"使徒行傳 2:38-39 (KJV)",url:"https://www.biblegateway.com/passage/?search=Acts+2:38-39&version=KJV"},{text:"羅馬書 6:3-4 (NIV)",url:"https://www.biblegateway.com/passage/?search=Romans+6:3-4&version=NIV"},{text:"十二使徒遺訓論洗禮（早期教會文獻）",url:"#"}]}},{id:"q6",character:"使徒保羅",characterImage:"https://picsum.photos/seed/paul/100",category:fe.PERSON_IN_BIBLE,question:"我在寫給加拉太教會的信中提到，凡受洗歸入基督的，都是「披戴基督」了。這句話的屬靈含義是什麼？",options:["加入一個名為「基督」的時尚俱樂部。","穿上印有基督形象的特殊服裝。","在洗禮時得到一件新斗篷。","在上帝眼中，我們的身份完全被基督的義所覆蓋。"],correctAnswerIndex:3,explanation:"「披戴基督」（加拉太書 3:27）是一個強有力的比喻。它意味著當我們藉著信靠和洗禮與基督聯合時，上帝看我們就不再是看我們有罪的舊我，而是看到基督的完美和公義。我們的身份從根本上被改變了。我們現在是「在基督裡」，有了一個新的地位和家庭。",journalPrompt:{title:"披戴基督",content:"洗禮不僅是洗去罪惡，也是穿上一個新的身份。使徒保羅教導說，在洗禮中，我們披戴了基督自己。我們的舊身份已經過去，我們現在以上帝兒女的身份活在基督的義中。"},deepDive:{title:"在基督裡的身份",content:"保羅神學的核心是「在基督裡」這個概念。這是一種深刻的屬靈聯合。洗禮是這種聯合的外在標誌。正如羅馬書 6 章所解釋的，我們與基督同死、同埋葬、同復活；正如加拉太書所說，我們披戴了祂。這意味著基督的勝利成為我們的勝利，祂的義成為我們的義，祂與父的關係也成為我們的關係。這徹底改變了基督徒看待自己和生活的方式。",sources:[{text:"加拉太書 3:26-27 (NIV)",url:"https://www.biblegateway.com/passage/?search=Galatians+3:26-27&version=NIV"},{text:"歌羅西書 2:12 (ESV)",url:"https://www.biblegateway.com/passage/?search=Colossians+2:12&version=ESV"}]}},{id:"q7",character:"約書亞",characterImage:"https://picsum.photos/seed/joshua/100",category:fe.PERSON_IN_BIBLE,question:"當以色列人過約旦河進入應許之地時，我設立了十二塊石頭作為紀念。這個紀念碑的目的是什麼？",options:["為了建造一個游泳池。","用來建造約書亞的新房子。","作為後代詢問時的見證，紀念上帝使河水乾涸的神蹟。","為了練習舉重運動。"],correctAnswerIndex:2,explanation:"約書亞記4:6-7記載，這十二塊石頭是為了讓後代子孫詢問其意義時，父母可以向他們講述上帝如何停住約旦河水，使以色列人得以過河。這顯示了紀念上帝作為和傳承信仰故事的重要性。",journalPrompt:{title:"紀念石的意義",content:"約書亞設立的紀念石提醒我們，信仰需要被記念和傳承。每一個見證上帝作為的標記，都成為向下一代述說神恩的機會。"},deepDive:{title:"記憶與信仰傳承",content:"舊約中充滿了設立紀念碑的例子，從雅各在伯特利立石，到撒母耳的以便以謝石。這些不僅是歷史記錄，更是信仰教育的工具。它們提醒我們上帝的信實，並為下一代提供詢問和學習的機會。基督教的聖餐也是這種紀念傳統的延續。",sources:[{text:"約書亞記 4:1-9 (NIV)",url:"https://www.biblegateway.com/passage/?search=Joshua+4:1-9&version=NIV"},{text:"申命記 6:20-25 (ESV)",url:"https://www.biblegateway.com/passage/?search=Deuteronomy+6:20-25&version=ESV"}]}},{id:"q8",character:"大衛王",characterImage:"https://picsum.photos/seed/david/100",category:fe.PERSON_IN_BIBLE,question:"我在詩篇中寫道：「你當將你的重擔卸給耶和華」。這句話在面對人生困難時給我們什麼啟示？",options:["我們應該把所有的行李都扔掉。","我們可以將憂慮和困難交託給上帝，相信祂會扶持我們。","我們應該搬到別的城市。","我們需要聘請更多的助手。"],correctAnswerIndex:1,explanation:"詩篇55:22教導我們，當面對重壓和困難時，我們可以將這些負擔交託給上帝。大衛作為君王經歷了許多挑戰，他學會了依靠上帝的力量而非自己的能力。這是信靠與交託的功課。",journalPrompt:{title:"交託的智慧",content:"大衛的詩篇教導我們，真正的力量來自於學會交託。當我們將重擔卸給上帝時，我們不是在逃避責任，而是在承認上帝的主權和愛護。"},deepDive:{title:"詩篇中的信靠神學",content:"大衛的詩篇不僅是個人情感的表達，更是深刻的神學反思。從詩篇23篇的牧人形象，到詩篇51篇的悔改，再到詩篇139篇對上帝全知的讚嘆，這些詩篇教導我們如何在各種人生境遇中與上帝建立關係。交託不是被動的放棄，而是主動的信靠。",sources:[{text:"詩篇 55:22 (KJV)",url:"https://www.biblegateway.com/passage/?search=Psalm+55:22&version=KJV"},{text:"彼得前書 5:7 (NIV)",url:"https://www.biblegateway.com/passage/?search=1+Peter+5:7&version=NIV"}]}},{id:"q9",character:"所羅門王",characterImage:"https://picsum.photos/seed/solomon/100",category:fe.PERSON_IN_BIBLE,question:"當上帝問我想要什麼時，我沒有求財富或長壽，而是求什麼？",options:["打敗所有敵人的能力。","一座更大的宮殿。","成為世界上最富有的人。","智慧來治理神的百姓。"],correctAnswerIndex:3,explanation:"列王紀上3:9記載，所羅門求上帝賜給他智慧，使他能夠分辨善惡，好治理神的百姓。這個無私的請求讓上帝喜悅，不僅賜給他智慧，也賜給他財富和尊榮。這教導我們優先次序的重要性。",journalPrompt:{title:"智慧的價值",content:"所羅門的選擇提醒我們，真正的智慧比任何物質財富都更寶貴。當我們尋求上帝的智慧時，我們是在尋求按照神的心意生活的能力。"},deepDive:{title:"智慧文學的貢獻",content:"所羅門不僅以智慧統治以色列，他也為我們留下了豐富的智慧文學，包括箴言、傳道書和部分詩篇。這些書卷教導實用的生活智慧，從人際關係到工作倫理，從言語的力量到財富的適當使用。然而，傳道書也提醒我們，即使是最智慧的人也會發現，離開上帝的人生終究是虛空的。",sources:[{text:"列王紀上 3:5-14 (NIV)",url:"https://www.biblegateway.com/passage/?search=1+Kings+3:5-14&version=NIV"},{text:"箴言 9:10 (ESV)",url:"https://www.biblegateway.com/passage/?search=Proverbs+9:10&version=ESV"}]}},{id:"q10",character:"先知以賽亞",characterImage:"https://picsum.photos/seed/isaiah/100",category:fe.PERSON_IN_BIBLE,question:"我預言了一位「受苦的僕人」，他將「為我們的過犯受害，為我們的罪孽壓傷」。這個預言指向誰？",options:["彌賽亞耶穌基督。","亞述王撒珥根。","巴比倫王尼布甲尼撒。","波斯王居魯士。"],correctAnswerIndex:0,explanation:"以賽亞書53章是舊約中最明確的彌賽亞預言之一。這位「受苦的僕人」的描述完美地預言了耶穌基督的生平、受死和復活。新約多次引用這段經文來說明耶穌就是應許的彌賽亞。",journalPrompt:{title:"受苦僕人的預言",content:"以賽亞的預言向我們顯示，上帝的救贖計劃從古時就已經確定。彌賽亞不是以征服者的身份來臨，而是以受苦僕人的身份，透過犧牲來拯救世人。"},deepDive:{title:"彌賽亞預言的應驗",content:"以賽亞書53章被稱為「舊約的福音」，因為它如此詳細地預言了彌賽亞的受苦、死亡和勝利。從「他誠然擔當我們的憂患」到「因他受的刑罰我們得平安」，每一個細節都在耶穌身上得到應驗。這種跨越數百年的預言應驗，是聖經神聖啟示的有力證據，也讓我們看見上帝救贖計劃的深度和廣度。",sources:[{text:"以賽亞書 53:3-12 (NIV)",url:"https://www.biblegateway.com/passage/?search=Isaiah+53:3-12&version=NIV"},{text:"使徒行傳 8:32-35 (ESV)",url:"https://www.biblegateway.com/passage/?search=Acts+8:32-35&version=ESV"}]}},{id:"q11",character:"但以理",characterImage:"https://picsum.photos/seed/daniel/100",category:fe.PERSON_IN_BIBLE,question:"在巴比倫的宮廷中，我和我的朋友決定不吃王的膳和王所飲的酒。我們這樣做的主要原因是什麼？",options:["為了持守我們對上帝的信仰和律法的要求。","因為食物味道不好。","因為我們正在節食減肥。","因為我們想要與眾不同。"],correctAnswerIndex:0,explanation:"但以理書1:8記載，但以理立志不以王的膳和王所飲的酒玷污自己。這可能涉及食物是否潔淨、是否獻給偶像等律法問題。但以理在異邦環境中持守信仰，展現了在壓力下保持屬靈忠誠的勇氣。",journalPrompt:{title:"在異地持守信仰",content:"但以理的故事提醒我們，無論在什麼環境中，我們都可以選擇忠於上帝。即使在不友善的環境中，堅持正確的原則往往會得到意想不到的祝福。"},deepDive:{title:"流亡中的見證",content:"但以理和他朋友們的故事展示了如何在世俗環境中活出信仰。他們沒有逃避世界，而是在世界中成為光鹽。從拒食王膳到火窯中的拯救，從夢的解釋到獅子坑的神蹟，這些故事都說明了一個原則：當我們忠於上帝時，上帝必定忠於我們。他們的見證影響了外邦君王，展現了信仰的轉化力量。",sources:[{text:"但以理書 1:8-16 (NIV)",url:"https://www.biblegateway.com/passage/?search=Daniel+1:8-16&version=NIV"},{text:"但以理書 3:16-18 (ESV)",url:"https://www.biblegateway.com/passage/?search=Daniel+3:16-18&version=ESV"}]}},{id:"q12",character:"耶穌基督",characterImage:"https://picsum.photos/seed/jesus/100",category:fe.PERSON_IN_BIBLE,question:"我在登山寶訓中說：「虛心的人有福了」。這裡的「虛心」指的是什麼？",options:["很少說話的人。","沒有自信的人。","心情不好的人。","認識自己靈性貧乏，需要上帝的人。"],correctAnswerIndex:3,explanation:"馬太福音5:3中的「虛心」在原文中是「靈裡貧窮」的意思。這不是指物質的貧窮，而是指認識到自己在屬靈上的需要，承認離開上帝就一無所有。這種謙卑的態度是天國子民的第一個特質。",journalPrompt:{title:"靈裡的貧窮",content:"耶穌的八福始於靈裡的貧窮，這提醒我們，進入天國的第一步是認識自己的需要。當我們承認自己的有限和罪性時，我們就為接受上帝的恩典預備了心。"},deepDive:{title:"天國的價值觀",content:"登山寶訓中的八福完全顛覆了世界的價值觀。世界說強者有福，耶穌說虛心的人有福；世界說富足的人有福，耶穌說哀慟的人有福。這些教導不是消極的人生哲學，而是天國的積極價值觀。它們描述了一種新的生活方式，這種生活方式建立在對上帝的信靠和對他人的愛上。",sources:[{text:"馬太福音 5:3-12 (NIV)",url:"https://www.biblegateway.com/passage/?search=Matthew+5:3-12&version=NIV"},{text:"路加福音 6:20-26 (ESV)",url:"https://www.biblegateway.com/passage/?search=Luke+6:20-26&version=ESV"}]}},{id:"q13",character:"稅吏撒該",characterImage:"https://picsum.photos/seed/zacchaeus/100",category:fe.PERSON_IN_BIBLE,question:"當耶穌來到我家後，我做了什麼來表示真正的悔改？",options:["我把財產的一半給窮人，並四倍償還我所虧欠的。","我辭去了稅吏的工作。","我搬到了另一個城市。","我建造了一座新的會堂。"],correctAnswerIndex:0,explanation:"路加福音19:8記載，撒該對主說：「主啊，我把所有的一半給窮人；我若訛詐了誰，就還他四倍。」這不僅是口頭的悔改，更是實際的行動，顯示了真正悔改會帶來生活方式的改變。",journalPrompt:{title:"悔改的果子",content:"撒該的故事告訴我們，真正的悔改不只是內心的改變，還會表現在外在的行動上。當我們真正遇見耶穌時，我們的價值觀和行為都會被轉化。"},deepDive:{title:"救恩與社會公義",content:"撒該的故事美妙地結合了個人救恩與社會公義。他沒有只是獲得心靈的平安就滿足了，而是主動去修復他過去的錯誤行為對他人造成的傷害。這顯示真正的福音是整全的，它不僅拯救靈魂，也轉化我們對財富、權力和關係的態度。撒該的行動回應了舊約中關於公義和憐憫的教導。",sources:[{text:"路加福音 19:1-10 (NIV)",url:"https://www.biblegateway.com/passage/?search=Luke+19:1-10&version=NIV"},{text:"以西結書 33:14-16 (ESV)",url:"https://www.biblegateway.com/passage/?search=Ezekiel+33:14-16&version=ESV"}]}},{id:"q14",character:"使徒約翰",characterImage:"https://picsum.photos/seed/johnapostle/100",category:fe.PERSON_IN_BIBLE,question:"我在約翰福音中記錄了耶穌說的「我就是道路、真理、生命」。這句話的核心信息是什麼？",options:["耶穌知道很多道理。","耶穌是一位偉大的哲學老師。","耶穌是最好的旅行嚮導。","耶穌是通往父神的唯一道路。"],correctAnswerIndex:3,explanation:"約翰福音14:6完整地記錄了耶穌的話：「我就是道路、真理、生命；若不藉著我，沒有人能到父那裡去。」這是基督教信仰的核心宣告，說明耶穌不只是眾多宗教領袖中的一位，而是神與人之間唯一的中保。",journalPrompt:{title:"基督的獨特性",content:"約翰記錄的這句話挑戰我們思考耶穌的身份。祂不是說祂知道道路，而是說祂就是道路。這種排他性的宣告要求我們做出回應：接受或拒絕。"},deepDive:{title:"約翰福音中的「我是」宣告",content:"約翰福音記錄了耶穌的七個「我是」宣告：生命的糧、世界的光、羊的門、好牧人、復活和生命、道路真理生命、真葡萄樹。這些宣告都使用了舊約中上帝自我啟示的「我是」格式（如出埃及記3:14），暗示耶穌的神性。每個宣告都不只是比喻，而是關於耶穌本質的深刻神學陳述。",sources:[{text:"約翰福音 14:6 (NIV)",url:"https://www.biblegateway.com/passage/?search=John+14:6&version=NIV"},{text:"使徒行傳 4:12 (ESV)",url:"https://www.biblegateway.com/passage/?search=Acts+4:12&version=ESV"}]}},{id:"q15",character:"馬大",characterImage:"https://picsum.photos/seed/martha/100",category:fe.PERSON_IN_BIBLE,question:"當我忙於服事而抱怨妹妹馬利亞時，耶穌對我說了什麼？",options:["妳應該雇用更多的僕人。","馬利亞選擇了那上好的福分，是不能奪去的。","妳們兩個都應該去廚房幫忙。","不用準備這麼豐盛的餐點。"],correctAnswerIndex:1,explanation:"路加福音10:42記錄了耶穌的回答：「但是不可少的只有一件；馬利亞已經選擇那上好的福分，是不能奪去的。」耶穌不是批評服事，而是強調靈性追求的優先性和聆聽神話語的重要性。",journalPrompt:{title:"服事與敬拜的平衡",content:"馬大的故事提醒我們，即使是為主做工，也不能取代與主親近的時間。服事很重要，但如果失去了敬拜和聆聽的心，服事也會成為空虛的忙碌。"},deepDive:{title:"行動與默想的整合",content:"馬大和馬利亞的故事常被解讀為行動與默想、服事與敬拜之間的對比。然而，更深層的信息是關於動機和優先次序。馬大的服事本身是好的，但當她讓焦慮和怨恨進入心中時，服事就失去了愛的本質。真正的基督徒生活需要整合馬利亞的聆聽心和馬大的服事手，但都必須源於對基督的愛。",sources:[{text:"路加福音 10:38-42 (NIV)",url:"https://www.biblegateway.com/passage/?search=Luke+10:38-42&version=NIV"},{text:"詩篇 46:10 (ESV)",url:"https://www.biblegateway.com/passage/?search=Psalm+46:10&version=ESV"}]}},{id:"q16",character:"夏娃",characterImage:"https://picsum.photos/seed/eve/100",category:fe.PERSON_IN_BIBLE,question:"在伊甸園中，蛇引誘我吃分別善惡樹的果子時，用了什麼論點？",options:["所有動物都在吃這個果子。","吃了就能像神一樣知道善惡。","上帝只是在開玩笑。","果子看起來很美味。"],correctAnswerIndex:1,explanation:"創世記3:5記載，蛇對夏娃說：「因為神知道，你們吃的日子眼睛就明亮了，你們便如神能知道善惡。」這個試探的核心是要人類追求獨立於上帝的知識和判斷力，想要「像神一樣」。",journalPrompt:{title:"第一次試探",content:"夏娃面對的試探揭示了罪的本質：不相信上帝的良善，渴望自主權，想要成為自己的神。這個模式在人類歷史中不斷重複。"},deepDive:{title:"罪的起源與本質",content:"蛇的試探包含三個元素：懷疑神的話（「神豈是真說...？」）、否認後果（「你們不一定死」）、和應許錯誤的好處（「像神一樣」）。這種試探模式在整本聖經中反覆出現，甚至耶穌在曠野受試探時也面對類似的模式。理解罪的本質幫助我們識別和抵擋現代的試探。",sources:[{text:"創世記 3:1-6 (NIV)",url:"https://www.biblegateway.com/passage/?search=Genesis+3:1-6&version=NIV"},{text:"約翰一書 2:16 (ESV)",url:"https://www.biblegateway.com/passage/?search=1+John+2:16&version=ESV"}]}},{id:"q17",character:"挪亞",characterImage:"https://picsum.photos/seed/noah/100",category:fe.PERSON_IN_BIBLE,question:"當上帝吩咐我建造方舟時，洪水還要多久才來臨？",options:["大約120年後。","立即就來。","明天。","一個月後。"],correctAnswerIndex:0,explanation:"根據創世記6:3和後續經文的推算，從上帝宣告審判到洪水來臨，大約經過了120年。在這段漫長的時間裡，挪亞一邊建造方舟，一邊向世人傳講悔改的信息。",journalPrompt:{title:"忍耐的信心",content:"挪亞花了超過一個世紀建造方舟，在這期間必定經歷許多嘲笑和質疑。他的故事教導我們，真實的信心需要長期的堅持和順服。"},deepDive:{title:"上帝的忍耐與人的回應",content:"120年的準備期顯示了上帝極大的忍耐和給人悔改機會的心意。彼得後書2:5稱挪亞為「傳義道的人」，表明他不只是默默建造方舟，更積極呼籲人悔改。然而，只有他的家人回應了。這提醒我們，即使面對長期的拒絕，我們仍要忠心傳講真理。",sources:[{text:"創世記 6:3-22 (NIV)",url:"https://www.biblegateway.com/passage/?search=Genesis+6:3-22&version=NIV"},{text:"彼得後書 2:5 (ESV)",url:"https://www.biblegateway.com/passage/?search=2+Peter+2:5&version=ESV"}]}},{id:"q18",character:"約瑟",characterImage:"https://picsum.photos/seed/joseph/100",category:fe.PERSON_IN_BIBLE,question:"當我在埃及成為宰相後，我對賣我為奴的哥哥們說了什麼？",options:["從前你們的意思是要害我，但神的意思原是好的。","你們要為此付出代價！","我再也不想見到你們。","這都是你們應得的。"],correctAnswerIndex:0,explanation:"創世記50:20記載，約瑟對哥哥們說：「從前你們的意思是要害我，但神的意思原是好的，要保全許多人的性命，成就今日的光景。」這顯示了約瑟對神主權的信心和寬恕的心。",journalPrompt:{title:"神的主權與人的選擇",content:"約瑟的故事展現了一個深刻的真理：人的惡意無法阻擋神的美意。神能使用甚至是不公義的事件來成就祂更大的計劃。"},deepDive:{title:"苦難中的信心",content:"約瑟經歷了被兄弟出賣、被誣告下監、被遺忘等一連串的不公。但他從未放棄對神的信心。他的故事預表了基督：被自己人拒絕，經歷苦難，最終成為拯救者。約瑟的寬恕也教導我們，真正的饒恕來自於認識到神的主權和計劃。",sources:[{text:"創世記 50:15-21 (NIV)",url:"https://www.biblegateway.com/passage/?search=Genesis+50:15-21&version=NIV"},{text:"羅馬書 8:28 (ESV)",url:"https://www.biblegateway.com/passage/?search=Romans+8:28&version=ESV"}]}},{id:"q19",character:"米利暗",characterImage:"https://picsum.photos/seed/miriam/100",category:fe.PERSON_IN_BIBLE,question:"當以色列人過紅海後，我做了什麼來慶祝？",options:["開始抱怨食物不足。","拿著鼓跳舞唱歌讚美神。","立刻倒頭就睡。","準備了一場盛宴。"],correctAnswerIndex:1,explanation:"出埃及記15:20-21記載，女先知米利暗拿著鼓，眾婦女也跟著出去拿鼓跳舞。她唱道：「你們要歌頌耶和華，因他大大戰勝，將馬和騎馬的投在海中。」這是聖經中最早記載的敬拜讚美場景之一。",journalPrompt:{title:"喜樂的敬拜",content:"米利暗帶領婦女們用音樂、舞蹈和歌聲讚美神，展現了敬拜可以是充滿喜樂和表達力的。當神行奇事時，我們的回應應該是真誠的讚美。"},deepDive:{title:"女性在聖經中的領導角色",content:"米利暗被稱為「女先知」，與摩西和亞倫一起被列為以色列的領袖（彌迦書6:4）。她在敬拜中的領導顯示了女性在神國度工作中的重要角色。然而，她後來因為驕傲而受到管教（民數記12章），提醒我們領導權柄來自神，必須謙卑使用。",sources:[{text:"出埃及記 15:20-21 (NIV)",url:"https://www.biblegateway.com/passage/?search=Exodus+15:20-21&version=NIV"},{text:"彌迦書 6:4 (ESV)",url:"https://www.biblegateway.com/passage/?search=Micah+6:4&version=ESV"}]}},{id:"q20",character:"迦勒",characterImage:"https://picsum.photos/seed/caleb/100",category:fe.PERSON_IN_BIBLE,question:"當十二個探子窺探迦南地回來後，我和約書亞說了什麼？",options:["讓我們先訓練軍隊十年。","我們立刻上去得那地吧！我們足能得勝。","那地的人太強大了，我們無法征服。","我們應該回埃及。"],correctAnswerIndex:1,explanation:"民數記13:30記載，迦勒在摩西面前安撫百姓說：「我們立刻上去得那地吧！我們足能得勝。」雖然其他十個探子報惡信，只有迦勒和約書亞相信神的應許。",journalPrompt:{title:"信心勝過恐懼",content:"迦勒看到了與其他探子相同的巨人和堅固城牆，但他的信心使他看見更大的真理：神與他們同在。真實的信心不是否認困難，而是相信神比困難更大。"},deepDive:{title:"專心跟從神",content:"聖經多次描述迦勒「專心跟從耶和華」（民數記32:12）。即使在85歲高齡，他仍然充滿活力和信心，要求得那有巨人居住的希伯崙山地（約書亞記14:10-12）。迦勒的一生教導我們，忠心跟從神會帶來長久的祝福，而信心不因年齡而減退。",sources:[{text:"民數記 13:26-33; 14:6-9 (NIV)",url:"https://www.biblegateway.com/passage/?search=Numbers+13:26-33;14:6-9&version=NIV"},{text:"約書亞記 14:6-15 (ESV)",url:"https://www.biblegateway.com/passage/?search=Joshua+14:6-15&version=ESV"}]}},{id:"q21",character:"路得",characterImage:"https://picsum.photos/seed/ruth/100",category:fe.PERSON_IN_BIBLE,question:"當我的婆婆拿俄米要我回摩押老家時，我對她說了什麼？",options:["我需要先回去看看我的家人。","讓我考慮一下。","好的，我現在就走。","妳往哪裡去，我也往那裡去；妳的神就是我的神。"],correctAnswerIndex:3,explanation:"路得記1:16-17記錄了路得美麗的承諾：「妳往哪裡去，我也往那裡去；妳在哪裡住宿，我也在那裡住宿；妳的國就是我的國，妳的神就是我的神。妳在哪裡死，我也在那裡死，也葬在那裡。」",journalPrompt:{title:"忠誠的愛",content:"路得對拿俄米的忠誠，以及她對以色列神的委身，展現了真實的愛與信心。她選擇離開自己的家鄉和神明，跟隨看似沒有前途的婆婆和未知的神。"},deepDive:{title:"外邦人與救贖",content:"路得是摩押人，按照律法本不應該進入以色列會眾。但她的信心和忠誠使她不僅被接納，更成為大衛王的曾祖母，進入了彌賽亞的家譜。她的故事預示了福音將臨到萬國，以及外邦人因信得救的真理。路得記也展現了「救贖者」（goel）的概念，預表基督的救贖工作。",sources:[{text:"路得記 1:16-18 (NIV)",url:"https://www.biblegateway.com/passage/?search=Ruth+1:16-18&version=NIV"},{text:"馬太福音 1:5 (ESV)",url:"https://www.biblegateway.com/passage/?search=Matthew+1:5&version=ESV"}]}},{id:"q22",character:"撒母耳",characterImage:"https://picsum.photos/seed/samuel/100",category:fe.PERSON_IN_BIBLE,question:"當我還是小孩子在會幕服事時，夜裡聽見有聲音叫我的名字。那是誰？",options:["我的母親哈拿。","耶和華神。","我在做夢。","祭司以利。"],correctAnswerIndex:1,explanation:"撒母耳記上3章記載，神三次呼喚小撒母耳的名字。起初他以為是以利叫他，但以利指示他說：「你去睡吧，若再呼喚你，你就說：『耶和華啊，請說，僕人敬聽！』」這是撒母耳第一次聽見神的聲音。",journalPrompt:{title:"聆聽神的聲音",content:"撒母耳學會了如何辨認和回應神的聲音。他的態度「請說，僕人敬聽」成為我們與神關係的典範：願意聆聽，準備順服。"},deepDive:{title:"先知的呼召",content:"撒母耳的呼召發生在「耶和華的言語稀少，不常有默示」的時代（撒上3:1）。這提醒我們，即使在屬靈荒涼的時期，神仍在尋找願意聆聽和順服的人。撒母耳後來成為以色列歷史上最偉大的先知之一，膏立了掃羅和大衛兩位王。他的一生展現了忠心聆聽神話語的重要性。",sources:[{text:"撒母耳記上 3:1-21 (NIV)",url:"https://www.biblegateway.com/passage/?search=1+Samuel+3:1-21&version=NIV"},{text:"希伯來書 3:7-8 (ESV)",url:"https://www.biblegateway.com/passage/?search=Hebrews+3:7-8&version=ESV"}]}},{id:"q23",character:"拔示巴",characterImage:"https://picsum.photos/seed/bathsheba/100",category:fe.PERSON_IN_BIBLE,question:"我的兒子所羅門能繼承大衛的王位，主要是因為什麼？",options:["他在武術比賽中獲勝。","他賄賂了所有的大臣。","上帝應許他要作王，大衛也確認了這應許。","他是長子。"],correctAnswerIndex:2,explanation:"列王紀上1章記載，當大衛年老時，拔示巴提醒大衛曾指著神起誓說所羅門必接續他作王。先知拿單也證實了這事。這是神的揀選，而非人為的安排。",journalPrompt:{title:"從罪到救贖",content:"拔示巴的故事以大衛的罪開始，但神的恩典使她成為所羅門的母親，甚至進入彌賽亞的家譜。這顯示神能使用破碎的生命成就祂的計劃。"},deepDive:{title:"恩典與主權",content:"拔示巴在馬太福音家譜中被特別提及，這是不尋常的。她的包含提醒我們，神的恩典超越人的過犯。雖然大衛與拔示巴的關係始於罪，但神仍然揀選他們的兒子所羅門繼承王位。這不是縱容罪，而是展現神能在人的軟弱中彰顯祂的憐憫和主權。",sources:[{text:"列王紀上 1:11-31 (NIV)",url:"https://www.biblegateway.com/passage/?search=1+Kings+1:11-31&version=NIV"},{text:"馬太福音 1:6 (ESV)",url:"https://www.biblegateway.com/passage/?search=Matthew+1:6&version=ESV"}]}},{id:"q24",character:"以利亞",characterImage:"https://picsum.photos/seed/elijah/100",category:fe.PERSON_IN_BIBLE,question:"在迦密山上，我與巴力的先知對決。我向神禱告後發生了什麼？",options:["火從天降，燒盡了祭物、木柴、石頭和水。","下了三天三夜的雨。","什麼都沒發生。","巴力的先知自願認輸。"],correctAnswerIndex:0,explanation:"列王紀上18:38記載：「於是耶和華降下火來，燒盡燔祭、木柴、石頭、塵土，又燒乾溝裡的水。」這個神蹟證明了耶和華是真神，導致百姓俯伏敬拜說：「耶和華是神！耶和華是神！」",journalPrompt:{title:"單獨面對眾人",content:"以利亞一人對抗450個巴力先知和400個亞舍拉先知，展現了對真神的堅定信心。有時候，忠於神的道路是孤獨的，但神必定顯明真理。"},deepDive:{title:"屬靈爭戰的真實性",content:"迦密山的對決不只是先知之間的比賽，而是真假神明之間的較量。以利亞甚至在祭壇周圍挖溝，三次倒水，使神蹟更加明顯。這個事件後，以利亞卻因耶洗別的威脅而逃跑，顯示即使是屬靈偉人也會經歷軟弱。神在何烈山以微小的聲音對他說話，教導我們神的同在不總是在戲劇性的事件中。",sources:[{text:"列王紀上 18:20-40 (NIV)",url:"https://www.biblegateway.com/passage/?search=1+Kings+18:20-40&version=NIV"},{text:"列王紀上 19:11-13 (ESV)",url:"https://www.biblegateway.com/passage/?search=1+Kings+19:11-13&version=ESV"}]}},{id:"q25",character:"以利沙",characterImage:"https://picsum.photos/seed/elisha/100",category:fe.PERSON_IN_BIBLE,question:"當敘利亞元帥乃縵來找我治療大痲瘋時，我叫他做什麼？",options:["支付大筆金錢。","回家等三天。","獻上一百隻羊。","在約旦河沐浴七次。"],correctAnswerIndex:3,explanation:"列王紀下5:10記載，以利沙打發一個使者對乃縵說：「你去在約旦河中沐浴七回，你的肉就必復原，而得潔淨。」起初乃縵因為這個簡單的命令而生氣，但當他順服時，就得了醫治。",journalPrompt:{title:"謙卑的順服",content:"乃縵必須放下身為大元帥的驕傲，接受看似簡單甚至侮辱的醫治方法。神的道路有時與我們的期待不同，但順服就帶來祝福。"},deepDive:{title:"得救在乎歸回安息",content:"乃縵期待先知會出來行大事，但以利沙連面都不露，只給了一個簡單的指示。這挑戰了乃縵的驕傲和對神蹟的期待。同樣，許多人期待複雜的宗教儀式或偉大的善行才能得救，但福音的呼召是簡單的：相信和悔改。乃縵的醫治也預表外邦人將藉信心得救（路加福音4:27）。",sources:[{text:"列王紀下 5:1-19 (NIV)",url:"https://www.biblegateway.com/passage/?search=2+Kings+5:1-19&version=NIV"},{text:"路加福音 4:27 (ESV)",url:"https://www.biblegateway.com/passage/?search=Luke+4:27&version=ESV"}]}},{id:"q26",character:"約伯",characterImage:"https://picsum.photos/seed/job/100",category:fe.PERSON_IN_BIBLE,question:"在失去一切之後，我對神的回應是什麼？",options:["我詛咒神並離棄祂。","賞賜的是耶和華，收取的也是耶和華，耶和華的名是應當稱頌的。","我要找律師控告神。","從此再也不相信神。"],correctAnswerIndex:1,explanation:"約伯記1:21-22記載，約伯失去所有財產和兒女後，說：「我赤身出於母胎，也必赤身歸回。賞賜的是耶和華，收取的也是耶和華，耶和華的名是應當稱頌的。」在這一切的事上，約伯並不犯罪，也不以神為愚妄。",journalPrompt:{title:"苦難中的信心",content:"約伯的故事挑戰我們：當生命崩潰時，我們如何回應？約伯展現了即使在極度痛苦中，仍能持守對神的信心和敬拜。"},deepDive:{title:"苦難的奧秘",content:"約伯記探討了一個深刻的問題：為什麼義人受苦？約伯的朋友們試圖用「報應神學」解釋，認為苦難必定是罪的結果。但神最後顯明，祂的道路高過人的道路。苦難不總能被簡單解釋，但神仍是主權者。約伯最終看見神自己，這比得到答案更重要（約伯記42:5）。",sources:[{text:"約伯記 1:13-22 (NIV)",url:"https://www.biblegateway.com/passage/?search=Job+1:13-22&version=NIV"},{text:"約伯記 42:1-6 (ESV)",url:"https://www.biblegateway.com/passage/?search=Job+42:1-6&version=ESV"}]}},{id:"q27",character:"耶利米",characterImage:"https://picsum.photos/seed/jeremiah/100",category:fe.PERSON_IN_BIBLE,question:"神呼召我作先知時，我的回應是什麼？",options:["我去找別人來做這工作。","我立刻答應。","主啊，我不知怎樣說，因為我是年幼的。","我要求先考慮三天。"],correctAnswerIndex:2,explanation:"耶利米書1:6記載，耶利米對神說：「主耶和華啊，我不知怎樣說，因為我是年幼的。」但神回應說：「你不要說我是年幼的，因為我差遣你到誰那裡去，你都要去；我吩咐你說什麼話，你都要說。」",journalPrompt:{title:"不足感與神的呼召",content:"耶利米感到自己不夠資格，但神的呼召不是基於我們的能力，而是基於祂的揀選和同在。神應許：「我與你同在，要拯救你。」"},deepDive:{title:"流淚的先知",content:"耶利米被稱為「流淚的先知」，因為他預言耶路撒冷將被毀，但百姓不聽。他經歷了監禁、嘲笑和孤立，但仍忠心傳講神的話語。耶利米的事工提醒我們，成功的事奉不是以世人的回應來衡量，而是以對神的忠心來衡量。他的痛苦也預表了基督，為耶路撒冷哀哭。",sources:[{text:"耶利米書 1:4-10 (NIV)",url:"https://www.biblegateway.com/passage/?search=Jeremiah+1:4-10&version=NIV"},{text:"耶利米書 20:7-9 (ESV)",url:"https://www.biblegateway.com/passage/?search=Jeremiah+20:7-9&version=ESV"}]}},{id:"q28",character:"尼希米",characterImage:"https://picsum.photos/seed/nehemiah/100",category:fe.PERSON_IN_BIBLE,question:"當我聽說耶路撒冷城牆破損、城門被火焚燒時，我做了什麼？",options:["我忽視這個消息。","我坐下哭泣、禁食禱告神。","我立刻辭職回耶路撒冷。","我寫信責備那些住在耶路撒冷的人。"],correctAnswerIndex:1,explanation:"尼希米記1:4記載：「我聽見這話，就坐下哭泣，悲哀幾日，在天上的神面前禁食祈禱。」尼希米的第一反應不是立即行動，而是帶著破碎的心轉向神。",journalPrompt:{title:"禱告與行動",content:"尼希米的例子展示了禱告與行動的完美結合。他先在神面前傾心吐意，然後在神的引導下採取大膽的行動，最終帶領百姓在52天內重建城牆。"},deepDive:{title:"屬靈復興與物質重建",content:"尼希米不僅重建了城牆，更重要的是他與以斯拉一起帶領屬靈復興。城牆的重建是外在的，但真正的目標是恢復百姓與神的關係。尼希米面對內外的反對，但他的禱告、勇氣和組織能力使這不可能的任務成為可能。他展現了敬虔的領導如何影響整個社群。",sources:[{text:"尼希米記 1:1-11 (NIV)",url:"https://www.biblegateway.com/passage/?search=Nehemiah+1:1-11&version=NIV"},{text:"尼希米記 6:15-16 (ESV)",url:"https://www.biblegateway.com/passage/?search=Nehemiah+6:15-16&version=ESV"}]}},{id:"q29",character:"以斯帖",characterImage:"https://picsum.photos/seed/esther/100",category:fe.PERSON_IN_BIBLE,question:"當我需要違背律法去見王以拯救猶太人時，我說了什麼？",options:["讓末底改自己去處理。","我若死就死吧！","這太危險了，我不能做。","我要等到王主動召見我。"],correctAnswerIndex:1,explanation:"以斯帖記4:16記載，以斯帖請求末底改招聚所有猶太人為她禁食三天，然後說：「我若死就死吧！」她願意冒生命危險去拯救她的百姓。",journalPrompt:{title:"為此時而生",content:"末底改對以斯帖說：「焉知你得了王后的位分，不是為現今的機會嗎？」神將我們放在特定的位置，是為了祂的目的。勇氣就是即使害怕，仍然選擇正確的行動。"},deepDive:{title:"隱藏的護理",content:"以斯帖記是聖經中唯一沒有直接提到神名字的書卷，但神的作為卻清晰可見。從以斯帖被選為王后，到王失眠讀歷史，到哈曼的計謀被揭露，每個「巧合」都顯示神在背後的護理。這教導我們，即使在神似乎缺席的時候，祂仍在掌權。以斯帖的故事也啟發了猶太人的普珥節。",sources:[{text:"以斯帖記 4:12-17 (NIV)",url:"https://www.biblegateway.com/passage/?search=Esther+4:12-17&version=NIV"},{text:"以斯帖記 6:1-11 (ESV)",url:"https://www.biblegateway.com/passage/?search=Esther+6:1-11&version=ESV"}]}},{id:"q30",character:"施洗約翰的母親以利沙伯",characterImage:"https://picsum.photos/seed/elizabeth/100",category:fe.PERSON_IN_BIBLE,question:"當馬利亞來探訪我時，發生了什麼事？",options:["我腹中的胎兒跳動，我被聖靈充滿。","我們一起做飯。","什麼特別的事都沒發生。","我們討論天氣。"],correctAnswerIndex:0,explanation:"路加福音1:41記載：「以利沙伯一聽馬利亞問安，所懷的胎就在腹裡跳動。以利沙伯且被聖靈充滿。」她大聲喊著說：「你在婦女中是有福的，你所懷的胎也是有福的！」",journalPrompt:{title:"認出救主",content:"甚至在約翰出生前，他就在母腹中因彌賽亞的臨在而跳動。以利沙伯被聖靈充滿，認出馬利亞所懷的是主。真實的屬靈敏銳使我們能認出神的工作。"},deepDive:{title:"兩個奇蹟的誕生",content:"以利沙伯和撒迦利亞年老無子，如同亞伯拉罕和撒拉。約翰的出生本身就是神蹟，預備人心迎接更大的神蹟——基督的降生。以利沙伯稱馬利亞為「我主的母親」，這是新約中第一次有人認出耶穌的神性。兩個女人的對話和馬利亞的頌歌（尊主頌）充滿了舊約的引用，顯示神如何成就祂古老的應許。",sources:[{text:"路加福音 1:39-45 (NIV)",url:"https://www.biblegateway.com/passage/?search=Luke+1:39-45&version=NIV"},{text:"路加福音 1:46-55 (ESV)",url:"https://www.biblegateway.com/passage/?search=Luke+1:46-55&version=ESV"}]}},{id:"q31",character:"智慧人（東方博士）",characterImage:"https://picsum.photos/seed/wisemen/100",category:fe.PERSON_IN_BIBLE,question:"我們從東方來到耶路撒冷尋找新生王時，獻上了什麼禮物？",options:["金、銀、寶石。","食物、衣服、玩具。","書籍、地圖、武器。","黃金、乳香、沒藥。"],correctAnswerIndex:3,explanation:"馬太福音2:11記載：「進了房子，看見小孩子和他母親馬利亞，就俯伏拜那小孩子，揭開寶盒，拿黃金、乳香、沒藥為禮物獻給他。」這三樣禮物都有深刻的象徵意義。",journalPrompt:{title:"尋求並敬拜",content:"智慧人不辭辛勞地尋找新生王，並獻上最珍貴的禮物。真正的敬拜需要尋求、付出代價，並獻上我們最好的。"},deepDive:{title:"禮物的象徵意義",content:"傳統上，這三樣禮物被賦予象徵意義：黃金代表王權，乳香代表神性（用於敬拜），沒藥代表受苦和死亡（用於安葬）。這些外邦的智慧人認出了猶太人的王，預示福音將傳給萬邦。希律王和耶路撒冷全城的驚慌，對比智慧人的喜樂，顯示人們對彌賽亞的不同反應。",sources:[{text:"馬太福音 2:1-12 (NIV)",url:"https://www.biblegateway.com/passage/?search=Matthew+2:1-12&version=NIV"},{text:"詩篇 72:10-11 (ESV)",url:"https://www.biblegateway.com/passage/?search=Psalm+72:10-11&version=ESV"}]}},{id:"q32",character:"尼哥底母",characterImage:"https://picsum.photos/seed/nicodemus/100",category:fe.PERSON_IN_BIBLE,question:"我夜裡來見耶穌時，祂對我說必須怎樣才能見神的國？",options:["必須嚴格遵守所有律法。","必須重生。","必須成為法利賽人。","必須奉獻所有財產。"],correctAnswerIndex:1,explanation:"約翰福音3:3記載，耶穌回答說：「我實實在在地告訴你，人若不重生，就不能見神的國。」這個宣告震撼了尼哥底母，引發了關於屬靈重生的深刻對話。",journalPrompt:{title:"重生的必要",content:"耶穌告訴這位宗教領袖，他需要的不是更多的宗教知識或更好的行為，而是全新的屬靈生命。重生不是我們能做的，而是聖靈的工作。"},deepDive:{title:"從黑夜到光明",content:"尼哥底母「夜裡」來見耶穌，可能是害怕被人看見，但也象徵他屬靈的黑暗。約翰福音三次提到尼哥底母：夜裡的造訪、在公會中為耶穌辯護、以及在耶穌死後與約瑟一起埋葬耶穌。這個進程顯示他從隱密的尋求者變為公開的跟隨者。重生的教導是福音的核心：不是靠行為，而是靠聖靈的更新。",sources:[{text:"約翰福音 3:1-21 (NIV)",url:"https://www.biblegateway.com/passage/?search=John+3:1-21&version=NIV"},{text:"約翰福音 19:38-42 (ESV)",url:"https://www.biblegateway.com/passage/?search=John+19:38-42&version=ESV"}]}},{id:"q33",character:"撒瑪利亞婦人",characterImage:"https://picsum.photos/seed/samaritan/100",category:fe.PERSON_IN_BIBLE,question:"當耶穌在井邊向我要水喝時，祂說祂能給我什麼？",options:["往耶路撒冷的地圖。","活水，使人永遠不渴。","一口新井。","一個新水罐。"],correctAnswerIndex:1,explanation:"約翰福音4:13-14記載，耶穌回答說：「凡喝這水的還要再渴；人若喝我所賜的水就永遠不渴。我所賜的水要在他裡頭成為泉源，直湧到永生。」",journalPrompt:{title:"永生的泉源",content:"我們都在尋找能滿足心靈乾渴的東西。耶穌提供的不是暫時的滿足，而是永恆的生命之水。只有祂能真正滿足人心最深的渴望。"},deepDive:{title:"跨越文化的福音",content:"這個對話打破了多重界限：耶穌與撒瑪利亞人對話（猶太人所輕視的）、與女人單獨對話（不符合當時習俗）、與有道德問題的人對話（她有五個丈夫）。耶穌不僅沒有迴避她，反而向她啟示祂是彌賽亞。這個婦人成為第一位撒瑪利亞的宣教士，全城的人因她的見證來信耶穌。這顯示福音超越所有社會和文化障礙。",sources:[{text:"約翰福音 4:4-42 (NIV)",url:"https://www.biblegateway.com/passage/?search=John+4:4-42&version=NIV"},{text:"以賽亞書 55:1 (ESV)",url:"https://www.biblegateway.com/passage/?search=Isaiah+55:1&version=ESV"}]}},{id:"q34",character:"百夫長",characterImage:"https://picsum.photos/seed/centurion/100",category:fe.PERSON_IN_BIBLE,question:"當耶穌要到我家醫治我的僕人時，我對祂說了什麼？",options:["我需要你來按手在他身上。","請立刻到我家來。","我不敢當，只要你說一句話，我的僕人就必好了。","我要先支付醫療費用。"],correctAnswerIndex:2,explanation:"馬太福音8:8記載，百夫長回答說：「主啊，你到我舍下，我不敢當；只要你說一句話，我的僕人就必好了。」耶穌聽見就希奇，說：「我實在告訴你們，這麼大的信心，就是在以色列中，我也沒有遇見過。」",journalPrompt:{title:"權柄的認識",content:"百夫長認識權柄的運作，因此明白耶穌的話語本身就帶有醫治的能力。真實的信心不是看見才信，而是相信神的話語必定成就。"},deepDive:{title:"外邦人的信心",content:"這位羅馬軍官展現了超越許多猶太人的信心。他不僅關心他的僕人（在當時文化中不尋常），更認出耶穌超自然的權柄。耶穌用這個例子預言外邦人將進入天國，而許多本國的子民卻要被趕出去。這個事件預示了福音將傳給萬國，以及信心比種族血統更重要。",sources:[{text:"馬太福音 8:5-13 (NIV)",url:"https://www.biblegateway.com/passage/?search=Matthew+8:5-13&version=NIV"},{text:"路加福音 7:1-10 (ESV)",url:"https://www.biblegateway.com/passage/?search=Luke+7:1-10&version=ESV"}]}},{id:"q35",character:"抹大拉的馬利亞",characterImage:"https://picsum.photos/seed/marymagdalene/100",category:fe.PERSON_IN_BIBLE,question:"復活的主日早晨，我是第一個看見什麼的人？",options:["空的墳墓和復活的耶穌。","門徒們聚集。","守墓的羅馬兵丁。","大祭司。"],correctAnswerIndex:0,explanation:"約翰福音20章記載，抹大拉的馬利亞清早到墳墓那裡，看見石頭從墳墓挪開了。她成為第一個看見空墳墓，以及第一個見到復活基督的人。耶穌託付她去告訴門徒這好消息。",journalPrompt:{title:"第一個見證人",content:"神選擇一位女性作為復活的第一個見證人，這在當時的文化中是革命性的。馬利亞的忠心愛慕使她最先經歷復活的喜樂。"},deepDive:{title:"從黑暗到光明",content:"抹大拉的馬利亞曾被七個鬼附著，耶穌釋放了她（路加福音8:2）。她從深深的綑綁中得釋放，成為最忠心的跟隨者之一，甚至在十字架下和空墳墓前都有她的身影。她的生命轉變和對基督的委身，使她有資格成為復活的第一個見證人。在當時女性見證不被法庭接受的文化中，這更顯示神對女性的重視和祂國度價值觀的顛覆性。",sources:[{text:"約翰福音 20:1-18 (NIV)",url:"https://www.biblegateway.com/passage/?search=John+20:1-18&version=NIV"},{text:"路加福音 8:1-3 (ESV)",url:"https://www.biblegateway.com/passage/?search=Luke+8:1-3&version=ESV"}]}},{id:"q36",character:"多馬",characterImage:"https://picsum.photos/seed/thomas/100",category:fe.PERSON_IN_BIBLE,question:"當其他門徒告訴我他們見到復活的主時，我說了什麼？",options:["我們去慶祝吧！","我完全相信你們。","我非看見他手上的釘痕，不能信。","這太不可思議了！"],correctAnswerIndex:2,explanation:"約翰福音20:25記載，多馬說：「我非看見他手上的釘痕，用指頭探入那釘痕，又用手探入他的肋旁，我總不信。」八天後，耶穌向他顯現，邀請他觸摸祂的傷痕。",journalPrompt:{title:"疑惑到相信",content:"耶穌沒有責備多馬的疑惑，反而滿足了他的需要。但耶穌也說：「你因看見了我才信；那沒有看見就信的有福了。」信心不需要所有的證據，但神願意在我們的軟弱中遇見我們。"},deepDive:{title:"誠實的懷疑",content:"多馬常被稱為「疑惑的多馬」，但他的懷疑是誠實的，而不是頑固的不信。當他看見主時，他做出了福音書中最偉大的認信之一：「我的主！我的神！」（約20:28）。這是第一次有門徒直接稱呼耶穌為神。傳統認為多馬後來成為宣教士，將福音傳到印度，最終為信仰殉道。他從疑惑者變為殉道者的旅程，鼓勵我們帶著誠實的問題來到神面前。",sources:[{text:"約翰福音 20:24-29 (NIV)",url:"https://www.biblegateway.com/passage/?search=John+20:24-29&version=NIV"},{text:"約翰福音 11:16 (ESV)",url:"https://www.biblegateway.com/passage/?search=John+11:16&version=ESV"}]}},{id:"q37",character:"呂底亞",characterImage:"https://picsum.photos/seed/lydia/100",category:fe.PERSON_IN_BIBLE,question:"在腓立比，當保羅傳道時，發生了什麼事？",options:["眾人趕走保羅。","主開導我的心，使我留心聽保羅所講的話。","會堂被關閉。","沒有人願意聽。"],correctAnswerIndex:1,explanation:"使徒行傳16:14記載：「有一個賣紫色布匹的婦人，名叫呂底亞，是推雅推喇城的人，素來敬拜神。她聽見了，主就開導她的心，叫她留心聽保羅所講的話。」她和她一家都受了洗。",journalPrompt:{title:"心門的開啟",content:"呂底亞已經是敬拜神的人，但她需要主開導她的心才能真正明白福音。得救不僅是人的決定，更是神的工作。她的家成為保羅在歐洲的第一個宣教基地。"},deepDive:{title:"歐洲的第一位信徒",content:"呂底亞是歐洲第一位基督徒，她的歸信標誌著福音從亞洲傳到歐洲的歷史性時刻。作為成功的女商人（賣紫色布匹是高級生意），她運用自己的資源和影響力支持保羅的事工。她的家成為腓立比教會的聚會地點。腓立比書是保羅寫給這教會的信，充滿了喜樂和感恩，部分原因可能是呂底亞和其他信徒的慷慨支持。",sources:[{text:"使徒行傳 16:11-15 (NIV)",url:"https://www.biblegateway.com/passage/?search=Acts+16:11-15&version=NIV"},{text:"腓立比書 1:3-7 (ESV)",url:"https://www.biblegateway.com/passage/?search=Philippians+1:3-7&version=ESV"}]}},{id:"q38",character:"亞居拉和百基拉",characterImage:"https://picsum.photos/seed/aquila/100",category:fe.PERSON_IN_BIBLE,question:"當我們遇見年輕傳道人亞波羅時，我們做了什麼？",options:["私下將神的道給他講解更加詳細。","公開批評他的教導。","把他趕出會堂。","忽視他的存在。"],correctAnswerIndex:0,explanation:"使徒行傳18:26記載：「他在會堂裡放膽講道，百基拉、亞居拉聽見，就接他來，將神的道給他講解更加詳細。」這對夫婦以智慧和愛心幫助亞波羅成長。",journalPrompt:{title:"謙卑的服事",content:"這對製作帳棚的夫婦展現了如何以恩慈和智慧造就他人。他們沒有公開糾正亞波羅，而是私下幫助他，使他成為更有效的神國工人。"},deepDive:{title:"平信徒的影響力",content:"亞居拉和百基拉是保羅同工的平信徒夫婦，他們以製作帳棚為生，同時積極參與宣教工作。保羅在多處書信中提到他們，稱他們為同工，甚至說他們「為我的命將自己的頸項置之度外」（羅馬書16:3-4）。他們的家成為教會聚會的地方。這對夫婦展示了平信徒如何在神的國度中發揮重大影響力，不需要全職事奉才能有效服事神。",sources:[{text:"使徒行傳 18:24-28 (NIV)",url:"https://www.biblegateway.com/passage/?search=Acts+18:24-28&version=NIV"},{text:"羅馬書 16:3-5 (ESV)",url:"https://www.biblegateway.com/passage/?search=Romans+16:3-5&version=ESV"}]}},{id:"q39",character:"腓利門",characterImage:"https://picsum.photos/seed/philemon/100",category:fe.PERSON_IN_BIBLE,question:"保羅寫信給我，請求我如何對待逃跑的奴隸阿尼西母？",options:["賣掉他。","把他送回羅馬。","嚴厲懲罰他。","接納他，不再當奴僕，乃是高過奴僕，當作親愛的兄弟。"],correctAnswerIndex:3,explanation:"腓利門書16節記載，保羅請求腓利門接納阿尼西母，「不再是奴僕，乃是高過奴僕，當作親愛的兄弟」。這封信展現了福音如何轉化社會關係。",journalPrompt:{title:"福音的轉化力量",content:"基督信仰沒有立即廢除奴隸制度，但它從內部轉化了這種關係。在基督裡，主人和奴隸都是弟兄。這種革命性的平等觀最終導致奴隸制的廢除。"},deepDive:{title:"饒恕與和解",content:"這封寫給腓利門的私人信件被包含在聖經中，因為它展現了福音如何處理人際衝突和社會不公。阿尼西母可能偷了主人的東西後逃跑，遇見保羅並成為基督徒。保羅沒有命令腓利門釋放阿尼西母，但他暗示這應該是結果。這種溫和但堅定的勸說方式，教導我們如何在權力不平等的情況下促進和解與公義。",sources:[{text:"腓利門書 1:8-21 (NIV)",url:"https://www.biblegateway.com/passage/?search=Philemon+1:8-21&version=NIV"},{text:"加拉太書 3:28 (ESV)",url:"https://www.biblegateway.com/passage/?search=Galatians+3:28&version=ESV"}]}},{id:"q40",character:"提摩太",characterImage:"https://picsum.photos/seed/timothy/100",category:fe.PERSON_IN_BIBLE,question:"保羅寫信提醒我，不可因為什麼而叫人小看我？",options:["我的財富不多。","我沒有受過高等教育。","我年輕。","我不是猶太人。"],correctAnswerIndex:2,explanation:"提摩太前書4:12記載：「不可叫人小看你年輕，總要在言語、行為、愛心、信心、清潔上，都作信徒的榜樣。」保羅鼓勵年輕的提摩太不要因年齡而自卑。",journalPrompt:{title:"忠心勝過年齡",content:"提摩太雖然年輕，卻被委以重任牧養以弗所教會。神不看外貌或年齡，祂看重的是忠心和品格。年輕人可以在信仰上成為榜樣。"},deepDive:{title:"屬靈父子",content:"保羅與提摩太的關係展現了屬靈導師的美好典範。保羅稱提摩太為「我親愛的兒子」、「因信主作我真兒子的」。提摩太從小被敬虔的外祖母羅以和母親友尼基教導聖經（提後1:5，3:15）。他後來成為保羅最信任的同工之一。保羅寫給他的兩封書信充滿了實用的牧會建議和深情的關懷，是跨代門徒訓練的經典範例。",sources:[{text:"提摩太前書 4:12-16 (NIV)",url:"https://www.biblegateway.com/passage/?search=1+Timothy+4:12-16&version=NIV"},{text:"提摩太後書 1:3-7 (ESV)",url:"https://www.biblegateway.com/passage/?search=2+Timothy+1:3-7&version=ESV"}]}},{id:"q41",character:"雅各（主的兄弟）",characterImage:"https://picsum.photos/seed/jamesbrother/100",category:fe.PERSON_IN_BIBLE,question:"在我的書信中，我如何描述真實的信心？",options:["沒有行為的信心是死的。","信心不需要任何證明。","信心是私人的事，不需要表現出來。","信心只要存在心裡就夠了。"],correctAnswerIndex:0,explanation:"雅各書2:26寫道：「身體沒有靈魂是死的，信心沒有行為也是死的。」雅各強調真實的信心必然會在生活中結出行為的果子。",journalPrompt:{title:"活潑的信心",content:"雅各的教導不是與保羅的因信稱義矛盾，而是補充。保羅強調我們是因信得救，不是靠行為；雅各強調真實的信心必然產生行為。兩者都是真理。"},deepDive:{title:"從懷疑到領袖",content:"雅各是耶穌的親弟弟，但在耶穌傳道期間，他並不相信耶穌（約7:5）。復活後的顯現改變了他（林前15:7），他成為耶路撒冷教會的領袖。優西比烏記載他被稱為「公義的雅各」，因為他的敬虔生活。他最終為信仰殉道。雅各書是最實用的新約書信之一，強調信心與生活的結合，特別關注社會公義、馴服舌頭、和禱告的力量。",sources:[{text:"雅各書 2:14-26 (NIV)",url:"https://www.biblegateway.com/passage/?search=James+2:14-26&version=NIV"},{text:"加拉太書 2:9 (ESV)",url:"https://www.biblegateway.com/passage/?search=Galatians+2:9&version=ESV"}]}},{id:"q42",character:"西拉",characterImage:"https://picsum.photos/seed/silas/100",category:fe.PERSON_IN_BIBLE,question:"當我和保羅在腓立比監獄中被毒打並關押時，我們做了什麼？",options:["大聲抱怨不公。","約在半夜，我們禱告唱詩讚美神。","放棄了信仰。","計畫逃獄。"],correctAnswerIndex:1,explanation:"使徒行傳16:25記載：「約在半夜，保羅和西拉禱告唱詩讚美神，眾囚犯也側耳而聽。」忽然地大震動，監門全開，眾囚犯的鎖鍊也都鬆開了。禁卒和他全家因此信主。",journalPrompt:{title:"患難中的讚美",content:"保羅和西拉在極端痛苦中選擇讚美神。他們的見證不只感動了獄卒，也成為歷代信徒在患難中的榜樣。真實的信心在逆境中更加閃耀。"},deepDive:{title:"同工的力量",content:"西拉（又名西拉斯）是耶路撒冷教會的領袖，被選為將使徒會議決定帶給外邦教會的使者。當保羅和巴拿巴分開後，西拉成為保羅第二次宣教旅程的夥伴。他不只是助手，更是同等的同工，被稱為先知。他與保羅一起經歷了腓立比的監獄、帖撒羅尼迦的暴亂、和庇哩亞的歡迎。後來他協助彼得寫信（彼前5:12）。他的事工展示了忠心同工的重要性。",sources:[{text:"使徒行傳 16:16-34 (NIV)",url:"https://www.biblegateway.com/passage/?search=Acts+16:16-34&version=NIV"},{text:"帖撒羅尼迦前書 1:1 (ESV)",url:"https://www.biblegateway.com/passage/?search=1+Thessalonians+1:1&version=ESV"}]}},{id:"q43",character:"亞波羅",characterImage:"https://picsum.photos/seed/apollos/100",category:fe.PERSON_IN_BIBLE,question:"當我在以弗所傳道時，我對舊約聖經的知識如何？",options:["我完全不懂聖經。","我只讀過新約。","最有學問，最能講解聖經，但只曉得約翰的洗禮。","我從不引用聖經。"],correctAnswerIndex:2,explanation:"使徒行傳18:24-25形容亞波羅「是有學問的，最能講解聖經。這人已經在主的道上受了教訓，心裡火熱，將耶穌的事詳細講論教訓人；只是他單曉得約翰的洗禮。」",journalPrompt:{title:"持續的學習",content:"亞波羅雖然有學問、熱心，但仍需要更完全的認識。他謙卑地接受百基拉和亞居拉的指導，成為更有效的工人。我們都需要持續學習和成長。"},deepDive:{title:"恩賜與合一",content:"亞波羅後來在哥林多大有能力，公開駁倒猶太人，引聖經證明耶穌是基督（徒18:28）。但哥林多教會有人說「我是屬亞波羅的」，引起分黨（林前1:12）。保羅在林前3:5-9澄清：他栽種，亞波羅澆灌，但使植物生長的是神。他們都是神的同工。這教導我們，不同的恩賜和角色應該互補，而非競爭。保羅甚至勸亞波羅去哥林多（林前16:12），顯示他們之間的合一。",sources:[{text:"使徒行傳 18:24-28 (NIV)",url:"https://www.biblegateway.com/passage/?search=Acts+18:24-28&version=NIV"},{text:"哥林多前書 3:4-9 (ESV)",url:"https://www.biblegateway.com/passage/?search=1+Corinthians+3:4-9&version=ESV"}]}},{id:"q44",character:"腓利（執事）",characterImage:"https://picsum.photos/seed/philipdeacon/100",category:fe.PERSON_IN_BIBLE,question:"當聖靈引導我去曠野的路上時，我遇見了誰？",options:["一位羅馬將軍。","耶路撒冷的祭司。","一群盜賊。","一位埃提阿伯的太監，正在讀以賽亞書。"],correctAnswerIndex:3,explanation:"使徒行傳8:27-35記載，腓利遇見一位埃提阿伯太監，正在讀以賽亞書53章。腓利向他講解這段經文指向耶穌，太監立刻要求受洗，成為非洲第一位基督徒。",journalPrompt:{title:"聖靈的引導",content:"腓利順服聖靈的引導，離開撒馬利亞的復興，去曠野只向一個人傳福音。神看重每一個靈魂。我們需要敏銳於聖靈的帶領，即使看似不合邏輯。"},deepDive:{title:"從管飯食到傳福音",content:"腓利原本被選為七位執事之一，管理飯食服事寡婦（徒6:1-6）。但他不滿足於此，成為強有力的佈道家。司提反殉道後，他將福音帶到撒馬利亞，帶領許多人歸主，甚至行神蹟。與太監的相遇後，他又被聖靈提去，在沿海一帶傳道。多年後，保羅訪問他在該撒利亞的家，他有四個女兒都作先知（徒21:8-9）。腓利的一生展示忠心從小事開始，但可以發展成偉大的事工。",sources:[{text:"使徒行傳 8:26-40 (NIV)",url:"https://www.biblegateway.com/passage/?search=Acts+8:26-40&version=NIV"},{text:"使徒行傳 21:8-9 (ESV)",url:"https://www.biblegateway.com/passage/?search=Acts+21:8-9&version=ESV"}]}},{id:"q45",character:"哥尼流",characterImage:"https://picsum.photos/seed/cornelius/100",category:fe.PERSON_IN_BIBLE,question:"作為外邦人，神用什麼方式告訴我要邀請彼得來我家？",options:["我在聖殿聽見聲音。","透過夢。","保羅來拜訪我。","天使在異象中向我顯現。"],correctAnswerIndex:3,explanation:"使徒行傳10:3-6記載：「有一天，約在申初，他在異象中明明看見神的一個使者進去，到他那裡，說：哥尼流。」天使指示他派人到約帕去請彼得來。同時，神也給彼得異象，預備他打破猶太傳統去外邦人家。",journalPrompt:{title:"福音跨越藩籬",content:"哥尼流是敬畏神的外邦人，但直到彼得來傳講耶穌，他才完全明白福音。神同時預備了尋求者和傳道者。福音是為萬民預備的。"},deepDive:{title:"教會歷史的轉捩點",content:"哥尼流是羅馬百夫長，卻虔誠敬拜以色列的神。他樂善好施，常常禱告。他的歸信標誌著教會歷史的重大轉變：外邦人可以不經過猶太律法直接成為基督徒。當聖靈降在哥尼流和他家人身上時，彼得驚奇地說：「這些人既受了聖靈，與我們一樣，誰能禁止用水給他們施洗呢？」（徒10:47）。這個事件成為後來耶路撒冷會議的關鍵先例（徒15章）。",sources:[{text:"使徒行傳 10:1-48 (NIV)",url:"https://www.biblegateway.com/passage/?search=Acts+10:1-48&version=NIV"},{text:"使徒行傳 11:1-18 (ESV)",url:"https://www.biblegateway.com/passage/?search=Acts+11:1-18&version=ESV"}]}},{id:"q46",character:"巴拿巴",characterImage:"https://picsum.photos/seed/barnabas/100",category:fe.PERSON_IN_BIBLE,question:"我的名字「巴拿巴」是什麼意思？",options:["智慧者","勸慰子","勇士","大力士"],correctAnswerIndex:1,explanation:"使徒行傳4:36記載：「有一個利未人，生在居比路，名叫約瑟，使徒稱他為巴拿巴（巴拿巴翻出來就是勸慰子）。」他的名字完美描述了他的恩賜和性格。",journalPrompt:{title:"鼓勵者的恩賜",content:"巴拿巴看見別人的潛力，願意給人第二次機會。他引薦保羅給使徒，給馬可第二次服事的機會。教會需要更多像巴拿巴這樣的鼓勵者。"},deepDive:{title:"好人與犧牲",content:"聖經形容巴拿巴是「好人，被聖靈充滿，大有信心」（徒11:24）。他賣了田產，將錢財帶來放在使徒腳前。當保羅歸主後沒人敢接納他時，巴拿巴勇敢為他擔保。他邀請保羅一起在安提阿服事，甚至主動讓保羅成為主要的講道者。後來他們因馬可的事分開，巴拿巴選擇給馬可第二次機會。保羅後來承認馬可對他有益處（提後4:11），證明巴拿巴的眼光是對的。",sources:[{text:"使徒行傳 4:36-37 (NIV)",url:"https://www.biblegateway.com/passage/?search=Acts+4:36-37&version=NIV"},{text:"使徒行傳 15:36-41 (ESV)",url:"https://www.biblegateway.com/passage/?search=Acts+15:36-41&version=ESV"}]}},{id:"q47",character:"以巴弗",characterImage:"https://picsum.photos/seed/epaphras/100",category:fe.PERSON_IN_BIBLE,question:"保羅如何描述我為歌羅西教會的禱告？",options:["常常竭力為你們祈求，願你們在神一切的旨意上得以完全。","只在主日為他們禱告。","從不為他們禱告。","偶爾為他們禱告。"],correctAnswerIndex:0,explanation:"歌羅西書4:12記載，保羅說：「有你們那裡的人，作基督耶穌僕人的以巴弗問你們安。他在禱告之間，常為你們竭力的祈求，願你們在神一切的旨意上得以完全，信心充足，能站立得穩。」",journalPrompt:{title:"代禱的事工",content:"以巴弗可能建立了歌羅西教會，但他最大的事工是恆切的代禱。有時神呼召我們的事工不在前線，而是在禱告的密室中。忠心的代禱是有永恆價值的服事。"},deepDive:{title:"無名英雄",content:"以巴弗的名字在新約中只出現兩次，但每次都與禱告有關。保羅稱他為「親愛的同工」和「我一同坐監的」（門1:23）。他可能因福音的緣故與保羅同時被監禁。雖然他沒有像保羅那樣寫書信或建立眾多教會，但他忠心的代禱和服事卻被記錄在聖經中。教會需要更多像以巴弗這樣願意在背後竭力禱告的無名英雄。",sources:[{text:"歌羅西書 4:12-13 (NIV)",url:"https://www.biblegateway.com/passage/?search=Colossians+4:12-13&version=NIV"},{text:"歌羅西書 1:7-8 (ESV)",url:"https://www.biblegateway.com/passage/?search=Colossians+1:7-8&version=ESV"}]}},{id:"q48",character:"非比",characterImage:"https://picsum.photos/seed/phoebe/100",category:fe.PERSON_IN_BIBLE,question:"保羅如何介紹我給羅馬教會？",options:["堅革哩教會的女執事，素來幫助許多人。","普通信徒。","一位訪客。","我的學生。"],correctAnswerIndex:0,explanation:"羅馬書16:1-2記載：「我對你們舉薦我們的姊妹非比，她是堅革哩教會中的女執事。請你們為主接待她，合乎聖徒的體統。她在何事上要你們幫助，你們就幫助她，因她素來幫助許多人，也幫助了我。」",journalPrompt:{title:"服事的榜樣",content:"非比很可能是帶著羅馬書信去羅馬的人。她被稱為執事，是教會中有職分的服事者，也是許多人的幫助者。女性在早期教會擔任重要角色。"},deepDive:{title:"女性在教會中的角色",content:"非比被稱為「執事」（diakonos），與提摩太前書3:8-13中執事的資格用的是同一個詞。她也被稱為「幫助者」（prostatis），這個詞有領袖、庇護人的意思。她可能是富有的商人，資助保羅和其他工人。羅馬書16章提到多位女性同工：百基拉（保羅稱她為同工）、馬利亞（為你們多受勞苦）、土非拿氏和土富撒氏（在主裡勞碌）。早期教會中，女性積極參與各種服事。",sources:[{text:"羅馬書 16:1-2 (NIV)",url:"https://www.biblegateway.com/passage/?search=Romans+16:1-2&version=NIV"},{text:"羅馬書 16:3-16 (ESV)",url:"https://www.biblegateway.com/passage/?search=Romans+16:3-16&version=ESV"}]}},{id:"q49",character:"馬可（約翰馬可）",characterImage:"https://picsum.photos/seed/mark/100",category:fe.PERSON_IN_BIBLE,question:"在第一次宣教旅程中，我做了什麼導致保羅不再信任我？",options:["我偷了奉獻。","我從未跟他們一起去。","我在旁非利亞離開他們，回耶路撒冷去了。","我公開批評保羅。"],correctAnswerIndex:2,explanation:"使徒行傳13:13記載：「保羅和他的同人從帕弗開船，來到旁非利亞的別加，約翰就離開他們，回耶路撒冷去。」這導致保羅在第二次旅程時拒絕帶馬可同行，引發他與巴拿巴的分歧。",journalPrompt:{title:"失敗後的恢復",content:"馬可的早期失敗沒有定義他的一生。巴拿巴給他第二次機會，最終連保羅都承認他的價值。我們都會失敗，但神能恢復和使用願意成長的人。"},deepDive:{title:"從失敗到福音作者",content:"馬可的母親馬利亞家中是早期教會的聚會地點（徒12:12）。他曾服事保羅、巴拿巴和彼得。雖然他在第一次宣教旅程中退出，但後來他成長成熟。保羅在晚年寫信給提摩太時說：「你來的時候，要把馬可帶來，因為他在傳道的事上於我有益處」（提後4:11）。彼得稱他為「我兒子馬可」（彼前5:13）。最重要的是，神使用他寫下馬可福音，成為四福音中最早寫成的。",sources:[{text:"使徒行傳 15:36-41 (NIV)",url:"https://www.biblegateway.com/passage/?search=Acts+15:36-41&version=NIV"},{text:"提摩太後書 4:11 (ESV)",url:"https://www.biblegateway.com/passage/?search=2+Timothy+4:11&version=ESV"}]}},{id:"q50",character:"老底嘉教會",characterImage:"https://picsum.photos/seed/laodicea/100",category:fe.BIBLE_BACKGROUND,question:"在啟示錄中，主對我們教會最嚴厲的責備是什麼？",options:["你們太熱心了。","你們也不冷也不熱，我必從我口中把你吐出去。","你們被迫害。","你們太窮了。"],correctAnswerIndex:1,explanation:"啟示錄3:16記載，主說：「你既如溫水，也不冷也不熱，所以我必從我口中把你吐出去。」老底嘉教會的問題是自滿和屬靈的不冷不熱。",journalPrompt:{title:"危險的不冷不熱",content:"老底嘉教會自以為富足，卻不知道自己在屬靈上是「困苦、可憐、貧窮、瞎眼、赤身的」。自滿是屬靈生命最危險的敵人。主呼籲：「我勸你向我買火煉的金子，叫你富足。」"},deepDive:{title:"七個教會的最後警告",content:"老底嘉是啟示錄七個教會中最後一個，也是唯一沒有受到任何稱讚的。這城市以銀行業、羊毛工業和眼藥聞名，導致屬靈的驕傲。它的水源是溫的，既不像希拉波立的熱水有療效，也不像歌羅西的冷水可解渴。主站在門外叩門（啟3:20），顯示祂已被排除在教會活動之外。這封信對今天富裕但屬靈冷淡的教會是嚴厲的警告。",sources:[{text:"啟示錄 3:14-22 (NIV)",url:"https://www.biblegateway.com/passage/?search=Revelation+3:14-22&version=NIV"},{text:"何西阿書 12:8 (ESV)",url:"https://www.biblegateway.com/passage/?search=Hosea+12:8&version=ESV"}]}},{id:"q51",character:"希伯來聖經學者",characterImage:"https://picsum.photos/seed/hebrew-scholar/100",category:fe.BIBLE_BACKGROUND,question:"希伯來聖經（Tanakh）的三個主要部分是什麼？",options:["摩西五經、先知書、智慧文學","歷史書、詩歌書、預言書","律法書（Torah）、先知書（Nevi'im）、聖卷（Ketuvim）","創世記、出埃及記、詩篇"],correctAnswerIndex:2,explanation:"希伯來聖經（Tanakh）分為三個主要部分：Torah（תּוֹרָה，律法書，五經）、Nevi'im（נְבִיאִים，先知書）和Ketuvim（כְּתוּבִים，聖卷）。Tanakh這個名稱就是由這三個部分的首字母組成的縮寫（T-N-K）。",journalPrompt:{title:"希伯來聖經的結構",content:"Tanakh的三重結構反映了猶太教對聖經不同部分的權威等級理解。Torah是最核心的，包含神的律法；Nevi'im記載先知的教導；Ketuvim包含詩歌、智慧文學和其他著作。"},deepDive:{title:"希伯來聖經的正典形成",content:"希伯來聖經的正典化是一個漫長的過程。Torah在公元前5世紀已被普遍接受；先知書在公元前3世紀基本確定；聖卷的正典地位在公元90年左右的雅麥尼亞會議（Council of Jamnia）後才最終確立。這個三重結構也影響了基督教舊約的編排方式，雖然順序有所不同。",sources:[{text:"路加福音 24:44 (NIV)",url:"https://www.biblegateway.com/passage/?search=Luke+24:44&version=NIV"},{text:"Hebrew Bible Structure",url:"https://www.jewishvirtuallibrary.org/the-tanakh"}]}},{id:"q52",character:"文本批評學者",characterImage:"https://picsum.photos/seed/textual-critic/100",category:fe.BIBLE_BACKGROUND,question:"馬索拉文本（Masoretic Text）在希伯來聖經研究中的重要性是什麼？",options:["它是標準的希伯來聖經文本，包含母音符號和註釋系統","它是死海古卷的另一個名稱","它是希伯來聖經的希臘文翻譯","它是最早的希伯來文手抄本"],correctAnswerIndex:0,explanation:"馬索拉文本（MT）是公元7-10世紀由馬索拉學者（Masoretes）精心編纂的希伯來聖經標準文本。他們添加了母音符號（nikkud）、音調記號（ta'amim）和邊註，確保正確讀音和詮釋，成為現代希伯來聖經研究和翻譯的主要依據。",journalPrompt:{title:"聖經文本的傳承",content:"馬索拉學者對聖經文本的細緻保存工作展現了對神話語的敬畏。他們不僅抄寫文字，還發展出複雜的計數和檢查系統，確保每一個字母都準確無誤。"},deepDive:{title:"文本批判與聖經可靠性",content:"馬索拉文本的發現和研究，特別是與死海古卷（公元前3世紀至公元1世紀）的對比，證明了希伯來聖經傳抄的驚人準確性。雖然存在一些異文（textual variants），但絕大多數是拼寫差異，核心內容保持一致。這為聖經的可靠性提供了強有力的證據。列寧格勒抄本（Leningrad Codex, 1008 CE）是現存最古老的完整馬索拉文本，也是《希伯來聖經》（BHS）的底本。",sources:[{text:"以賽亞書 40:8 (ESV)",url:"https://www.biblegateway.com/passage/?search=Isaiah+40:8&version=ESV"},{text:"Masoretic Text Overview",url:"https://www.britannica.com/topic/Masoretic-text"}]}},{id:"q53",character:"語言學家",characterImage:"https://picsum.photos/seed/linguist/100",category:fe.BIBLE_BACKGROUND,question:"希伯來聖經中使用的主要語言是什麼？有哪些例外？",options:["希伯來文為主，但但以理書和以斯拉記部分用亞蘭文","亞蘭文為主，少部分希伯來文","希伯來文和希臘文混合","全部用希伯來文書寫"],correctAnswerIndex:0,explanation:"希伯來聖經主要用古希伯來文書寫，但有重要例外：但以理書2:4-7:28和以斯拉記4:8-6:18、7:12-26用帝國亞蘭文（Imperial Aramaic）書寫。亞蘭文在波斯帝國時期成為近東的通用語言，反映了猶太人在被擄時期的語言環境變化。",journalPrompt:{title:"語言與歷史背景",content:"聖經使用不同語言反映了以色列民族的歷史變遷。希伯來文代表早期民族身份，亞蘭文顯示被擄時期的文化影響，這些語言選擇本身就講述著神子民的故事。"},deepDive:{title:"閃族語言與聖經研究",content:"希伯來文和亞蘭文都屬於閃族語系的西北支。理解這些語言的特點對解經至關重要：1) 它們是子音文字，母音後來才添加；2) 詞根系統（通常是三個子音）表達核心意義；3) 動詞時態表達完成/未完成狀態而非時間；4) 豐富的並行體（parallelism）用於詩歌。此外，耶利米書10:11有一節完全用亞蘭文，創世記31:47也有亞蘭文地名。",sources:[{text:"但以理書 2:4 (NIV)",url:"https://www.biblegateway.com/passage/?search=Daniel+2:4&version=NIV"},{text:"Biblical Languages",url:"https://www.britannica.com/topic/biblical-literature"}]}},{id:"q54",character:"文學批評學者",characterImage:"https://picsum.photos/seed/literary-critic/100",category:fe.BIBLE_BACKGROUND,question:"希伯來詩歌的主要文學特徵是什麼？",options:["平行體（Parallelism）和意象","十四行詩結構","無韻自由詩","押韻和格律"],correctAnswerIndex:0,explanation:"希伯來詩歌的核心特徵是平行體（Parallelism），而非押韻。主要類型包括：同義平行（synonymous，重複相同意思）、反義平行（antithetical，對比相反意思）、綜合平行（synthetic，擴展前句意思）。詩篇、箴言、約伯記和先知書廣泛使用這種結構。",journalPrompt:{title:"聖經詩歌的美學",content:"平行體不僅是文學技巧，更是神學表達方式。透過重複、對比和擴展，希伯來詩歌幫助讀者深入默想真理，讓神的話語在心中迴響。"},deepDive:{title:"希伯來詩歌的多層結構",content:"除了平行體，希伯來詩歌還包含其他特徵：1) 字母離合詩（acrostic），如詩篇119篇每段以希伯來字母順序開頭；2) 交錯配列法（chiasm），如詩篇51:1-2的ABBA結構；3) 包孕法（inclusio），首尾呼應；4) 豐富的隱喻和擬人化。理解這些特徵幫助我們欣賞聖經詩歌的深度和美感，也避免過度字面化解釋詩意表達。",sources:[{text:"詩篇 19:1-2 (ESV)",url:"https://www.biblegateway.com/passage/?search=Psalm+19:1-2&version=ESV"},{text:"Hebrew Poetry Characteristics",url:"https://www.britannica.com/art/biblical-literature/Poetry"}]}},{id:"q55",character:"舊約學者",characterImage:"https://picsum.photos/seed/ot-scholar/100",category:fe.BIBLE_BACKGROUND,question:"舊約聖經與希伯來聖經的主要差異是什麼？",options:["舊約比希伯來聖經多了新約","書卷順序和分類方式不同","內容完全不同","語言翻譯不同但內容相同"],correctAnswerIndex:1,explanation:"基督教舊約和猶太教Tanakh包含相同的書卷（新教版本），但順序不同。舊約按歷史、詩歌、先知排列，以瑪拉基書結束，指向彌賽亞；Tanakh按Torah、Nevi'im、Ketuvim排列，以歷代志結束，強調回歸與重建。天主教和東正教舊約還包含次經（Deuterocanonical books）。",journalPrompt:{title:"正典與神學視角",content:"同樣的經文，不同的編排順序反映不同的神學強調。基督教舊約的編排突顯了對彌賽亞的期盼，為新約預備道路。"},deepDive:{title:"七十士譯本與正典差異",content:"舊約編排差異部分源於七十士譯本（LXX，公元前3-2世紀希臘文翻譯）。早期教會主要使用LXX，它包含次經並重新編排書卷。新教改教者回歸希伯來正典（39卷），但保留LXX順序；天主教保留次經（46卷舊約書）；東正教包含更多書卷（50卷）。這些差異涉及「誰有權定義正典」的深層神學問題。",sources:[{text:"瑪拉基書 4:5-6 (NIV)",url:"https://www.biblegateway.com/passage/?search=Malachi+4:5-6&version=NIV"},{text:"Old Testament Canon",url:"https://www.britannica.com/topic/biblical-literature/The-Christian-canon"}]}},{id:"q56",character:"考古學家",characterImage:"https://picsum.photos/seed/archaeologist/100",category:fe.BIBLE_BACKGROUND,question:"哪一個考古發現對舊約研究最具革命性影響？",options:["死海古卷","特洛伊遺址","羅塞塔石碑","圖坦卡門墓"],correctAnswerIndex:0,explanation:"1947年在昆蘭洞穴發現的死海古卷（Dead Sea Scrolls）是20世紀最重要的考古發現。它包含公元前3世紀至公元1世紀的約900份手抄本，證明聖經文本傳抄的準確性，並提供了第二聖殿時期猶太教的珍貴資料。",journalPrompt:{title:"考古學與信仰",content:"死海古卷的發現不僅證實聖經的可靠性，也讓我們一窺耶穌時代的猶太社群（如愛色尼派）如何理解和實踐信仰。"},deepDive:{title:"死海古卷的重要性",content:"死海古卷包含：1) 除以斯帖記外所有舊約書卷的片段或完整抄本；2) 以賽亞書完整卷軸，與馬索拉文本相差僅1000年但高度一致；3) 昆蘭社群的規章和註釋；4) 次經和偽經。這些發現幫助學者：理解經文異文、研究猶太教派別、追溯彌賽亞觀念發展、了解新約背景。例如，《哈巴谷書註釋》顯示昆蘭社群如何將先知書應用於當代。",sources:[{text:"以賽亞書 40:8 (ESV)",url:"https://www.biblegateway.com/passage/?search=Isaiah+40:8&version=ESV"},{text:"Dead Sea Scrolls",url:"https://www.deadseascrolls.org.il/"}]}},{id:"q57",character:"文獻假說學者",characterImage:"https://picsum.photos/seed/documentary/100",category:fe.BIBLE_BACKGROUND,question:"「文獻假說」（Documentary Hypothesis）主要論述什麼？",options:["所有舊約書卷都失傳了","舊約全是後期偽造的","摩西五經由單一作者一次寫成","摩西五經是由多個文獻來源（J、E、D、P）編輯而成"],correctAnswerIndex:3,explanation:"文獻假說（又稱JEDP理論）由Julius Wellhausen在19世紀提出，認為摩西五經由四個主要來源編輯而成：J（耶和華文獻）、E（以羅欣文獻）、D（申命記文獻）、P（祭司文獻）。這個理論引發了關於摩西五經作者和成書過程的廣泛學術討論。",journalPrompt:{title:"批判學術與信仰",content:"文獻假說提醒我們聖經成書過程的複雜性。無論接受與否，這個理論促使信徒更深入思考聖靈如何引導人類作者，以及默示的本質。"},deepDive:{title:"文獻假說的評估",content:"文獻假說基於：1) 神的不同名稱（YHWH vs. Elohim）；2) 重複敘事（如兩個創造故事）；3) 語言和風格差異；4) 神學觀點變化。批評者指出：1) 古代近東文學常用多個神名；2) 重複可能是文學技巧；3) 摩西可能使用早期資料；4) 考古證據支持早期成書。現代學者發展出補充假說、片段假說等替代理論。保守學者維護摩西實質作者權，但承認後期編輯。",sources:[{text:"申命記 31:24-26 (NIV)",url:"https://www.biblegateway.com/passage/?search=Deuteronomy+31:24-26&version=NIV"},{text:"Documentary Hypothesis",url:"https://www.britannica.com/topic/documentary-hypothesis"}]}},{id:"q58",character:"神學家",characterImage:"https://picsum.photos/seed/theologian1/100",category:fe.BIBLE_BACKGROUND,question:"「約」（Covenant）在舊約神學中的核心地位體現在哪裡？",options:["約只是次要主題","約只出現在新約","約等同於律法","約是理解神與人關係的核心框架"],correctAnswerIndex:3,explanation:"約（berit）是舊約的核心神學概念，結構化了神與人的關係。主要的約包括：挪亞之約（創9）、亞伯拉罕之約（創15,17）、西奈之約（出19-24）、大衛之約（撒下7）。這些約逐步揭示神的救贖計劃，最終指向耶利米預言的新約（耶31:31-34）。",journalPrompt:{title:"約的神學",content:"聖約顯示神是主動、信實的一位。祂不是遙不可及的哲學概念，而是與人立約、建立關係的神。每個約都揭示祂救贖計劃的一個層面。"},deepDive:{title:"約的類型與結構",content:"舊約的約借鑑了古代近東宗主條約（Suzerain-Vassal Treaty）的形式：1) 序言（確認立約者）；2) 歷史序言（回顧關係）；3) 條款（義務）；4) 見證人；5) 祝福與咒詛。申命記完美體現這個結構。但聖經的約超越政治條約：亞伯拉罕之約是無條件的恩典之約；西奈之約是條件性的；大衛之約是永恆的王權應許。新約（New Covenant）在基督裡應驗所有舊約，寫在人心版上（耶31:33；來8:10）。",sources:[{text:"耶利米書 31:31-34 (ESV)",url:"https://www.biblegateway.com/passage/?search=Jeremiah+31:31-34&version=ESV"},{text:"Covenant Theology",url:"https://www.britannica.com/topic/covenant-theology"}]}},{id:"q59",character:"新約學者",characterImage:"https://picsum.photos/seed/nt-scholar/100",category:fe.BIBLE_BACKGROUND,question:"新約的27卷書主要用什麼語言寫成？",options:["拉丁文","希伯來文","通用希臘文（Koine Greek）","亞蘭文"],correctAnswerIndex:2,explanation:"新約全部用通用希臘文（Koine Greek）寫成，這是公元前3世紀至公元6世紀地中海世界的通用語言。雖然耶穌和使徒可能說亞蘭文，但他們選擇用希臘文記錄福音，使信息能傳遍羅馬帝國。",journalPrompt:{title:"神的時機與工具",content:"神使用希臘文作為新約語言不是偶然。亞歷山大大帝的征服建立了希臘化世界，羅馬的道路系統便利旅行，通用希臘文讓福音迅速傳播——「時候滿足」（加4:4）。"},deepDive:{title:"Koine希臘文的特點",content:"Koine（κοινή，意為「通用的」）是簡化的希臘文，不同於古典希臘文。特點：1) 簡化語法；2) 減少虛擬語氣；3) 大量外來語（如希伯來文、亞蘭文）；4) 更接近口語。19世紀紙草文獻的發現證明新約用的是普通人的語言，而非宗教術語。這反映了福音的平民性——不是精英哲學，而是給萬人的好消息。馬太福音可能有希伯來文或亞蘭文版本，但現存只有希臘文。",sources:[{text:"使徒行傳 21:37-40 (NIV)",url:"https://www.biblegateway.com/passage/?search=Acts+21:37-40&version=NIV"},{text:"Koine Greek",url:"https://www.britannica.com/topic/Koine"}]}},{id:"q60",character:"正典研究學者",characterImage:"https://picsum.photos/seed/canon-scholar/100",category:fe.BIBLE_BACKGROUND,question:"新約正典的27卷書何時最終確立？",options:["使徒保羅時代立即確定","宗教改革時期","第四世紀（如公元367年亞他那修的復活節書信）","第一世紀結束前"],correctAnswerIndex:2,explanation:"新約正典的確立是漸進過程。公元367年，亞歷山大主教亞他那修（Athanasius）在復活節書信中首次列出今天的27卷新約書目。公元397年迦太基會議（Council of Carthage）正式確認這個正典，但教會實質上在更早就廣泛接受這些書卷。",journalPrompt:{title:"正典的形成",content:"正典不是由會議「創造」的，而是教會「承認」聖靈已在信徒群體中見證為真的書卷。標準包括：使徒性、正統性、大公性（普遍接受）、默示性。"},deepDive:{title:"正典形成的標準與爭議",content:"早期教會用四個標準判斷正典：1) 使徒性（apostolic）——由使徒或使徒同工寫作；2) 正統性（orthodoxy）——符合使徒教導；3) 大公性（catholicity）——被眾教會廣泛使用；4) 默示性（inspiration）——聖靈見證。有爭議的書卷（Antilegomena）包括：希伯來書、雅各書、彼得後書、約翰二三書、猶大書、啟示錄。偽經如《多馬福音》因缺乏使徒性和正統性被拒。穆拉多利殘卷（Muratorian Fragment, ~170 AD）是最早的新約正典清單。",sources:[{text:"啟示錄 22:18-19 (ESV)",url:"https://www.biblegateway.com/passage/?search=Revelation+22:18-19&version=ESV"},{text:"New Testament Canon",url:"https://www.britannica.com/topic/biblical-literature/New-Testament-canon"}]}},{id:"q61",character:"福音書研究專家",characterImage:"https://picsum.photos/seed/gospel-scholar/100",category:fe.BIBLE_BACKGROUND,question:"「符類福音問題」（Synoptic Problem）探討什麼議題？",options:["約翰福音為何不同","福音書的歷史可靠性","馬太、馬可、路加三福音之間的文學關係","為什麼只有三本福音書"],correctAnswerIndex:2,explanation:"符類福音問題探討馬太、馬可、路加（稱為符類福音，因可並排比較）之間的相似性和差異性。主流理論是「馬可優先說」（Marcan Priority）加「Q來源」假說：馬可最早，馬太和路加使用馬可加上共同來源Q（德文Quelle，意為「來源」）。",journalPrompt:{title:"多元見證的價值",content:"四福音提供四個視角看同一位基督。馬可強調耶穌的行動（僕人），馬太強調教導（君王），路加強調憐憫（完全的人），約翰強調神性（神的兒子）。這豐富我們對基督的認識。"},deepDive:{title:"符類福音理論",content:"主要理論：1) 馬可優先說（Marcan Priority）：馬可最早（~65-70 AD），馬太和路加獨立使用馬可；2) Q來源假說：馬太和路加共享約250節馬可沒有的內容，推測來自失傳的語錄來源Q；3) M和L來源：馬太和路加各自獨特的材料。替代理論包括：Griesbach假說（馬太最早）、Farrer假說（無需Q，路加用馬太）。這些討論幫助我們理解福音書作者如何在聖靈引導下選擇、編排材料，為不同讀者呈現基督。",sources:[{text:"路加福音 1:1-4 (NIV)",url:"https://www.biblegateway.com/passage/?search=Luke+1:1-4&version=NIV"},{text:"Synoptic Problem",url:"https://www.britannica.com/topic/Synoptic-Problem"}]}},{id:"q62",character:"保羅書信專家",characterImage:"https://picsum.photos/seed/paul-scholar/100",category:fe.BIBLE_BACKGROUND,question:"保羅書信中哪些被普遍認為是無可爭議的真保羅書信？",options:["全部都有爭議","羅馬書、哥林多前後書、加拉太書、腓立比書、帖撒羅尼迦前書、腓利門書（7封）","全部13封保羅書信","只有羅馬書和加拉太書"],correctAnswerIndex:1,explanation:"學者們普遍接受7封為無可爭議的保羅真作（Undisputed Paulines）：羅馬書、哥林多前後書、加拉太書、腓立比書、帖撒羅尼迦前書、腓利門書。教牧書信（提摩太前後書、提多書）和以弗所書、歌羅西書的作者身份仍有學術爭議，但傳統教會普遍接受為保羅所寫。",journalPrompt:{title:"保羅的神學遺產",content:"即使在學術爭議中，保羅書信的神學價值不變。因信稱義、在基督裡的新創造、教會作為基督身體——這些真理塑造了基督教神學。"},deepDive:{title:"保羅書信的分類與爭議",content:"分類：1) 無爭議書信（7封）；2) 教牧書信（提前後、多）——風格和神學差異引發爭議；3) 監獄書信（弗、腓、西、門）——腓和門無爭議，弗和西有爭議；4) 希伯來書——早期教會有些歸於保羅,但現代學者幾乎一致認為非保羅所寫。爭議基於：詞彙差異、神學發展、教會組織成熟度。保守學者辯護：秘書協助、處境不同、神學發展。無論作者，正典地位基於使徒性和默示性。",sources:[{text:"加拉太書 1:11-12 (ESV)",url:"https://www.biblegateway.com/passage/?search=Galatians+1:11-12&version=ESV"},{text:"Pauline Epistles Authorship",url:"https://www.britannica.com/biography/Saint-Paul-the-Apostle/The-Pauline-letters"}]}},{id:"q63",character:"文獻學家",characterImage:"https://picsum.photos/seed/manuscript-scholar/100",category:fe.BIBLE_BACKGROUND,question:"現存最早的完整新約手抄本是哪一份？",options:["穆拉多利殘卷","西奈抄本（Codex Sinaiticus）","武加大譯本","死海古卷"],correctAnswerIndex:1,explanation:"西奈抄本（Codex Sinaiticus，約公元330-360年）是現存最早的完整新約手抄本之一，也包含部分舊約。它與梵蒂岡抄本（Codex Vaticanus，約公元300-325年）一起，是新約文本批判最重要的見證。",journalPrompt:{title:"手抄本的見證",content:"神奇妙地保存了數千份新約手抄本（超過5800份希臘文手抄本），遠超任何古代文獻。這些手抄本的數量和一致性證明新約的可靠傳承。"},deepDive:{title:"新約手抄本的分類",content:"新約手抄本分為：1) 紙草抄本（Papyri）——最早（如P52，約125 AD，含約翰福音片段）；2) 安色爾字體抄本（Uncials）——大寫字母，4-8世紀（如א西奈抄本、B梵蒂岡抄本、A亞歷山大抄本、D貝撒抄本）；3) 小楷字體抄本（Minuscules）——小寫字母，9世紀後，數量最多；4) 經課集（Lectionaries）——禮拜用經文選集。文本批判學者比較這些手抄本，重建最接近原文的經文。雖有異文（variants），但99%是拼寫差異，無一影響核心教義。",sources:[{text:"彼得前書 1:24-25 (NIV)",url:"https://www.biblegateway.com/passage/?search=1+Peter+1:24-25&version=NIV"},{text:"Codex Sinaiticus",url:"https://www.codexsinaiticus.org/"}]}},{id:"q64",character:"翻譯史學者",characterImage:"https://picsum.photos/seed/translation-scholar/100",category:fe.BIBLE_BACKGROUND,question:"七十士譯本（Septuagint，LXX）對早期基督教有何重要性？",options:["它是舊約的希臘文翻譯，被新約作者廣泛引用","它是拉丁文聖經","它是死海古卷的翻譯","它是新約的希臘文版本"],correctAnswerIndex:0,explanation:"七十士譯本是公元前3-2世紀在亞歷山大完成的希伯來聖經希臘文翻譯，傳說由70位（或72位）學者翻譯而得名。新約作者引用舊約時，約有三分之二使用LXX。它也是早期教會（特別是講希臘語的外邦信徒）的主要舊約版本。",journalPrompt:{title:"跨文化的福音",content:"LXX為福音預備道路。當猶太僑民散居各地，他們需要希臘文聖經；當外邦人歸主，他們能用熟悉的語言讀舊約。神在各個層面預備福音的傳播。"},deepDive:{title:"七十士譯本的影響",content:"LXX的重要性：1) 新約引用——如以賽亞書7:14的「童女」（parthenos）概念來自LXX；2) 神學詞彙——如「logos」（道）、「kyrios」（主）等新約核心詞彙源於LXX；3) 正典範圍——LXX包含次經，影響天主教和東正教正典；4) 教父使用——早期教父如俄利根、奧古斯丁主要用LXX。亞歷山大草紙信（Letter of Aristeas）記載翻譯傳說。LXX與馬索拉文本有些差異，死海古卷顯示有些希伯來文底本確實不同。",sources:[{text:"使徒行傳 8:32-35 (ESV)",url:"https://www.biblegateway.com/passage/?search=Acts+8:32-35&version=ESV"},{text:"Septuagint",url:"https://www.britannica.com/topic/Septuagint"}]}},{id:"q65",character:"次經研究者",characterImage:"https://picsum.photos/seed/apocrypha-scholar/100",category:fe.BIBLE_BACKGROUND,question:"舊約次經（Apocrypha/Deuterocanonical Books）包含哪些書卷？",options:["新約偽經","死海古卷","馬加比書、多比傳、猶滴傳等不在希伯來正典但在LXX中的書卷","諾斯底福音書"],correctAnswerIndex:2,explanation:"次經（天主教稱「第二正典」）包括：多比傳、猶滴傳、所羅門智訓、便西拉智訓、巴錄書、馬加比一二書、以斯帖記補編、但以理書補編等。這些書在七十士譯本中，天主教和東正教接受為正典，但新教視為有益但非正典的著作。",journalPrompt:{title:"正典的界線",content:"次經的地位反映基督徒對「什麼是神的話語」有不同理解。無論如何，這些書提供兩約之間時期的歷史和屬靈洞見。"},deepDive:{title:"次經的歷史與神學爭議",content:"次經爭議源於：1) 希伯來正典不包含這些書（猶太教拉比在雅麥尼亞會議後確認）；2) 新約從未直接引用次經（雖有典故）；3) 早期教父意見分歧（耶柔米反對，奧古斯丁接受）。宗教改革時，路德將次經放在兩約之間，稱其「有益閱讀」；天特會議（Council of Trent, 1546）回應新教,正式確認次經為正典。次經包含：馬加比革命歷史、煉獄教義（馬加比下書12:43-45）、施捨贖罪（多比傳12:9）等。新教拒絕次經基於：唯獨聖經原則和希伯來正典權威。",sources:[{text:"啟示錄 22:18-19 (NIV)",url:"https://www.biblegateway.com/passage/?search=Revelation+22:18-19&version=NIV"},{text:"Biblical Apocrypha",url:"https://www.britannica.com/topic/biblical-literature/Apocrypha-and-Pseudepigrapha"}]}},{id:"q66",character:"古代譯本專家",characterImage:"https://picsum.photos/seed/versions-scholar/100",category:fe.BIBLE_BACKGROUND,question:"武加大譯本（Vulgate）在教會歷史中的角色是什麼？",options:["英文聖經的第一個翻譯","耶柔米翻譯的拉丁文聖經，成為天主教會的標準版本","希伯來文舊約的註釋","最早的希臘文新約"],correctAnswerIndex:1,explanation:"武加大譯本是教父耶柔米（Jerome）在公元382-405年翻譯的拉丁文聖經。他從希伯來文翻譯舊約（而非依賴LXX），修訂了新約拉丁文翻譯。武加大成為天主教會一千多年的官方聖經版本，直到梵二大公會議後才鼓勵使用本地語言。",journalPrompt:{title:"神話語的可及性",content:"耶柔米將聖經翻譯成當時的通用語言拉丁文，使更多人能讀神的話。每個時代都需要忠實、清晰的翻譯，讓人能在自己的語言中遇見神。"},deepDive:{title:"武加大的歷史影響",content:"武加大的特點：1) 從希伯來文翻譯舊約，而非依賴LXX（耶柔米在伯利恆學習希伯來文）；2) 包含次經；3) 影響西方神學詞彙（如「sacramentum」=聖禮）。天特會議（1546）宣佈武加大為官方版本，回應新教改教者的希臘文/希伯來文原文運動。武加大影響：中世紀所有神學和禮拜；英語詞彙（許多KJV翻譯源於武加大）；藝術和文學（但丁、米爾頓）。1979年新武加大（Nova Vulgata）成為天主教禮拜用版本。",sources:[{text:"詩篇 119:105 (Vulgate: Lucerna pedibus meis)",url:"https://www.biblegateway.com/passage/?search=Psalm+119:105&version=NIV"},{text:"Vulgate",url:"https://www.britannica.com/topic/Vulgate"}]}},{id:"q67",character:"歷史學家",characterImage:"https://picsum.photos/seed/historian1/100",category:fe.BIBLE_BACKGROUND,question:"兩約之間時期（公元前400-公元1年）對理解新約有何重要性？",options:["這段時期聖經仍在書寫","這段時期見證猶太教派別（法利賽人、撒都該人、愛色尼派）的形成和希臘化影響","這段時期無關緊要","這段時期以色列獨立無外來影響"],correctAnswerIndex:1,explanation:"兩約之間時期（又稱「沉默的400年」）經歷波斯、希臘（亞歷山大及其繼承者）、羅馬統治。這段時期形成新約提及的猶太教派別、會堂制度、文士傳統、彌賽亞期盼加劇，以及希臘化文化影響。理解這個背景對解讀福音書至關重要。",journalPrompt:{title:"神在歷史中的作為",content:"即使沒有先知話語，神在兩約之間仍作工——預備語言（希臘文）、道路（羅馬）、期盼（彌賽亞）。歷史不是偶然，而是神救贖計劃的舞台。"},deepDive:{title:"兩約之間的關鍵事件",content:"重要發展：1) 政治：波斯→亞歷山大→托勒密王朝（埃及）→塞琉古王朝（敘利亞）→哈斯摩尼王朝（馬加比革命後，167-63 BC）→羅馬（63 BC起）；2) 宗教：會堂興起、口傳律法發展、法利賽人（強調律法和傳統）、撒都該人（祭司貴族，只接受摩西五經）、愛色尼派（昆蘭社群，禁慾主義）、奮銳黨（反羅馬激進派）形成；3) 文化：希臘化（Hellenization）影響猶太思想、LXX翻譯、智慧文學發展；4) 神學：彌賽亞觀念發展、復活和天使論爭論。安提阿哥四世褻瀆聖殿（167 BC）引發馬加比革命。",sources:[{text:"但以理書 11章 (預言)",url:"https://www.biblegateway.com/passage/?search=Daniel+11&version=NIV"},{text:"Intertestamental Period",url:"https://www.britannica.com/event/Intertestamental-period"}]}},{id:"q68",character:"猶太文化專家",characterImage:"https://picsum.photos/seed/jewish-culture/100",category:fe.BIBLE_BACKGROUND,question:"第一世紀猶太教的會堂（Synagogue）有何功能？",options:["政府行政辦公室","只是社交聚會場所","讀經、禱告、教導的敬拜和社群中心","取代聖殿的獻祭中心"],correctAnswerIndex:2,explanation:"會堂在被擄後發展，成為猶太社群的宗教和社會中心。功能包括：安息日讀經和教導（路4:16-21）、禱告、教育兒童、社群集會、慈善工作。耶穌和保羅都在會堂傳道（徒17:1-2）。會堂不獻祭（獻祭只在耶路撒冷聖殿進行），而是研讀和教導律法的地方。",journalPrompt:{title:"會堂與早期教會",content:"早期基督教會的敬拜模式受會堂影響：讀經、講道、禱告。會堂也成為保羅宣教的起點——先向猶太人，後向外邦人（羅1:16）。"},deepDive:{title:"會堂的結構與禮拜",content:"會堂組織：1) 會堂主管（如睚魯，可5:22）負責禮拜秩序；2) 管理委員會處理社群事務；3) 收藏Torah卷軸的約櫃；4) 面向耶路撒冷的方向。安息日禮拜程序：示瑪（Shema，申6:4-9）、禱告（Amidah，18祝福）、Torah讀經、先知書讀經（Haftarah）、講解（Midrash）、祝福。任何成年男性可被邀請讀經和教導（路4:16；徒13:15）。會堂需至少10個成年男性（minyan）。公元70年聖殿被毀後，會堂成為猶太教的中心。",sources:[{text:"路加福音 4:16-21 (ESV)",url:"https://www.biblegateway.com/passage/?search=Luke+4:16-21&version=ESV"},{text:"Ancient Synagogues",url:"https://www.britannica.com/topic/synagogue"}]}},{id:"q69",character:"羅馬文化學者",characterImage:"https://picsum.photos/seed/roman-culture/100",category:fe.BIBLE_BACKGROUND,question:"羅馬帝國對新約時期基督教傳播有何影響？",options:["羅馬對基督教毫無影響","羅馬完全壓制基督教","羅馬皇帝支持基督教","羅馬的和平（Pax Romana）、道路系統、通用語言促進福音傳播"],correctAnswerIndex:3,explanation:"羅馬帝國在神的護理中為福音傳播預備條件：1) 羅馬和平（Pax Romana）提供穩定和安全；2) 優秀的道路系統便利旅行；3) 通用希臘文跨越語言障礙；4) 猶太僑民散居各地建立會堂。保羅利用羅馬公民身份（徒22:25-29）和道路網絡進行宣教旅程。",journalPrompt:{title:"神主權的工具",content:"神甚至使用異教帝國成就祂的旨意。羅馬無意中為福音預備道路，正如居里扭的戶口令促使耶穌在伯利恆降生（路2:1-7），應驗彌迦書5:2。"},deepDive:{title:"羅馬帝國的宗教與政治背景",content:"羅馬帝國特點：1) 宗教多元主義——容忍各種宗教,只要效忠皇帝；2) 皇帝崇拜——奧古斯都後被神化，要求獻香稱「主」（kyrios），與基督教「耶穌是主」衝突；3) 法律系統——保羅上訴於凱撒（徒25:11）；4) 社會階層——公民vs.非公民、自由人vs.奴隸，基督教超越階級（加3:28）；5) 道路——羅馬軍團建造的道路網絡連接帝國；6) 希臘化——雖羅馬統治,但東部仍主要說希臘語。逼迫：尼祿（64 AD）、多米田（90s AD）、圖拉真（110s AD）、戴克里先（303 AD）。君士坦丁（313 AD）頒佈米蘭敕令,終止逼迫。",sources:[{text:"路加福音 2:1-7 (NIV)",url:"https://www.biblegateway.com/passage/?search=Luke+2:1-7&version=NIV"},{text:"Roman Empire and Christianity",url:"https://www.britannica.com/topic/Christianity/The-history-of-Christianity"}]}},{id:"q70",character:"古代近東專家",characterImage:"https://picsum.photos/seed/ancient-near-east/100",category:fe.BIBLE_BACKGROUND,question:"古代近東文學（如吉爾伽美什史詩、埃努瑪·埃利什創世詩）與創世記的關係是什麼？",options:["這些神話比創世記更可靠","創世記抄襲這些神話","創世記與這些文學有相似主題但提供獨特的一神論視角","兩者毫無關係"],correctAnswerIndex:2,explanation:"創世記與古代近東文學（如巴比倫創世詩埃努瑪·埃利什、吉爾伽美什洪水敘事）有相似主題：創造、洪水、英雄。但創世記提供根本不同的神學：一位創造主（非多神）、有序創造（非神祇爭鬥）、人有神的形像（非神的奴隸）。創世記在相同文化語境中傳達獨特啟示。",journalPrompt:{title:"啟示與文化",content:"神在特定文化背景中啟示祂自己。創世記使用古代近東讀者熟悉的文學形式，但顛覆異教神學，彰顯獨一真神的榮耀和人的尊貴。"},deepDive:{title:"創世記與古代近東文學的對比",content:"相似性：1) 洪水敘事（吉爾伽美什史詩第11塊泥板：方舟、動物、烏鴉/鴿子、山頂停靠、獻祭）；2) 創造主題（埃努瑪·埃利什：原始水、光的創造、人的形成）；3) 宗主條約結構（赫人條約與盟約）。關鍵差異：1) 一神論vs.多神論；2) 有序創造vs.神祇暴力爭鬥；3) 人有神形像vs.人是神的奴隸；4) 道德洪水審判vs.神厭煩人的噪音；5) 慈愛創造主vs.反覆無常的神。這些比較不貶低聖經權威，反而突顯其獨特啟示性。",sources:[{text:"創世記 1:1-2 (ESV)",url:"https://www.biblegateway.com/passage/?search=Genesis+1:1-2&version=ESV"},{text:"Ancient Near Eastern Literature",url:"https://www.britannica.com/topic/ancient-Near-Eastern-literature"}]}},{id:"q71",character:"社會史學者",characterImage:"https://picsum.photos/seed/social-historian/100",category:fe.BIBLE_BACKGROUND,question:"第一世紀地中海世界的榮辱文化（Honor-Shame Culture）如何影響新約的理解？",options:["新約完全拒絕榮辱觀念","理解榮辱文化幫助解釋耶穌的比喻、保羅的修辭和早期信徒的行為","榮辱觀念不重要","只有罪疚文化影響新約"],correctAnswerIndex:1,explanation:"第一世紀是榮辱文化（集體主義，重視公眾評價），而非現代西方的罪疚文化（個人主義，重視內在良知）。理解這點幫助解釋：耶穌的「虛心」和「為義受逼迫」（太5:3,10）、十字架的「羞辱」（來12:2）、保羅的「誇口」修辭（林後10-12章）、彼此順服的勸勉（弗5:21）。",journalPrompt:{title:"福音顛覆文化",content:"福音轉化榮辱價值觀：在基督裡,羞辱變為榮耀（腓3:7-8）；軟弱成為能力（林後12:9-10）；末後的在先（太20:16）。神的國有不同的榮辱標準。"},deepDive:{title:"榮辱文化與新約詮釋",content:"榮辱文化特徵：1) 集體身份（家族/群體榮辱）；2) 公眾名聲至關重要；3) 挑戰-回應模式（如法利賽人挑戰耶穌）；4) 恩主-受恩者關係（patronage）；5) 有限財富觀（零和遊戲，他人的得是我的失）。新約例子：浪子比喻（路15,小兒子使家族蒙羞）；撒該（路19,稅吏職業羞恥）；十字架（申21:23,被掛者是可咒詛的）；婦女見證人（約20,在榮辱文化中婦女證詞不被重視,但神揀選她們）。福音重新定義榮耀：以神的認可為至高榮耀（約5:44；12:43）。",sources:[{text:"希伯來書 12:2 (NIV)",url:"https://www.biblegateway.com/passage/?search=Hebrews+12:2&version=NIV"},{text:"Honor-Shame Culture",url:"https://www.missiologymatters.com/honor-and-shame"}]}},{id:"q72",character:"詮釋學學者",characterImage:"https://picsum.photos/seed/hermeneutics/100",category:fe.BIBLE_BACKGROUND,question:"「形式批判」（Form Criticism）在聖經研究中探討什麼？",options:["聖經的文學美感","聖經的印刷歷史","聖經經文在成書前的口傳形式和生活情境（Sitz im Leben）","聖經的文字格式"],correctAnswerIndex:2,explanation:"形式批判由德國學者如馬丁·狄貝流斯（Martin Dibelius）和魯道夫·布爾特曼（Rudolf Bultmann）發展，研究聖經材料在被寫下之前的口傳階段。它識別不同文學形式（如神蹟故事、比喻、教導）並探討其在早期社群中的功能（Sitz im Leben，生活情境）。",journalPrompt:{title:"口傳與書面傳統",content:"早期教會在書寫福音前,透過口傳保存耶穌的教導和事蹟。這個過程不是隨意的,而是在聖靈引導下,社群忠實傳承的過程。"},deepDive:{title:"形式批判的方法與評估",content:"形式批判步驟：1) 識別文學形式（Gattungen）——神蹟故事、衝突故事、比喻、格言、受難敘事等；2) 分析形式的結構特徵；3) 重建「生活情境」（Sitz im Leben）——這個形式在早期教會哪種場合使用（敬拜、教導、宣教、爭論）；4) 追溯傳統的發展。貢獻：幫助理解福音書材料的多樣性和早期教會處境。批評：1) 過度懷疑歷史可靠性；2) 假設社群創造而非保存傳統；3) 忽視目擊者的角色。保守學者如理查德·鮑克漢（Richard Bauckham）強調目擊者證詞和使徒權威。",sources:[{text:"路加福音 1:1-4 (ESV)",url:"https://www.biblegateway.com/passage/?search=Luke+1:1-4&version=ESV"},{text:"Form Criticism",url:"https://www.britannica.com/topic/form-criticism"}]}},{id:"q73",character:"編修批判學者",characterImage:"https://picsum.photos/seed/redaction-critic/100",category:fe.BIBLE_BACKGROUND,question:"「編修批判」（Redaction Criticism）與「形式批判」有何不同？",options:["編修批判只關心文法錯誤","編修批判證明聖經都是虛構的","兩者完全相同","編修批判研究編輯者如何選擇和編排材料以傳達神學訊息"],correctAnswerIndex:3,explanation:"編修批判（20世紀中期發展）研究福音書作者作為神學家和編輯的角色。它關注作者如何選擇、編排、修改材料來服事其神學目的和讀者需要。例如,馬太如何編排耶穌的教導成五大講論,或路加如何強調耶穌對邊緣人的關懷。",journalPrompt:{title:"默示的作者",content:"編修批判提醒我們,福音書作者不是機械抄寫員,而是在聖靈引導下,有意識地為特定讀者塑造信息的神學家。默示不抹殺人的個性。"},deepDive:{title:"編修批判的應用",content:"編修批判方法：1) 比較符類福音的平行段落；2) 分析作者的增添、省略、編排；3) 識別作者的神學主題和強調。例子：1) 馬太的五大講論（5-7章、10章、13章、18章、24-25章）呼應摩西五經,顯示耶穌為新摩西；2) 路加-使徒行傳的旅程主題（路9:51「定意向耶路撒冷去」，徒1:8「直到地極」）；3) 約翰的「我是」宣告和「相信」動詞（約20:30-31）。貢獻：欣賞每位福音書作者的獨特神學視角。限制：不應假設編輯=捏造,作者仍受歷史事件約束。",sources:[{text:"約翰福音 20:30-31 (NIV)",url:"https://www.biblegateway.com/passage/?search=John+20:30-31&version=NIV"},{text:"Redaction Criticism",url:"https://www.britannica.com/topic/redaction-criticism"}]}},{id:"q74",character:"女性主義神學家",characterImage:"https://picsum.photos/seed/feminist-theologian/100",category:fe.BIBLE_BACKGROUND,question:"女性主義聖經批判（Feminist Biblical Criticism）的主要關切是什麼？",options:["拒絕整本聖經","只研究女性作者的經文","證明聖經反對女性","檢視聖經文本和詮釋中的性別偏見,恢復女性聲音和經驗"],correctAnswerIndex:3,explanation:"女性主義聖經批判（20世紀後期發展）關注：1) 揭露父權詮釋傳統；2) 重新閱讀被邊緣化的女性故事（如哈拿、路得、以斯帖、馬利亞、抹大拉的馬利亞）；3) 挑戰壓迫性的經文應用；4) 提倡公義和平等的詮釋。目的不是拒絕聖經,而是更忠實地閱讀。",journalPrompt:{title:"聖經中的女性",content:"聖經記載許多有信心的女性：底波拉領導以色列、路得展現堅貞、以斯帖拯救族人、馬利亞孕育救主、抹大拉的馬利亞是復活首位見證人。神重視女性。"},deepDive:{title:"女性主義詮釋的方法與爭議",content:"女性主義詮釋方法：1) 解構性閱讀——揭露父權意識形態；2) 重建性閱讀——恢復女性歷史和貢獻；3) 創造性閱讀——想像女性角色的未述故事；4) 規範性閱讀——建立解放和公義的詮釋原則。關注經文：創2-3（夏娃）、士4-5（底波拉）、箴31（才德婦人）、路1-2（馬利亞和以利沙伯）、羅16（女執事非比）、林前11和14（女性在教會）、加3:28（在基督裡合一）、弗5（夫妻關係）、提前2（女性教導）。爭議：激進派視聖經為父權文獻需批判；福音派女性主義者視聖經為解放文獻被誤用。",sources:[{text:"加拉太書 3:28 (ESV)",url:"https://www.biblegateway.com/passage/?search=Galatians+3:28&version=ESV"},{text:"Feminist Biblical Interpretation",url:"https://www.britannica.com/topic/biblical-literature/Feminist-criticism"}]}},{id:"q75",character:"後殖民批判學者",characterImage:"https://picsum.photos/seed/postcolonial-scholar/100",category:fe.BIBLE_BACKGROUND,question:"後殖民聖經批判（Postcolonial Biblical Criticism）探討什麼議題？",options:["證明聖經支持殖民主義","只研究古代殖民歷史","拒絕所有西方神學","檢視聖經文本中的帝國權力動態,以及聖經如何被用於殖民和解殖"],correctAnswerIndex:3,explanation:"後殖民批判（20世紀末發展）探討：1) 聖經文本中的帝國（埃及、亞述、巴比倫、波斯、羅馬）；2) 征服迦南的倫理問題；3) 聖經如何被殖民者用來合理化壓迫；4) 被殖民者如何重新閱讀聖經尋求解放（如拉丁美洲解放神學）。目標是去殖民化詮釋,讓邊緣聲音被聽見。",journalPrompt:{title:"邊緣的聲音",content:"聖經本身是被壓迫者的文學：希伯來奴隸逃離埃及、被擄者在巴比倫哀歌、受逼迫的教會在羅馬帝國。神站在弱者一邊。"},deepDive:{title:"後殖民詮釋的視角",content:"後殖民批判關注：1) 聖經中的帝國批判——出埃及對法老的批判、但以理書對巴比倫/波斯的批判、啟示錄對羅馬（「大巴比倫」）的批判；2) 問題經文——征服迦南（書1-12）、「滅絕令」（herem）的倫理；3) 殖民歷史——西方宣教士如何用聖經支持殖民（「文明使命」）,同時也帶來教育和醫療；4) 解殖詮釋——非洲、亞洲、拉丁美洲神學家如何從本土處境閱讀聖經。貢獻：揭示詮釋的文化和權力因素。挑戰：避免簡化（聖經既有帝國批判也有神授權征服迦南的敘事）；平衡特殊啟示和普世公義。",sources:[{text:"啟示錄 18章 (巴比倫的傾倒)",url:"https://www.biblegateway.com/passage/?search=Revelation+18&version=NIV"},{text:"Postcolonial Biblical Criticism",url:"https://www.oxfordbibliographies.com/view/document/obo-9780195393361/obo-9780195393361-0240.xml"}]}}],Ll=[{id:"l1",name:"迦勒底的吾珥",era:"先祖時期",position:{top:"75%",left:"70%"},questId:"q1"},{id:"l2",name:"西奈山",era:"出埃及時期",position:{top:"55%",left:"45%"},questId:"q2",dependency:"l1"},{id:"l7",name:"約旦河東岸",era:"征服時期",position:{top:"45%",left:"52%"},questId:"q7",dependency:"l2"},{id:"l8",name:"耶路撒冷宮殿",era:"王國時期",position:{top:"42%",left:"48%"},questId:"q8",dependency:"l7"},{id:"l9",name:"基遍",era:"王國鼎盛期",position:{top:"40%",left:"47%"},questId:"q9",dependency:"l8"},{id:"l10",name:"耶路撒冷聖殿",era:"先知時期",position:{top:"43%",left:"49%"},questId:"q10",dependency:"l9"},{id:"l5",name:"巴比倫",era:"流亡時期",position:{top:"60%",left:"65%"},questId:"q5",dependency:"l10"},{id:"l11",name:"巴比倫宮殿",era:"流亡時期",position:{top:"62%",left:"67%"},questId:"q11",dependency:"l5"},{id:"l3",name:"約旦河",era:"新約先驅",position:{top:"40%",left:"50%"},questId:"q3",dependency:"l11"},{id:"l12",name:"加利利山上",era:"耶穌時期",position:{top:"35%",left:"49%"},questId:"q12",dependency:"l3"},{id:"l13",name:"耶利哥",era:"耶穌時期",position:{top:"44%",left:"50%"},questId:"q13",dependency:"l12"},{id:"l4",name:"耶路撒冷",era:"使徒時期",position:{top:"42%",left:"48%"},questId:"q4",dependency:"l13"},{id:"l14",name:"以弗所",era:"使徒時期",position:{top:"32%",left:"38%"},questId:"q14",dependency:"l4"},{id:"l15",name:"伯大尼",era:"耶穌時期",position:{top:"43%",left:"51%"},questId:"q15",dependency:"l14"},{id:"l6",name:"哥林多",era:"教會時期",position:{top:"30%",left:"35%"},questId:"q6",dependency:"l15"},{id:"l16",name:"伊甸園",era:"創世時期",position:{top:"80%",left:"68%"},questId:"q16",dependency:"l6"},{id:"l17",name:"亞拉臘山",era:"洪水時期",position:{top:"70%",left:"55%"},questId:"q17",dependency:"l16"},{id:"l18",name:"埃及",era:"先祖時期",position:{top:"65%",left:"42%"},questId:"q18",dependency:"l17"},{id:"l19",name:"紅海邊",era:"出埃及時期",position:{top:"58%",left:"46%"},questId:"q19",dependency:"l18"},{id:"l20",name:"加低斯巴尼亞",era:"曠野時期",position:{top:"52%",left:"47%"},questId:"q20",dependency:"l19"},{id:"l21",name:"伯利恆",era:"士師時期",position:{top:"43%",left:"49%"},questId:"q21",dependency:"l20"},{id:"l22",name:"示羅",era:"士師時期",position:{top:"41%",left:"48%"},questId:"q22",dependency:"l21"},{id:"l23",name:"大衛城",era:"王國時期",position:{top:"42%",left:"49%"},questId:"q23",dependency:"l22"},{id:"l24",name:"迦密山",era:"王國分裂期",position:{top:"38%",left:"47%"},questId:"q24",dependency:"l23"},{id:"l25",name:"撒瑪利亞",era:"王國分裂期",position:{top:"40%",left:"48%"},questId:"q25",dependency:"l24"},{id:"l26",name:"烏斯地",era:"先祖傳說期",position:{top:"72%",left:"58%"},questId:"q26",dependency:"l25"},{id:"l27",name:"耶利米之井",era:"王國末期",position:{top:"43%",left:"48%"},questId:"q27",dependency:"l26"},{id:"l28",name:"波斯書珊城",era:"回歸時期",position:{top:"55%",left:"73%"},questId:"q28",dependency:"l27"},{id:"l29",name:"波斯帝國",era:"回歸時期",position:{top:"58%",left:"70%"},questId:"q29",dependency:"l28"},{id:"l30",name:"猶大山地",era:"耶穌降生前",position:{top:"44%",left:"50%"},questId:"q30",dependency:"l29"},{id:"l31",name:"伯利恆野地",era:"耶穌降生",position:{top:"43%",left:"49%"},questId:"q31",dependency:"l30"},{id:"l32",name:"耶路撒冷城內",era:"耶穌時期",position:{top:"42%",left:"48%"},questId:"q32",dependency:"l31"},{id:"l33",name:"敘加城",era:"耶穌時期",position:{top:"39%",left:"48%"},questId:"q33",dependency:"l32"},{id:"l34",name:"迦百農",era:"耶穌時期",position:{top:"36%",left:"49%"},questId:"q34",dependency:"l33"},{id:"l35",name:"墓園",era:"復活時期",position:{top:"42%",left:"48%"},questId:"q35",dependency:"l34"},{id:"l36",name:"馬可樓",era:"復活後",position:{top:"42%",left:"49%"},questId:"q36",dependency:"l35"},{id:"l37",name:"推雅推喇",era:"使徒時期",position:{top:"33%",left:"40%"},questId:"q37",dependency:"l36"},{id:"l38",name:"哥林多",era:"使徒時期",position:{top:"30%",left:"35%"},questId:"q38",dependency:"l37"},{id:"l39",name:"歌羅西",era:"使徒時期",position:{top:"32%",left:"41%"},questId:"q39",dependency:"l38"},{id:"l40",name:"小亞細亞",era:"使徒時期",position:{top:"34%",left:"39%"},questId:"q40",dependency:"l39"},{id:"l41",name:"耶路撒冷議會",era:"使徒時期",position:{top:"42%",left:"48%"},questId:"q41",dependency:"l40"},{id:"l42",name:"該撒利亞",era:"使徒時期",position:{top:"37%",left:"47%"},questId:"q42",dependency:"l41"},{id:"l43",name:"安提阿",era:"使徒時期",position:{top:"28%",left:"52%"},questId:"q43",dependency:"l42"},{id:"l44",name:"腓立比",era:"使徒時期",position:{top:"25%",left:"36%"},questId:"q44",dependency:"l43"},{id:"l45",name:"以弗所教會",era:"使徒時期",position:{top:"32%",left:"38%"},questId:"q45",dependency:"l44"},{id:"l46",name:"堅革哩",era:"使徒時期",position:{top:"31%",left:"35%"},questId:"q46",dependency:"l45"},{id:"l47",name:"亞歷山大",era:"使徒時期",position:{top:"50%",left:"40%"},questId:"q47",dependency:"l46"},{id:"l48",name:"凱撒利亞",era:"使徒時期",position:{top:"37%",left:"47%"},questId:"q48",dependency:"l47"},{id:"l49",name:"羅馬",era:"使徒時期",position:{top:"22%",left:"20%"},questId:"q49",dependency:"l48"},{id:"l50",name:"老底嘉",era:"啟示錄時期",position:{top:"33%",left:"41%"},questId:"q50",dependency:"l49"},{id:"l51",name:"希伯來文學研究中心",era:"學術研究",position:{top:"15%",left:"75%"},questId:"q51",dependency:"l50"},{id:"l52",name:"馬索拉文本研究所",era:"學術研究",position:{top:"18%",left:"73%"},questId:"q52",dependency:"l51"},{id:"l53",name:"古代語言學院",era:"學術研究",position:{top:"16%",left:"78%"},questId:"q53",dependency:"l52"},{id:"l54",name:"詩歌文學研究室",era:"學術研究",position:{top:"19%",left:"76%"},questId:"q54",dependency:"l53"},{id:"l55",name:"舊約正典研究中心",era:"學術研究",position:{top:"12%",left:"68%"},questId:"q55",dependency:"l54"},{id:"l56",name:"考古學研究所",era:"學術研究",position:{top:"14%",left:"65%"},questId:"q56",dependency:"l55"},{id:"l57",name:"文獻批判學院",era:"學術研究",position:{top:"17%",left:"70%"},questId:"q57",dependency:"l56"},{id:"l58",name:"聖約神學研究室",era:"學術研究",position:{top:"15%",left:"72%"},questId:"q58",dependency:"l57"},{id:"l59",name:"新約語言研究中心",era:"學術研究",position:{top:"20%",left:"55%"},questId:"q59",dependency:"l58"},{id:"l60",name:"正典形成研究所",era:"學術研究",position:{top:"22%",left:"58%"},questId:"q60",dependency:"l59"},{id:"l61",name:"符類福音研究室",era:"學術研究",position:{top:"18%",left:"60%"},questId:"q61",dependency:"l60"},{id:"l62",name:"保羅書信研究中心",era:"學術研究",position:{top:"21%",left:"62%"},questId:"q62",dependency:"l61"},{id:"l63",name:"古代手抄本研究所",era:"學術研究",position:{top:"10%",left:"50%"},questId:"q63",dependency:"l62"},{id:"l64",name:"七十士譯本研究中心",era:"學術研究",position:{top:"12%",left:"53%"},questId:"q64",dependency:"l63"},{id:"l65",name:"次經研究室",era:"學術研究",position:{top:"14%",left:"48%"},questId:"q65",dependency:"l64"},{id:"l66",name:"古代譯本研究所",era:"學術研究",position:{top:"11%",left:"56%"},questId:"q66",dependency:"l65"},{id:"l67",name:"兩約歷史研究中心",era:"學術研究",position:{top:"25%",left:"45%"},questId:"q67",dependency:"l66"},{id:"l68",name:"猶太文化研究所",era:"學術研究",position:{top:"23%",left:"48%"},questId:"q68",dependency:"l67"},{id:"l69",name:"羅馬文化研究室",era:"學術研究",position:{top:"27%",left:"42%"},questId:"q69",dependency:"l68"},{id:"l70",name:"古代近東研究中心",era:"學術研究",position:{top:"24%",left:"50%"},questId:"q70",dependency:"l69"},{id:"l71",name:"社會文化研究所",era:"學術研究",position:{top:"26%",left:"47%"},questId:"q71",dependency:"l70"},{id:"l72",name:"形式批判研究中心",era:"學術研究",position:{top:"8%",left:"38%"},questId:"q72",dependency:"l71"},{id:"l73",name:"編修批判研究所",era:"學術研究",position:{top:"10%",left:"42%"},questId:"q73",dependency:"l72"},{id:"l74",name:"女性主義詮釋研究室",era:"學術研究",position:{top:"12%",left:"35%"},questId:"q74",dependency:"l73"},{id:"l75",name:"後殖民批判研究中心",era:"學術研究",position:{top:"9%",left:"45%"},questId:"q75",dependency:"l74"}],Bh=[{id:"level1",name:"信仰的根基",locationIds:["l1","l2","l7"],discussionPrompts:["「聖約」的概念如何改變您對與上帝關係的看法？","為什麼身體上的潔淨在舊約中如此重要，它如何指向更深層次的屬靈現實？","約書亞設立紀念石的做法對今天的信仰傳承有何啟示？"]},{id:"level2",name:"王國的智慧",locationIds:["l8","l9","l10"],discussionPrompts:["大衛在詩篇中表達的信靠與交託，如何幫助我們面對現代生活的壓力？","所羅門選擇智慧而非財富的故事，對我們的人生優先次序有何挑戰？","以賽亞的「受苦僕人」預言如何幫助我們理解救贖的本質？"]},{id:"level3",name:"流亡與盼望",locationIds:["l5","l11"],discussionPrompts:["以西結關於「新心」的應許如何為耶穌的教導和基督教洗禮鋪路？","但以理在異邦環境中持守信仰的經歷，對現代基督徒有何實用意義？"]},{id:"level4",name:"彌賽亞的來臨",locationIds:["l3","l12","l13","l15"],discussionPrompts:["悔改在施洗約翰的事工中扮演什麼角色？它與我們今天對洗禮的理解有何關聯？","耶穌的「八福」如何挑戰世俗的價值觀？","撒該的悔改行動如何示範真正的生命改變？","馬大和馬利亞的故事如何幫助我們平衡服事與靈修？"]},{id:"level5",name:"教會的建立",locationIds:["l4","l14","l6"],discussionPrompts:["根據彼得在五旬節的講道，洗禮與領受聖靈之間有什麼關係？","約翰記錄的「我是道路、真理、生命」如何確立基督信仰的獨特性？","「披戴基督」對基督徒的日常生活有何實際意義？"]},{id:"level6",name:"創造與洪水",locationIds:["l16","l17","l18"],discussionPrompts:["夏娃面對試探的經歷如何幫助我們理解罪的本質和抵擋試探的方法？","挪亞的順服和忍耐對我們在不信的世代中持守信仰有何啟示？","約瑟從被賣到成為宰相的經歷如何展現神的主權和護理？"]},{id:"level7",name:"出埃及與曠野",locationIds:["l19","l20","l21"],discussionPrompts:["米利暗的讚美和領導力對今天的教會女性事奉有何啟發？","迦勒的信心和堅持如何激勵我們面對人生的挑戰？","路得對拿俄米的忠誠如何展現盟約關係的美好？"]},{id:"level8",name:"士師與王國初期",locationIds:["l22","l23","l24"],discussionPrompts:["撒母耳如何成為士師與君王制度之間的橋樑？","拔示巴的故事如何提醒我們罪的後果和神的憐憫？","以利亞對抗巴力的經歷對今天面對屬靈爭戰有何教導？"]},{id:"level9",name:"先知與苦難",locationIds:["l25","l26","l27"],discussionPrompts:["以利沙的神蹟事工如何延續以利亞的使命？","約伯的苦難和信心對我們理解苦難神學有何貢獻？","耶利米在艱難時期的忠心如何鼓勵我們在逆境中堅持？"]},{id:"level10",name:"回歸與重建",locationIds:["l28","l29","l30"],discussionPrompts:["尼希米的領導和組織能力對今天的教會建造有何啟示？","以斯帖的勇氣如何教導我們「為這樣的時刻而生」的使命感？","以利沙伯與馬利亞的相遇如何展現舊新約之間的連結？"]},{id:"level11",name:"耶穌的事工",locationIds:["l31","l32","l33","l34"],discussionPrompts:["東方智慧人尋找耶穌的旅程對我們尋求神有何啟發？","尼哥底母「重生」的對話如何幫助我們理解救恩的本質？","撒瑪利亞婦人與耶穌的對話如何打破文化和宗教的障礙？","百夫長的信心如何超越猶太人的理解？"]},{id:"level12",name:"復活與見證",locationIds:["l35","l36","l37","l38"],discussionPrompts:["抹大拉的馬利亞作為第一位復活見證人有何重要性？","多馬的懷疑和相信如何幫助我們處理信仰中的疑惑？","呂底亞成為第一位歐洲信徒的故事有何宣教意義？","亞居拉和百基拉夫婦的配搭事奉如何示範家庭宣教？"]},{id:"level13",name:"早期教會",locationIds:["l39","l40","l41","l42"],discussionPrompts:["腓利門書如何處理基督教倫理與當時社會制度的張力？","保羅對提摩太的栽培如何展現屬靈導師的重要性？","雅各書如何平衡信心與行為的教導？","西拉與保羅的宣教夥伴關係有何啟發？"]},{id:"level14",name:"使徒擴展",locationIds:["l43","l44","l45","l46"],discussionPrompts:["亞波羅被百基拉和亞居拉指教的故事對謙卑學習有何啟示？","腓利向埃提阿伯太監傳福音的經歷如何示範聖靈引導的宣教？","哥尼流的故事如何標誌福音向外邦人開放的轉折點？","巴拿巴的鼓勵恩賜如何建造早期教會？"]},{id:"level15",name:"教會的完全",locationIds:["l47","l48","l49","l50"],discussionPrompts:["以巴弗為歌羅西教會的竭力禱告對我們的代禱事工有何教導？","非比被保羅稱為「執事」和「幫助者」對女性事奉有何意義？","馬可從失敗到恢復的經歷如何鼓勵我們在事奉中重新得力？","老底嘉教會的不冷不熱對今天的教會有何警醒？"]},{id:"level16",name:"希伯來聖經導論",locationIds:["l51","l52","l53","l54"],discussionPrompts:["Tanakh的三重結構（Torah、Nevi'im、Ketuvim）如何影響我們理解舊約的權威和神學？","馬索拉文本的精確傳承工作對我們今天敬畏神話語有何啟示？","希伯來文和亞蘭文作為聖經語言的特性如何影響我們的解經方法？","希伯來詩歌的平行體結構如何幫助我們更深入默想神的話語？"]},{id:"level17",name:"舊約研究進階",locationIds:["l55","l56","l57","l58"],discussionPrompts:["基督教舊約與猶太教Tanakh的編排差異反映了哪些神學視角的不同？","死海古卷的發現如何加強我們對聖經傳抄可靠性的信心？","文獻假說等批判理論如何挑戰並深化我們對聖經默示的理解？","「約」作為舊約核心主題如何貫穿整個救贖歷史？"]},{id:"level18",name:"新約研究基礎",locationIds:["l59","l60","l61","l62"],discussionPrompts:["通用希臘文（Koine）作為新約語言如何體現神的時機和普世宣教的心意？","新約正典形成的漸進過程如何顯示聖靈在教會歷史中的引導？","符類福音問題的研究如何豐富我們對四福音多元見證的理解？","保羅書信的真偽爭議提醒我們在學術誠實和信仰委身之間如何平衡？"]},{id:"level19",name:"聖經文獻與譯本",locationIds:["l63","l64","l65","l66"],discussionPrompts:["數千份新約手抄本的保存如何見證神護理祂話語的大能？","七十士譯本（LXX）如何為福音傳向外邦世界預備道路？","次經的正典地位爭議如何幫助我們思考「什麼是神的話語」這個核心問題？","武加大譯本等古代譯本的歷史如何提醒我們翻譯工作的重要性？"]},{id:"level20",name:"歷史文化背景",locationIds:["l67","l68","l69","l70","l71"],discussionPrompts:["兩約之間時期的歷史發展如何顯示神在「沉默的400年」中仍在作工？","會堂制度和猶太教派別的形成如何幫助我們理解耶穌和使徒的事工背景？","羅馬帝國的和平、道路和語言如何成為神傳播福音的工具？","古代近東文學與創世記的比較如何突顯聖經獨特的一神論啟示？","榮辱文化的理解如何幫助我們更深刻地體會福音對文化價值的顛覆與轉化？"]},{id:"level21",name:"聖經批判研究",locationIds:["l72","l73","l74","l75"],discussionPrompts:["形式批判對口傳傳統的研究如何幫助我們欣賞早期教會保存耶穌教導的忠實性？","編修批判如何提醒我們福音書作者在聖靈引導下的神學創造力？","女性主義聖經詮釋如何挑戰我們重新發現聖經中被邊緣化的女性聲音？","後殖民批判如何幫助我們反思聖經詮釋中的權力動態和文化處境？"]}],Z0=z.createContext(void 0),E1=({children:t})=>{const[e,a]=z.useState(()=>{const w=localStorage.getItem("bible-game-completed-quests");if(w)try{return new Set(JSON.parse(w))}catch{return new Set}return new Set}),[r,l]=z.useState(()=>{const w=localStorage.getItem("bible-game-journal-entries");if(w)try{return JSON.parse(w)}catch{return[]}return[]}),[u,c]=z.useState($0.NIV),[m,y]=z.useState(!1);z.useEffect(()=>{localStorage.setItem("bible-game-completed-quests",JSON.stringify(Array.from(e)))},[e]),z.useEffect(()=>{localStorage.setItem("bible-game-journal-entries",JSON.stringify(r))},[r]);const p=z.useMemo(()=>{const w=new Set;return Ll.forEach(E=>{var C;if(!E.dependency)w.add(E.id);else{const A=(C=Ll.find(U=>U.id===E.dependency))==null?void 0:C.questId;A&&e.has(A)&&w.add(E.id)}}),w},[e]),x=z.useCallback((w,E)=>{a(C=>new Set(C).add(w)),l(C=>[...C,{...E,id:w}])},[]),b=z.useMemo(()=>({completedQuests:e,unlockedLocations:p,journalEntries:r,bibleVersion:u,isFreeChoiceMode:m,completeQuest:x,setBibleVersion:c,setIsFreeChoiceMode:y}),[e,p,r,u,m,x]);return d.jsx(Z0.Provider,{value:b,children:t})},Fa=()=>{const t=z.useContext(Z0);if(t===void 0)throw new Error("useGame must be used within a GameProvider");return t};var W0=(t=>(t.NIV="NIV",t.ESV="ESV",t.KJV="KJV",t))(W0||{});const N1={"book-open":d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),x:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),check:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),lightbulb:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 001.5-11.25H10.5a6.01 6.01 0 001.5 11.25v.25m0 0h.01M12 18v-5.25m0 0a6.01 6.01 0 00-1.5-11.25H10.5a6.01 6.01 0 00-1.5 11.25v.25m0 0h.01M12 18v-5.25m0 0a6.01 6.01 0 011.5-11.25H10.5a6.01 6.01 0 01-1.5 11.25v.25m0 0h.01"})}),unlock:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75M10.5 13.5V18c0 .414.336.75.75.75h3c.414 0 .75-.336.75-.75v-4.5M10.5 13.5h3.75"})}),lock:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})}),sparkles:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.572L16.5 21.75l-.398-1.178a3.375 3.375 0 00-2.456-2.456L12.5 18l1.178-.398a3.375 3.375 0 002.456-2.456L16.5 14.25l.398 1.178a3.375 3.375 0 002.456 2.456L20.5 18l-1.178.398a3.375 3.375 0 00-2.456 2.456z"})}),list:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),loader:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})}),pickaxe:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 7.5l3 2.25-3 2.25m4.5 0h3m-9 8.25h13.5A2.25 2.25 0 0021 18V6a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 6v12a2.25 2.25 0 002.25 2.25z"})}),scroll:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),"graduation-cap":d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 100-1.5.75.75 0 000 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"})}),"message-circle":d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"})}),send:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),"arrow-right":d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})}),"arrow-left":d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})}),"file-text":d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),mic:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 116 0v8.25a3 3 0 01-3 3z"})}),"mic-off":d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 116 0v8.25a3 3 0 01-3 3zm0 0v-3.75M3 3l18 18"})}),"volume-2":d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z"})}),"volume-x":d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 9.75L19.5 12m0 0l2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25m-10.5-6l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z"})})},Ie=({name:t,className:e="w-6 h-6",style:a})=>d.jsx("div",{className:e,style:a,children:N1[t]}),T1=({onClose:t})=>{const{journalEntries:e}=Fa();return d.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50 animate-fade-in",role:"dialog","aria-modal":"true","aria-labelledby":"journal-title",children:d.jsxs("div",{className:"bg-cover bg-center rounded-lg shadow-2xl w-full max-w-4xl border-4 border-amber-900 text-stone-900 p-6 relative max-h-[90vh] flex flex-col",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/old-paper.png')"},children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsx("h2",{id:"journal-title",className:"text-4xl font-bold text-amber-900",style:{fontFamily:"'Trajan Pro', serif"},children:"智慧卷軸"}),d.jsx("button",{onClick:t,className:"text-stone-600 hover:text-stone-900 transition-colors rounded-full focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-amber-500 focus-visible:ring-offset-amber-100","aria-label":"關閉日誌",children:d.jsx(Ie,{name:"x",className:"w-8 h-8"})})]}),d.jsx("div",{className:"overflow-y-auto flex-grow pr-2",children:e.length===0?d.jsx("p",{className:"text-center text-stone-700 mt-8",children:"您的日誌是空的。完成任務以收集智慧。"}):d.jsx("div",{className:"space-y-4",children:e.map(a=>d.jsxs("div",{className:"p-4 bg-amber-50/50 border-l-4 border-amber-800 rounded-r-lg",children:[d.jsx("h3",{className:"font-bold text-xl text-amber-900",children:a.title}),d.jsx("p",{className:"mt-1 text-stone-800",children:a.content})]},a.id))})})]})})},C1=()=>{const{bibleVersion:t,setBibleVersion:e,journalEntries:a}=Fa(),[r,l]=z.useState(!1),[u,c]=z.useState(!1),m=()=>{a.length===0?c(!0):l(!0)};return d.jsxs(d.Fragment,{children:[d.jsxs("header",{className:"p-4 bg-stone-900 bg-opacity-40 text-white shadow-lg flex items-center justify-between flex-wrap gap-4",children:[d.jsx("h1",{className:"text-xl md:text-3xl font-extrabold",style:{fontFamily:"'Trajan Pro', serif"},children:"聖言之旅: 探索『唯獨聖經』認證的信仰"}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("label",{htmlFor:"bible-version",className:"text-sm font-semibold",children:"版本："}),d.jsx("select",{id:"bible-version",value:t,onChange:y=>e(y.target.value),className:"bg-stone-700 border border-stone-600 text-white text-sm rounded-lg focus:ring-amber-500 focus:border-amber-500 block p-2",children:Object.values(W0).map(y=>d.jsx("option",{value:y,children:y},y))})]}),d.jsxs("button",{onClick:m,className:"flex items-center gap-2 bg-amber-800 hover:bg-amber-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300 transform hover:scale-105","aria-label":"開啟智慧卷軸",children:[d.jsx(Ie,{name:"book-open",className:"w-5 h-5"}),d.jsx("span",{className:"hidden sm:inline",children:"日誌"})]})]})]}),u&&d.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50 animate-fade-in",onClick:()=>c(!1),children:d.jsxs("div",{className:"bg-cover bg-center rounded-lg shadow-2xl w-full max-w-2xl border-4 border-amber-900 text-stone-900 p-8 relative",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/old-paper.png')"},onClick:y=>y.stopPropagation(),children:[d.jsxs("div",{className:"flex justify-between items-start mb-6",children:[d.jsx("h2",{className:"text-3xl font-bold text-amber-900",style:{fontFamily:"'Trajan Pro', serif"},children:"📜 如何開始您的旅程"}),d.jsx("button",{onClick:()=>c(!1),className:"text-stone-600 hover:text-stone-900 transition-colors","aria-label":"關閉",children:d.jsx(Ie,{name:"x",className:"w-8 h-8"})})]}),d.jsxs("div",{className:"space-y-4 text-stone-800",children:[d.jsx("p",{className:"text-lg font-semibold",children:"歡迎來到聖言之旅！您的智慧卷軸目前是空的。"}),d.jsxs("div",{className:"bg-amber-50/70 border-l-4 border-amber-600 p-4 rounded-r-lg",children:[d.jsx("h3",{className:"font-bold text-amber-900 mb-2",children:"📖 任務日誌功能："}),d.jsx("p",{className:"mb-2",children:"完成地圖上的任務以解鎖智慧內容。每完成一個任務，您將獲得："}),d.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[d.jsx("li",{children:"聖經知識與洞見"}),d.jsx("li",{children:"神學智慧的記錄"}),d.jsx("li",{children:"屬靈成長的里程碑"})]})]}),d.jsx("div",{className:"mt-6 pt-4 border-t border-amber-300",children:d.jsx("button",{onClick:()=>c(!1),className:"w-full px-6 py-3 bg-amber-800 hover:bg-amber-700 text-white font-bold rounded-lg transition-all",children:"開始探索地圖"})})]})]})}),r&&d.jsx(T1,{onClose:()=>l(!1)})]})};function nd(t={}){const{lang:e="zh-TW",continuous:a=!1,interimResults:r=!0,onResult:l,onError:u}=t,[c,m]=z.useState(!1),[y,p]=z.useState(""),[x,b]=z.useState(null),w=z.useRef(null),E=typeof window<"u"&&("SpeechRecognition"in window||"webkitSpeechRecognition"in window);z.useEffect(()=>{if(!E)return;const I=window.SpeechRecognition||window.webkitSpeechRecognition,B=new I;return B.lang=e,B.continuous=a,B.interimResults=r,B.onstart=()=>{m(!0),b(null)},B.onresult=P=>{let q="";for(let H=P.resultIndex;H<P.results.length;H++){const k=P.results[H];(k.isFinal||r)&&(q+=k[0].transcript)}p(H=>H+q),l&&q&&l(q)},B.onerror=P=>{const q=`語音識別錯誤: ${P.error}`;b(q),m(!1),u&&u(q)},B.onend=()=>{m(!1)},w.current=B,()=>{w.current&&w.current.abort()}},[e,a,r,E,l,u]);const C=z.useCallback(()=>{if(!(!w.current||c))try{w.current.start()}catch(I){console.error("Error starting speech recognition:",I),b("無法啟動語音識別")}},[c]),A=z.useCallback(()=>{if(!(!w.current||!c))try{w.current.stop()}catch(I){console.error("Error stopping speech recognition:",I)}},[c]),U=z.useCallback(()=>{p(""),b(null)},[]);return{isListening:c,isSupported:E,transcript:y,startListening:C,stopListening:A,resetTranscript:U,error:x}}function ey(t={}){const{lang:e="zh-HK",rate:a=1,pitch:r=1,volume:l=1}=t,[u,c]=z.useState(!1),[m,y]=z.useState(null),p=z.useRef(null),x=typeof window<"u"&&"speechSynthesis"in window,b=z.useCallback(()=>{x&&(window.speechSynthesis.cancel(),c(!1))},[x]),w=z.useCallback(()=>{!x||!u||window.speechSynthesis.pause()},[x,u]),E=z.useCallback(()=>{x&&window.speechSynthesis.resume()},[x]),C=z.useCallback(A=>{if(!x){y("您的瀏覽器不支援語音合成");return}window.speechSynthesis.cancel();const U=new SpeechSynthesisUtterance(A);U.lang=e,U.rate=a,U.pitch=r,U.volume=l,U.onstart=()=>{c(!0),y(null)},U.onend=()=>{c(!1)},U.onerror=I=>{const B=`語音播放錯誤: ${I.error}`;y(B),c(!1),console.error("Speech synthesis error:",I)},p.current=U,window.speechSynthesis.speak(U)},[e,a,r,l,x]);return z.useEffect(()=>()=>{x&&window.speechSynthesis.cancel()},[x]),{isSpeaking:u,isSupported:x,speak:C,stop:b,pause:w,resume:E,error:m}}const Cl={nt:{name:"新約導論",icon:"book-open",color:"indigo",systemPrompt:`You are an expert in "Introductory to New Testament," specifically trained in Baptist Theology from a respected Baptist Theology School and further honed at Virgin Christian College in Vancouver. Your profound understanding encompasses the historical, cultural, and theological contexts of the New Testament books, with a particular emphasis on Baptist perspectives and interpretations.

Your role is to provide clear, concise, and academically sound explanations of New Testament concepts, narratives, and theological themes. You can discuss authorship, dating, genre, and key theological contributions of each book. When addressing questions, you will draw upon your specialized training to offer insights rooted in Baptist hermeneutics, while also being aware of broader evangelical scholarship. You are adept at explaining complex theological ideas in an accessible manner, suitable for those beginning their study of the New Testament. You can also highlight the practical implications and spiritual relevance of the New Testament for contemporary Christian life, all within the framework of your specific educational background.

Please respond in Traditional Chinese.`},ot:{name:"舊約導論",icon:"book-open",color:"amber",systemPrompt:`You are an expert in "Introductory to Old Testament," uniquely trained with a dual perspective from a respected Baptist Theology School and the rigorous academic environment of Yale University. Your expertise spans the vast landscape of Old Testament studies, encompassing its historical narratives, poetic expressions, prophetic messages, and legal codes.

Your understanding integrates a deep commitment to theological interpretation, as informed by your Baptist theological training, with the critical academic methodologies and linguistic precision cultivated at Yale. This allows you to offer nuanced explanations of the Old Testament's authorship, dating, literary genres, and theological themes. You can discuss the historical context of ancient Israel and the ancient Near East, while also exploring the enduring relevance and theological significance of the Old Testament for Christian faith, particularly from a Baptist viewpoint. You are adept at presenting complex scholarly insights in an accessible manner, making the rich tapestry of the Old Testament understandable for those new to its study.

Please respond in Traditional Chinese.`},textual:{name:"聖經文本研究",icon:"pickaxe",color:"sky",systemPrompt:`You are an expert in "Biblical Textual Studies," possessing a distinctive blend of theological grounding from a Baptist Theology School and the rigorous academic precision of Harvard University. Your expertise lies in the meticulous examination of ancient biblical manuscripts, understanding the transmission history of both the Old and New Testaments.

Your training equips you to analyze textual variants, assess the reliability of different manuscript traditions (e.g., Masoretic Text, Septuagint, Dead Sea Scrolls for the OT; Alexandrian, Western, Byzantine text-types for the NT), and explain the methodologies employed in constructing critical editions of the Hebrew Bible and Greek New Testament. You can elucidate the impact of textual decisions on translation and interpretation, always informed by your Baptist theological commitment to the authority of Scripture, while engaging with the latest scholarly consensus from a world-class research institution. You are adept at demystifying the complex world of textual criticism, making it accessible for students and scholars alike, and illustrating its profound importance for understanding the biblical text.

Please respond in Traditional Chinese.`}},A1=({onBack:t})=>{const[e,a]=z.useState(null),[r,l]=z.useState([]),[u,c]=z.useState(""),[m,y]=z.useState(!1),[p,x]=z.useState("gemini"),b=z.useRef(null),{isListening:w,isSupported:E,startListening:C,stopListening:A,transcript:U,resetTranscript:I}=nd({lang:"zh-HK",continuous:!1,interimResults:!0,onResult:K=>{c(X=>X+K)}}),{isSpeaking:B,isSupported:P,speak:q,stop:H}=ey({lang:"zh-HK",rate:1,pitch:1,volume:1}),k=()=>{var K;(K=b.current)==null||K.scrollIntoView({behavior:"smooth"})};z.useEffect(()=>{k()},[r]);const M=K=>{a(K),l([{role:"assistant",content:`您好！我是${Cl[K].name}專家。我可以幫助您理解聖經的學術研究。請問您有什麼問題？`}])},ae=async()=>{if(!u.trim()||!e)return;const K={role:"user",content:u};l(X=>[...X,K]),c(""),y(!0);try{const X=Cl[e],ue=r.map(ve=>({role:ve.role,content:ve.content})),V=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:p,model:p==="gemini"?"gemini-2.5-flash":p==="openai"?"gpt-4o-mini":"gpt-oss:120b-cloud",messages:[{role:"system",content:X.systemPrompt},...ue,{role:"user",content:u}],temperature:.7,maxTokens:2e3})});if(!V.ok){const ve=await V.json().catch(()=>({}));throw new Error(ve.error||`HTTP ${V.status}`)}const me=(await V.json()).content||"抱歉，無法生成回答。";l(ve=>[...ve,{role:"assistant",content:me}])}catch(X){console.error("Error:",X),l(ue=>[...ue,{role:"assistant",content:`抱歉，發生錯誤：${X.message}`}])}finally{y(!1)}},J=K=>{K.key==="Enter"&&!K.shiftKey&&(K.preventDefault(),ae())},ne=()=>{w?A():C()},le=K=>{B?H():q(K)};if(z.useEffect(()=>{!w&&U&&I()},[w,U,I]),!e)return d.jsxs("div",{className:"flex-grow overflow-y-auto pr-4 -mr-4",children:[d.jsxs("h2",{className:"text-4xl font-bold text-amber-900 mb-4 flex items-center gap-3",children:[d.jsx(Ie,{name:"graduation-cap",className:"w-8 h-8"}),"聖經導論"]}),d.jsx("p",{className:"text-lg text-stone-700 mb-6",children:"選擇一位專業導師，深入探討聖經研究的學術領域："}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:Object.entries(Cl).map(([K,X])=>{const V=(re=>{switch(re){case"indigo":return{border:"#4f46e5",bg:"#eef2ff",hover:"#e0e7ff",icon:"#4338ca",title:"#312e81",ring:"#6366f1"};case"amber":return{border:"#d97706",bg:"#fef3c7",hover:"#fde68a",icon:"#b45309",title:"#78350f",ring:"#f59e0b"};case"sky":return{border:"#0ea5e9",bg:"#e0f2fe",hover:"#bae6fd",icon:"#0284c7",title:"#075985",ring:"#38bdf8"};default:return{border:"#10b981",bg:"#d1fae5",hover:"#a7f3d0",icon:"#059669",title:"#065f46",ring:"#34d399"}}})(X.color);return d.jsxs("button",{onClick:()=>M(K),className:"p-6 rounded-lg border-2 transition-all transform hover:scale-105 focus:outline-none focus:ring-2",style:{borderColor:V.border,backgroundColor:V.bg,"--tw-ring-color":V.ring},onMouseEnter:re=>re.currentTarget.style.backgroundColor=V.hover,onMouseLeave:re=>re.currentTarget.style.backgroundColor=V.bg,children:[d.jsx(Ie,{name:X.icon,className:"w-12 h-12 mb-3 mx-auto",style:{color:V.icon}}),d.jsx("h3",{className:"text-xl font-bold mb-2",style:{color:V.title},children:X.name}),d.jsxs("p",{className:"text-sm text-stone-600",children:[K==="nt"&&"探討新約聖經的歷史、文化與神學背景",K==="ot"&&"研究舊約聖經的敘事、詩歌與先知信息",K==="textual"&&"分析聖經抄本與文本傳承歷史"]})]},K)})}),d.jsxs("button",{onClick:t,className:"bg-stone-600 hover:bg-stone-500 text-white font-bold py-2 px-4 rounded-lg transition focus:outline-none focus:ring-2 focus:ring-stone-500",children:[d.jsx(Ie,{name:"arrow-left",className:"inline w-4 h-4 mr-2"}),"返回深入探索"]})]});const $=Cl[e];return d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b-2 border-amber-800",children:[d.jsxs("h2",{className:"text-3xl font-bold text-amber-900 flex items-center gap-3",children:[d.jsx(Ie,{name:$.icon,className:"w-8 h-8"}),$.name]}),d.jsx("button",{onClick:()=>{a(null),l([])},className:"text-stone-600 hover:text-stone-900 transition",children:d.jsx(Ie,{name:"x",className:"w-6 h-6"})})]}),d.jsxs("div",{className:"mb-3",children:[d.jsx("span",{className:"text-sm font-bold text-stone-600 mr-3",children:"AI 模型:"}),d.jsxs("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[d.jsx("button",{onClick:()=>x("gemini"),className:`px-3 py-1.5 text-xs font-medium border transition-colors ${p==="gemini"?"bg-amber-800 text-white border-amber-800":"bg-white text-stone-900 border-stone-300 hover:bg-stone-100"} rounded-l-lg`,children:"Gemini"}),d.jsx("button",{onClick:()=>x("openai"),className:`px-3 py-1.5 text-xs font-medium border-t border-b transition-colors ${p==="openai"?"bg-amber-800 text-white border-amber-800":"bg-white text-stone-900 border-stone-300 hover:bg-stone-100"}`,children:"OpenAI"}),d.jsx("button",{onClick:()=>x("ollama"),className:`px-3 py-1.5 text-xs font-medium border transition-colors ${p==="ollama"?"bg-amber-800 text-white border-amber-800":"bg-white text-stone-900 border-stone-300 hover:bg-stone-100"} rounded-r-lg`,children:"Ollama"})]})]}),d.jsxs("div",{className:"flex-grow overflow-y-auto bg-amber-50/30 rounded-lg p-4 mb-4 border border-amber-200 relative",children:[r.length>3&&d.jsx("button",{onClick:()=>{var K,X;return(X=(K=b.current)==null?void 0:K.parentElement)==null?void 0:X.scrollTo({top:0,behavior:"smooth"})},className:"sticky top-2 right-2 float-right bg-amber-600 hover:bg-amber-700 text-white p-2 rounded-full shadow-lg transition-all z-10",title:"回到頂部",children:d.jsx(Ie,{name:"arrow-left",className:"w-4 h-4 transform rotate-90"})}),r.map((K,X)=>d.jsx("div",{className:`mb-4 ${K.role==="user"?"text-right":"text-left"}`,children:d.jsxs("div",{className:"inline-flex flex-col gap-2 max-w-[80%]",children:[d.jsx("div",{className:`p-3 rounded-lg ${K.role==="user"?"bg-indigo-600 text-white":"bg-white text-stone-900 border border-amber-300"}`,children:d.jsx("p",{className:"whitespace-pre-wrap",children:K.content})}),K.role==="assistant"&&P&&d.jsxs("button",{onClick:()=>le(K.content),className:`self-start px-2 py-1 text-xs rounded-md transition-colors flex items-center gap-1 ${B?"bg-red-600 hover:bg-red-700 text-white":"bg-amber-600 hover:bg-amber-700 text-white"}`,title:B?"停止播放":"播放粵語語音",children:[d.jsx(Ie,{name:B?"volume-x":"volume-2",className:"w-3 h-3"}),B?"停止":"粵語"]})]})},X)),m&&d.jsx("div",{className:"text-left",children:d.jsx("div",{className:"inline-block bg-white border border-amber-300 p-3 rounded-lg",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 bg-amber-600 rounded-full animate-bounce"}),d.jsx("div",{className:"w-2 h-2 bg-amber-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),d.jsx("div",{className:"w-2 h-2 bg-amber-600 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})})}),d.jsx("div",{ref:b})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"relative flex-grow",children:[d.jsx("textarea",{value:u,onChange:K=>c(K.target.value),onKeyPress:J,placeholder:w?"🎤 正在聆聽粵語...":"輸入您的問題...",className:"w-full p-3 pr-12 border-2 border-amber-700/50 rounded-lg bg-white placeholder:text-stone-500 focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition resize-none",rows:2,disabled:m||w}),E&&d.jsx("button",{onClick:ne,disabled:m,className:`absolute right-2 top-2 p-2 rounded-lg transition-all ${w?"bg-red-600 hover:bg-red-700 text-white animate-pulse":"bg-amber-600 hover:bg-amber-700 text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,title:w?"停止語音輸入":"開始粵語語音輸入",children:d.jsx(Ie,{name:w?"mic-off":"mic",className:"w-4 h-4"})})]}),d.jsx("button",{onClick:ae,disabled:m||!u.trim(),className:"bg-amber-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-700 transition-all disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-amber-500",children:m?d.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):d.jsx(Ie,{name:"send",className:"w-5 h-5"})})]})]})},_1=({deepDive:t,quest:e,onBack:a})=>{const[r,l]=z.useState([{role:"assistant",content:`您好！我是聖經研究助理。我已經了解「${t.title}」的內容。您可以問我任何相關問題，我會基於聖經知識和神學背景為您解答。`}]),[u,c]=z.useState(""),[m,y]=z.useState(!1),[p,x]=z.useState("gemini"),b=z.useRef(null),{isListening:w,isSupported:E,startListening:C,stopListening:A,transcript:U,resetTranscript:I}=nd({lang:"zh-HK",continuous:!1,interimResults:!0,onResult:K=>{c(X=>X+K)}}),{isSpeaking:B,isSupported:P,speak:q,stop:H}=ey({lang:"zh-HK",rate:1,pitch:1,volume:1}),k=()=>{var K;(K=b.current)==null||K.scrollIntoView({behavior:"smooth"})};z.useEffect(()=>{k()},[r]);const M=async()=>{if(!u.trim())return;const K={role:"user",content:u};l(X=>[...X,K]),c(""),y(!0);try{const X=`You are a helpful Bible study assistant. Your purpose is to answer questions based on the provided context in a clear, concise, and theologically sound manner. Ground your answers in trustworthy biblical sources and historical context, similar to information found on Wikipedia for historical background. Do not speculate or provide personal opinions. Your response should be in Traditional Chinese.

Context about "${t.title}":
${t.content}

Based on this context and general biblical knowledge, answer the user's questions in a conversational manner.`,ue=r.map(ve=>({role:ve.role,content:ve.content})),V=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:p,model:p==="gemini"?"gemini-2.5-flash":p==="openai"?"gpt-4o-mini":"gpt-oss:120b-cloud",messages:[{role:"system",content:X},...ue,{role:"user",content:u}],temperature:.7,maxTokens:2e3})});if(!V.ok){const ve=await V.json().catch(()=>({}));throw new Error(ve.error||`HTTP ${V.status}`)}const me=(await V.json()).content||"抱歉，無法生成回答。";l(ve=>[...ve,{role:"assistant",content:me}])}catch(X){console.error("Error:",X),l(ue=>[...ue,{role:"assistant",content:`抱歉，發生錯誤：${X.message}`}])}finally{y(!1)}},ae=K=>{K.key==="Enter"&&!K.shiftKey&&(K.preventDefault(),M())},J=()=>{w?A():C()},ne=K=>{B?H():q(K)};z.useEffect(()=>{!w&&U&&I()},[w,U,I]);const le=e&&parseInt(e.id.replace("q",""))<=50,$=K=>{c(K)};return d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b-2 border-amber-800",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-3xl font-bold text-amber-900 flex items-center gap-3",children:[d.jsx(Ie,{name:"message-circle",className:"w-8 h-8"}),"AI 對話：",t.title]}),d.jsx("p",{className:"text-sm text-stone-600 mt-1",children:"與 AI 助理深入探討這個主題"})]}),d.jsx("button",{onClick:a,className:"text-stone-600 hover:text-stone-900 transition","aria-label":"返回深入探索",children:d.jsx(Ie,{name:"x",className:"w-6 h-6"})})]}),d.jsxs("div",{className:"mb-3",children:[d.jsx("span",{className:"text-sm font-bold text-stone-600 mr-3",children:"AI 模型:"}),d.jsxs("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[d.jsx("button",{onClick:()=>x("gemini"),className:`px-3 py-1.5 text-xs font-medium border transition-colors ${p==="gemini"?"bg-amber-800 text-white border-amber-800":"bg-white text-stone-900 border-stone-300 hover:bg-stone-100"} rounded-l-lg`,children:"Gemini"}),d.jsx("button",{onClick:()=>x("openai"),className:`px-3 py-1.5 text-xs font-medium border-t border-b transition-colors ${p==="openai"?"bg-amber-800 text-white border-amber-800":"bg-white text-stone-900 border-stone-300 hover:bg-stone-100"}`,children:"OpenAI"}),d.jsx("button",{onClick:()=>x("ollama"),className:`px-3 py-1.5 text-xs font-medium border transition-colors ${p==="ollama"?"bg-amber-800 text-white border-amber-800":"bg-white text-stone-900 border-stone-300 hover:bg-stone-100"} rounded-r-lg`,children:"Ollama"})]})]}),le&&d.jsxs("div",{className:"mb-3 p-3 bg-indigo-50 border-2 border-indigo-200 rounded-lg",children:[d.jsxs("p",{className:"text-sm font-semibold text-indigo-900 mb-2 flex items-center gap-2",children:[d.jsx(Ie,{name:"book-open",className:"w-4 h-4"}),"快速提問建議："]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx("button",{onClick:()=>$("想了解新舊約導論"),className:"px-3 py-1.5 text-sm bg-indigo-600 hover:bg-indigo-700 text-white rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"想了解新舊約導論"}),d.jsx("button",{onClick:()=>$("舊約導論"),className:"px-3 py-1.5 text-sm bg-indigo-600 hover:bg-indigo-700 text-white rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"舊約導論"}),d.jsx("button",{onClick:()=>$("新約導論"),className:"px-3 py-1.5 text-sm bg-indigo-600 hover:bg-indigo-700 text-white rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"新約導論"}),d.jsx("button",{onClick:()=>$("導論"),className:"px-3 py-1.5 text-sm bg-indigo-600 hover:bg-indigo-700 text-white rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"導論"})]})]}),d.jsxs("div",{className:"flex-grow overflow-y-auto bg-amber-50/30 rounded-lg p-4 mb-4 border border-amber-200 relative",children:[r.length>3&&d.jsx("button",{onClick:()=>{var K,X;return(X=(K=b.current)==null?void 0:K.parentElement)==null?void 0:X.scrollTo({top:0,behavior:"smooth"})},className:"sticky top-2 right-2 float-right bg-amber-600 hover:bg-amber-700 text-white p-2 rounded-full shadow-lg transition-all z-10",title:"回到頂部",children:d.jsx(Ie,{name:"arrow-left",className:"w-4 h-4 transform rotate-90"})}),r.map((K,X)=>d.jsx("div",{className:`mb-4 ${K.role==="user"?"text-right":"text-left"}`,children:d.jsxs("div",{className:"inline-flex flex-col gap-2 max-w-[80%]",children:[d.jsx("div",{className:`p-3 rounded-lg ${K.role==="user"?"bg-amber-700 text-white":"bg-white text-stone-900 border border-amber-300"}`,children:d.jsx("p",{className:"whitespace-pre-wrap",children:K.content})}),K.role==="assistant"&&P&&d.jsxs("button",{onClick:()=>ne(K.content),className:`self-start px-2 py-1 text-xs rounded-md transition-colors flex items-center gap-1 ${B?"bg-red-600 hover:bg-red-700 text-white":"bg-amber-600 hover:bg-amber-700 text-white"}`,title:B?"停止播放":"播放粵語語音",children:[d.jsx(Ie,{name:B?"volume-x":"volume-2",className:"w-3 h-3"}),B?"停止":"粵語"]})]})},X)),m&&d.jsx("div",{className:"text-left",children:d.jsx("div",{className:"inline-block bg-white border border-amber-300 p-3 rounded-lg",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 bg-amber-600 rounded-full animate-bounce"}),d.jsx("div",{className:"w-2 h-2 bg-amber-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),d.jsx("div",{className:"w-2 h-2 bg-amber-600 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})})}),d.jsx("div",{ref:b})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"relative flex-grow",children:[d.jsx("textarea",{value:u,onChange:K=>c(K.target.value),onKeyPress:ae,placeholder:w?"🎤 正在聆聽粵語...":le?"例如：導論、新約導論、舊約導論":"輸入您的問題...",className:"w-full p-3 pr-12 border-2 border-amber-700/50 rounded-lg bg-white placeholder:text-stone-500 focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition resize-none",rows:2,disabled:m||w}),E&&d.jsx("button",{onClick:J,disabled:m,className:`absolute right-2 top-2 p-2 rounded-lg transition-all ${w?"bg-red-600 hover:bg-red-700 text-white animate-pulse":"bg-amber-600 hover:bg-amber-700 text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,title:w?"停止語音輸入":"開始粵語語音輸入",children:d.jsx(Ie,{name:w?"mic-off":"mic",className:"w-4 h-4"})})]}),d.jsx("button",{onClick:M,disabled:m||!u.trim(),className:"bg-amber-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-700 transition-all disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-amber-500",children:m?d.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):d.jsx(Ie,{name:"send",className:"w-5 h-5"})})]})]})},I1=({deepDive:t,quest:e,onBack:a})=>{const{bibleVersion:r}=Fa(),[l,u]=z.useState(!1),[c,m]=z.useState(!1),y=(p,x)=>{if(p==="#")return p;const b=new URL(p);return b.searchParams.set("version",r),b.toString()};return l?d.jsx(A1,{onBack:()=>u(!1)}):c?d.jsx(_1,{deepDive:t,quest:e,onBack:()=>m(!1)}):d.jsxs("div",{className:"flex-grow overflow-y-auto pr-4 -mr-4",children:[d.jsxs("h2",{id:"deepdive-title",className:"text-4xl font-bold text-amber-900 mb-4 flex items-center gap-3",style:{fontFamily:"'Trajan Pro', serif"},children:[d.jsx(Ie,{name:"lightbulb",className:"w-8 h-8"}),"深入探索：",t.title]}),d.jsx("p",{className:"text-lg text-stone-800 leading-relaxed mb-6 whitespace-pre-wrap",children:t.content}),d.jsx("h3",{className:"text-2xl font-bold text-amber-900 border-b-2 border-amber-800 pb-2 mb-4",children:"來源查找器"}),d.jsx("ul",{className:"space-y-2 mb-8",children:t.sources.map((p,x)=>d.jsx("li",{children:d.jsx("a",{href:y(p.url,p.text),target:"_blank",rel:"noopener noreferrer",className:"text-amber-800 hover:text-amber-600 hover:underline transition-colors font-semibold rounded focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-600",children:p.text.replace(/\((NIV|ESV|KJV)\)/,`(${r})`)})},x))}),d.jsx("div",{className:"border-t-4 border-dashed border-amber-800/50 my-8"}),d.jsxs("h3",{className:"text-2xl font-bold text-amber-900 pb-2 mb-4 flex items-center gap-3",children:[d.jsx(Ie,{name:"sparkles",className:"w-7 h-7"}),"探索更深"]}),d.jsx("p",{className:"text-stone-700 mb-4",children:"對這個主題有更多問題嗎？與 AI 助理展開深入對話！"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[d.jsxs("button",{onClick:()=>m(!0),className:"p-6 rounded-lg bg-gradient-to-br from-amber-600 to-amber-700 hover:from-amber-700 hover:to-amber-800 text-white transition-all transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-amber-500",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(Ie,{name:"message-circle",className:"w-6 h-6"}),d.jsx("h4",{className:"text-xl font-bold",children:"AI 對話助理"})]}),d.jsx("p",{className:"text-sm text-amber-100",children:"與 AI 助理進行互動對話，深入探討聖經主題"})]}),d.jsxs("button",{onClick:()=>u(!0),className:"p-6 rounded-lg bg-gradient-to-br from-indigo-600 to-indigo-700 hover:from-indigo-700 hover:to-indigo-800 text-white transition-all transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(Ie,{name:"graduation-cap",className:"w-6 h-6"}),d.jsx("h4",{className:"text-xl font-bold",children:"聖經導論專家"})]}),d.jsx("p",{className:"text-sm text-indigo-100",children:"與專業聖經導論學者進行學術討論"})]})]}),d.jsx("div",{className:"mt-8 border-t-2 border-amber-800/20 pt-6",children:d.jsx("button",{onClick:a,className:"bg-stone-600 hover:bg-stone-500 text-white font-bold py-2 px-4 rounded-lg transition focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-amber-500 focus-visible:ring-offset-amber-100",children:"返回說明"})})]})},Vh=60,Al="jttw_quest_timers",k1=({quest:t,onClose:e})=>{const{completeQuest:a,completedQuests:r}=Fa(),[l,u]=z.useState(null),[c,m]=z.useState(!1),[y,p]=z.useState(!1),[x,b]=z.useState(Vh),[w,E]=z.useState(!1),C=l===t.correctAnswerIndex,A=r.has(t.id),U=z.useCallback(()=>{try{const q=localStorage.getItem(Al);if(!q)return;const H=JSON.parse(q);H[t.id]&&(delete H[t.id],localStorage.setItem(Al,JSON.stringify(H)))}catch(q){console.error("Failed to update timers in localStorage",q)}},[t.id]);z.useEffect(()=>{w&&U()},[w,U]),z.useEffect(()=>{if(A||c)return;const q=()=>{try{const ne=localStorage.getItem(Al);return ne?JSON.parse(ne):{}}catch{return{}}},H=ne=>{localStorage.setItem(Al,JSON.stringify(ne))},k=q();let M=k[t.id];M||(M=Date.now()+Vh*1e3,k[t.id]=M,H(k));const ae=()=>{const ne=M-Date.now();ne<=0?(b(0),E(!0),m(!0)):b(Math.ceil(ne/1e3))};ae();const J=setInterval(ae,1e3);return()=>{clearInterval(J)}},[t.id,A,c]);const I=q=>{c||(u(q),m(!0),q===t.correctAnswerIndex&&!A&&a(t.id,{id:t.id,title:t.journalPrompt.title,content:t.journalPrompt.content}),U())},B=z.useCallback(()=>{U(),e()},[e,U]),P=z.useCallback(q=>c?q===t.correctAnswerIndex?"bg-green-700":q===l&&!C?"bg-red-700":"bg-stone-700 opacity-70":"bg-stone-700 hover:bg-stone-600",[c,l,C,t.correctAnswerIndex]);return d.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-40 animate-fade-in",role:"dialog","aria-modal":"true","aria-labelledby":y?"deepdive-title":"quest-title",children:d.jsxs("div",{className:"bg-cover bg-center rounded-lg shadow-2xl w-full max-w-3xl border-4 border-amber-900 text-stone-900 p-8 relative flex flex-col max-h-[90vh]",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/old-paper.png')"},children:[d.jsx("button",{onClick:B,className:"absolute top-4 right-4 text-stone-600 hover:text-stone-900 transition-colors rounded-full focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-amber-500 focus-visible:ring-offset-amber-100 z-10","aria-label":"關閉任務",children:d.jsx(Ie,{name:"x",className:"w-8 h-8"})}),y?d.jsx("div",{className:"animate-fade-in",children:d.jsx(I1,{deepDive:t.deepDive,quest:t,onBack:()=>p(!1)})}):d.jsxs("div",{className:"animate-fade-in",children:[d.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("img",{src:t.characterImage,alt:t.character,className:"w-24 h-24 rounded-full border-4 border-amber-800 object-cover"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-lg text-stone-800",children:"來自的消息"}),d.jsx("h2",{id:"quest-title",className:"text-4xl font-bold text-amber-900",children:t.character})]})]}),!A&&!c&&d.jsxs("div",{className:"text-lg font-bold text-amber-800 bg-amber-200 border-2 border-amber-400 rounded-full px-4 py-1 flex-shrink-0",children:["時間：",x,"秒"]})]}),d.jsx("div",{className:"bg-stone-800/95 p-4 rounded-lg mb-6 border-l-4 border-amber-500 shadow-inner",children:d.jsx("p",{className:"text-xl font-semibold text-amber-50 leading-relaxed",children:t.question})}),d.jsx("div",{className:"space-y-3 mb-6",children:t.options.map((q,H)=>d.jsx("button",{onClick:()=>I(H),disabled:c,className:`w-full text-left p-4 rounded-lg text-white font-semibold transition-all duration-300 transform hover:scale-105 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-white ${P(H)} ${c?"":"cursor-pointer"}`,children:q},H))}),(c||A)&&d.jsxs("div",{className:"p-4 rounded-lg bg-amber-100 border border-amber-300 animate-slide-up",children:[d.jsx("h3",{className:"font-bold text-lg text-amber-900 flex items-center gap-2",children:w?d.jsxs(d.Fragment,{children:[d.jsx(Ie,{name:"x",className:"w-6 h-6"}),"時間到！"]}):C||A?d.jsxs(d.Fragment,{children:[d.jsx(Ie,{name:"check",className:"w-6 h-6"}),"答對了！"]}):d.jsxs(d.Fragment,{children:[d.jsx(Ie,{name:"x",className:"w-6 h-6"}),"不太對..."]})}),d.jsx("p",{className:"mt-2 text-stone-900",children:w?"您的時間已用完。請隨時關閉此視窗再試一次。":t.explanation}),d.jsxs("div",{className:"mt-4 flex flex-wrap gap-4",children:[d.jsx("button",{onClick:B,className:"flex-1 bg-amber-800 hover:bg-amber-700 text-white font-bold py-2 px-4 rounded-lg transition focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-amber-500 focus-visible:ring-offset-amber-100",children:"繼續旅程"}),(C||A)&&d.jsx("button",{onClick:()=>p(!0),className:"flex-1 bg-transparent border-2 border-amber-800 hover:bg-amber-100 text-amber-900 font-bold py-2 px-4 rounded-lg transition focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-amber-500 focus-visible:ring-offset-amber-100",children:"深入探索"})]})]})]})]})})},R1=({level:t,onClose:e})=>d.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50 animate-fade-in",role:"alertdialog","aria-modal":"true","aria-labelledby":"level-complete-title","aria-describedby":"level-complete-description",children:d.jsxs("div",{className:"bg-cover bg-center rounded-lg shadow-2xl w-full max-w-2xl border-4 border-amber-900 text-stone-900 p-8 relative",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/old-paper.png')"},children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{id:"level-complete-title",className:"text-3xl font-bold text-amber-900",style:{fontFamily:"'Trajan Pro', serif"},children:"時代完成！"}),d.jsxs("p",{id:"level-complete-description",className:"text-xl text-stone-700 mt-1 mb-6",children:["您已完成「",t.name,"」時代。"]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold text-amber-900 border-b-2 border-amber-800 pb-2 mb-4",children:"討論提示"}),d.jsx("ul",{className:"space-y-3 list-disc list-inside text-stone-800",children:t.discussionPrompts.map((a,r)=>d.jsx("li",{className:"text-lg",children:a},r))})]}),d.jsx("div",{className:"mt-8 text-center",children:d.jsx("button",{onClick:e,className:"bg-amber-800 hover:bg-amber-700 text-white font-bold py-3 px-6 rounded-lg transition-transform transform hover:scale-105 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-amber-500 focus-visible:ring-offset-amber-100",children:"繼續您的旅程"})})]})}),M1=({onSelectQuest:t,onClose:e,additionalQuests:a=[]})=>{const{completedQuests:r}=Fa(),[l,u]=z.useState(""),[c,m]=z.useState("all"),y=[...X0,...a],p=y.filter(x=>{const b=x.character.toLowerCase().includes(l.toLowerCase())||x.question.toLowerCase().includes(l.toLowerCase()),w=c==="all"||c==="completed"&&r.has(x.id)||c==="incomplete"&&!r.has(x.id);return b&&w});return d.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50 animate-fade-in",children:d.jsxs("div",{className:"bg-cover bg-center rounded-lg shadow-2xl w-full max-w-5xl border-4 border-amber-900 text-stone-900 p-6 relative max-h-[90vh] overflow-hidden flex flex-col",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/old-paper.png')"},children:[d.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-stone-600 hover:text-stone-900 transition-colors rounded-full focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-500 z-10","aria-label":"關閉問題瀏覽器",children:d.jsx(Ie,{name:"x",className:"w-8 h-8"})}),d.jsx("h2",{className:"text-3xl font-bold text-amber-900 mb-4",children:"選擇問題"}),d.jsxs("div",{className:"mb-4 space-y-3",children:[d.jsx("input",{type:"text",placeholder:"搜尋角色或問題...",value:l,onChange:x=>u(x.target.value),className:"w-full px-4 py-2 rounded-lg border-2 border-amber-700 bg-amber-50 text-stone-900 focus:outline-none focus:ring-2 focus:ring-amber-500"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>m("all"),className:`px-4 py-2 rounded-lg font-semibold transition ${c==="all"?"bg-amber-800 text-white":"bg-stone-300 text-stone-700 hover:bg-stone-400"}`,children:["全部 (",y.length,")"]}),d.jsxs("button",{onClick:()=>m("incomplete"),className:`px-4 py-2 rounded-lg font-semibold transition ${c==="incomplete"?"bg-amber-800 text-white":"bg-stone-300 text-stone-700 hover:bg-stone-400"}`,children:["未完成 (",y.filter(x=>!r.has(x.id)).length,")"]}),d.jsxs("button",{onClick:()=>m("completed"),className:`px-4 py-2 rounded-lg font-semibold transition ${c==="completed"?"bg-amber-800 text-white":"bg-stone-300 text-stone-700 hover:bg-stone-400"}`,children:["已完成 (",r.size,")"]})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto pr-2",children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.map(x=>{const b=r.has(x.id);return d.jsx("button",{onClick:()=>t(x),className:`text-left p-4 rounded-lg border-2 transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-amber-500 ${x.id.startsWith("qg")?"border-purple-500 bg-gradient-to-br from-purple-50 to-purple-100 hover:from-purple-100 hover:to-purple-200":"border-amber-700 bg-gradient-to-br from-amber-50 to-amber-100 hover:from-amber-100 hover:to-amber-200"}`,children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("img",{src:x.characterImage,alt:x.character,className:"w-16 h-16 rounded-full border-2 border-amber-800 object-cover flex-shrink-0"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("h3",{className:"text-lg font-bold text-amber-900",children:x.character}),x.id.startsWith("qg")&&d.jsxs("span",{className:"flex items-center gap-1 text-purple-700 text-xs bg-purple-200 px-2 py-0.5 rounded",children:[d.jsx(Ie,{name:"sparkles",className:"w-3 h-3"}),"AI生成"]}),b&&d.jsxs("span",{className:"flex items-center gap-1 text-green-700 text-sm",children:[d.jsx(Ie,{name:"check",className:"w-4 h-4"}),"已完成"]})]}),d.jsx("p",{className:"text-sm text-stone-700 line-clamp-2",children:x.question})]})]})},x.id)})}),p.length===0&&d.jsx("div",{className:"text-center py-12 text-stone-600",children:d.jsx("p",{className:"text-lg",children:"找不到符合條件的問題"})})]})]})})},xt={OPENAI:{name:"OpenAI",model:"gpt-4o",endpoint:"/api/chat"},OLLAMA:{name:"Ollama Cloud",model:"qwen2.5-coder:32b",endpoint:"/api/chat"},GEMINI:{name:"Google Gemini",model:"gemini-2.0-flash-exp",apiKey:"AIzaSyDcN6U-3ferwZqCG-r93GR2kpKpC9U1SA4"}},id=`你是一位專業的聖經教師和神學教育者，專門創作高質量的聖經學習問題。

你的任務是生成一個關於聖經人物或事件的教育性問題，包含：

1. **角色選擇**：選擇一個有意義的聖經人物（舊約或新約）
2. **問題分類**：判斷問題類別
   - "Bible Background" (聖經背景)：關於歷史背景、文化背景、地理環境、時代背景的問題
   - "Person in Bible" (聖經人物)：關於特定聖經人物的行為、性格、經歷、信仰歷程的問題
3. **問題設計**：以第一人稱（角色視角）撰寫問題，讓學習者能夠代入角色思考
4. **選項設計**：提供4個選項，其中3個是合理但錯誤的干擾項
   - **重要**：正確答案應該隨機分配在A、B、C、D選項中，避免總是出現在同一位置
5. **解釋**：提供詳細的答案解釋，必須包含具體的聖經經文引用
6. **靈修引導**：提供日誌提示，幫助學習者將聖經故事應用到現代生活
7. **深度探索**：提供神學深度分析，探討主題、歷史背景和神學意義
8. **經文來源**：提供2-3個相關的聖經章節引用

要求：
- 所有內容使用繁體中文
- 問題要有教育意義和思考深度
- 答案解釋要準確引用聖經經文
- 神學內容要符合正統基督教教義
- 語氣要尊重、教育性強
- 適合各年齡層的基督徒學習者
- 正確答案的位置必須隨機化，避免偏向任何特定選項

你必須以JSON格式回覆，包含以下欄位：
{
  "character": "聖經人物名稱（繁體中文）",
  "category": "Bible Background 或 Person in Bible",
  "question": "問題內容（第一人稱）",
  "options": ["選項A", "選項B", "選項C", "選項D"],
  "correctAnswerIndex": 0,
  "explanation": "詳細解釋，包含聖經經文引用",
  "journalPromptTitle": "靈修日誌標題",
  "journalPromptContent": "靈修反思內容",
  "deepDiveTitle": "深度探索標題",
  "deepDiveContent": "深度神學分析",
  "bibleSources": [
    {
      "reference": "創世記 3:1-6 (NIV)",
      "englishReference": "Genesis 3:1-6"
    }
  ]
}`,D1=(t,e)=>{const a=t[e],r=[...t];for(let u=r.length-1;u>0;u--){const c=Math.floor(Math.random()*(u+1));[r[u],r[c]]=[r[c],r[u]]}const l=r.indexOf(a);return{options:r,correctAnswerIndex:l}};async function L1(t){const e=[{role:"system",content:id},{role:"user",content:t}],a=await fetch(xt.OLLAMA.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:"ollama",model:xt.OLLAMA.model,messages:e,temperature:.9,topP:.95,maxTokens:3e3})});if(!a.ok){const l=await a.text();throw new Error(`Ollama Cloud API error (${a.status}): ${l}`)}const r=await a.json();if(!r.content)throw new Error("Invalid response format from Ollama Cloud");return r.content}async function q1(t){var l,u,c;const e=xt.GEMINI.apiKey,a=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${xt.GEMINI.model}:generateContent?key=${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{role:"user",parts:[{text:t}]}],systemInstruction:{parts:[{text:id}]},generationConfig:{temperature:.9,topP:.95,maxOutputTokens:3e3,responseMimeType:"application/json"}})});if(!a.ok){const m=await a.text();throw new Error(`Gemini API error (${a.status}): ${m}`)}const r=await a.json();if((c=(u=(l=r.candidates)==null?void 0:l[0])==null?void 0:u.content)!=null&&c.parts)return r.candidates[0].content.parts.map(m=>m.text).join("");throw new Error("Invalid response format from Gemini")}async function P1(t){const e=[{role:"system",content:id+`

IMPORTANT: You MUST respond with valid JSON only. No markdown, no code blocks, just pure JSON.`},{role:"user",content:t}],a=await fetch(xt.OPENAI.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:"openai",model:xt.OPENAI.model,messages:e,temperature:.9,topP:.95,maxTokens:3e3})});if(!a.ok){const l=await a.text();throw new Error(`OpenAI API error (${a.status}): ${l}`)}const r=await a.json();if(!r.content)throw new Error("Invalid response format from OpenAI");return r.content}async function U1(t){console.log("🔄 Generating Bible Question - Starting provider chain...");try{console.log(`🔄 Trying ${xt.OPENAI.name} (${xt.OPENAI.model})...`);const e=await P1(t);return console.log(`✅ ${xt.OPENAI.name} succeeded`),e}catch(e){console.warn(`⚠️ ${xt.OPENAI.name} failed:`,e.message)}try{console.log(`↪️ Falling back to ${xt.OLLAMA.name} (${xt.OLLAMA.model})...`);const e=await L1(t);return console.log(`✅ ${xt.OLLAMA.name} succeeded`),e}catch(e){console.warn(`⚠️ ${xt.OLLAMA.name} failed:`,e.message)}try{console.log(`↪️ Falling back to ${xt.GEMINI.name} (${xt.GEMINI.model})...`);const e=await q1(t);return console.log(`✅ ${xt.GEMINI.name} succeeded`),e}catch(e){console.error(`❌ ${xt.GEMINI.name} failed:`,e.message)}throw new Error("All AI providers failed. Please check your configuration and try again.")}function B1(t){let e=t.trim();return e.startsWith("```json")?e=e.replace(/^```json\s*/,"").replace(/```\s*$/,""):e.startsWith("```")&&(e=e.replace(/^```\s*/,"").replace(/```\s*$/,"")),JSON.parse(e.trim())}const ty=async t=>{const e=await U1(t),a=B1(e),{options:r,correctAnswerIndex:l}=D1(a.options,a.correctAnswerIndex);return{character:a.character,category:a.category,question:a.question,options:r,correctAnswerIndex:l,explanation:a.explanation,journalPrompt:{title:a.journalPromptTitle,content:a.journalPromptContent},deepDive:{title:a.deepDiveTitle,content:a.deepDiveContent,sources:a.bibleSources.map(c=>({text:c.reference,url:`https://www.biblegateway.com/passage/?search=${encodeURIComponent(c.englishReference)}&version=NIV`}))}}},V1=async(t,e,a)=>{let r="請生成一個聖經問題";return t&&(r+=`，關於聖經人物「${t}」`),e&&(r+=`，主題是「${e}」`),a==="old"?r+="，來自舊約聖經":a==="new"&&(r+="，來自新約聖經"),r+="。",ty(r)},G1=({onQuestionGenerated:t,onClose:e})=>{const[a,r]=z.useState("guided"),[l,u]=z.useState(""),[c,m]=z.useState(""),[y,p]=z.useState("both"),[x,b]=z.useState(""),[w,E]=z.useState(!1),[C,A]=z.useState(null),[U,I]=z.useState(null),B=async()=>{E(!0),A(null),I(null);try{let q;if(a==="free"){if(!x.trim())throw new Error("請輸入自訂提示");q=await ty(x)}else q=await V1(l.trim()||void 0,c.trim()||void 0,y);I(q)}catch(q){console.error("Question generation error:",q),A(q instanceof Error?q.message:"生成問題時發生錯誤，請重試。")}finally{E(!1)}},P=()=>{U&&(t(U),e())};return d.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50 animate-fade-in",children:d.jsxs("div",{className:"bg-cover bg-center rounded-lg shadow-2xl w-full max-w-4xl border-4 border-amber-900 text-stone-900 p-6 relative max-h-[90vh] overflow-y-auto",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/old-paper.png')"},children:[d.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-stone-600 hover:text-stone-900 transition-colors rounded-full focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-500 z-10","aria-label":"關閉",children:d.jsx(Ie,{name:"x",className:"w-8 h-8"})}),d.jsx("h2",{className:"text-3xl font-bold text-amber-900 mb-2",children:"AI 問題生成器"}),d.jsx("p",{className:"text-stone-700 mb-2",children:"使用 AI 生成新的聖經學習問題"}),d.jsxs("p",{className:"text-xs text-stone-500 mb-4 flex items-center gap-2",children:[d.jsx("span",{children:"⚡ Powered by"}),d.jsx("span",{className:"font-semibold text-blue-600",children:"Google Gemini 2.0 Flash Experimental"})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"生成模式"}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:()=>r("guided"),className:`flex-1 px-4 py-3 rounded-lg font-semibold transition ${a==="guided"?"bg-amber-800 text-white":"bg-stone-300 text-stone-700 hover:bg-stone-400"}`,children:"引導式生成"}),d.jsx("button",{onClick:()=>r("free"),className:`flex-1 px-4 py-3 rounded-lg font-semibold transition ${a==="free"?"bg-amber-800 text-white":"bg-stone-300 text-stone-700 hover:bg-stone-400"}`,children:"自由提示"})]})]}),a==="guided"&&d.jsxs("div",{className:"space-y-4 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"聖經人物或聖經背景（選填）"}),d.jsx("input",{type:"text",value:l,onChange:q=>u(q.target.value),placeholder:"例如：摩西、大衛、保羅、割禮、逾越節、聖殿",className:"w-full px-4 py-2 rounded-lg border-2 border-amber-700 bg-amber-50 text-stone-900 focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"主題（選填）"}),d.jsx("input",{type:"text",value:c,onChange:q=>m(q.target.value),placeholder:"例如：信心、順服、領導力、禮儀潔淨、聖約",className:"w-full px-4 py-2 rounded-lg border-2 border-amber-700 bg-amber-50 text-stone-900 focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"聖經範圍"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>p("both"),className:`flex-1 px-4 py-2 rounded-lg font-semibold transition ${y==="both"?"bg-amber-700 text-white":"bg-stone-200 text-stone-700 hover:bg-stone-300"}`,children:"新舊約"}),d.jsx("button",{onClick:()=>p("old"),className:`flex-1 px-4 py-2 rounded-lg font-semibold transition ${y==="old"?"bg-amber-700 text-white":"bg-stone-200 text-stone-700 hover:bg-stone-300"}`,children:"舊約"}),d.jsx("button",{onClick:()=>p("new"),className:`flex-1 px-4 py-2 rounded-lg font-semibold transition ${y==="new"?"bg-amber-700 text-white":"bg-stone-200 text-stone-700 hover:bg-stone-300"}`,children:"新約"})]})]})]}),a==="free"&&d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"自訂提示"}),d.jsx("textarea",{value:x,onChange:q=>b(q.target.value),placeholder:"例如：生成一個關於耶穌登山寶訓的問題，著重於八福的教導",rows:4,className:"w-full px-4 py-2 rounded-lg border-2 border-amber-700 bg-amber-50 text-stone-900 focus:outline-none focus:ring-2 focus:ring-amber-500 resize-none"})]}),C&&d.jsx("div",{className:"mb-4 p-4 bg-red-100 border-2 border-red-400 rounded-lg",children:d.jsx("p",{className:"text-red-800 font-semibold",children:C})}),U&&d.jsxs("div",{className:"mb-6 p-4 bg-green-50 border-2 border-green-400 rounded-lg",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h3",{className:"text-lg font-bold text-green-900",children:"✓ 問題已生成"}),d.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${U.category==="Person in Bible"?"bg-blue-600 text-white":"bg-purple-600 text-white"}`,children:U.category==="Person in Bible"?"📖 聖經人物":"🏛️ 聖經背景"})]}),d.jsxs("p",{className:"text-sm text-green-800 mb-2",children:[d.jsx("strong",{children:"角色："}),U.character]}),d.jsxs("p",{className:"text-sm text-green-800 mb-2",children:[d.jsx("strong",{children:"問題："}),U.question]}),d.jsx("p",{className:"text-xs text-green-700",children:"點擊「加入遊戲」將此問題添加到遊戲中"})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:B,disabled:w,className:`flex-1 px-6 py-3 rounded-lg font-bold transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-2 ${w?"bg-stone-400 text-stone-200 cursor-not-allowed":"bg-amber-700 hover:bg-amber-600 text-white"}`,children:w?d.jsxs(d.Fragment,{children:[d.jsx(Ie,{name:"loader",className:"w-5 h-5 animate-spin"}),"生成中..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Ie,{name:"sparkles",className:"w-5 h-5"}),"生成問題"]})}),U&&d.jsxs("button",{onClick:P,className:"flex-1 px-6 py-3 bg-green-700 hover:bg-green-600 text-white rounded-lg font-bold transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-2",children:[d.jsx(Ie,{name:"check",className:"w-5 h-5"}),"加入遊戲"]})]})]})})},Gh="bible-game-generated-questions",O1=()=>{const{unlockedLocations:t,completedQuests:e,isFreeChoiceMode:a,setIsFreeChoiceMode:r}=Fa(),[l,u]=z.useState(null),[c,m]=z.useState(null),[y,p]=z.useState(!1),[x,b]=z.useState(!1),[w,E]=z.useState([]);z.useEffect(()=>{try{const q=localStorage.getItem(Gh);if(q){const H=JSON.parse(q);E(H)}}catch(q){console.error("Failed to load generated questions:",q)}},[]),z.useEffect(()=>{try{w.length>0&&localStorage.setItem(Gh,JSON.stringify(w))}catch(q){console.error("Failed to save generated questions:",q)}},[w]);const C=[...X0,...w],A=q=>{const H=C.find(k=>k.id===q);H&&u(H)},U=q=>{u(q),p(!1)},I=q=>{const H=`qg${Date.now()}`,k={...q,id:H,characterImage:`https://picsum.photos/seed/${H}/100`};E(M=>[...M,k]),u(k)},B=q=>{u(null);const H=new Set(e).add(q);for(const k of Bh){const M=Ll.filter(J=>k.locationIds.includes(J.id)),ae=M.map(J=>J.questId);ae.every(J=>H.has(J))&&M.filter(ne=>e.has(ne.questId)).length<ae.length&&m(k.id)}},P=Bh.find(q=>q.id===c);return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-4 flex flex-wrap items-center justify-center gap-3",children:[d.jsxs("div",{className:"bg-stone-800/90 rounded-lg p-3 border-2 border-amber-700 flex items-center gap-3",children:[d.jsx("span",{className:"text-amber-200 font-semibold",children:"遊戲模式："}),d.jsx("button",{onClick:()=>r(!a),className:`px-4 py-2 rounded-lg font-semibold transition ${a?"bg-stone-600 text-stone-300 hover:bg-stone-500":"bg-amber-600 text-white"}`,children:"順序解鎖"}),d.jsx("button",{onClick:()=>r(!a),className:`px-4 py-2 rounded-lg font-semibold transition ${a?"bg-amber-600 text-white":"bg-stone-600 text-stone-300 hover:bg-stone-500"}`,children:"自由選擇"})]}),a&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>p(!0),className:"bg-amber-700 hover:bg-amber-600 text-white px-6 py-3 rounded-lg font-bold transition-all duration-300 transform hover:scale-105 flex items-center gap-2 border-2 border-amber-900",children:[d.jsx(Ie,{name:"list",className:"w-5 h-5"}),"瀏覽所有問題"]}),d.jsxs("button",{onClick:()=>b(!0),className:"bg-purple-700 hover:bg-purple-600 text-white px-6 py-3 rounded-lg font-bold transition-all duration-300 transform hover:scale-105 flex items-center gap-2 border-2 border-purple-900",children:[d.jsx(Ie,{name:"sparkles",className:"w-5 h-5"}),"AI 生成問題"]})]})]}),d.jsxs("div",{className:"relative w-full max-w-5xl mx-auto aspect-video rounded-lg shadow-2xl overflow-hidden border-4 border-amber-900",style:{backgroundImage:"url(https://picsum.photos/seed/map/1200/675)",backgroundSize:"cover"},children:[d.jsx("div",{className:"absolute inset-0 bg-black/30"}),Ll.map(q=>{const H=a||t.has(q.id),k=e.has(q.questId);let M="bg-gray-600 text-gray-300 cursor-not-allowed";return H&&(M="bg-amber-500 text-stone-900 hover:bg-amber-400 cursor-pointer animate-pulse"),k&&(M="bg-green-700 text-white hover:bg-green-600 cursor-pointer animate-none"),d.jsxs("button",{disabled:!H,onClick:()=>A(q.questId),className:`absolute transform -translate-x-1/2 -translate-y-1/2 p-2 rounded-full shadow-lg transition-all duration-300 flex items-center justify-center focus:outline-none focus:ring-4 focus:ring-white/50 group ${M}`,style:{top:q.position.top,left:q.position.left},"aria-label":`地點：${q.name}`,children:[k?d.jsx(Ie,{name:"check",className:"w-5 h-5"}):H?d.jsx(Ie,{name:"unlock",className:"w-5 h-5"}):d.jsx(Ie,{name:"lock",className:"w-5 h-5"}),d.jsxs("div",{className:"absolute bottom-full mb-2 w-max bg-gray-900 text-white text-xs rounded py-1 px-2 opacity-0 group-hover:opacity-100 group-focus:opacity-100 transition-opacity pointer-events-none",role:"tooltip",children:[d.jsx("span",{className:"font-bold",children:q.name}),d.jsx("br",{}),d.jsx("span",{className:"text-gray-300",children:q.era})]})]},q.id)}),l&&d.jsx(k1,{quest:l,onClose:()=>B(l.id)}),P&&d.jsx(R1,{level:P,onClose:()=>m(null)})]}),y&&d.jsx(M1,{onSelectQuest:U,onClose:()=>p(!1),additionalQuests:w}),x&&d.jsx(G1,{onQuestionGenerated:I,onClose:()=>b(!1)})]})},H1=({onBack:t})=>d.jsx(E1,{children:d.jsx("div",{className:"fixed inset-0 bg-cover bg-center text-stone-900 font-serif",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/old-wall.png')"},children:d.jsxs("div",{className:"bg-stone-800 bg-opacity-60 min-h-screen overflow-auto",children:[d.jsx("div",{className:"p-4",children:d.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-stone-200 hover:text-white transition-colors mb-4 bg-stone-700 hover:bg-stone-600 px-4 py-2 rounded-lg",children:[d.jsx(ro,{className:"w-5 h-5"}),"返回主頁"]})}),d.jsx(C1,{}),d.jsx("main",{className:"p-4 sm:p-6 md:p-8",children:d.jsx(O1,{})}),d.jsxs("footer",{className:"text-center py-4 text-stone-400 text-sm",children:[d.jsx("p",{children:"📖 Default questions curated by biblical scholars"}),d.jsx("p",{className:"text-xs mt-1",children:"⚡ AI Question Generator powered by Google Gemini 2.0 Flash Experimental"})]})]})})}),z1="modulepreload",j1=function(t){return"/"+t},Oh={},Fr=function(e,a,r){let l=Promise.resolve();if(a&&a.length>0){let c=function(p){return Promise.all(p.map(x=>Promise.resolve(x).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),y=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));l=c(a.map(p=>{if(p=j1(p),p in Oh)return;Oh[p]=!0;const x=p.endsWith(".css"),b=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const w=document.createElement("link");if(w.rel=x?"stylesheet":z1,x||(w.as="script"),w.crossOrigin="",w.href=p,y&&w.setAttribute("nonce",y),document.head.appendChild(w),x)return new Promise((E,C)=>{w.addEventListener("load",E),w.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(c){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=c,window.dispatchEvent(m),!m.defaultPrevented)throw c}return l.then(c=>{for(const m of c||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})};function F1(t,e){const a={};return(t[t.length-1]===""?[...t,""]:t).join((a.padRight?" ":"")+","+(a.padLeft===!1?"":" ")).trim()}const J1=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Y1=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,K1={};function Hh(t,e){return(K1.jsx?Y1:J1).test(t)}const Q1=/[ \t\n\f\r]/g;function $1(t){return typeof t=="object"?t.type==="text"?zh(t.value):!1:zh(t)}function zh(t){return t.replace(Q1,"")===""}class oo{constructor(e,a,r){this.normal=a,this.property=e,r&&(this.space=r)}}oo.prototype.normal={};oo.prototype.property={};oo.prototype.space=void 0;function ny(t,e){const a={},r={};for(const l of t)Object.assign(a,l.property),Object.assign(r,l.normal);return new oo(a,r,e)}function qc(t){return t.toLowerCase()}class Ht{constructor(e,a){this.attribute=a,this.property=e}}Ht.prototype.attribute="";Ht.prototype.booleanish=!1;Ht.prototype.boolean=!1;Ht.prototype.commaOrSpaceSeparated=!1;Ht.prototype.commaSeparated=!1;Ht.prototype.defined=!1;Ht.prototype.mustUseProperty=!1;Ht.prototype.number=!1;Ht.prototype.overloadedBoolean=!1;Ht.prototype.property="";Ht.prototype.spaceSeparated=!1;Ht.prototype.space=void 0;let X1=0;const _e=Fi(),mt=Fi(),Pc=Fi(),se=Fi(),$e=Fi(),Ga=Fi(),Zt=Fi();function Fi(){return 2**++X1}const Uc=Object.freeze(Object.defineProperty({__proto__:null,boolean:_e,booleanish:mt,commaOrSpaceSeparated:Zt,commaSeparated:Ga,number:se,overloadedBoolean:Pc,spaceSeparated:$e},Symbol.toStringTag,{value:"Module"})),xc=Object.keys(Uc);class ad extends Ht{constructor(e,a,r,l){let u=-1;if(super(e,a),jh(this,"space",l),typeof r=="number")for(;++u<xc.length;){const c=xc[u];jh(this,xc[u],(r&Uc[c])===Uc[c])}}}ad.prototype.defined=!0;function jh(t,e,a){a&&(t[e]=a)}function Ja(t){const e={},a={};for(const[r,l]of Object.entries(t.properties)){const u=new ad(r,t.transform(t.attributes||{},r),l,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(u.mustUseProperty=!0),e[r]=u,a[qc(r)]=r,a[qc(u.attribute)]=r}return new oo(e,a,t.space)}const iy=Ja({properties:{ariaActiveDescendant:null,ariaAtomic:mt,ariaAutoComplete:null,ariaBusy:mt,ariaChecked:mt,ariaColCount:se,ariaColIndex:se,ariaColSpan:se,ariaControls:$e,ariaCurrent:null,ariaDescribedBy:$e,ariaDetails:null,ariaDisabled:mt,ariaDropEffect:$e,ariaErrorMessage:null,ariaExpanded:mt,ariaFlowTo:$e,ariaGrabbed:mt,ariaHasPopup:null,ariaHidden:mt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:$e,ariaLevel:se,ariaLive:null,ariaModal:mt,ariaMultiLine:mt,ariaMultiSelectable:mt,ariaOrientation:null,ariaOwns:$e,ariaPlaceholder:null,ariaPosInSet:se,ariaPressed:mt,ariaReadOnly:mt,ariaRelevant:null,ariaRequired:mt,ariaRoleDescription:$e,ariaRowCount:se,ariaRowIndex:se,ariaRowSpan:se,ariaSelected:mt,ariaSetSize:se,ariaSort:null,ariaValueMax:se,ariaValueMin:se,ariaValueNow:se,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function ay(t,e){return e in t?t[e]:e}function ry(t,e){return ay(t,e.toLowerCase())}const Z1=Ja({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ga,acceptCharset:$e,accessKey:$e,action:null,allow:null,allowFullScreen:_e,allowPaymentRequest:_e,allowUserMedia:_e,alt:null,as:null,async:_e,autoCapitalize:null,autoComplete:$e,autoFocus:_e,autoPlay:_e,blocking:$e,capture:null,charSet:null,checked:_e,cite:null,className:$e,cols:se,colSpan:null,content:null,contentEditable:mt,controls:_e,controlsList:$e,coords:se|Ga,crossOrigin:null,data:null,dateTime:null,decoding:null,default:_e,defer:_e,dir:null,dirName:null,disabled:_e,download:Pc,draggable:mt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:_e,formTarget:null,headers:$e,height:se,hidden:Pc,high:se,href:null,hrefLang:null,htmlFor:$e,httpEquiv:$e,id:null,imageSizes:null,imageSrcSet:null,inert:_e,inputMode:null,integrity:null,is:null,isMap:_e,itemId:null,itemProp:$e,itemRef:$e,itemScope:_e,itemType:$e,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:_e,low:se,manifest:null,max:null,maxLength:se,media:null,method:null,min:null,minLength:se,multiple:_e,muted:_e,name:null,nonce:null,noModule:_e,noValidate:_e,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:_e,optimum:se,pattern:null,ping:$e,placeholder:null,playsInline:_e,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:_e,referrerPolicy:null,rel:$e,required:_e,reversed:_e,rows:se,rowSpan:se,sandbox:$e,scope:null,scoped:_e,seamless:_e,selected:_e,shadowRootClonable:_e,shadowRootDelegatesFocus:_e,shadowRootMode:null,shape:null,size:se,sizes:null,slot:null,span:se,spellCheck:mt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:se,step:null,style:null,tabIndex:se,target:null,title:null,translate:null,type:null,typeMustMatch:_e,useMap:null,value:mt,width:se,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:$e,axis:null,background:null,bgColor:null,border:se,borderColor:null,bottomMargin:se,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:_e,declare:_e,event:null,face:null,frame:null,frameBorder:null,hSpace:se,leftMargin:se,link:null,longDesc:null,lowSrc:null,marginHeight:se,marginWidth:se,noResize:_e,noHref:_e,noShade:_e,noWrap:_e,object:null,profile:null,prompt:null,rev:null,rightMargin:se,rules:null,scheme:null,scrolling:mt,standby:null,summary:null,text:null,topMargin:se,valueType:null,version:null,vAlign:null,vLink:null,vSpace:se,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:_e,disableRemotePlayback:_e,prefix:null,property:null,results:se,security:null,unselectable:null},space:"html",transform:ry}),W1=Ja({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Zt,accentHeight:se,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:se,amplitude:se,arabicForm:null,ascent:se,attributeName:null,attributeType:null,azimuth:se,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:se,by:null,calcMode:null,capHeight:se,className:$e,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:se,diffuseConstant:se,direction:null,display:null,dur:null,divisor:se,dominantBaseline:null,download:_e,dx:null,dy:null,edgeMode:null,editable:null,elevation:se,enableBackground:null,end:null,event:null,exponent:se,externalResourcesRequired:null,fill:null,fillOpacity:se,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ga,g2:Ga,glyphName:Ga,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:se,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:se,horizOriginX:se,horizOriginY:se,id:null,ideographic:se,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:se,k:se,k1:se,k2:se,k3:se,k4:se,kernelMatrix:Zt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:se,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:se,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:se,overlineThickness:se,paintOrder:null,panose1:null,path:null,pathLength:se,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:$e,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:se,pointsAtY:se,pointsAtZ:se,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Zt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Zt,rev:Zt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Zt,requiredFeatures:Zt,requiredFonts:Zt,requiredFormats:Zt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:se,specularExponent:se,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:se,strikethroughThickness:se,string:null,stroke:null,strokeDashArray:Zt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:se,strokeOpacity:se,strokeWidth:null,style:null,surfaceScale:se,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Zt,tabIndex:se,tableValues:null,target:null,targetX:se,targetY:se,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Zt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:se,underlineThickness:se,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:se,values:null,vAlphabetic:se,vMathematical:se,vectorEffect:null,vHanging:se,vIdeographic:se,version:null,vertAdvY:se,vertOriginX:se,vertOriginY:se,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:se,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:ay}),oy=Ja({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),ly=Ja({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:ry}),sy=Ja({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),ew={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},tw=/[A-Z]/g,Fh=/-[a-z]/g,nw=/^data[-\w.:]+$/i;function iw(t,e){const a=qc(e);let r=e,l=Ht;if(a in t.normal)return t.property[t.normal[a]];if(a.length>4&&a.slice(0,4)==="data"&&nw.test(e)){if(e.charAt(4)==="-"){const u=e.slice(5).replace(Fh,rw);r="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=e.slice(4);if(!Fh.test(u)){let c=u.replace(tw,aw);c.charAt(0)!=="-"&&(c="-"+c),e="data"+c}}l=ad}return new l(r,e)}function aw(t){return"-"+t.toLowerCase()}function rw(t){return t.charAt(1).toUpperCase()}const ow=ny([iy,Z1,oy,ly,sy],"html"),rd=ny([iy,W1,oy,ly,sy],"svg");function lw(t){return t.join(" ").trim()}var qa={},vc,Jh;function sw(){if(Jh)return vc;Jh=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,a=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,l=/^:\s*/,u=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,m=/^\s+|\s+$/g,y=`
`,p="/",x="*",b="",w="comment",E="declaration";vc=function(A,U){if(typeof A!="string")throw new TypeError("First argument must be a string");if(!A)return[];U=U||{};var I=1,B=1;function P(K){var X=K.match(e);X&&(I+=X.length);var ue=K.lastIndexOf(y);B=~ue?K.length-ue:B+K.length}function q(){var K={line:I,column:B};return function(X){return X.position=new H(K),ae(),X}}function H(K){this.start=K,this.end={line:I,column:B},this.source=U.source}H.prototype.content=A;function k(K){var X=new Error(U.source+":"+I+":"+B+": "+K);if(X.reason=K,X.filename=U.source,X.line=I,X.column=B,X.source=A,!U.silent)throw X}function M(K){var X=K.exec(A);if(X){var ue=X[0];return P(ue),A=A.slice(ue.length),X}}function ae(){M(a)}function J(K){var X;for(K=K||[];X=ne();)X!==!1&&K.push(X);return K}function ne(){var K=q();if(!(p!=A.charAt(0)||x!=A.charAt(1))){for(var X=2;b!=A.charAt(X)&&(x!=A.charAt(X)||p!=A.charAt(X+1));)++X;if(X+=2,b===A.charAt(X-1))return k("End of comment missing");var ue=A.slice(2,X-2);return B+=2,P(ue),A=A.slice(X),B+=2,K({type:w,comment:ue})}}function le(){var K=q(),X=M(r);if(X){if(ne(),!M(l))return k("property missing ':'");var ue=M(u),V=K({type:E,property:C(X[0].replace(t,b)),value:ue?C(ue[0].replace(t,b)):b});return M(c),V}}function $(){var K=[];J(K);for(var X;X=le();)X!==!1&&(K.push(X),J(K));return K}return ae(),$()};function C(A){return A?A.replace(m,b):b}return vc}var Yh;function uw(){if(Yh)return qa;Yh=1;var t=qa&&qa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(qa,"__esModule",{value:!0}),qa.default=a;const e=t(sw());function a(r,l){let u=null;if(!r||typeof r!="string")return u;const c=(0,e.default)(r),m=typeof l=="function";return c.forEach(y=>{if(y.type!=="declaration")return;const{property:p,value:x}=y;m?l(p,x,y):x&&(u=u||{},u[p]=x)}),u}return qa}var Jr={},Kh;function cw(){if(Kh)return Jr;Kh=1,Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,a=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,l=/^-(ms)-/,u=function(p){return!p||a.test(p)||t.test(p)},c=function(p,x){return x.toUpperCase()},m=function(p,x){return"".concat(x,"-")},y=function(p,x){return x===void 0&&(x={}),u(p)?p:(p=p.toLowerCase(),x.reactCompat?p=p.replace(l,m):p=p.replace(r,m),p.replace(e,c))};return Jr.camelCase=y,Jr}var Yr,Qh;function dw(){if(Qh)return Yr;Qh=1;var t=Yr&&Yr.__importDefault||function(l){return l&&l.__esModule?l:{default:l}},e=t(uw()),a=cw();function r(l,u){var c={};return!l||typeof l!="string"||(0,e.default)(l,function(m,y){m&&y&&(c[(0,a.camelCase)(m,u)]=y)}),c}return r.default=r,Yr=r,Yr}var fw=dw();const mw=Gl(fw),uy=cy("end"),od=cy("start");function cy(t){return e;function e(a){const r=a&&a.position&&a.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function pw(t){const e=od(t),a=uy(t);if(e&&a)return{start:e,end:a}}function eo(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?$h(t.position):"start"in t||"end"in t?$h(t):"line"in t||"column"in t?Bc(t):""}function Bc(t){return Xh(t&&t.line)+":"+Xh(t&&t.column)}function $h(t){return Bc(t&&t.start)+"-"+Bc(t&&t.end)}function Xh(t){return t&&typeof t=="number"?t:1}class At extends Error{constructor(e,a,r){super(),typeof a=="string"&&(r=a,a=void 0);let l="",u={},c=!1;if(a&&("line"in a&&"column"in a?u={place:a}:"start"in a&&"end"in a?u={place:a}:"type"in a?u={ancestors:[a],place:a.position}:u={...a}),typeof e=="string"?l=e:!u.cause&&e&&(c=!0,l=e.message,u.cause=e),!u.ruleId&&!u.source&&typeof r=="string"){const y=r.indexOf(":");y===-1?u.ruleId=r:(u.source=r.slice(0,y),u.ruleId=r.slice(y+1))}if(!u.place&&u.ancestors&&u.ancestors){const y=u.ancestors[u.ancestors.length-1];y&&(u.place=y.position)}const m=u.place&&"start"in u.place?u.place.start:u.place;this.ancestors=u.ancestors||void 0,this.cause=u.cause||void 0,this.column=m?m.column:void 0,this.fatal=void 0,this.file="",this.message=l,this.line=m?m.line:void 0,this.name=eo(u.place)||"1:1",this.place=u.place||void 0,this.reason=this.message,this.ruleId=u.ruleId||void 0,this.source=u.source||void 0,this.stack=c&&u.cause&&typeof u.cause.stack=="string"?u.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}At.prototype.file="";At.prototype.name="";At.prototype.reason="";At.prototype.message="";At.prototype.stack="";At.prototype.column=void 0;At.prototype.line=void 0;At.prototype.ancestors=void 0;At.prototype.cause=void 0;At.prototype.fatal=void 0;At.prototype.place=void 0;At.prototype.ruleId=void 0;At.prototype.source=void 0;const ld={}.hasOwnProperty,hw=new Map,gw=/[A-Z]/g,yw=new Set(["table","tbody","thead","tfoot","tr"]),xw=new Set(["td","th"]),dy="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function vw(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const a=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Aw(a,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Cw(a,e.jsx,e.jsxs)}const l={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:a,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?rd:ow,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},u=fy(l,t,void 0);return u&&typeof u!="string"?u:l.create(t,l.Fragment,{children:u||void 0},void 0)}function fy(t,e,a){if(e.type==="element")return bw(t,e,a);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return ww(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Ew(t,e,a);if(e.type==="mdxjsEsm")return Sw(t,e);if(e.type==="root")return Nw(t,e,a);if(e.type==="text")return Tw(t,e)}function bw(t,e,a){const r=t.schema;let l=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(l=rd,t.schema=l),t.ancestors.push(e);const u=py(t,e.tagName,!1),c=_w(t,e);let m=ud(t,e);return yw.has(e.tagName)&&(m=m.filter(function(y){return typeof y=="string"?!$1(y):!0})),my(t,c,u,e),sd(c,m),t.ancestors.pop(),t.schema=r,t.create(e,u,c,a)}function ww(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}ao(t,e.position)}function Sw(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);ao(t,e.position)}function Ew(t,e,a){const r=t.schema;let l=r;e.name==="svg"&&r.space==="html"&&(l=rd,t.schema=l),t.ancestors.push(e);const u=e.name===null?t.Fragment:py(t,e.name,!0),c=Iw(t,e),m=ud(t,e);return my(t,c,u,e),sd(c,m),t.ancestors.pop(),t.schema=r,t.create(e,u,c,a)}function Nw(t,e,a){const r={};return sd(r,ud(t,e)),t.create(e,t.Fragment,r,a)}function Tw(t,e){return e.value}function my(t,e,a,r){typeof a!="string"&&a!==t.Fragment&&t.passNode&&(e.node=r)}function sd(t,e){if(e.length>0){const a=e.length>1?e:e[0];a&&(t.children=a)}}function Cw(t,e,a){return r;function r(l,u,c,m){const p=Array.isArray(c.children)?a:e;return m?p(u,c,m):p(u,c)}}function Aw(t,e){return a;function a(r,l,u,c){const m=Array.isArray(u.children),y=od(r);return e(l,u,c,m,{columnNumber:y?y.column-1:void 0,fileName:t,lineNumber:y?y.line:void 0},void 0)}}function _w(t,e){const a={};let r,l;for(l in e.properties)if(l!=="children"&&ld.call(e.properties,l)){const u=kw(t,l,e.properties[l]);if(u){const[c,m]=u;t.tableCellAlignToStyle&&c==="align"&&typeof m=="string"&&xw.has(e.tagName)?r=m:a[c]=m}}if(r){const u=a.style||(a.style={});u[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return a}function Iw(t,e){const a={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const u=r.data.estree.body[0];u.type;const c=u.expression;c.type;const m=c.properties[0];m.type,Object.assign(a,t.evaluater.evaluateExpression(m.argument))}else ao(t,e.position);else{const l=r.name;let u;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const m=r.value.data.estree.body[0];m.type,u=t.evaluater.evaluateExpression(m.expression)}else ao(t,e.position);else u=r.value===null?!0:r.value;a[l]=u}return a}function ud(t,e){const a=[];let r=-1;const l=t.passKeys?new Map:hw;for(;++r<e.children.length;){const u=e.children[r];let c;if(t.passKeys){const y=u.type==="element"?u.tagName:u.type==="mdxJsxFlowElement"||u.type==="mdxJsxTextElement"?u.name:void 0;if(y){const p=l.get(y)||0;c=y+"-"+p,l.set(y,p+1)}}const m=fy(t,u,c);m!==void 0&&a.push(m)}return a}function kw(t,e,a){const r=iw(t.schema,e);if(!(a==null||typeof a=="number"&&Number.isNaN(a))){if(Array.isArray(a)&&(a=r.commaSeparated?F1(a):lw(a)),r.property==="style"){let l=typeof a=="object"?a:Rw(t,String(a));return t.stylePropertyNameCase==="css"&&(l=Mw(l)),["style",l]}return[t.elementAttributeNameCase==="react"&&r.space?ew[r.property]||r.property:r.attribute,a]}}function Rw(t,e){try{return mw(e,{reactCompat:!0})}catch(a){if(t.ignoreInvalidStyle)return{};const r=a,l=new At("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=t.filePath||void 0,l.url=dy+"#cannot-parse-style-attribute",l}}function py(t,e,a){let r;if(!a)r={type:"Literal",value:e};else if(e.includes(".")){const l=e.split(".");let u=-1,c;for(;++u<l.length;){const m=Hh(l[u])?{type:"Identifier",name:l[u]}:{type:"Literal",value:l[u]};c=c?{type:"MemberExpression",object:c,property:m,computed:!!(u&&m.type==="Literal"),optional:!1}:m}r=c}else r=Hh(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const l=r.value;return ld.call(t.components,l)?t.components[l]:l}if(t.evaluater)return t.evaluater.evaluateExpression(r);ao(t)}function ao(t,e){const a=new At("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=dy+"#cannot-handle-mdx-estrees-without-createevaluater",a}function Mw(t){const e={};let a;for(a in t)ld.call(t,a)&&(e[Dw(a)]=t[a]);return e}function Dw(t){let e=t.replace(gw,Lw);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Lw(t){return"-"+t.toLowerCase()}const bc={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},qw={};function Pw(t,e){const a=qw,r=typeof a.includeImageAlt=="boolean"?a.includeImageAlt:!0,l=typeof a.includeHtml=="boolean"?a.includeHtml:!0;return hy(t,r,l)}function hy(t,e,a){if(Uw(t)){if("value"in t)return t.type==="html"&&!a?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Zh(t.children,e,a)}return Array.isArray(t)?Zh(t,e,a):""}function Zh(t,e,a){const r=[];let l=-1;for(;++l<t.length;)r[l]=hy(t[l],e,a);return r.join("")}function Uw(t){return!!(t&&typeof t=="object")}const Wh=document.createElement("i");function cd(t){const e="&"+t+";";Wh.innerHTML=e;const a=Wh.textContent;return a.charCodeAt(a.length-1)===59&&t!=="semi"||a===e?!1:a}function An(t,e,a,r){const l=t.length;let u=0,c;if(e<0?e=-e>l?0:l+e:e=e>l?l:e,a=a>0?a:0,r.length<1e4)c=Array.from(r),c.unshift(e,a),t.splice(...c);else for(a&&t.splice(e,a);u<r.length;)c=r.slice(u,u+1e4),c.unshift(e,0),t.splice(...c),u+=1e4,e+=1e4}function fn(t,e){return t.length>0?(An(t,t.length,0,e),t):e}const eg={}.hasOwnProperty;function Bw(t){const e={};let a=-1;for(;++a<t.length;)Vw(e,t[a]);return e}function Vw(t,e){let a;for(a in e){const l=(eg.call(t,a)?t[a]:void 0)||(t[a]={}),u=e[a];let c;if(u)for(c in u){eg.call(l,c)||(l[c]=[]);const m=u[c];Gw(l[c],Array.isArray(m)?m:m?[m]:[])}}}function Gw(t,e){let a=-1;const r=[];for(;++a<e.length;)(e[a].add==="after"?t:r).push(e[a]);An(t,0,0,r)}function gy(t,e){const a=Number.parseInt(t,e);return a<9||a===11||a>13&&a<32||a>126&&a<160||a>55295&&a<57344||a>64975&&a<65008||(a&65535)===65535||(a&65535)===65534||a>1114111?"�":String.fromCodePoint(a)}function Oa(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Cn=Si(/[A-Za-z]/),Wt=Si(/[\dA-Za-z]/),Ow=Si(/[#-'*+\--9=?A-Z^-~]/);function Vc(t){return t!==null&&(t<32||t===127)}const Gc=Si(/\d/),Hw=Si(/[\dA-Fa-f]/),zw=Si(/[!-/:-@[-`{-~]/);function Ee(t){return t!==null&&t<-2}function Ot(t){return t!==null&&(t<0||t===32)}function Oe(t){return t===-2||t===-1||t===32}const jw=Si(new RegExp("\\p{P}|\\p{S}","u")),Fw=Si(/\s/);function Si(t){return e;function e(a){return a!==null&&a>-1&&t.test(String.fromCharCode(a))}}function Ya(t){const e=[];let a=-1,r=0,l=0;for(;++a<t.length;){const u=t.charCodeAt(a);let c="";if(u===37&&Wt(t.charCodeAt(a+1))&&Wt(t.charCodeAt(a+2)))l=2;else if(u<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(u))||(c=String.fromCharCode(u));else if(u>55295&&u<57344){const m=t.charCodeAt(a+1);u<56320&&m>56319&&m<57344?(c=String.fromCharCode(u,m),l=1):c="�"}else c=String.fromCharCode(u);c&&(e.push(t.slice(r,a),encodeURIComponent(c)),r=a+l+1,c=""),l&&(a+=l,l=0)}return e.join("")+t.slice(r)}function Xe(t,e,a,r){const l=r?r-1:Number.POSITIVE_INFINITY;let u=0;return c;function c(y){return Oe(y)?(t.enter(a),m(y)):e(y)}function m(y){return Oe(y)&&u++<l?(t.consume(y),m):(t.exit(a),e(y))}}const Jw={tokenize:Yw};function Yw(t){const e=t.attempt(this.parser.constructs.contentInitial,r,l);let a;return e;function r(m){if(m===null){t.consume(m);return}return t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),Xe(t,e,"linePrefix")}function l(m){return t.enter("paragraph"),u(m)}function u(m){const y=t.enter("chunkText",{contentType:"text",previous:a});return a&&(a.next=y),a=y,c(m)}function c(m){if(m===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(m);return}return Ee(m)?(t.consume(m),t.exit("chunkText"),u):(t.consume(m),c)}}const Kw={tokenize:Qw},tg={tokenize:$w};function Qw(t){const e=this,a=[];let r=0,l,u,c;return m;function m(P){if(r<a.length){const q=a[r];return e.containerState=q[1],t.attempt(q[0].continuation,y,p)(P)}return p(P)}function y(P){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,l&&B();const q=e.events.length;let H=q,k;for(;H--;)if(e.events[H][0]==="exit"&&e.events[H][1].type==="chunkFlow"){k=e.events[H][1].end;break}I(r);let M=q;for(;M<e.events.length;)e.events[M][1].end={...k},M++;return An(e.events,H+1,0,e.events.slice(q)),e.events.length=M,p(P)}return m(P)}function p(P){if(r===a.length){if(!l)return w(P);if(l.currentConstruct&&l.currentConstruct.concrete)return C(P);e.interrupt=!!(l.currentConstruct&&!l._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(tg,x,b)(P)}function x(P){return l&&B(),I(r),w(P)}function b(P){return e.parser.lazy[e.now().line]=r!==a.length,c=e.now().offset,C(P)}function w(P){return e.containerState={},t.attempt(tg,E,C)(P)}function E(P){return r++,a.push([e.currentConstruct,e.containerState]),w(P)}function C(P){if(P===null){l&&B(),I(0),t.consume(P);return}return l=l||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:l,contentType:"flow",previous:u}),A(P)}function A(P){if(P===null){U(t.exit("chunkFlow"),!0),I(0),t.consume(P);return}return Ee(P)?(t.consume(P),U(t.exit("chunkFlow")),r=0,e.interrupt=void 0,m):(t.consume(P),A)}function U(P,q){const H=e.sliceStream(P);if(q&&H.push(null),P.previous=u,u&&(u.next=P),u=P,l.defineSkip(P.start),l.write(H),e.parser.lazy[P.start.line]){let k=l.events.length;for(;k--;)if(l.events[k][1].start.offset<c&&(!l.events[k][1].end||l.events[k][1].end.offset>c))return;const M=e.events.length;let ae=M,J,ne;for(;ae--;)if(e.events[ae][0]==="exit"&&e.events[ae][1].type==="chunkFlow"){if(J){ne=e.events[ae][1].end;break}J=!0}for(I(r),k=M;k<e.events.length;)e.events[k][1].end={...ne},k++;An(e.events,ae+1,0,e.events.slice(M)),e.events.length=k}}function I(P){let q=a.length;for(;q-- >P;){const H=a[q];e.containerState=H[1],H[0].exit.call(e,t)}a.length=P}function B(){l.write([null]),u=void 0,l=void 0,e.containerState._closeFlow=void 0}}function $w(t,e,a){return Xe(t,t.attempt(this.parser.constructs.document,e,a),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ng(t){if(t===null||Ot(t)||Fw(t))return 1;if(jw(t))return 2}function dd(t,e,a){const r=[];let l=-1;for(;++l<t.length;){const u=t[l].resolveAll;u&&!r.includes(u)&&(e=u(e,a),r.push(u))}return e}const Oc={name:"attention",resolveAll:Xw,tokenize:Zw};function Xw(t,e){let a=-1,r,l,u,c,m,y,p,x;for(;++a<t.length;)if(t[a][0]==="enter"&&t[a][1].type==="attentionSequence"&&t[a][1]._close){for(r=a;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[a][1]).charCodeAt(0)){if((t[r][1]._close||t[a][1]._open)&&(t[a][1].end.offset-t[a][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[a][1].end.offset-t[a][1].start.offset)%3))continue;y=t[r][1].end.offset-t[r][1].start.offset>1&&t[a][1].end.offset-t[a][1].start.offset>1?2:1;const b={...t[r][1].end},w={...t[a][1].start};ig(b,-y),ig(w,y),c={type:y>1?"strongSequence":"emphasisSequence",start:b,end:{...t[r][1].end}},m={type:y>1?"strongSequence":"emphasisSequence",start:{...t[a][1].start},end:w},u={type:y>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[a][1].start}},l={type:y>1?"strong":"emphasis",start:{...c.start},end:{...m.end}},t[r][1].end={...c.start},t[a][1].start={...m.end},p=[],t[r][1].end.offset-t[r][1].start.offset&&(p=fn(p,[["enter",t[r][1],e],["exit",t[r][1],e]])),p=fn(p,[["enter",l,e],["enter",c,e],["exit",c,e],["enter",u,e]]),p=fn(p,dd(e.parser.constructs.insideSpan.null,t.slice(r+1,a),e)),p=fn(p,[["exit",u,e],["enter",m,e],["exit",m,e],["exit",l,e]]),t[a][1].end.offset-t[a][1].start.offset?(x=2,p=fn(p,[["enter",t[a][1],e],["exit",t[a][1],e]])):x=0,An(t,r-1,a-r+3,p),a=r+p.length-x-2;break}}for(a=-1;++a<t.length;)t[a][1].type==="attentionSequence"&&(t[a][1].type="data");return t}function Zw(t,e){const a=this.parser.constructs.attentionMarkers.null,r=this.previous,l=ng(r);let u;return c;function c(y){return u=y,t.enter("attentionSequence"),m(y)}function m(y){if(y===u)return t.consume(y),m;const p=t.exit("attentionSequence"),x=ng(y),b=!x||x===2&&l||a.includes(y),w=!l||l===2&&x||a.includes(r);return p._open=!!(u===42?b:b&&(l||!w)),p._close=!!(u===42?w:w&&(x||!b)),e(y)}}function ig(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Ww={name:"autolink",tokenize:eS};function eS(t,e,a){let r=0;return l;function l(E){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),u}function u(E){return Cn(E)?(t.consume(E),c):E===64?a(E):p(E)}function c(E){return E===43||E===45||E===46||Wt(E)?(r=1,m(E)):p(E)}function m(E){return E===58?(t.consume(E),r=0,y):(E===43||E===45||E===46||Wt(E))&&r++<32?(t.consume(E),m):(r=0,p(E))}function y(E){return E===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.exit("autolink"),e):E===null||E===32||E===60||Vc(E)?a(E):(t.consume(E),y)}function p(E){return E===64?(t.consume(E),x):Ow(E)?(t.consume(E),p):a(E)}function x(E){return Wt(E)?b(E):a(E)}function b(E){return E===46?(t.consume(E),r=0,x):E===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.exit("autolink"),e):w(E)}function w(E){if((E===45||Wt(E))&&r++<63){const C=E===45?w:b;return t.consume(E),C}return a(E)}}const Ol={partial:!0,tokenize:tS};function tS(t,e,a){return r;function r(u){return Oe(u)?Xe(t,l,"linePrefix")(u):l(u)}function l(u){return u===null||Ee(u)?e(u):a(u)}}const yy={continuation:{tokenize:iS},exit:aS,name:"blockQuote",tokenize:nS};function nS(t,e,a){const r=this;return l;function l(c){if(c===62){const m=r.containerState;return m.open||(t.enter("blockQuote",{_container:!0}),m.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(c),t.exit("blockQuoteMarker"),u}return a(c)}function u(c){return Oe(c)?(t.enter("blockQuotePrefixWhitespace"),t.consume(c),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(c))}}function iS(t,e,a){const r=this;return l;function l(c){return Oe(c)?Xe(t,u,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):u(c)}function u(c){return t.attempt(yy,e,a)(c)}}function aS(t){t.exit("blockQuote")}const xy={name:"characterEscape",tokenize:rS};function rS(t,e,a){return r;function r(u){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(u),t.exit("escapeMarker"),l}function l(u){return zw(u)?(t.enter("characterEscapeValue"),t.consume(u),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):a(u)}}const vy={name:"characterReference",tokenize:oS};function oS(t,e,a){const r=this;let l=0,u,c;return m;function m(b){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),y}function y(b){return b===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(b),t.exit("characterReferenceMarkerNumeric"),p):(t.enter("characterReferenceValue"),u=31,c=Wt,x(b))}function p(b){return b===88||b===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(b),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),u=6,c=Hw,x):(t.enter("characterReferenceValue"),u=7,c=Gc,x(b))}function x(b){if(b===59&&l){const w=t.exit("characterReferenceValue");return c===Wt&&!cd(r.sliceSerialize(w))?a(b):(t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return c(b)&&l++<u?(t.consume(b),x):a(b)}}const ag={partial:!0,tokenize:sS},rg={concrete:!0,name:"codeFenced",tokenize:lS};function lS(t,e,a){const r=this,l={partial:!0,tokenize:H};let u=0,c=0,m;return y;function y(k){return p(k)}function p(k){const M=r.events[r.events.length-1];return u=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,m=k,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),x(k)}function x(k){return k===m?(c++,t.consume(k),x):c<3?a(k):(t.exit("codeFencedFenceSequence"),Oe(k)?Xe(t,b,"whitespace")(k):b(k))}function b(k){return k===null||Ee(k)?(t.exit("codeFencedFence"),r.interrupt?e(k):t.check(ag,A,q)(k)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),w(k))}function w(k){return k===null||Ee(k)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),b(k)):Oe(k)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Xe(t,E,"whitespace")(k)):k===96&&k===m?a(k):(t.consume(k),w)}function E(k){return k===null||Ee(k)?b(k):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),C(k))}function C(k){return k===null||Ee(k)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),b(k)):k===96&&k===m?a(k):(t.consume(k),C)}function A(k){return t.attempt(l,q,U)(k)}function U(k){return t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),I}function I(k){return u>0&&Oe(k)?Xe(t,B,"linePrefix",u+1)(k):B(k)}function B(k){return k===null||Ee(k)?t.check(ag,A,q)(k):(t.enter("codeFlowValue"),P(k))}function P(k){return k===null||Ee(k)?(t.exit("codeFlowValue"),B(k)):(t.consume(k),P)}function q(k){return t.exit("codeFenced"),e(k)}function H(k,M,ae){let J=0;return ne;function ne(ue){return k.enter("lineEnding"),k.consume(ue),k.exit("lineEnding"),le}function le(ue){return k.enter("codeFencedFence"),Oe(ue)?Xe(k,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ue):$(ue)}function $(ue){return ue===m?(k.enter("codeFencedFenceSequence"),K(ue)):ae(ue)}function K(ue){return ue===m?(J++,k.consume(ue),K):J>=c?(k.exit("codeFencedFenceSequence"),Oe(ue)?Xe(k,X,"whitespace")(ue):X(ue)):ae(ue)}function X(ue){return ue===null||Ee(ue)?(k.exit("codeFencedFence"),M(ue)):ae(ue)}}}function sS(t,e,a){const r=this;return l;function l(c){return c===null?a(c):(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),u)}function u(c){return r.parser.lazy[r.now().line]?a(c):e(c)}}const wc={name:"codeIndented",tokenize:cS},uS={partial:!0,tokenize:dS};function cS(t,e,a){const r=this;return l;function l(p){return t.enter("codeIndented"),Xe(t,u,"linePrefix",5)(p)}function u(p){const x=r.events[r.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?c(p):a(p)}function c(p){return p===null?y(p):Ee(p)?t.attempt(uS,c,y)(p):(t.enter("codeFlowValue"),m(p))}function m(p){return p===null||Ee(p)?(t.exit("codeFlowValue"),c(p)):(t.consume(p),m)}function y(p){return t.exit("codeIndented"),e(p)}}function dS(t,e,a){const r=this;return l;function l(c){return r.parser.lazy[r.now().line]?a(c):Ee(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),l):Xe(t,u,"linePrefix",5)(c)}function u(c){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?e(c):Ee(c)?l(c):a(c)}}const fS={name:"codeText",previous:pS,resolve:mS,tokenize:hS};function mS(t){let e=t.length-4,a=3,r,l;if((t[a][1].type==="lineEnding"||t[a][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=a;++r<e;)if(t[r][1].type==="codeTextData"){t[a][1].type="codeTextPadding",t[e][1].type="codeTextPadding",a+=2,e-=2;break}}for(r=a-1,e++;++r<=e;)l===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(l=r):(r===e||t[r][1].type==="lineEnding")&&(t[l][1].type="codeTextData",r!==l+2&&(t[l][1].end=t[r-1][1].end,t.splice(l+2,r-l-2),e-=r-l-2,r=l+2),l=void 0);return t}function pS(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function hS(t,e,a){let r=0,l,u;return c;function c(b){return t.enter("codeText"),t.enter("codeTextSequence"),m(b)}function m(b){return b===96?(t.consume(b),r++,m):(t.exit("codeTextSequence"),y(b))}function y(b){return b===null?a(b):b===32?(t.enter("space"),t.consume(b),t.exit("space"),y):b===96?(u=t.enter("codeTextSequence"),l=0,x(b)):Ee(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),y):(t.enter("codeTextData"),p(b))}function p(b){return b===null||b===32||b===96||Ee(b)?(t.exit("codeTextData"),y(b)):(t.consume(b),p)}function x(b){return b===96?(t.consume(b),l++,x):l===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(b)):(u.type="codeTextData",p(b))}}class gS{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,a){const r=a??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,a,r){const l=a||0;this.setCursor(Math.trunc(e));const u=this.right.splice(this.right.length-l,Number.POSITIVE_INFINITY);return r&&Kr(this.left,r),u.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Kr(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Kr(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const a=this.left.splice(e,Number.POSITIVE_INFINITY);Kr(this.right,a.reverse())}else{const a=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Kr(this.left,a.reverse())}}}function Kr(t,e){let a=0;if(e.length<1e4)t.push(...e);else for(;a<e.length;)t.push(...e.slice(a,a+1e4)),a+=1e4}function by(t){const e={};let a=-1,r,l,u,c,m,y,p;const x=new gS(t);for(;++a<x.length;){for(;a in e;)a=e[a];if(r=x.get(a),a&&r[1].type==="chunkFlow"&&x.get(a-1)[1].type==="listItemPrefix"&&(y=r[1]._tokenizer.events,u=0,u<y.length&&y[u][1].type==="lineEndingBlank"&&(u+=2),u<y.length&&y[u][1].type==="content"))for(;++u<y.length&&y[u][1].type!=="content";)y[u][1].type==="chunkText"&&(y[u][1]._isInFirstContentOfListItem=!0,u++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,yS(x,a)),a=e[a],p=!0);else if(r[1]._container){for(u=a,l=void 0;u--;)if(c=x.get(u),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(l&&(x.get(l)[1].type="lineEndingBlank"),c[1].type="lineEnding",l=u);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;l&&(r[1].end={...x.get(l)[1].start},m=x.slice(l,a),m.unshift(r),x.splice(l,a-l+1,m))}}return An(t,0,Number.POSITIVE_INFINITY,x.slice(0)),!p}function yS(t,e){const a=t.get(e)[1],r=t.get(e)[2];let l=e-1;const u=[];let c=a._tokenizer;c||(c=r.parser[a.contentType](a.start),a._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const m=c.events,y=[],p={};let x,b,w=-1,E=a,C=0,A=0;const U=[A];for(;E;){for(;t.get(++l)[1]!==E;);u.push(l),E._tokenizer||(x=r.sliceStream(E),E.next||x.push(null),b&&c.defineSkip(E.start),E._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(x),E._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),b=E,E=E.next}for(E=a;++w<m.length;)m[w][0]==="exit"&&m[w-1][0]==="enter"&&m[w][1].type===m[w-1][1].type&&m[w][1].start.line!==m[w][1].end.line&&(A=w+1,U.push(A),E._tokenizer=void 0,E.previous=void 0,E=E.next);for(c.events=[],E?(E._tokenizer=void 0,E.previous=void 0):U.pop(),w=U.length;w--;){const I=m.slice(U[w],U[w+1]),B=u.pop();y.push([B,B+I.length-1]),t.splice(B,2,I)}for(y.reverse(),w=-1;++w<y.length;)p[C+y[w][0]]=C+y[w][1],C+=y[w][1]-y[w][0]-1;return p}const xS={resolve:bS,tokenize:wS},vS={partial:!0,tokenize:SS};function bS(t){return by(t),t}function wS(t,e){let a;return r;function r(m){return t.enter("content"),a=t.enter("chunkContent",{contentType:"content"}),l(m)}function l(m){return m===null?u(m):Ee(m)?t.check(vS,c,u)(m):(t.consume(m),l)}function u(m){return t.exit("chunkContent"),t.exit("content"),e(m)}function c(m){return t.consume(m),t.exit("chunkContent"),a.next=t.enter("chunkContent",{contentType:"content",previous:a}),a=a.next,l}}function SS(t,e,a){const r=this;return l;function l(c){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),Xe(t,u,"linePrefix")}function u(c){if(c===null||Ee(c))return a(c);const m=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?e(c):t.interrupt(r.parser.constructs.flow,a,e)(c)}}function wy(t,e,a,r,l,u,c,m,y){const p=y||Number.POSITIVE_INFINITY;let x=0;return b;function b(I){return I===60?(t.enter(r),t.enter(l),t.enter(u),t.consume(I),t.exit(u),w):I===null||I===32||I===41||Vc(I)?a(I):(t.enter(r),t.enter(c),t.enter(m),t.enter("chunkString",{contentType:"string"}),A(I))}function w(I){return I===62?(t.enter(u),t.consume(I),t.exit(u),t.exit(l),t.exit(r),e):(t.enter(m),t.enter("chunkString",{contentType:"string"}),E(I))}function E(I){return I===62?(t.exit("chunkString"),t.exit(m),w(I)):I===null||I===60||Ee(I)?a(I):(t.consume(I),I===92?C:E)}function C(I){return I===60||I===62||I===92?(t.consume(I),E):E(I)}function A(I){return!x&&(I===null||I===41||Ot(I))?(t.exit("chunkString"),t.exit(m),t.exit(c),t.exit(r),e(I)):x<p&&I===40?(t.consume(I),x++,A):I===41?(t.consume(I),x--,A):I===null||I===32||I===40||Vc(I)?a(I):(t.consume(I),I===92?U:A)}function U(I){return I===40||I===41||I===92?(t.consume(I),A):A(I)}}function Sy(t,e,a,r,l,u){const c=this;let m=0,y;return p;function p(E){return t.enter(r),t.enter(l),t.consume(E),t.exit(l),t.enter(u),x}function x(E){return m>999||E===null||E===91||E===93&&!y||E===94&&!m&&"_hiddenFootnoteSupport"in c.parser.constructs?a(E):E===93?(t.exit(u),t.enter(l),t.consume(E),t.exit(l),t.exit(r),e):Ee(E)?(t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),x):(t.enter("chunkString",{contentType:"string"}),b(E))}function b(E){return E===null||E===91||E===93||Ee(E)||m++>999?(t.exit("chunkString"),x(E)):(t.consume(E),y||(y=!Oe(E)),E===92?w:b)}function w(E){return E===91||E===92||E===93?(t.consume(E),m++,b):b(E)}}function Ey(t,e,a,r,l,u){let c;return m;function m(w){return w===34||w===39||w===40?(t.enter(r),t.enter(l),t.consume(w),t.exit(l),c=w===40?41:w,y):a(w)}function y(w){return w===c?(t.enter(l),t.consume(w),t.exit(l),t.exit(r),e):(t.enter(u),p(w))}function p(w){return w===c?(t.exit(u),y(c)):w===null?a(w):Ee(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),Xe(t,p,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),x(w))}function x(w){return w===c||w===null||Ee(w)?(t.exit("chunkString"),p(w)):(t.consume(w),w===92?b:x)}function b(w){return w===c||w===92?(t.consume(w),x):x(w)}}function to(t,e){let a;return r;function r(l){return Ee(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a=!0,r):Oe(l)?Xe(t,r,a?"linePrefix":"lineSuffix")(l):e(l)}}const ES={name:"definition",tokenize:TS},NS={partial:!0,tokenize:CS};function TS(t,e,a){const r=this;let l;return u;function u(E){return t.enter("definition"),c(E)}function c(E){return Sy.call(r,t,m,a,"definitionLabel","definitionLabelMarker","definitionLabelString")(E)}function m(E){return l=Oa(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),E===58?(t.enter("definitionMarker"),t.consume(E),t.exit("definitionMarker"),y):a(E)}function y(E){return Ot(E)?to(t,p)(E):p(E)}function p(E){return wy(t,x,a,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(E)}function x(E){return t.attempt(NS,b,b)(E)}function b(E){return Oe(E)?Xe(t,w,"whitespace")(E):w(E)}function w(E){return E===null||Ee(E)?(t.exit("definition"),r.parser.defined.push(l),e(E)):a(E)}}function CS(t,e,a){return r;function r(m){return Ot(m)?to(t,l)(m):a(m)}function l(m){return Ey(t,u,a,"definitionTitle","definitionTitleMarker","definitionTitleString")(m)}function u(m){return Oe(m)?Xe(t,c,"whitespace")(m):c(m)}function c(m){return m===null||Ee(m)?e(m):a(m)}}const AS={name:"hardBreakEscape",tokenize:_S};function _S(t,e,a){return r;function r(u){return t.enter("hardBreakEscape"),t.consume(u),l}function l(u){return Ee(u)?(t.exit("hardBreakEscape"),e(u)):a(u)}}const IS={name:"headingAtx",resolve:kS,tokenize:RS};function kS(t,e){let a=t.length-2,r=3,l,u;return t[r][1].type==="whitespace"&&(r+=2),a-2>r&&t[a][1].type==="whitespace"&&(a-=2),t[a][1].type==="atxHeadingSequence"&&(r===a-1||a-4>r&&t[a-2][1].type==="whitespace")&&(a-=r+1===a?2:4),a>r&&(l={type:"atxHeadingText",start:t[r][1].start,end:t[a][1].end},u={type:"chunkText",start:t[r][1].start,end:t[a][1].end,contentType:"text"},An(t,r,a-r+1,[["enter",l,e],["enter",u,e],["exit",u,e],["exit",l,e]])),t}function RS(t,e,a){let r=0;return l;function l(x){return t.enter("atxHeading"),u(x)}function u(x){return t.enter("atxHeadingSequence"),c(x)}function c(x){return x===35&&r++<6?(t.consume(x),c):x===null||Ot(x)?(t.exit("atxHeadingSequence"),m(x)):a(x)}function m(x){return x===35?(t.enter("atxHeadingSequence"),y(x)):x===null||Ee(x)?(t.exit("atxHeading"),e(x)):Oe(x)?Xe(t,m,"whitespace")(x):(t.enter("atxHeadingText"),p(x))}function y(x){return x===35?(t.consume(x),y):(t.exit("atxHeadingSequence"),m(x))}function p(x){return x===null||x===35||Ot(x)?(t.exit("atxHeadingText"),m(x)):(t.consume(x),p)}}const MS=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],og=["pre","script","style","textarea"],DS={concrete:!0,name:"htmlFlow",resolveTo:PS,tokenize:US},LS={partial:!0,tokenize:VS},qS={partial:!0,tokenize:BS};function PS(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function US(t,e,a){const r=this;let l,u,c,m,y;return p;function p(T){return x(T)}function x(T){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(T),b}function b(T){return T===33?(t.consume(T),w):T===47?(t.consume(T),u=!0,A):T===63?(t.consume(T),l=3,r.interrupt?e:_):Cn(T)?(t.consume(T),c=String.fromCharCode(T),U):a(T)}function w(T){return T===45?(t.consume(T),l=2,E):T===91?(t.consume(T),l=5,m=0,C):Cn(T)?(t.consume(T),l=4,r.interrupt?e:_):a(T)}function E(T){return T===45?(t.consume(T),r.interrupt?e:_):a(T)}function C(T){const O="CDATA[";return T===O.charCodeAt(m++)?(t.consume(T),m===O.length?r.interrupt?e:$:C):a(T)}function A(T){return Cn(T)?(t.consume(T),c=String.fromCharCode(T),U):a(T)}function U(T){if(T===null||T===47||T===62||Ot(T)){const O=T===47,ce=c.toLowerCase();return!O&&!u&&og.includes(ce)?(l=1,r.interrupt?e(T):$(T)):MS.includes(c.toLowerCase())?(l=6,O?(t.consume(T),I):r.interrupt?e(T):$(T)):(l=7,r.interrupt&&!r.parser.lazy[r.now().line]?a(T):u?B(T):P(T))}return T===45||Wt(T)?(t.consume(T),c+=String.fromCharCode(T),U):a(T)}function I(T){return T===62?(t.consume(T),r.interrupt?e:$):a(T)}function B(T){return Oe(T)?(t.consume(T),B):ne(T)}function P(T){return T===47?(t.consume(T),ne):T===58||T===95||Cn(T)?(t.consume(T),q):Oe(T)?(t.consume(T),P):ne(T)}function q(T){return T===45||T===46||T===58||T===95||Wt(T)?(t.consume(T),q):H(T)}function H(T){return T===61?(t.consume(T),k):Oe(T)?(t.consume(T),H):P(T)}function k(T){return T===null||T===60||T===61||T===62||T===96?a(T):T===34||T===39?(t.consume(T),y=T,M):Oe(T)?(t.consume(T),k):ae(T)}function M(T){return T===y?(t.consume(T),y=null,J):T===null||Ee(T)?a(T):(t.consume(T),M)}function ae(T){return T===null||T===34||T===39||T===47||T===60||T===61||T===62||T===96||Ot(T)?H(T):(t.consume(T),ae)}function J(T){return T===47||T===62||Oe(T)?P(T):a(T)}function ne(T){return T===62?(t.consume(T),le):a(T)}function le(T){return T===null||Ee(T)?$(T):Oe(T)?(t.consume(T),le):a(T)}function $(T){return T===45&&l===2?(t.consume(T),V):T===60&&l===1?(t.consume(T),re):T===62&&l===4?(t.consume(T),D):T===63&&l===3?(t.consume(T),_):T===93&&l===5?(t.consume(T),ve):Ee(T)&&(l===6||l===7)?(t.exit("htmlFlowData"),t.check(LS,W,K)(T)):T===null||Ee(T)?(t.exit("htmlFlowData"),K(T)):(t.consume(T),$)}function K(T){return t.check(qS,X,W)(T)}function X(T){return t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),ue}function ue(T){return T===null||Ee(T)?K(T):(t.enter("htmlFlowData"),$(T))}function V(T){return T===45?(t.consume(T),_):$(T)}function re(T){return T===47?(t.consume(T),c="",me):$(T)}function me(T){if(T===62){const O=c.toLowerCase();return og.includes(O)?(t.consume(T),D):$(T)}return Cn(T)&&c.length<8?(t.consume(T),c+=String.fromCharCode(T),me):$(T)}function ve(T){return T===93?(t.consume(T),_):$(T)}function _(T){return T===62?(t.consume(T),D):T===45&&l===2?(t.consume(T),_):$(T)}function D(T){return T===null||Ee(T)?(t.exit("htmlFlowData"),W(T)):(t.consume(T),D)}function W(T){return t.exit("htmlFlow"),e(T)}}function BS(t,e,a){const r=this;return l;function l(c){return Ee(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),u):a(c)}function u(c){return r.parser.lazy[r.now().line]?a(c):e(c)}}function VS(t,e,a){return r;function r(l){return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),t.attempt(Ol,e,a)}}const GS={name:"htmlText",tokenize:OS};function OS(t,e,a){const r=this;let l,u,c;return m;function m(_){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(_),y}function y(_){return _===33?(t.consume(_),p):_===47?(t.consume(_),H):_===63?(t.consume(_),P):Cn(_)?(t.consume(_),ae):a(_)}function p(_){return _===45?(t.consume(_),x):_===91?(t.consume(_),u=0,C):Cn(_)?(t.consume(_),B):a(_)}function x(_){return _===45?(t.consume(_),E):a(_)}function b(_){return _===null?a(_):_===45?(t.consume(_),w):Ee(_)?(c=b,re(_)):(t.consume(_),b)}function w(_){return _===45?(t.consume(_),E):b(_)}function E(_){return _===62?V(_):_===45?w(_):b(_)}function C(_){const D="CDATA[";return _===D.charCodeAt(u++)?(t.consume(_),u===D.length?A:C):a(_)}function A(_){return _===null?a(_):_===93?(t.consume(_),U):Ee(_)?(c=A,re(_)):(t.consume(_),A)}function U(_){return _===93?(t.consume(_),I):A(_)}function I(_){return _===62?V(_):_===93?(t.consume(_),I):A(_)}function B(_){return _===null||_===62?V(_):Ee(_)?(c=B,re(_)):(t.consume(_),B)}function P(_){return _===null?a(_):_===63?(t.consume(_),q):Ee(_)?(c=P,re(_)):(t.consume(_),P)}function q(_){return _===62?V(_):P(_)}function H(_){return Cn(_)?(t.consume(_),k):a(_)}function k(_){return _===45||Wt(_)?(t.consume(_),k):M(_)}function M(_){return Ee(_)?(c=M,re(_)):Oe(_)?(t.consume(_),M):V(_)}function ae(_){return _===45||Wt(_)?(t.consume(_),ae):_===47||_===62||Ot(_)?J(_):a(_)}function J(_){return _===47?(t.consume(_),V):_===58||_===95||Cn(_)?(t.consume(_),ne):Ee(_)?(c=J,re(_)):Oe(_)?(t.consume(_),J):V(_)}function ne(_){return _===45||_===46||_===58||_===95||Wt(_)?(t.consume(_),ne):le(_)}function le(_){return _===61?(t.consume(_),$):Ee(_)?(c=le,re(_)):Oe(_)?(t.consume(_),le):J(_)}function $(_){return _===null||_===60||_===61||_===62||_===96?a(_):_===34||_===39?(t.consume(_),l=_,K):Ee(_)?(c=$,re(_)):Oe(_)?(t.consume(_),$):(t.consume(_),X)}function K(_){return _===l?(t.consume(_),l=void 0,ue):_===null?a(_):Ee(_)?(c=K,re(_)):(t.consume(_),K)}function X(_){return _===null||_===34||_===39||_===60||_===61||_===96?a(_):_===47||_===62||Ot(_)?J(_):(t.consume(_),X)}function ue(_){return _===47||_===62||Ot(_)?J(_):a(_)}function V(_){return _===62?(t.consume(_),t.exit("htmlTextData"),t.exit("htmlText"),e):a(_)}function re(_){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),me}function me(_){return Oe(_)?Xe(t,ve,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):ve(_)}function ve(_){return t.enter("htmlTextData"),c(_)}}const fd={name:"labelEnd",resolveAll:FS,resolveTo:JS,tokenize:YS},HS={tokenize:KS},zS={tokenize:QS},jS={tokenize:$S};function FS(t){let e=-1;const a=[];for(;++e<t.length;){const r=t[e][1];if(a.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const l=r.type==="labelImage"?4:2;r.type="data",e+=l}}return t.length!==a.length&&An(t,0,t.length,a),t}function JS(t,e){let a=t.length,r=0,l,u,c,m;for(;a--;)if(l=t[a][1],u){if(l.type==="link"||l.type==="labelLink"&&l._inactive)break;t[a][0]==="enter"&&l.type==="labelLink"&&(l._inactive=!0)}else if(c){if(t[a][0]==="enter"&&(l.type==="labelImage"||l.type==="labelLink")&&!l._balanced&&(u=a,l.type!=="labelLink")){r=2;break}}else l.type==="labelEnd"&&(c=a);const y={type:t[u][1].type==="labelLink"?"link":"image",start:{...t[u][1].start},end:{...t[t.length-1][1].end}},p={type:"label",start:{...t[u][1].start},end:{...t[c][1].end}},x={type:"labelText",start:{...t[u+r+2][1].end},end:{...t[c-2][1].start}};return m=[["enter",y,e],["enter",p,e]],m=fn(m,t.slice(u+1,u+r+3)),m=fn(m,[["enter",x,e]]),m=fn(m,dd(e.parser.constructs.insideSpan.null,t.slice(u+r+4,c-3),e)),m=fn(m,[["exit",x,e],t[c-2],t[c-1],["exit",p,e]]),m=fn(m,t.slice(c+1)),m=fn(m,[["exit",y,e]]),An(t,u,t.length,m),t}function YS(t,e,a){const r=this;let l=r.events.length,u,c;for(;l--;)if((r.events[l][1].type==="labelImage"||r.events[l][1].type==="labelLink")&&!r.events[l][1]._balanced){u=r.events[l][1];break}return m;function m(w){return u?u._inactive?b(w):(c=r.parser.defined.includes(Oa(r.sliceSerialize({start:u.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(w),t.exit("labelMarker"),t.exit("labelEnd"),y):a(w)}function y(w){return w===40?t.attempt(HS,x,c?x:b)(w):w===91?t.attempt(zS,x,c?p:b)(w):c?x(w):b(w)}function p(w){return t.attempt(jS,x,b)(w)}function x(w){return e(w)}function b(w){return u._balanced=!0,a(w)}}function KS(t,e,a){return r;function r(b){return t.enter("resource"),t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),l}function l(b){return Ot(b)?to(t,u)(b):u(b)}function u(b){return b===41?x(b):wy(t,c,m,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(b)}function c(b){return Ot(b)?to(t,y)(b):x(b)}function m(b){return a(b)}function y(b){return b===34||b===39||b===40?Ey(t,p,a,"resourceTitle","resourceTitleMarker","resourceTitleString")(b):x(b)}function p(b){return Ot(b)?to(t,x)(b):x(b)}function x(b){return b===41?(t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),t.exit("resource"),e):a(b)}}function QS(t,e,a){const r=this;return l;function l(m){return Sy.call(r,t,u,c,"reference","referenceMarker","referenceString")(m)}function u(m){return r.parser.defined.includes(Oa(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(m):a(m)}function c(m){return a(m)}}function $S(t,e,a){return r;function r(u){return t.enter("reference"),t.enter("referenceMarker"),t.consume(u),t.exit("referenceMarker"),l}function l(u){return u===93?(t.enter("referenceMarker"),t.consume(u),t.exit("referenceMarker"),t.exit("reference"),e):a(u)}}const XS={name:"labelStartImage",resolveAll:fd.resolveAll,tokenize:ZS};function ZS(t,e,a){const r=this;return l;function l(m){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(m),t.exit("labelImageMarker"),u}function u(m){return m===91?(t.enter("labelMarker"),t.consume(m),t.exit("labelMarker"),t.exit("labelImage"),c):a(m)}function c(m){return m===94&&"_hiddenFootnoteSupport"in r.parser.constructs?a(m):e(m)}}const WS={name:"labelStartLink",resolveAll:fd.resolveAll,tokenize:eE};function eE(t,e,a){const r=this;return l;function l(c){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelLink"),u}function u(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?a(c):e(c)}}const Sc={name:"lineEnding",tokenize:tE};function tE(t,e){return a;function a(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Xe(t,e,"linePrefix")}}const Ml={name:"thematicBreak",tokenize:nE};function nE(t,e,a){let r=0,l;return u;function u(p){return t.enter("thematicBreak"),c(p)}function c(p){return l=p,m(p)}function m(p){return p===l?(t.enter("thematicBreakSequence"),y(p)):r>=3&&(p===null||Ee(p))?(t.exit("thematicBreak"),e(p)):a(p)}function y(p){return p===l?(t.consume(p),r++,y):(t.exit("thematicBreakSequence"),Oe(p)?Xe(t,m,"whitespace")(p):m(p))}}const Gt={continuation:{tokenize:oE},exit:sE,name:"list",tokenize:rE},iE={partial:!0,tokenize:uE},aE={partial:!0,tokenize:lE};function rE(t,e,a){const r=this,l=r.events[r.events.length-1];let u=l&&l[1].type==="linePrefix"?l[2].sliceSerialize(l[1],!0).length:0,c=0;return m;function m(E){const C=r.containerState.type||(E===42||E===43||E===45?"listUnordered":"listOrdered");if(C==="listUnordered"?!r.containerState.marker||E===r.containerState.marker:Gc(E)){if(r.containerState.type||(r.containerState.type=C,t.enter(C,{_container:!0})),C==="listUnordered")return t.enter("listItemPrefix"),E===42||E===45?t.check(Ml,a,p)(E):p(E);if(!r.interrupt||E===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),y(E)}return a(E)}function y(E){return Gc(E)&&++c<10?(t.consume(E),y):(!r.interrupt||c<2)&&(r.containerState.marker?E===r.containerState.marker:E===41||E===46)?(t.exit("listItemValue"),p(E)):a(E)}function p(E){return t.enter("listItemMarker"),t.consume(E),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||E,t.check(Ol,r.interrupt?a:x,t.attempt(iE,w,b))}function x(E){return r.containerState.initialBlankLine=!0,u++,w(E)}function b(E){return Oe(E)?(t.enter("listItemPrefixWhitespace"),t.consume(E),t.exit("listItemPrefixWhitespace"),w):a(E)}function w(E){return r.containerState.size=u+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(E)}}function oE(t,e,a){const r=this;return r.containerState._closeFlow=void 0,t.check(Ol,l,u);function l(m){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Xe(t,e,"listItemIndent",r.containerState.size+1)(m)}function u(m){return r.containerState.furtherBlankLines||!Oe(m)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,c(m)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(aE,e,c)(m))}function c(m){return r.containerState._closeFlow=!0,r.interrupt=void 0,Xe(t,t.attempt(Gt,e,a),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(m)}}function lE(t,e,a){const r=this;return Xe(t,l,"listItemIndent",r.containerState.size+1);function l(u){const c=r.events[r.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===r.containerState.size?e(u):a(u)}}function sE(t){t.exit(this.containerState.type)}function uE(t,e,a){const r=this;return Xe(t,l,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function l(u){const c=r.events[r.events.length-1];return!Oe(u)&&c&&c[1].type==="listItemPrefixWhitespace"?e(u):a(u)}}const lg={name:"setextUnderline",resolveTo:cE,tokenize:dE};function cE(t,e){let a=t.length,r,l,u;for(;a--;)if(t[a][0]==="enter"){if(t[a][1].type==="content"){r=a;break}t[a][1].type==="paragraph"&&(l=a)}else t[a][1].type==="content"&&t.splice(a,1),!u&&t[a][1].type==="definition"&&(u=a);const c={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[l][1].type="setextHeadingText",u?(t.splice(l,0,["enter",c,e]),t.splice(u+1,0,["exit",t[r][1],e]),t[r][1].end={...t[u][1].end}):t[r][1]=c,t.push(["exit",c,e]),t}function dE(t,e,a){const r=this;let l;return u;function u(p){let x=r.events.length,b;for(;x--;)if(r.events[x][1].type!=="lineEnding"&&r.events[x][1].type!=="linePrefix"&&r.events[x][1].type!=="content"){b=r.events[x][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||b)?(t.enter("setextHeadingLine"),l=p,c(p)):a(p)}function c(p){return t.enter("setextHeadingLineSequence"),m(p)}function m(p){return p===l?(t.consume(p),m):(t.exit("setextHeadingLineSequence"),Oe(p)?Xe(t,y,"lineSuffix")(p):y(p))}function y(p){return p===null||Ee(p)?(t.exit("setextHeadingLine"),e(p)):a(p)}}const fE={tokenize:mE};function mE(t){const e=this,a=t.attempt(Ol,r,t.attempt(this.parser.constructs.flowInitial,l,Xe(t,t.attempt(this.parser.constructs.flow,l,t.attempt(xS,l)),"linePrefix")));return a;function r(u){if(u===null){t.consume(u);return}return t.enter("lineEndingBlank"),t.consume(u),t.exit("lineEndingBlank"),e.currentConstruct=void 0,a}function l(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),e.currentConstruct=void 0,a}}const pE={resolveAll:Ty()},hE=Ny("string"),gE=Ny("text");function Ny(t){return{resolveAll:Ty(t==="text"?yE:void 0),tokenize:e};function e(a){const r=this,l=this.parser.constructs[t],u=a.attempt(l,c,m);return c;function c(x){return p(x)?u(x):m(x)}function m(x){if(x===null){a.consume(x);return}return a.enter("data"),a.consume(x),y}function y(x){return p(x)?(a.exit("data"),u(x)):(a.consume(x),y)}function p(x){if(x===null)return!0;const b=l[x];let w=-1;if(b)for(;++w<b.length;){const E=b[w];if(!E.previous||E.previous.call(r,r.previous))return!0}return!1}}}function Ty(t){return e;function e(a,r){let l=-1,u;for(;++l<=a.length;)u===void 0?a[l]&&a[l][1].type==="data"&&(u=l,l++):(!a[l]||a[l][1].type!=="data")&&(l!==u+2&&(a[u][1].end=a[l-1][1].end,a.splice(u+2,l-u-2),l=u+2),u=void 0);return t?t(a,r):a}}function yE(t,e){let a=0;for(;++a<=t.length;)if((a===t.length||t[a][1].type==="lineEnding")&&t[a-1][1].type==="data"){const r=t[a-1][1],l=e.sliceStream(r);let u=l.length,c=-1,m=0,y;for(;u--;){const p=l[u];if(typeof p=="string"){for(c=p.length;p.charCodeAt(c-1)===32;)m++,c--;if(c)break;c=-1}else if(p===-2)y=!0,m++;else if(p!==-1){u++;break}}if(e._contentTypeTextTrailing&&a===t.length&&(m=0),m){const p={type:a===t.length||y||m<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:u?c:r.start._bufferIndex+c,_index:r.start._index+u,line:r.end.line,column:r.end.column-m,offset:r.end.offset-m},end:{...r.end}};r.end={...p.start},r.start.offset===r.end.offset?Object.assign(r,p):(t.splice(a,0,["enter",p,e],["exit",p,e]),a+=2)}a++}return t}const xE={42:Gt,43:Gt,45:Gt,48:Gt,49:Gt,50:Gt,51:Gt,52:Gt,53:Gt,54:Gt,55:Gt,56:Gt,57:Gt,62:yy},vE={91:ES},bE={[-2]:wc,[-1]:wc,32:wc},wE={35:IS,42:Ml,45:[lg,Ml],60:DS,61:lg,95:Ml,96:rg,126:rg},SE={38:vy,92:xy},EE={[-5]:Sc,[-4]:Sc,[-3]:Sc,33:XS,38:vy,42:Oc,60:[Ww,GS],91:WS,92:[AS,xy],93:fd,95:Oc,96:fS},NE={null:[Oc,pE]},TE={null:[42,95]},CE={null:[]},AE=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:TE,contentInitial:vE,disable:CE,document:xE,flow:wE,flowInitial:bE,insideSpan:NE,string:SE,text:EE},Symbol.toStringTag,{value:"Module"}));function _E(t,e,a){let r={_bufferIndex:-1,_index:0,line:a&&a.line||1,column:a&&a.column||1,offset:a&&a.offset||0};const l={},u=[];let c=[],m=[];const y={attempt:M(H),check:M(k),consume:B,enter:P,exit:q,interrupt:M(k,{interrupt:!0})},p={code:null,containerState:{},defineSkip:A,events:[],now:C,parser:t,previous:null,sliceSerialize:w,sliceStream:E,write:b};let x=e.tokenize.call(p,y);return e.resolveAll&&u.push(e),p;function b(le){return c=fn(c,le),U(),c[c.length-1]!==null?[]:(ae(e,0),p.events=dd(u,p.events,p),p.events)}function w(le,$){return kE(E(le),$)}function E(le){return IE(c,le)}function C(){const{_bufferIndex:le,_index:$,line:K,column:X,offset:ue}=r;return{_bufferIndex:le,_index:$,line:K,column:X,offset:ue}}function A(le){l[le.line]=le.column,ne()}function U(){let le;for(;r._index<c.length;){const $=c[r._index];if(typeof $=="string")for(le=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===le&&r._bufferIndex<$.length;)I($.charCodeAt(r._bufferIndex));else I($)}}function I(le){x=x(le)}function B(le){Ee(le)?(r.line++,r.column=1,r.offset+=le===-3?2:1,ne()):le!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===c[r._index].length&&(r._bufferIndex=-1,r._index++)),p.previous=le}function P(le,$){const K=$||{};return K.type=le,K.start=C(),p.events.push(["enter",K,p]),m.push(K),K}function q(le){const $=m.pop();return $.end=C(),p.events.push(["exit",$,p]),$}function H(le,$){ae(le,$.from)}function k(le,$){$.restore()}function M(le,$){return K;function K(X,ue,V){let re,me,ve,_;return Array.isArray(X)?W(X):"tokenize"in X?W([X]):D(X);function D(oe){return xe;function xe(qe){const Ne=qe!==null&&oe[qe],ot=qe!==null&&oe.null,nt=[...Array.isArray(Ne)?Ne:Ne?[Ne]:[],...Array.isArray(ot)?ot:ot?[ot]:[]];return W(nt)(qe)}}function W(oe){return re=oe,me=0,oe.length===0?V:T(oe[me])}function T(oe){return xe;function xe(qe){return _=J(),ve=oe,oe.partial||(p.currentConstruct=oe),oe.name&&p.parser.constructs.disable.null.includes(oe.name)?ce():oe.tokenize.call($?Object.assign(Object.create(p),$):p,y,O,ce)(qe)}}function O(oe){return le(ve,_),ue}function ce(oe){return _.restore(),++me<re.length?T(re[me]):V}}}function ae(le,$){le.resolveAll&&!u.includes(le)&&u.push(le),le.resolve&&An(p.events,$,p.events.length-$,le.resolve(p.events.slice($),p)),le.resolveTo&&(p.events=le.resolveTo(p.events,p))}function J(){const le=C(),$=p.previous,K=p.currentConstruct,X=p.events.length,ue=Array.from(m);return{from:X,restore:V};function V(){r=le,p.previous=$,p.currentConstruct=K,p.events.length=X,m=ue,ne()}}function ne(){r.line in l&&r.column<2&&(r.column=l[r.line],r.offset+=l[r.line]-1)}}function IE(t,e){const a=e.start._index,r=e.start._bufferIndex,l=e.end._index,u=e.end._bufferIndex;let c;if(a===l)c=[t[a].slice(r,u)];else{if(c=t.slice(a,l),r>-1){const m=c[0];typeof m=="string"?c[0]=m.slice(r):c.shift()}u>0&&c.push(t[l].slice(0,u))}return c}function kE(t,e){let a=-1;const r=[];let l;for(;++a<t.length;){const u=t[a];let c;if(typeof u=="string")c=u;else switch(u){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=e?" ":"	";break}case-1:{if(!e&&l)continue;c=" ";break}default:c=String.fromCharCode(u)}l=u===-2,r.push(c)}return r.join("")}function RE(t){const r={constructs:Bw([AE,...(t||{}).extensions||[]]),content:l(Jw),defined:[],document:l(Kw),flow:l(fE),lazy:{},string:l(hE),text:l(gE)};return r;function l(u){return c;function c(m){return _E(r,u,m)}}}function ME(t){for(;!by(t););return t}const sg=/[\0\t\n\r]/g;function DE(){let t=1,e="",a=!0,r;return l;function l(u,c,m){const y=[];let p,x,b,w,E;for(u=e+(typeof u=="string"?u.toString():new TextDecoder(c||void 0).decode(u)),b=0,e="",a&&(u.charCodeAt(0)===65279&&b++,a=void 0);b<u.length;){if(sg.lastIndex=b,p=sg.exec(u),w=p&&p.index!==void 0?p.index:u.length,E=u.charCodeAt(w),!p){e=u.slice(b);break}if(E===10&&b===w&&r)y.push(-3),r=void 0;else switch(r&&(y.push(-5),r=void 0),b<w&&(y.push(u.slice(b,w)),t+=w-b),E){case 0:{y.push(65533),t++;break}case 9:{for(x=Math.ceil(t/4)*4,y.push(-2);t++<x;)y.push(-1);break}case 10:{y.push(-4),t=1;break}default:r=!0,t=1}b=w+1}return m&&(r&&y.push(-5),e&&y.push(e),y.push(null)),y}}const LE=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function qE(t){return t.replace(LE,PE)}function PE(t,e,a){if(e)return e;if(a.charCodeAt(0)===35){const l=a.charCodeAt(1),u=l===120||l===88;return gy(a.slice(u?2:1),u?16:10)}return cd(a)||t}const Cy={}.hasOwnProperty;function UE(t,e,a){return typeof e!="string"&&(a=e,e=void 0),BE(a)(ME(RE(a).document().write(DE()(t,e,!0))))}function BE(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(Qi),autolinkProtocol:J,autolinkEmail:J,atxHeading:u(Ni),blockQuote:u(ot),characterEscape:J,characterReference:J,codeFenced:u(nt),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:u(nt,c),codeText:u(_t,c),codeTextData:J,data:J,codeFlowValue:J,definition:u(_n),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:u(zt),hardBreakEscape:u(Ti),hardBreakTrailing:u(Ti),htmlFlow:u(Yi,c),htmlFlowData:J,htmlText:u(Yi,c),htmlTextData:J,image:u(Ki),label:c,link:u(Qi),listItem:u(Xa),listItemValue:w,listOrdered:u($i,b),listUnordered:u($i),paragraph:u(Kl),reference:T,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:u(Ni),strong:u(Ql),thematicBreak:u($l)},exit:{atxHeading:y(),atxHeadingSequence:H,autolink:y(),autolinkEmail:Ne,autolinkProtocol:qe,blockQuote:y(),characterEscapeValue:ne,characterReferenceMarkerHexadecimal:ce,characterReferenceMarkerNumeric:ce,characterReferenceValue:oe,characterReference:xe,codeFenced:y(U),codeFencedFence:A,codeFencedFenceInfo:E,codeFencedFenceMeta:C,codeFlowValue:ne,codeIndented:y(I),codeText:y(ue),codeTextData:ne,data:ne,definition:y(),definitionDestinationString:q,definitionLabelString:B,definitionTitleString:P,emphasis:y(),hardBreakEscape:y($),hardBreakTrailing:y($),htmlFlow:y(K),htmlFlowData:ne,htmlText:y(X),htmlTextData:ne,image:y(re),label:ve,labelText:me,lineEnding:le,link:y(V),listItem:y(),listOrdered:y(),listUnordered:y(),paragraph:y(),referenceString:O,resourceDestinationString:_,resourceTitleString:D,resource:W,setextHeading:y(ae),setextHeadingLineSequence:M,setextHeadingText:k,strong:y(),thematicBreak:y()}};Ay(e,(t||{}).mdastExtensions||[]);const a={};return r;function r(ee){let de={type:"root",children:[]};const Se={stack:[de],tokenStack:[],config:e,enter:m,exit:p,buffer:c,resume:x,data:a},ke=[];let He=-1;for(;++He<ee.length;)if(ee[He][1].type==="listOrdered"||ee[He][1].type==="listUnordered")if(ee[He][0]==="enter")ke.push(He);else{const jt=ke.pop();He=l(ee,jt,He)}for(He=-1;++He<ee.length;){const jt=e[ee[He][0]];Cy.call(jt,ee[He][1].type)&&jt[ee[He][1].type].call(Object.assign({sliceSerialize:ee[He][2].sliceSerialize},Se),ee[He][1])}if(Se.tokenStack.length>0){const jt=Se.tokenStack[Se.tokenStack.length-1];(jt[1]||ug).call(Se,void 0,jt[0])}for(de.position={start:bi(ee.length>0?ee[0][1].start:{line:1,column:1,offset:0}),end:bi(ee.length>0?ee[ee.length-2][1].end:{line:1,column:1,offset:0})},He=-1;++He<e.transforms.length;)de=e.transforms[He](de)||de;return de}function l(ee,de,Se){let ke=de-1,He=-1,jt=!1,In,kt,pt,Mt;for(;++ke<=Se;){const Ke=ee[ke];switch(Ke[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ke[0]==="enter"?He++:He--,Mt=void 0;break}case"lineEndingBlank":{Ke[0]==="enter"&&(In&&!Mt&&!He&&!pt&&(pt=ke),Mt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Mt=void 0}if(!He&&Ke[0]==="enter"&&Ke[1].type==="listItemPrefix"||He===-1&&Ke[0]==="exit"&&(Ke[1].type==="listUnordered"||Ke[1].type==="listOrdered")){if(In){let Qn=ke;for(kt=void 0;Qn--;){const pn=ee[Qn];if(pn[1].type==="lineEnding"||pn[1].type==="lineEndingBlank"){if(pn[0]==="exit")continue;kt&&(ee[kt][1].type="lineEndingBlank",jt=!0),pn[1].type="lineEnding",kt=Qn}else if(!(pn[1].type==="linePrefix"||pn[1].type==="blockQuotePrefix"||pn[1].type==="blockQuotePrefixWhitespace"||pn[1].type==="blockQuoteMarker"||pn[1].type==="listItemIndent"))break}pt&&(!kt||pt<kt)&&(In._spread=!0),In.end=Object.assign({},kt?ee[kt][1].start:Ke[1].end),ee.splice(kt||ke,0,["exit",In,Ke[2]]),ke++,Se++}if(Ke[1].type==="listItemPrefix"){const Qn={type:"listItem",_spread:!1,start:Object.assign({},Ke[1].start),end:void 0};In=Qn,ee.splice(ke,0,["enter",Qn,Ke[2]]),ke++,Se++,pt=void 0,Mt=!0}}}return ee[de][1]._spread=jt,Se}function u(ee,de){return Se;function Se(ke){m.call(this,ee(ke),ke),de&&de.call(this,ke)}}function c(){this.stack.push({type:"fragment",children:[]})}function m(ee,de,Se){this.stack[this.stack.length-1].children.push(ee),this.stack.push(ee),this.tokenStack.push([de,Se||void 0]),ee.position={start:bi(de.start),end:void 0}}function y(ee){return de;function de(Se){ee&&ee.call(this,Se),p.call(this,Se)}}function p(ee,de){const Se=this.stack.pop(),ke=this.tokenStack.pop();if(ke)ke[0].type!==ee.type&&(de?de.call(this,ee,ke[0]):(ke[1]||ug).call(this,ee,ke[0]));else throw new Error("Cannot close `"+ee.type+"` ("+eo({start:ee.start,end:ee.end})+"): it’s not open");Se.position.end=bi(ee.end)}function x(){return Pw(this.stack.pop())}function b(){this.data.expectingFirstListItemValue=!0}function w(ee){if(this.data.expectingFirstListItemValue){const de=this.stack[this.stack.length-2];de.start=Number.parseInt(this.sliceSerialize(ee),10),this.data.expectingFirstListItemValue=void 0}}function E(){const ee=this.resume(),de=this.stack[this.stack.length-1];de.lang=ee}function C(){const ee=this.resume(),de=this.stack[this.stack.length-1];de.meta=ee}function A(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function U(){const ee=this.resume(),de=this.stack[this.stack.length-1];de.value=ee.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function I(){const ee=this.resume(),de=this.stack[this.stack.length-1];de.value=ee.replace(/(\r?\n|\r)$/g,"")}function B(ee){const de=this.resume(),Se=this.stack[this.stack.length-1];Se.label=de,Se.identifier=Oa(this.sliceSerialize(ee)).toLowerCase()}function P(){const ee=this.resume(),de=this.stack[this.stack.length-1];de.title=ee}function q(){const ee=this.resume(),de=this.stack[this.stack.length-1];de.url=ee}function H(ee){const de=this.stack[this.stack.length-1];if(!de.depth){const Se=this.sliceSerialize(ee).length;de.depth=Se}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function M(ee){const de=this.stack[this.stack.length-1];de.depth=this.sliceSerialize(ee).codePointAt(0)===61?1:2}function ae(){this.data.setextHeadingSlurpLineEnding=void 0}function J(ee){const Se=this.stack[this.stack.length-1].children;let ke=Se[Se.length-1];(!ke||ke.type!=="text")&&(ke=It(),ke.position={start:bi(ee.start),end:void 0},Se.push(ke)),this.stack.push(ke)}function ne(ee){const de=this.stack.pop();de.value+=this.sliceSerialize(ee),de.position.end=bi(ee.end)}function le(ee){const de=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Se=de.children[de.children.length-1];Se.position.end=bi(ee.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(de.type)&&(J.call(this,ee),ne.call(this,ee))}function $(){this.data.atHardBreak=!0}function K(){const ee=this.resume(),de=this.stack[this.stack.length-1];de.value=ee}function X(){const ee=this.resume(),de=this.stack[this.stack.length-1];de.value=ee}function ue(){const ee=this.resume(),de=this.stack[this.stack.length-1];de.value=ee}function V(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const de=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=de,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function re(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const de=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=de,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function me(ee){const de=this.sliceSerialize(ee),Se=this.stack[this.stack.length-2];Se.label=qE(de),Se.identifier=Oa(de).toLowerCase()}function ve(){const ee=this.stack[this.stack.length-1],de=this.resume(),Se=this.stack[this.stack.length-1];if(this.data.inReference=!0,Se.type==="link"){const ke=ee.children;Se.children=ke}else Se.alt=de}function _(){const ee=this.resume(),de=this.stack[this.stack.length-1];de.url=ee}function D(){const ee=this.resume(),de=this.stack[this.stack.length-1];de.title=ee}function W(){this.data.inReference=void 0}function T(){this.data.referenceType="collapsed"}function O(ee){const de=this.resume(),Se=this.stack[this.stack.length-1];Se.label=de,Se.identifier=Oa(this.sliceSerialize(ee)).toLowerCase(),this.data.referenceType="full"}function ce(ee){this.data.characterReferenceType=ee.type}function oe(ee){const de=this.sliceSerialize(ee),Se=this.data.characterReferenceType;let ke;Se?(ke=gy(de,Se==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ke=cd(de);const He=this.stack[this.stack.length-1];He.value+=ke}function xe(ee){const de=this.stack.pop();de.position.end=bi(ee.end)}function qe(ee){ne.call(this,ee);const de=this.stack[this.stack.length-1];de.url=this.sliceSerialize(ee)}function Ne(ee){ne.call(this,ee);const de=this.stack[this.stack.length-1];de.url="mailto:"+this.sliceSerialize(ee)}function ot(){return{type:"blockquote",children:[]}}function nt(){return{type:"code",lang:null,meta:null,value:""}}function _t(){return{type:"inlineCode",value:""}}function _n(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function zt(){return{type:"emphasis",children:[]}}function Ni(){return{type:"heading",depth:0,children:[]}}function Ti(){return{type:"break"}}function Yi(){return{type:"html",value:""}}function Ki(){return{type:"image",title:null,url:"",alt:null}}function Qi(){return{type:"link",title:null,url:"",children:[]}}function $i(ee){return{type:"list",ordered:ee.type==="listOrdered",start:null,spread:ee._spread,children:[]}}function Xa(ee){return{type:"listItem",spread:ee._spread,checked:null,children:[]}}function Kl(){return{type:"paragraph",children:[]}}function Ql(){return{type:"strong",children:[]}}function It(){return{type:"text",value:""}}function $l(){return{type:"thematicBreak"}}}function bi(t){return{line:t.line,column:t.column,offset:t.offset}}function Ay(t,e){let a=-1;for(;++a<e.length;){const r=e[a];Array.isArray(r)?Ay(t,r):VE(t,r)}}function VE(t,e){let a;for(a in e)if(Cy.call(e,a))switch(a){case"canContainEols":{const r=e[a];r&&t[a].push(...r);break}case"transforms":{const r=e[a];r&&t[a].push(...r);break}case"enter":case"exit":{const r=e[a];r&&Object.assign(t[a],r);break}}}function ug(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+eo({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+eo({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+eo({start:e.start,end:e.end})+") is still open")}function GE(t){const e=this;e.parser=a;function a(r){return UE(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function OE(t,e){const a={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,a),t.applyData(e,a)}function HE(t,e){const a={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,a),[t.applyData(e,a),{type:"text",value:`
`}]}function zE(t,e){const a=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let l={type:"element",tagName:"code",properties:r,children:[{type:"text",value:a}]};return e.meta&&(l.data={meta:e.meta}),t.patch(e,l),l=t.applyData(e,l),l={type:"element",tagName:"pre",properties:{},children:[l]},t.patch(e,l),l}function jE(t,e){const a={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function FE(t,e){const a={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function JE(t,e){const a=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),l=Ya(r.toLowerCase()),u=t.footnoteOrder.indexOf(r);let c,m=t.footnoteCounts.get(r);m===void 0?(m=0,t.footnoteOrder.push(r),c=t.footnoteOrder.length):c=u+1,m+=1,t.footnoteCounts.set(r,m);const y={type:"element",tagName:"a",properties:{href:"#"+a+"fn-"+l,id:a+"fnref-"+l+(m>1?"-"+m:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};t.patch(e,y);const p={type:"element",tagName:"sup",properties:{},children:[y]};return t.patch(e,p),t.applyData(e,p)}function YE(t,e){const a={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function KE(t,e){if(t.options.allowDangerousHtml){const a={type:"raw",value:e.value};return t.patch(e,a),t.applyData(e,a)}}function _y(t,e){const a=e.referenceType;let r="]";if(a==="collapsed"?r+="[]":a==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const l=t.all(e),u=l[0];u&&u.type==="text"?u.value="["+u.value:l.unshift({type:"text",value:"["});const c=l[l.length-1];return c&&c.type==="text"?c.value+=r:l.push({type:"text",value:r}),l}function QE(t,e){const a=String(e.identifier).toUpperCase(),r=t.definitionById.get(a);if(!r)return _y(t,e);const l={src:Ya(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(l.title=r.title);const u={type:"element",tagName:"img",properties:l,children:[]};return t.patch(e,u),t.applyData(e,u)}function $E(t,e){const a={src:Ya(e.url)};e.alt!==null&&e.alt!==void 0&&(a.alt=e.alt),e.title!==null&&e.title!==void 0&&(a.title=e.title);const r={type:"element",tagName:"img",properties:a,children:[]};return t.patch(e,r),t.applyData(e,r)}function XE(t,e){const a={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,a);const r={type:"element",tagName:"code",properties:{},children:[a]};return t.patch(e,r),t.applyData(e,r)}function ZE(t,e){const a=String(e.identifier).toUpperCase(),r=t.definitionById.get(a);if(!r)return _y(t,e);const l={href:Ya(r.url||"")};r.title!==null&&r.title!==void 0&&(l.title=r.title);const u={type:"element",tagName:"a",properties:l,children:t.all(e)};return t.patch(e,u),t.applyData(e,u)}function WE(t,e){const a={href:Ya(e.url)};e.title!==null&&e.title!==void 0&&(a.title=e.title);const r={type:"element",tagName:"a",properties:a,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function e2(t,e,a){const r=t.all(e),l=a?t2(a):Iy(e),u={},c=[];if(typeof e.checked=="boolean"){const x=r[0];let b;x&&x.type==="element"&&x.tagName==="p"?b=x:(b={type:"element",tagName:"p",properties:{},children:[]},r.unshift(b)),b.children.length>0&&b.children.unshift({type:"text",value:" "}),b.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),u.className=["task-list-item"]}let m=-1;for(;++m<r.length;){const x=r[m];(l||m!==0||x.type!=="element"||x.tagName!=="p")&&c.push({type:"text",value:`
`}),x.type==="element"&&x.tagName==="p"&&!l?c.push(...x.children):c.push(x)}const y=r[r.length-1];y&&(l||y.type!=="element"||y.tagName!=="p")&&c.push({type:"text",value:`
`});const p={type:"element",tagName:"li",properties:u,children:c};return t.patch(e,p),t.applyData(e,p)}function t2(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const a=t.children;let r=-1;for(;!e&&++r<a.length;)e=Iy(a[r])}return e}function Iy(t){const e=t.spread;return e??t.children.length>1}function n2(t,e){const a={},r=t.all(e);let l=-1;for(typeof e.start=="number"&&e.start!==1&&(a.start=e.start);++l<r.length;){const c=r[l];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){a.className=["contains-task-list"];break}}const u={type:"element",tagName:e.ordered?"ol":"ul",properties:a,children:t.wrap(r,!0)};return t.patch(e,u),t.applyData(e,u)}function i2(t,e){const a={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function a2(t,e){const a={type:"root",children:t.wrap(t.all(e))};return t.patch(e,a),t.applyData(e,a)}function r2(t,e){const a={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function o2(t,e){const a=t.all(e),r=a.shift(),l=[];if(r){const c={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],c),l.push(c)}if(a.length>0){const c={type:"element",tagName:"tbody",properties:{},children:t.wrap(a,!0)},m=od(e.children[1]),y=uy(e.children[e.children.length-1]);m&&y&&(c.position={start:m,end:y}),l.push(c)}const u={type:"element",tagName:"table",properties:{},children:t.wrap(l,!0)};return t.patch(e,u),t.applyData(e,u)}function l2(t,e,a){const r=a?a.children:void 0,u=(r?r.indexOf(e):1)===0?"th":"td",c=a&&a.type==="table"?a.align:void 0,m=c?c.length:e.children.length;let y=-1;const p=[];for(;++y<m;){const b=e.children[y],w={},E=c?c[y]:void 0;E&&(w.align=E);let C={type:"element",tagName:u,properties:w,children:[]};b&&(C.children=t.all(b),t.patch(b,C),C=t.applyData(b,C)),p.push(C)}const x={type:"element",tagName:"tr",properties:{},children:t.wrap(p,!0)};return t.patch(e,x),t.applyData(e,x)}function s2(t,e){const a={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}const cg=9,dg=32;function u2(t){const e=String(t),a=/\r?\n|\r/g;let r=a.exec(e),l=0;const u=[];for(;r;)u.push(fg(e.slice(l,r.index),l>0,!0),r[0]),l=r.index+r[0].length,r=a.exec(e);return u.push(fg(e.slice(l),l>0,!1)),u.join("")}function fg(t,e,a){let r=0,l=t.length;if(e){let u=t.codePointAt(r);for(;u===cg||u===dg;)r++,u=t.codePointAt(r)}if(a){let u=t.codePointAt(l-1);for(;u===cg||u===dg;)l--,u=t.codePointAt(l-1)}return l>r?t.slice(r,l):""}function c2(t,e){const a={type:"text",value:u2(String(e.value))};return t.patch(e,a),t.applyData(e,a)}function d2(t,e){const a={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,a),t.applyData(e,a)}const f2={blockquote:OE,break:HE,code:zE,delete:jE,emphasis:FE,footnoteReference:JE,heading:YE,html:KE,imageReference:QE,image:$E,inlineCode:XE,linkReference:ZE,link:WE,listItem:e2,list:n2,paragraph:i2,root:a2,strong:r2,table:o2,tableCell:s2,tableRow:l2,text:c2,thematicBreak:d2,toml:_l,yaml:_l,definition:_l,footnoteDefinition:_l};function _l(){}const ky=-1,Hl=0,no=1,ql=2,md=3,pd=4,hd=5,gd=6,Ry=7,My=8,mg=typeof self=="object"?self:globalThis,m2=(t,e)=>{const a=(l,u)=>(t.set(u,l),l),r=l=>{if(t.has(l))return t.get(l);const[u,c]=e[l];switch(u){case Hl:case ky:return a(c,l);case no:{const m=a([],l);for(const y of c)m.push(r(y));return m}case ql:{const m=a({},l);for(const[y,p]of c)m[r(y)]=r(p);return m}case md:return a(new Date(c),l);case pd:{const{source:m,flags:y}=c;return a(new RegExp(m,y),l)}case hd:{const m=a(new Map,l);for(const[y,p]of c)m.set(r(y),r(p));return m}case gd:{const m=a(new Set,l);for(const y of c)m.add(r(y));return m}case Ry:{const{name:m,message:y}=c;return a(new mg[m](y),l)}case My:return a(BigInt(c),l);case"BigInt":return a(Object(BigInt(c)),l);case"ArrayBuffer":return a(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:m}=new Uint8Array(c);return a(new DataView(m),c)}}return a(new mg[u](c),l)};return r},pg=t=>m2(new Map,t)(0),Pa="",{toString:p2}={},{keys:h2}=Object,Qr=t=>{const e=typeof t;if(e!=="object"||!t)return[Hl,e];const a=p2.call(t).slice(8,-1);switch(a){case"Array":return[no,Pa];case"Object":return[ql,Pa];case"Date":return[md,Pa];case"RegExp":return[pd,Pa];case"Map":return[hd,Pa];case"Set":return[gd,Pa];case"DataView":return[no,a]}return a.includes("Array")?[no,a]:a.includes("Error")?[Ry,a]:[ql,a]},Il=([t,e])=>t===Hl&&(e==="function"||e==="symbol"),g2=(t,e,a,r)=>{const l=(c,m)=>{const y=r.push(c)-1;return a.set(m,y),y},u=c=>{if(a.has(c))return a.get(c);let[m,y]=Qr(c);switch(m){case Hl:{let x=c;switch(y){case"bigint":m=My,x=c.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+y);x=null;break;case"undefined":return l([ky],c)}return l([m,x],c)}case no:{if(y){let w=c;return y==="DataView"?w=new Uint8Array(c.buffer):y==="ArrayBuffer"&&(w=new Uint8Array(c)),l([y,[...w]],c)}const x=[],b=l([m,x],c);for(const w of c)x.push(u(w));return b}case ql:{if(y)switch(y){case"BigInt":return l([y,c.toString()],c);case"Boolean":case"Number":case"String":return l([y,c.valueOf()],c)}if(e&&"toJSON"in c)return u(c.toJSON());const x=[],b=l([m,x],c);for(const w of h2(c))(t||!Il(Qr(c[w])))&&x.push([u(w),u(c[w])]);return b}case md:return l([m,c.toISOString()],c);case pd:{const{source:x,flags:b}=c;return l([m,{source:x,flags:b}],c)}case hd:{const x=[],b=l([m,x],c);for(const[w,E]of c)(t||!(Il(Qr(w))||Il(Qr(E))))&&x.push([u(w),u(E)]);return b}case gd:{const x=[],b=l([m,x],c);for(const w of c)(t||!Il(Qr(w)))&&x.push(u(w));return b}}const{message:p}=c;return l([m,{name:y,message:p}],c)};return u},hg=(t,{json:e,lossy:a}={})=>{const r=[];return g2(!(e||a),!!e,new Map,r)(t),r},Pl=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?pg(hg(t,e)):structuredClone(t):(t,e)=>pg(hg(t,e));function y2(t,e){const a=[{type:"text",value:"↩"}];return e>1&&a.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),a}function x2(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function v2(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",a=t.options.footnoteBackContent||y2,r=t.options.footnoteBackLabel||x2,l=t.options.footnoteLabel||"Footnotes",u=t.options.footnoteLabelTagName||"h2",c=t.options.footnoteLabelProperties||{className:["sr-only"]},m=[];let y=-1;for(;++y<t.footnoteOrder.length;){const p=t.footnoteById.get(t.footnoteOrder[y]);if(!p)continue;const x=t.all(p),b=String(p.identifier).toUpperCase(),w=Ya(b.toLowerCase());let E=0;const C=[],A=t.footnoteCounts.get(b);for(;A!==void 0&&++E<=A;){C.length>0&&C.push({type:"text",value:" "});let B=typeof a=="string"?a:a(y,E);typeof B=="string"&&(B={type:"text",value:B}),C.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+w+(E>1?"-"+E:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(y,E),className:["data-footnote-backref"]},children:Array.isArray(B)?B:[B]})}const U=x[x.length-1];if(U&&U.type==="element"&&U.tagName==="p"){const B=U.children[U.children.length-1];B&&B.type==="text"?B.value+=" ":U.children.push({type:"text",value:" "}),U.children.push(...C)}else x.push(...C);const I={type:"element",tagName:"li",properties:{id:e+"fn-"+w},children:t.wrap(x,!0)};t.patch(p,I),m.push(I)}if(m.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:u,properties:{...Pl(c),id:"footnote-label"},children:[{type:"text",value:l}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(m,!0)},{type:"text",value:`
`}]}}const Dy=(function(t){if(t==null)return E2;if(typeof t=="function")return zl(t);if(typeof t=="object")return Array.isArray(t)?b2(t):w2(t);if(typeof t=="string")return S2(t);throw new Error("Expected function, string, or object as test")});function b2(t){const e=[];let a=-1;for(;++a<t.length;)e[a]=Dy(t[a]);return zl(r);function r(...l){let u=-1;for(;++u<e.length;)if(e[u].apply(this,l))return!0;return!1}}function w2(t){const e=t;return zl(a);function a(r){const l=r;let u;for(u in t)if(l[u]!==e[u])return!1;return!0}}function S2(t){return zl(e);function e(a){return a&&a.type===t}}function zl(t){return e;function e(a,r,l){return!!(N2(a)&&t.call(this,a,typeof r=="number"?r:void 0,l||void 0))}}function E2(){return!0}function N2(t){return t!==null&&typeof t=="object"&&"type"in t}const Ly=[],T2=!0,gg=!1,C2="skip";function A2(t,e,a,r){let l;typeof e=="function"&&typeof a!="function"?(r=a,a=e):l=e;const u=Dy(l),c=r?-1:1;m(t,void 0,[])();function m(y,p,x){const b=y&&typeof y=="object"?y:{};if(typeof b.type=="string"){const E=typeof b.tagName=="string"?b.tagName:typeof b.name=="string"?b.name:void 0;Object.defineProperty(w,"name",{value:"node ("+(y.type+(E?"<"+E+">":""))+")"})}return w;function w(){let E=Ly,C,A,U;if((!e||u(y,p,x[x.length-1]||void 0))&&(E=_2(a(y,x)),E[0]===gg))return E;if("children"in y&&y.children){const I=y;if(I.children&&E[0]!==C2)for(A=(r?I.children.length:-1)+c,U=x.concat(I);A>-1&&A<I.children.length;){const B=I.children[A];if(C=m(B,A,U)(),C[0]===gg)return C;A=typeof C[1]=="number"?C[1]:A+c}}return E}}}function _2(t){return Array.isArray(t)?t:typeof t=="number"?[T2,t]:t==null?Ly:[t]}function qy(t,e,a,r){let l,u,c;typeof e=="function"&&typeof a!="function"?(u=void 0,c=e,l=a):(u=e,c=a,l=r),A2(t,u,m,l);function m(y,p){const x=p[p.length-1],b=x?x.children.indexOf(y):void 0;return c(y,b,x)}}const Hc={}.hasOwnProperty,I2={};function k2(t,e){const a=e||I2,r=new Map,l=new Map,u=new Map,c={...f2,...a.handlers},m={all:p,applyData:M2,definitionById:r,footnoteById:l,footnoteCounts:u,footnoteOrder:[],handlers:c,one:y,options:a,patch:R2,wrap:L2};return qy(t,function(x){if(x.type==="definition"||x.type==="footnoteDefinition"){const b=x.type==="definition"?r:l,w=String(x.identifier).toUpperCase();b.has(w)||b.set(w,x)}}),m;function y(x,b){const w=x.type,E=m.handlers[w];if(Hc.call(m.handlers,w)&&E)return E(m,x,b);if(m.options.passThrough&&m.options.passThrough.includes(w)){if("children"in x){const{children:A,...U}=x,I=Pl(U);return I.children=m.all(x),I}return Pl(x)}return(m.options.unknownHandler||D2)(m,x,b)}function p(x){const b=[];if("children"in x){const w=x.children;let E=-1;for(;++E<w.length;){const C=m.one(w[E],x);if(C){if(E&&w[E-1].type==="break"&&(!Array.isArray(C)&&C.type==="text"&&(C.value=yg(C.value)),!Array.isArray(C)&&C.type==="element")){const A=C.children[0];A&&A.type==="text"&&(A.value=yg(A.value))}Array.isArray(C)?b.push(...C):b.push(C)}}}return b}}function R2(t,e){t.position&&(e.position=pw(t))}function M2(t,e){let a=e;if(t&&t.data){const r=t.data.hName,l=t.data.hChildren,u=t.data.hProperties;if(typeof r=="string")if(a.type==="element")a.tagName=r;else{const c="children"in a?a.children:[a];a={type:"element",tagName:r,properties:{},children:c}}a.type==="element"&&u&&Object.assign(a.properties,Pl(u)),"children"in a&&a.children&&l!==null&&l!==void 0&&(a.children=l)}return a}function D2(t,e){const a=e.data||{},r="value"in e&&!(Hc.call(a,"hProperties")||Hc.call(a,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function L2(t,e){const a=[];let r=-1;for(e&&a.push({type:"text",value:`
`});++r<t.length;)r&&a.push({type:"text",value:`
`}),a.push(t[r]);return e&&t.length>0&&a.push({type:"text",value:`
`}),a}function yg(t){let e=0,a=t.charCodeAt(e);for(;a===9||a===32;)e++,a=t.charCodeAt(e);return t.slice(e)}function xg(t,e){const a=k2(t,e),r=a.one(t,void 0),l=v2(a),u=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return l&&u.children.push({type:"text",value:`
`},l),u}function q2(t,e){return t&&"run"in t?async function(a,r){const l=xg(a,{file:r,...e});await t.run(l,r)}:function(a,r){return xg(a,{file:r,...t||e})}}function vg(t){if(t)throw t}var Ec,bg;function P2(){if(bg)return Ec;bg=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,a=Object.defineProperty,r=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):e.call(p)==="[object Array]"},u=function(p){if(!p||e.call(p)!=="[object Object]")return!1;var x=t.call(p,"constructor"),b=p.constructor&&p.constructor.prototype&&t.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!x&&!b)return!1;var w;for(w in p);return typeof w>"u"||t.call(p,w)},c=function(p,x){a&&x.name==="__proto__"?a(p,x.name,{enumerable:!0,configurable:!0,value:x.newValue,writable:!0}):p[x.name]=x.newValue},m=function(p,x){if(x==="__proto__")if(t.call(p,x)){if(r)return r(p,x).value}else return;return p[x]};return Ec=function y(){var p,x,b,w,E,C,A=arguments[0],U=1,I=arguments.length,B=!1;for(typeof A=="boolean"&&(B=A,A=arguments[1]||{},U=2),(A==null||typeof A!="object"&&typeof A!="function")&&(A={});U<I;++U)if(p=arguments[U],p!=null)for(x in p)b=m(A,x),w=m(p,x),A!==w&&(B&&w&&(u(w)||(E=l(w)))?(E?(E=!1,C=b&&l(b)?b:[]):C=b&&u(b)?b:{},c(A,{name:x,newValue:y(B,C,w)})):typeof w<"u"&&c(A,{name:x,newValue:w}));return A},Ec}var U2=P2();const Nc=Gl(U2);function zc(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function B2(){const t=[],e={run:a,use:r};return e;function a(...l){let u=-1;const c=l.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);m(null,...l);function m(y,...p){const x=t[++u];let b=-1;if(y){c(y);return}for(;++b<l.length;)(p[b]===null||p[b]===void 0)&&(p[b]=l[b]);l=p,x?V2(x,m)(...p):c(null,...p)}}function r(l){if(typeof l!="function")throw new TypeError("Expected `middelware` to be a function, not "+l);return t.push(l),e}}function V2(t,e){let a;return r;function r(...c){const m=t.length>c.length;let y;m&&c.push(l);try{y=t.apply(this,c)}catch(p){const x=p;if(m&&a)throw x;return l(x)}m||(y&&y.then&&typeof y.then=="function"?y.then(u,l):y instanceof Error?l(y):u(y))}function l(c,...m){a||(a=!0,e(c,...m))}function u(c){l(null,c)}}const Tn={basename:G2,dirname:O2,extname:H2,join:z2,sep:"/"};function G2(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');lo(t);let a=0,r=-1,l=t.length,u;if(e===void 0||e.length===0||e.length>t.length){for(;l--;)if(t.codePointAt(l)===47){if(u){a=l+1;break}}else r<0&&(u=!0,r=l+1);return r<0?"":t.slice(a,r)}if(e===t)return"";let c=-1,m=e.length-1;for(;l--;)if(t.codePointAt(l)===47){if(u){a=l+1;break}}else c<0&&(u=!0,c=l+1),m>-1&&(t.codePointAt(l)===e.codePointAt(m--)?m<0&&(r=l):(m=-1,r=c));return a===r?r=c:r<0&&(r=t.length),t.slice(a,r)}function O2(t){if(lo(t),t.length===0)return".";let e=-1,a=t.length,r;for(;--a;)if(t.codePointAt(a)===47){if(r){e=a;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function H2(t){lo(t);let e=t.length,a=-1,r=0,l=-1,u=0,c;for(;e--;){const m=t.codePointAt(e);if(m===47){if(c){r=e+1;break}continue}a<0&&(c=!0,a=e+1),m===46?l<0?l=e:u!==1&&(u=1):l>-1&&(u=-1)}return l<0||a<0||u===0||u===1&&l===a-1&&l===r+1?"":t.slice(l,a)}function z2(...t){let e=-1,a;for(;++e<t.length;)lo(t[e]),t[e]&&(a=a===void 0?t[e]:a+"/"+t[e]);return a===void 0?".":j2(a)}function j2(t){lo(t);const e=t.codePointAt(0)===47;let a=F2(t,!e);return a.length===0&&!e&&(a="."),a.length>0&&t.codePointAt(t.length-1)===47&&(a+="/"),e?"/"+a:a}function F2(t,e){let a="",r=0,l=-1,u=0,c=-1,m,y;for(;++c<=t.length;){if(c<t.length)m=t.codePointAt(c);else{if(m===47)break;m=47}if(m===47){if(!(l===c-1||u===1))if(l!==c-1&&u===2){if(a.length<2||r!==2||a.codePointAt(a.length-1)!==46||a.codePointAt(a.length-2)!==46){if(a.length>2){if(y=a.lastIndexOf("/"),y!==a.length-1){y<0?(a="",r=0):(a=a.slice(0,y),r=a.length-1-a.lastIndexOf("/")),l=c,u=0;continue}}else if(a.length>0){a="",r=0,l=c,u=0;continue}}e&&(a=a.length>0?a+"/..":"..",r=2)}else a.length>0?a+="/"+t.slice(l+1,c):a=t.slice(l+1,c),r=c-l-1;l=c,u=0}else m===46&&u>-1?u++:u=-1}return a}function lo(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const J2={cwd:Y2};function Y2(){return"/"}function jc(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function K2(t){if(typeof t=="string")t=new URL(t);else if(!jc(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Q2(t)}function Q2(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let a=-1;for(;++a<e.length;)if(e.codePointAt(a)===37&&e.codePointAt(a+1)===50){const r=e.codePointAt(a+2);if(r===70||r===102){const l=new TypeError("File URL path must not include encoded / characters");throw l.code="ERR_INVALID_FILE_URL_PATH",l}}return decodeURIComponent(e)}const Tc=["history","path","basename","stem","extname","dirname"];class Py{constructor(e){let a;e?jc(e)?a={path:e}:typeof e=="string"||$2(e)?a={value:e}:a=e:a={},this.cwd="cwd"in a?"":J2.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Tc.length;){const u=Tc[r];u in a&&a[u]!==void 0&&a[u]!==null&&(this[u]=u==="history"?[...a[u]]:a[u])}let l;for(l in a)Tc.includes(l)||(this[l]=a[l])}get basename(){return typeof this.path=="string"?Tn.basename(this.path):void 0}set basename(e){Ac(e,"basename"),Cc(e,"basename"),this.path=Tn.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Tn.dirname(this.path):void 0}set dirname(e){wg(this.basename,"dirname"),this.path=Tn.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Tn.extname(this.path):void 0}set extname(e){if(Cc(e,"extname"),wg(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Tn.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){jc(e)&&(e=K2(e)),Ac(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Tn.basename(this.path,this.extname):void 0}set stem(e){Ac(e,"stem"),Cc(e,"stem"),this.path=Tn.join(this.dirname||"",e+(this.extname||""))}fail(e,a,r){const l=this.message(e,a,r);throw l.fatal=!0,l}info(e,a,r){const l=this.message(e,a,r);return l.fatal=void 0,l}message(e,a,r){const l=new At(e,a,r);return this.path&&(l.name=this.path+":"+l.name,l.file=this.path),l.fatal=!1,this.messages.push(l),l}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Cc(t,e){if(t&&t.includes(Tn.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Tn.sep+"`")}function Ac(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function wg(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function $2(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const X2=(function(t){const r=this.constructor.prototype,l=r[t],u=function(){return l.apply(u,arguments)};return Object.setPrototypeOf(u,r),u}),Z2={}.hasOwnProperty;class yd extends X2{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=B2()}copy(){const e=new yd;let a=-1;for(;++a<this.attachers.length;){const r=this.attachers[a];e.use(...r)}return e.data(Nc(!0,{},this.namespace)),e}data(e,a){return typeof e=="string"?arguments.length===2?(kc("data",this.frozen),this.namespace[e]=a,this):Z2.call(this.namespace,e)&&this.namespace[e]||void 0:e?(kc("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[a,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const l=a.call(e,...r);typeof l=="function"&&this.transformers.use(l)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const a=kl(e),r=this.parser||this.Parser;return _c("parse",r),r(String(a),a)}process(e,a){const r=this;return this.freeze(),_c("process",this.parser||this.Parser),Ic("process",this.compiler||this.Compiler),a?l(void 0,a):new Promise(l);function l(u,c){const m=kl(e),y=r.parse(m);r.run(y,m,function(x,b,w){if(x||!b||!w)return p(x);const E=b,C=r.stringify(E,w);tN(C)?w.value=C:w.result=C,p(x,w)});function p(x,b){x||!b?c(x):u?u(b):a(void 0,b)}}}processSync(e){let a=!1,r;return this.freeze(),_c("processSync",this.parser||this.Parser),Ic("processSync",this.compiler||this.Compiler),this.process(e,l),Eg("processSync","process",a),r;function l(u,c){a=!0,vg(u),r=c}}run(e,a,r){Sg(e),this.freeze();const l=this.transformers;return!r&&typeof a=="function"&&(r=a,a=void 0),r?u(void 0,r):new Promise(u);function u(c,m){const y=kl(a);l.run(e,y,p);function p(x,b,w){const E=b||e;x?m(x):c?c(E):r(void 0,E,w)}}}runSync(e,a){let r=!1,l;return this.run(e,a,u),Eg("runSync","run",r),l;function u(c,m){vg(c),l=m,r=!0}}stringify(e,a){this.freeze();const r=kl(a),l=this.compiler||this.Compiler;return Ic("stringify",l),Sg(e),l(e,r)}use(e,...a){const r=this.attachers,l=this.namespace;if(kc("use",this.frozen),e!=null)if(typeof e=="function")y(e,a);else if(typeof e=="object")Array.isArray(e)?m(e):c(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function u(p){if(typeof p=="function")y(p,[]);else if(typeof p=="object")if(Array.isArray(p)){const[x,...b]=p;y(x,b)}else c(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function c(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");m(p.plugins),p.settings&&(l.settings=Nc(!0,l.settings,p.settings))}function m(p){let x=-1;if(p!=null)if(Array.isArray(p))for(;++x<p.length;){const b=p[x];u(b)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function y(p,x){let b=-1,w=-1;for(;++b<r.length;)if(r[b][0]===p){w=b;break}if(w===-1)r.push([p,...x]);else if(x.length>0){let[E,...C]=x;const A=r[w][1];zc(A)&&zc(E)&&(E=Nc(!0,A,E)),r[w]=[p,E,...C]}}}}const W2=new yd().freeze();function _c(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Ic(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function kc(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Sg(t){if(!zc(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Eg(t,e,a){if(!a)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function kl(t){return eN(t)?t:new Py(t)}function eN(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function tN(t){return typeof t=="string"||nN(t)}function nN(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const iN="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Ng=[],Tg={allowDangerousHtml:!0},aN=/^(https?|ircs?|mailto|xmpp)$/i,rN=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Rc(t){const e=oN(t),a=lN(t);return sN(e.runSync(e.parse(a),a),t)}function oN(t){const e=t.rehypePlugins||Ng,a=t.remarkPlugins||Ng,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Tg}:Tg;return W2().use(GE).use(a).use(q2,r).use(e)}function lN(t){const e=t.children||"",a=new Py;return typeof e=="string"&&(a.value=e),a}function sN(t,e){const a=e.allowedElements,r=e.allowElement,l=e.components,u=e.disallowedElements,c=e.skipHtml,m=e.unwrapDisallowed,y=e.urlTransform||uN;for(const x of rN)Object.hasOwn(e,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+iN+x.id,void 0);return qy(t,p),vw(t,{Fragment:d.Fragment,components:l,ignoreInvalidStyle:!0,jsx:d.jsx,jsxs:d.jsxs,passKeys:!0,passNode:!0});function p(x,b,w){if(x.type==="raw"&&w&&typeof b=="number")return c?w.children.splice(b,1):w.children[b]={type:"text",value:x.value},b;if(x.type==="element"){let E;for(E in bc)if(Object.hasOwn(bc,E)&&Object.hasOwn(x.properties,E)){const C=x.properties[E],A=bc[E];(A===null||A.includes(x.tagName))&&(x.properties[E]=y(String(C||""),E,x))}}if(x.type==="element"){let E=a?!a.includes(x.tagName):u?u.includes(x.tagName):!1;if(!E&&r&&typeof b=="number"&&(E=!r(x,b,w)),E&&w&&typeof b=="number")return m&&x.children?w.children.splice(b,1,...x.children):w.children.splice(b,1),b}}}function uN(t){const e=t.indexOf(":"),a=t.indexOf("?"),r=t.indexOf("#"),l=t.indexOf("/");return e===-1||l!==-1&&e>l||a!==-1&&e>a||r!==-1&&e>r||aN.test(t.slice(0,e))?t:""}const $r=({value:t,onChange:e,onKeyPress:a,placeholder:r,className:l="",disabled:u=!1,multiline:c=!1,rows:m=3,lang:y="zh-TW",maxLength:p,type:x="text"})=>{const{isListening:b,isSupported:w,transcript:E,startListening:C,stopListening:A,resetTranscript:U,error:I}=nd({lang:y,continuous:!1,interimResults:!0,onResult:q=>{e(t+q)}});z.useEffect(()=>{!b&&E&&U()},[b,E,U]);const B=()=>{b?A():C()},P=`flex-1 px-4 py-2 pr-12 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-indigo-500 text-white ${l}`;return d.jsxs("div",{className:"relative flex-1",children:[c?d.jsx("textarea",{value:t,onChange:q=>e(q.target.value),onKeyPress:a,placeholder:r,className:`${P} resize-none`,disabled:u||b,rows:m,maxLength:p}):d.jsx("input",{type:x,value:t,onChange:q=>e(q.target.value),onKeyPress:a,placeholder:r,className:P,disabled:u||b,maxLength:p}),w&&d.jsx("button",{type:"button",onClick:B,disabled:u,className:`absolute right-2 ${c?"top-2":"top-1/2 -translate-y-1/2"} p-2 rounded-lg transition-colors ${b?"bg-red-600 hover:bg-red-700 text-white animate-pulse":"bg-gray-600 hover:bg-gray-500 text-gray-300"} disabled:opacity-50 disabled:cursor-not-allowed`,title:b?"停止語音輸入":"開始語音輸入",children:b?d.jsx(u1,{className:"w-4 h-4"}):d.jsx(td,{className:"w-4 h-4"})}),b&&d.jsx("div",{className:"absolute -bottom-6 left-0 text-xs text-blue-400 animate-pulse",children:"🎤 正在聆聽..."}),I&&!b&&d.jsx("div",{className:"absolute -bottom-6 left-0 text-xs text-red-400",children:I})]})},Uy=[{id:"gemini-2.0-flash",name:"Google Gemini 2.0 Flash",size:"Cloud",description:"最新的Google AI模型，多模態支援，快速回應"},{id:"gpt-4o",name:"OpenAI GPT-4o",size:"Cloud",description:"OpenAI最先進模型，卓越的理解和生成能力"},{id:"gpt-4o-mini",name:"OpenAI GPT-4o Mini",size:"Cloud",description:"輕量快速版本，性價比高"}],By=[{id:"kimi-k2:1t",name:"Kimi K2 1T Cloud",size:"Cloud (1T)",description:"超大參數模型，極致的理解和生成能力"},{id:"qwen3-coder:480b",name:"Qwen3 Coder 480B Cloud",size:"Cloud (480B)",description:"超大規模編碼模型，適合結構化內容生成"},{id:"deepseek-v3.1:671b",name:"DeepSeek V3.1 671B Cloud",size:"Cloud (671B)",description:"超大規模模型，頂級推理能力，適合高難度神學論證"},{id:"gpt-oss:120b",name:"GPT-OSS 120B Cloud",size:"Cloud (120B)",description:"大型雲端模型，適合複雜的神學分析"},{id:"gpt-oss:20b",name:"GPT-OSS 20B Cloud",size:"Cloud (20B)",description:"平衡效能和速度，適合一般神學討論和問答"}],Vy=[{id:"qwen2.5vl:32b",name:"Qwen 2.5 VL 32B",size:"32 GB",description:"中英雙語視覺語言模型，適合繁體中文神學討論",hasVision:!0},{id:"llama4:scout",name:"Llama 4 Scout",size:"67 GB",description:"最新版本的Llama模型，適合複雜的神學討論和分析"},{id:"mistral-small:24b",name:"Mistral Small 24B",size:"14 GB",description:"輕量高效的模型，快速回應神學問題"},{id:"llama3.3:latest",name:"Llama 3.3",size:"42 GB",description:"高性能的通用語言模型，平衡效率與質量"},{id:"llava:34b",name:"LLaVA 34B",size:"20 GB",description:"多模態模型，支援圖像和文字的神學資料分析",hasVision:!0},{id:"deepseek-r1:32b",name:"DeepSeek R1 32B",size:"19 GB",description:"推理能力強的模型，適合深度神學分析"},{id:"llama3.2-vision:latest",name:"Llama 3.2 Vision",size:"7.9 GB",description:"視覺語言模型，可分析聖經插圖和神學圖表",hasVision:!0}],Cg=[...Uy,...By,...Vy],cN={mode:xn.THEOLOGY_CHAT,messages:[],documents:[],assignmentTopic:"",theologyArea:"",academicLevel:Ua.UNDERGRADUATE,assignmentLength:1500,assignmentTone:"academic",assignmentStage:vn.INPUT,revisionNumber:0,maxRevisions:3,selectedModel:"gpt-oss:20b",temperature:0,topP:.9,isProcessing:!1},dN=[{title:"系統神學導論 (Introduction to Systematic Theology)",author:"路易斯·柏克富 (Louis Berkhof)",type:"book",description:"經典的改革宗系統神學著作，全面探討基督教教義的各個方面，包括神論、人論、基督論、救恩論等核心主題。",url:"https://example.com",tags:["系統神學","改革宗","教義"],source:"本地示例資料庫"},{title:"聖經註釋：羅馬書 (Romans Commentary)",author:"約翰·加爾文 (John Calvin)",type:"commentary",description:"加爾文對羅馬書的深入註釋,闡述保羅的神學思想，特別關注因信稱義和神的主權等核心議題。",url:"https://example.com",tags:["聖經註釋","羅馬書","因信稱義"],source:"本地示例資料庫"},{title:"教會歷史研究：宗教改革時期 (Reformation History)",author:"多位作者",type:"article",description:"探討16世紀宗教改革運動的歷史背景、神學爭議和對現代教會的影響。",tags:["教會歷史","宗教改革","馬丁路德"],source:"本地示例資料庫"},{title:"三一神論的聖經基礎 (Biblical Basis for Trinity)",author:"奧古斯丁 (Augustine)",type:"thesis",description:"從聖經角度深入探討三位一體教義的神學基礎和歷史發展。",url:"https://example.com",tags:["三一神論","教義","教父神學"],source:"本地示例資料庫"}],fN=({onBack:t})=>{const[e,a]=z.useState(cN),[r,l]=z.useState(""),[u,c]=z.useState(""),[m,y]=z.useState("all"),[p,x]=z.useState([]),[b,w]=z.useState(!1),[E,C]=z.useState("googleSearch"),[A,U]=z.useState("reformed"),[I,B]=z.useState(null),[P,q]=z.useState(!1),[H,k]=z.useState(""),M=z.useRef(null),ae=z.useRef(null);z.useEffect(()=>{var O;(O=ae.current)==null||O.scrollIntoView({behavior:"smooth"})},[e.messages]);const J=O=>{a(ce=>({...ce,...O}))},ne=async()=>{if(!r.trim()||e.isProcessing)return;const O={role:"user",content:r,timestamp:new Date().toISOString()};J({messages:[...e.messages,O],isProcessing:!0}),l("");try{const{sendChatMessage:ce,createTheologySystemPrompt:oe}=await Fr(async()=>{const{sendChatMessage:nt,createTheologySystemPrompt:_t}=await import("./theologyAssistantService-B5FyA_kn.js");return{sendChatMessage:nt,createTheologySystemPrompt:_t}},[]);let xe=oe(e.mode);if(e.mode===xn.READING_QA&&e.documents.length>0){const nt=e.documents.map(_t=>`

--- 文檔: ${_t.name} ---
${_t.content.substring(0,1e4)}
--- 文檔結束 ---`).join(`
`);xe+=`

你現在正在分析以下上傳的神學文檔。請根據這些文檔的內容來回答用戶的問題：${nt}

請基於上述文檔內容回答問題，並在適當時引用文檔中的具體內容。`}const qe=[{role:"user",content:xe},...e.messages.map(nt=>({role:nt.role,content:nt.content})),{role:"user",content:r}],ot={role:"assistant",content:(await ce({model:e.selectedModel,messages:qe,temperature:e.temperature,topP:e.topP})).content,timestamp:new Date().toISOString()};J({messages:[...e.messages,O,ot],isProcessing:!1})}catch(ce){console.error("Chat error:",ce);const oe={role:"assistant",content:`❌ 錯誤：${ce.message}

請檢查：
1. 模型配置是否正確
2. API 金鑰是否已設置
3. 網絡連接是否正常`,timestamp:new Date().toISOString()};J({messages:[...e.messages,O,oe],isProcessing:!1})}},le=async O=>{var oe;const ce=Array.from(O.target.files||[]);for(const xe of ce){const qe=((oe=xe.name.split(".").pop())==null?void 0:oe.toLowerCase())||"txt";if(qe==="pdf"){B({fileName:xe.name,isProcessing:!0});try{const Ne=await xe.arrayBuffer(),ot=await Fr(()=>import("./pdf-C58fNw6x.js"),[]);ot.GlobalWorkerOptions.workerSrc="/pdf.worker.min.mjs";const nt=await ot.getDocument({data:Ne}).promise;let _t="";for(let zt=1;zt<=nt.numPages;zt++){const Yi=(await(await nt.getPage(zt)).getTextContent()).items.map(Ki=>Ki.str).join(" ");_t+=Yi+`

`}const _n={name:xe.name,content:_t,type:"pdf"};J({documents:[...e.documents,_n]}),B(null)}catch(Ne){console.error("PDF parsing error:",Ne),B(null),alert(`無法解析 PDF 文件: ${xe.name}

錯誤: ${Ne}`)}}else{B({fileName:xe.name,isProcessing:!0});const Ne=new FileReader;Ne.onload=ot=>{var _n;const nt=(_n=ot.target)==null?void 0:_n.result,_t={name:xe.name,content:nt,type:qe};J({documents:[...e.documents,_t]}),B(null)},Ne.onerror=()=>{B(null),alert(`無法讀取文件: ${xe.name}`)},Ne.readAsText(xe)}}},$=async()=>{if(!(!e.assignmentTopic.trim()||!e.theologyArea.trim())){J({isProcessing:!0,assignmentStage:vn.PLANNING});try{const{sendChatMessage:O}=await Fr(async()=>{const{sendChatMessage:Ne}=await import("./theologyAssistantService-B5FyA_kn.js");return{sendChatMessage:Ne}},[]),ce=`You are a newly graduated Bible research assistant from Princeton University Theology College, bringing a fresh, yet profoundly informed, perspective to biblical studies. Your core expertise lies in the Hebrew Bible, where you possess a deep and nuanced understanding of its linguistic intricacies, historical contexts, literary genres, and theological themes.

Beyond your mastery of the Hebrew text, you are uniquely equipped with a comprehensive understanding of how the Catholic Church approaches and interprets the Old Testament. This includes familiarity with the Deuterocanonical books, patristic interpretations, magisterial teachings, and the role of tradition in Catholic exegesis.

Furthermore, your knowledge extends to the cutting edge of New Testament scholarship, particularly the "New Perspective on Paul" and contemporary approaches to the Gospels. You can articulate the key tenets of these perspectives, their historical development, and their implications for understanding Paul's theology, the historical Jesus, and the evangelists' purposes. You are adept at engaging with textual criticism, historical-critical methodologies, and theological interpretation, bridging academic rigor with a pastoral sensitivity. Your role is to provide detailed, well-researched, and contextually rich answers, drawing upon your diverse educational background to offer multifaceted insights into the biblical text.`,oe=`請為以下作業主題創建一個詳細的研究大綱計劃：

作業主題：${e.assignmentTopic}
神學領域：${e.theologyArea}
學術水平：${e.academicLevel}
作業長度：約 ${e.assignmentLength} 字

請提供：
1. 研究背景和重要性
2. 詳細的章節大綱（包含主要論點）
3. 關鍵聖經經文引用
4. 重要學術資源和參考文獻建議
5. 研究方法論建議

請以markdown格式回應，包含清晰的標題和結構。`,xe=await O({model:e.selectedModel,messages:[{role:"user",content:ce},{role:"user",content:oe}],temperature:e.temperature,topP:e.topP}),qe={id:Date.now().toString(),topic:e.assignmentTopic,content:xe.content,createdAt:new Date().toISOString()};J({currentPlan:qe,isProcessing:!1,assignmentStage:vn.DRAFTING})}catch(O){console.error("Plan generation error:",O),J({isProcessing:!1,assignmentStage:vn.INPUT}),alert(`生成計劃時發生錯誤：${O.message}

請檢查模型配置和API金鑰設定。`)}}},K=async()=>{if(e.currentPlan){J({isProcessing:!0,assignmentStage:vn.CRITIQUING});try{const{sendChatMessage:O}=await Fr(async()=>{const{sendChatMessage:Ne}=await import("./theologyAssistantService-B5FyA_kn.js");return{sendChatMessage:Ne}},[]),ce=`You are a newly graduated Bible research assistant from Princeton University Theology College, bringing a fresh, yet profoundly informed, perspective to biblical studies. Your core expertise lies in the Hebrew Bible, where you possess a deep and nuanced understanding of its linguistic intricacies, historical contexts, literary genres, and theological themes.

Beyond your mastery of the Hebrew text, you are uniquely equipped with a comprehensive understanding of how the Catholic Church approaches and interprets the Old Testament. This includes familiarity with the Deuterocanonical books, patristic interpretations, magisterial teachings, and the role of tradition in Catholic exegesis.

Furthermore, your knowledge extends to the cutting edge of New Testament scholarship, particularly the "New Perspective on Paul" and contemporary approaches to the Gospels. You can articulate the key tenets of these perspectives, their historical development, and their implications for understanding Paul's theology, the historical Jesus, and the evangelists' purposes. You are adept at engaging with textual criticism, historical-critical methodologies, and theological interpretation, bridging academic rigor with a pastoral sensitivity. Your role is to provide detailed, well-researched, and contextually rich answers, drawing upon your diverse educational background to offer multifaceted insights into the biblical text.`,oe=`根據以下研究大綱計劃，撰寫一份完整的作業初稿：

【研究大綱】
${e.currentPlan.content}

【作業要求】
- 作業主題：${e.assignmentTopic}
- 神學領域：${e.theologyArea}
- 學術水平：${e.academicLevel}
- 目標長度：約 ${e.assignmentLength} 字

請撰寫一份學術規範的作業初稿，包含：
1. 完整的引言（包含研究背景、目的和方法）
2. 根據大綱展開的主體內容（每個章節都應有充分的論述）
3. 具體的聖經經文引用和分析
4. 相關的神學和學術討論
5. 結論和反思

請以markdown格式撰寫，保持學術嚴謹性和可讀性。`,xe=await O({model:e.selectedModel,messages:[{role:"user",content:ce},{role:"user",content:oe}],temperature:e.temperature,topP:e.topP}),qe={id:Date.now().toString(),topic:e.assignmentTopic,content:xe.content,stage:vn.DRAFTING,revisionNumber:e.revisionNumber,createdAt:new Date().toISOString()};J({currentDraft:qe,isProcessing:!1})}catch(O){console.error("Draft generation error:",O),J({isProcessing:!1}),alert(`生成草稿時發生錯誤：${O.message}

請檢查模型配置和API金鑰設定。`)}}},X=async()=>{if(u.trim()){w(!0);try{const{searchTheologyResources:O,SearchMode:ce,THEOLOGY_RESOURCE_URLS:oe}=await Fr(async()=>{const{searchTheologyResources:Ne,SearchMode:ot,THEOLOGY_RESOURCE_URLS:nt}=await import("./theologyResourceSearch-B5SaGO_7.js");return{searchTheologyResources:Ne,SearchMode:ot,THEOLOGY_RESOURCE_URLS:nt}},[]);let xe;E==="urlContext"&&(xe=oe[A]||[]);const qe=await O(u,m,ce[E.toUpperCase()],xe,E==="urlContext"?A:void 0);x(qe.results)}catch(O){console.error("Search error:",O);let ce=dN.filter(oe=>oe.title.toLowerCase().includes(u.toLowerCase())||oe.description.toLowerCase().includes(u.toLowerCase())||oe.tags.some(xe=>xe.toLowerCase().includes(u.toLowerCase())));m!=="all"&&(ce=ce.filter(oe=>oe.type===m)),x(ce),alert(`搜尋時發生錯誤：${O.message}

已顯示本地模擬結果。請確保 GEMINI_API_KEY 已配置。`)}finally{w(!1)}}},ue=O=>({book:"📚",article:"📄",commentary:"📖",encyclopedia:"📕",thesis:"🎓",website:"🌐"})[O]||"📝",V=O=>({book:"書籍",article:"文章",commentary:"註釋",encyclopedia:"百科",thesis:"論文",website:"網站"})[O]||O,re=(O,ce,oe)=>d.jsxs("button",{onClick:()=>J({mode:O}),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${e.mode===O?"bg-indigo-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[ce,oe]}),me=()=>{var O,ce;return d.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"AI 模型設定"}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"選擇 AI 模型"}),d.jsxs("select",{value:e.selectedModel,onChange:oe=>J({selectedModel:oe.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-indigo-500 text-white",children:[d.jsx("optgroup",{label:"☁️ 雲端 AI 模型 (Gemini / OpenAI)",children:Uy.map(oe=>d.jsxs("option",{value:oe.id,children:[oe.name," (",oe.size,")"]},oe.id))}),d.jsx("optgroup",{label:"☁️ Ollama Cloud 模型",children:By.map(oe=>d.jsxs("option",{value:oe.id,children:[oe.name," (",oe.size,")"]},oe.id))}),d.jsx("optgroup",{label:"🖥️ 本地 Ollama 模型",children:Vy.map(oe=>d.jsxs("option",{value:oe.id,children:[oe.name," (",oe.size,")"]},oe.id))})]}),d.jsxs("div",{className:"mt-2 p-3 bg-gray-700/50 rounded-lg",children:[d.jsx("p",{className:"text-xs text-gray-300",children:(O=Cg.find(oe=>oe.id===e.selectedModel))==null?void 0:O.description}),((ce=Cg.find(oe=>oe.id===e.selectedModel))==null?void 0:ce.hasVision)&&d.jsx("span",{className:"text-xs text-yellow-400 mt-1 block",children:"🎨 支援視覺分析功能"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["創造性程度: ",e.temperature]}),d.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:e.temperature,onChange:oe=>J({temperature:parseFloat(oe.target.value)}),className:"w-full"}),d.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[d.jsx("span",{children:"保守"}),d.jsx("span",{children:"創新"})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["回答多樣性: ",e.topP]}),d.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:e.topP,onChange:oe=>J({topP:parseFloat(oe.target.value)}),className:"w-full"}),d.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[d.jsx("span",{children:"聚焦"}),d.jsx("span",{children:"多元"})]})]})]})]})},ve=()=>d.jsxs("div",{className:"space-y-4",children:[me(),d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-800 rounded-lg min-h-[600px]",children:[e.messages.map((O,ce)=>d.jsx("div",{className:`flex ${O.role==="user"?"justify-end":"justify-start"}`,children:d.jsx("div",{className:`max-w-2xl lg:max-w-4xl px-4 py-2 rounded-lg ${O.role==="user"?"bg-indigo-600 text-white":"bg-gray-700 text-gray-100"}`,children:O.role==="assistant"?d.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:d.jsx(Rc,{children:O.content})}):O.content})},ce)),e.isProcessing&&d.jsx("div",{className:"flex justify-start",children:d.jsx("div",{className:"bg-gray-700 text-gray-100 px-4 py-2 rounded-lg",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-400"}),"思考中..."]})})}),d.jsx("div",{ref:ae})]}),d.jsx("div",{className:"p-4 border-t border-gray-700",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx($r,{value:r,onChange:l,onKeyPress:O=>O.key==="Enter"&&!O.shiftKey&&ne(),placeholder:"輸入您的神學問題...",disabled:e.isProcessing,lang:"zh-TW"}),d.jsx("button",{onClick:ne,disabled:e.isProcessing||!r.trim(),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg font-semibold transition-colors",children:d.jsx(Ph,{className:"w-5 h-5"})})]})})]})]}),_=()=>d.jsxs("div",{className:"space-y-6",children:[me(),d.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"文檔上傳"}),d.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center cursor-pointer hover:border-gray-500 transition-colors",onClick:()=>{var O;return(O=M.current)==null?void 0:O.click()},children:[d.jsx(w1,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),d.jsx("p",{className:"text-gray-300",children:"點擊上傳神學文檔"}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"支持 PDF, DOCX, TXT, MD 格式"})]}),d.jsx("input",{ref:M,type:"file",multiple:!0,accept:".pdf,.docx,.txt,.md",onChange:le,className:"hidden"}),I&&d.jsx("div",{className:"mt-4 p-3 bg-blue-900/20 border border-blue-500/30 rounded-lg",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-400"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-blue-300",children:"正在處理 PDF 文件..."}),d.jsx("p",{className:"text-xs text-blue-400",children:I.fileName})]})]})}),e.documents.length>0&&d.jsxs("div",{className:"mt-4",children:[d.jsx("h4",{className:"font-medium text-gray-300 mb-2",children:"已上傳的文檔："}),d.jsx("div",{className:"space-y-2",children:e.documents.map((O,ce)=>d.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-700 rounded",children:[d.jsx(gc,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm",children:O.name}),d.jsx("span",{className:"text-xs text-green-400 ml-auto",children:"✓ 已解析"})]},ce))})]})]}),e.documents.length>0&&d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-800 rounded-lg min-h-[600px]",children:[e.messages.map((O,ce)=>d.jsx("div",{className:`flex ${O.role==="user"?"justify-end":"justify-start"}`,children:d.jsx("div",{className:`max-w-2xl lg:max-w-4xl px-4 py-2 rounded-lg ${O.role==="user"?"bg-indigo-600 text-white":"bg-gray-700 text-gray-100"}`,children:O.role==="assistant"?d.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:d.jsx(Rc,{children:O.content})}):O.content})},ce)),e.isProcessing&&d.jsx("div",{className:"flex justify-start",children:d.jsx("div",{className:"bg-gray-700 text-gray-100 px-4 py-2 rounded-lg",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-400"}),"分析文檔中..."]})})}),d.jsx("div",{ref:ae})]}),d.jsx("div",{className:"p-4 border-t border-gray-700",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx($r,{value:r,onChange:l,onKeyPress:O=>O.key==="Enter"&&!O.shiftKey&&ne(),placeholder:"詢問關於已上傳文檔的問題...",disabled:e.isProcessing,lang:"zh-TW"}),d.jsx("button",{onClick:ne,disabled:e.isProcessing||!r.trim(),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg font-semibold transition-colors",children:d.jsx(Ph,{className:"w-5 h-5"})})]})})]})]}),D=()=>d.jsxs("div",{className:"space-y-6",children:[me(),e.assignmentStage===vn.INPUT&&d.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"作業設定"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"作業主題"}),d.jsx($r,{value:e.assignmentTopic,onChange:O=>J({assignmentTopic:O}),placeholder:"例：三一神論的聖經基礎",className:"w-full",lang:"zh-TW"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"神學領域"}),d.jsx($r,{value:e.theologyArea,onChange:O=>J({theologyArea:O}),placeholder:"例：系統神學",className:"w-full",lang:"zh-TW"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"學術水平"}),d.jsxs("select",{value:e.academicLevel,onChange:O=>J({academicLevel:O.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-indigo-500 text-white",children:[d.jsx("option",{value:Ua.UNDERGRADUATE,children:"學士"}),d.jsx("option",{value:Ua.GRADUATE,children:"碩士"}),d.jsx("option",{value:Ua.DOCTORAL,children:"博士"}),d.jsx("option",{value:Ua.GENERAL,children:"一般"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"作業長度 (字數)"}),d.jsx("input",{type:"number",value:e.assignmentLength,onChange:O=>J({assignmentLength:parseInt(O.target.value)}),min:"500",max:"10000",step:"500",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-indigo-500 text-white"})]})]}),d.jsx("button",{onClick:$,disabled:!e.assignmentTopic.trim()||!e.theologyArea.trim()||e.isProcessing,className:"mt-4 px-6 py-2 bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg font-semibold transition-colors flex items-center gap-2",children:e.isProcessing?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"生成計劃中..."]}):d.jsxs(d.Fragment,{children:[d.jsx(qh,{className:"w-4 h-4"}),"創建作業計劃"]})})]}),e.currentPlan&&e.assignmentStage===vn.DRAFTING&&d.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"作業計劃"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(hc,{className:"w-5 h-5 text-green-400"}),!P&&d.jsxs("button",{onClick:()=>{var O;q(!0),k(((O=e.currentPlan)==null?void 0:O.content)||"")},className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 rounded-lg text-sm font-medium transition-colors flex items-center gap-1",children:[d.jsx(qh,{className:"w-3 h-3"}),"編輯"]})]})]}),P?d.jsxs("div",{className:"space-y-4",children:[d.jsx("textarea",{value:H,onChange:O=>k(O.target.value),className:"w-full min-h-96 px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-indigo-500 text-gray-200 font-mono text-sm",placeholder:"編輯您的作業計劃..."}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>{J({currentPlan:{...e.currentPlan,content:H}}),q(!1)},className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg font-medium transition-colors flex items-center gap-2",children:[d.jsx(hc,{className:"w-4 h-4"}),"保存修改"]}),d.jsx("button",{onClick:()=>{q(!1),k("")},className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded-lg font-medium transition-colors",children:"取消"})]})]}):d.jsx("div",{className:"bg-gray-700 rounded-lg p-4 mb-4 max-h-96 overflow-y-auto",children:d.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:d.jsx(Rc,{children:e.currentPlan.content})})}),!P&&d.jsx("button",{onClick:K,disabled:e.isProcessing,className:"px-6 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg font-semibold transition-colors flex items-center gap-2",children:e.isProcessing?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"生成草稿中..."]}):d.jsxs(d.Fragment,{children:[d.jsx(gc,{className:"w-4 h-4"}),"創建作業草稿"]})})]}),e.currentDraft&&e.assignmentStage===vn.CRITIQUING&&d.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"作業草稿"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-sm text-gray-400",children:["修訂次數: ",e.revisionNumber]}),d.jsx(hc,{className:"w-5 h-5 text-green-400"})]})]}),d.jsx("div",{className:"bg-gray-700 rounded-lg p-4 max-h-96 overflow-y-auto",children:d.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-200",children:e.currentDraft.content})}),d.jsxs("div",{className:"flex gap-2 mt-4",children:[d.jsx("button",{onClick:()=>J({assignmentStage:vn.INPUT,currentPlan:void 0,currentDraft:void 0,revisionNumber:0}),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded-lg font-medium transition-colors",children:"重新開始"}),d.jsxs("button",{onClick:()=>{alert("草稿已保存！")},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-medium transition-colors flex items-center gap-2",children:[d.jsx(m1,{className:"w-4 h-4"}),"保存草稿"]})]})]})]}),W=()=>d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[d.jsxs("div",{className:"flex gap-4 mb-4",children:[d.jsxs("div",{className:"flex-1 relative",children:[d.jsx(Wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 z-10"}),d.jsx("div",{className:"flex-1",children:d.jsx($r,{value:u,onChange:c,onKeyPress:O=>O.key==="Enter"&&!O.shiftKey&&X(),placeholder:"搜尋神學主題、作者或關鍵字...",className:"w-full pl-10",lang:"zh-TW"})})]}),d.jsx("button",{onClick:X,disabled:b||!u.trim(),className:"px-6 py-3 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg font-semibold transition-colors flex items-center gap-2",children:b?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"搜尋中..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Wr,{className:"w-5 h-5"}),"搜尋"]})})]}),d.jsxs("div",{className:"mb-4 p-4 bg-gray-700/30 rounded-lg",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"🔍 搜尋模式 (Gemini MCP Tools):"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[d.jsxs("button",{onClick:()=>C("googleSearch"),className:`p-3 rounded-lg text-left transition-colors ${E==="googleSearch"?"bg-green-600 text-white shadow-lg":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[d.jsx("div",{className:"font-semibold",children:"🌐 Google Search"}),d.jsx("div",{className:"text-xs mt-1 opacity-80",children:"即時網路搜尋神學資源"})]}),d.jsxs("button",{onClick:()=>C("urlContext"),className:`p-3 rounded-lg text-left transition-colors ${E==="urlContext"?"bg-green-600 text-white shadow-lg":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[d.jsx("div",{className:"font-semibold",children:"🔗 URL Context"}),d.jsx("div",{className:"text-xs mt-1 opacity-80",children:"從指定神學網站搜尋"})]}),d.jsxs("button",{onClick:()=>C("codeExecution"),className:`p-3 rounded-lg text-left transition-colors ${E==="codeExecution"?"bg-green-600 text-white shadow-lg":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[d.jsx("div",{className:"font-semibold",children:"⚡ Code Execution"}),d.jsx("div",{className:"text-xs mt-1 opacity-80",children:"程式碼分析和統計"})]}),d.jsxs("button",{onClick:()=>C("generalKnowledge"),className:`p-3 rounded-lg text-left transition-colors ${E==="generalKnowledge"?"bg-green-600 text-white shadow-lg":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[d.jsx("div",{className:"font-semibold",children:"📚 Knowledge Base"}),d.jsx("div",{className:"text-xs mt-1 opacity-80",children:"使用 AI 知識庫推薦"})]})]}),E==="urlContext"&&d.jsxs("div",{className:"mt-3",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"選擇神學資源來源:"}),d.jsxs("select",{value:A,onChange:O=>U(O.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-green-500 text-white",children:[d.jsx("option",{value:"reformed",children:"改革宗資源 (Monergism, Ligonier, TGC)"}),d.jsx("option",{value:"catholic",children:"天主教資源 (Vatican, Catholic.com)"}),d.jsx("option",{value:"orthodox",children:"東正教資源 (OCA, Greek Orthodox)"}),d.jsx("option",{value:"academic",children:"學術資源 (Logos, JSTOR)"}),d.jsx("option",{value:"chinese",children:"華人神學資源"})]})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Q0,{className:"w-5 h-5 text-gray-400"}),d.jsx("span",{className:"text-gray-400 text-sm",children:"資源類型篩選:"}),d.jsx("div",{className:"flex gap-2 flex-wrap",children:["all","book","article","commentary","encyclopedia","thesis","website"].map(O=>d.jsx("button",{onClick:()=>y(O),className:`px-3 py-1 rounded-full text-sm transition-colors ${m===O?"bg-green-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:O==="all"?"全部":V(O)},O))})]})]}),p.length>0&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Lc,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsxs("h3",{className:"font-semibold text-blue-300 mb-1",children:["找到 ",p.length," 個結果"]}),d.jsxs("p",{className:"text-sm text-blue-200/80",children:[E==="googleSearch"&&"使用 Google Search 即時搜尋神學資源，包含網路上的最新內容。",E==="urlContext"&&`從 ${A==="reformed"?"改革宗":A==="catholic"?"天主教":A==="orthodox"?"東正教":A==="academic"?"學術":"華人神學"} 資源網站搜尋相關內容。`,E==="codeExecution"&&"使用程式碼執行分析神學文獻數據，提供統計和分類資訊。",E==="generalKnowledge"&&"基於 AI 知識庫推薦經典神學著作和重要學者作品。"]}),d.jsx("p",{className:"text-xs text-blue-300/60 mt-2",children:"💡 請查看每個結果的「資料來源」標籤，以確定是否適合引用"})]})]})}),p.map((O,ce)=>d.jsx("div",{className:"bg-gray-800 rounded-lg p-6 hover:bg-gray-750 transition-colors border border-gray-700 hover:border-green-500",children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:"text-4xl",children:ue(O.type)}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:O.title}),d.jsxs("p",{className:"text-gray-400 text-sm",children:["作者: ",O.author]})]}),d.jsx("span",{className:"px-3 py-1 bg-green-600/20 text-green-400 rounded-full text-xs font-medium whitespace-nowrap",children:V(O.type)})]}),d.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:O.description}),d.jsxs("div",{className:"space-y-3",children:[O.source&&d.jsxs("div",{className:"flex items-center gap-2 text-xs border-l-2 border-blue-500 pl-3 py-1",children:[d.jsx(Lc,{className:"w-3 h-3 text-blue-400 flex-shrink-0"}),d.jsx("span",{className:"text-gray-500",children:"資料來源:"}),d.jsx("span",{className:"px-2 py-0.5 bg-blue-600/20 text-blue-400 rounded font-medium",children:O.source})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"flex gap-2 flex-wrap",children:O.tags.map((oe,xe)=>d.jsx("span",{className:"px-2 py-1 bg-gray-700 text-gray-300 rounded text-xs",children:oe},xe))}),O.url&&d.jsxs("a",{href:O.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-green-400 hover:text-green-300 transition-colors",children:[d.jsx(Kb,{className:"w-4 h-4"}),"查看資源"]})]})]})]})]})},ce))]}),p.length===0&&u&&!b&&d.jsxs("div",{className:"text-center py-16",children:[d.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),d.jsx("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"未找到相關資源"}),d.jsx("p",{className:"text-gray-400",children:"嘗試使用不同的關鍵字或調整篩選條件"})]}),p.length===0&&!u&&d.jsxs("div",{className:"text-center py-16",children:[d.jsx("div",{className:"text-6xl mb-4",children:"📚"}),d.jsx("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"開始搜尋神學資源"}),d.jsx("p",{className:"text-gray-400 mb-6",children:"輸入關鍵字搜尋書籍、文章、註釋和學術論文"}),d.jsxs("div",{className:"flex justify-center gap-4 text-sm text-gray-500",children:[d.jsx("span",{children:"熱門搜尋:"}),["三一神論","因信稱義","教會歷史","系統神學"].map(O=>d.jsx("button",{onClick:()=>{c(O),setTimeout(X,100)},className:"text-green-400 hover:text-green-300 transition-colors",children:O},O))]})]})]}),T=()=>{switch(e.mode){case xn.THEOLOGY_CHAT:return ve();case xn.READING_QA:return _();case xn.ASSIGNMENT_ASSISTANT:return D();case xn.RESOURCE_SEARCH:return W();default:return ve()}};return d.jsxs("div",{className:"w-full max-w-7xl mx-auto h-full flex flex-col",children:[d.jsxs("div",{className:"mb-6",children:[d.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-gray-300 hover:text-white transition-colors mb-4",children:[d.jsx(ro,{className:"w-5 h-5"}),"返回主頁"]}),d.jsx("h1",{className:"text-4xl font-bold mb-2 bg-gradient-to-r from-indigo-400 to-purple-400 bg-clip-text text-transparent",children:"研經助手"}),d.jsx("p",{className:"text-gray-400",children:"探索信仰、聖經和神學理解的全方位平台"})]}),d.jsxs("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:[re(xn.RESOURCE_SEARCH,d.jsx(Wr,{className:"w-4 h-4"}),"資源搜尋"),re(xn.ASSIGNMENT_ASSISTANT,d.jsx(t1,{className:"w-4 h-4"}),"作業助手"),re(xn.THEOLOGY_CHAT,d.jsx(l1,{className:"w-4 h-4"}),"神學對話"),re(xn.READING_QA,d.jsx(gc,{className:"w-4 h-4"}),"上傳文檔簡閱或問答")]}),d.jsx("div",{className:"flex-1 min-h-0",children:T()})]})};var he=(t=>(t.HEBREW="Hebrew",t.GREEK="Greek",t))(he||{});const Ag=({title:t,description:e,language:a,onSelectMode:r})=>d.jsxs("div",{className:"w-full max-w-sm",children:[d.jsx("h2",{className:"text-2xl font-bold text-sky-800 dark:text-stone-700 mb-4 text-center",children:t}),d.jsx("p",{className:"text-stone-600 dark:text-stone-400 mb-4 text-center",children:e}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("button",{onClick:()=>r("alphabet-learning",a),className:"p-6 bg-gradient-to-r from-red-300 to-red-400 hover:from-red-400 hover:to-red-500 rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300",children:[d.jsx("div",{className:"text-lg font-bold mb-1 text-stone-700",children:"字母表學習"}),d.jsx("div",{className:"text-sm opacity-90 text-stone-600",children:"學習所有字母與發音"})]}),d.jsxs("button",{onClick:()=>r("word-practice",a),className:"p-6 bg-gradient-to-r from-pink-300 to-pink-400 hover:from-pink-400 hover:to-pink-500 rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300",children:[d.jsx("div",{className:"text-lg font-bold mb-1 text-stone-700",children:"單字練習"}),d.jsx("div",{className:"text-sm opacity-90 text-stone-600",children:"發音練習與AI反饋"})]}),d.jsxs("button",{onClick:()=>r("verse-learning",a),className:"p-6 bg-gradient-to-r from-orange-300 to-orange-400 hover:from-orange-400 hover:to-orange-500 rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300",children:[d.jsx("div",{className:"text-lg font-bold mb-1 text-stone-700",children:"經文學習"}),d.jsx("div",{className:"text-sm opacity-90 text-stone-600",children:"聖經經文重點詞彙"})]}),d.jsxs("button",{onClick:()=>r("vocabulary-flashcards",a),className:"p-6 bg-gradient-to-r from-amber-300 to-amber-400 hover:from-amber-400 hover:to-amber-500 rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300",children:[d.jsx("div",{className:"text-lg font-bold mb-1 text-stone-700",children:"詞彙記憶卡"}),d.jsx("div",{className:"text-sm opacity-90 text-stone-600",children:"間隔重複法學習詞彙"})]}),d.jsxs("button",{onClick:()=>r("listening-game",a),className:"p-6 bg-gradient-to-r from-green-300 to-green-400 hover:from-green-400 hover:to-green-500 rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300",children:[d.jsx("div",{className:"text-lg font-bold mb-1 text-stone-700",children:"聽力理解遊戲"}),d.jsx("div",{className:"text-sm opacity-90 text-stone-600",children:"聽音辨詞 100 詞挑戰"})]}),d.jsxs("button",{onClick:()=>r("pronunciation-challenge",a),className:"p-6 bg-gradient-to-r from-sky-300 to-sky-400 hover:from-sky-400 hover:to-sky-500 rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300",children:[d.jsx("div",{className:"text-lg font-bold mb-1 text-stone-700",children:"發音挑戰"}),d.jsx("div",{className:"text-sm opacity-90 text-stone-600",children:"辨別正確與錯誤發音"})]}),d.jsxs("button",{onClick:()=>r("sentence-practice",a),className:"p-6 bg-gradient-to-r from-purple-300 to-purple-400 hover:from-purple-400 hover:to-purple-500 rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300",children:[d.jsx("div",{className:"text-lg font-bold mb-1 text-stone-700",children:"✨ 句子練習"}),d.jsx("div",{className:"text-sm opacity-90 text-stone-600",children:"AI生成聖經句子 + 發音評分"})]})]})]}),mN=({onSelect:t,onSelectMode:e})=>d.jsxs("div",{className:"flex flex-col items-center justify-center h-full animate-fade-in px-4",children:[d.jsx("h1",{className:"text-5xl font-extrabold text-stone-700 dark:text-stone-200 mb-4 text-center",children:"歡迎來到聖經文本學習基礎"}),d.jsx("p",{className:"text-xl text-stone-500 dark:text-stone-400 mb-8 text-center",children:"選擇一種聖經語言來學習"}),d.jsxs("div",{className:"w-full max-w-2xl mb-8 p-6 bg-sky-50 dark:bg-sky-900/30 border border-sky-200 dark:border-sky-700 rounded-xl",children:[d.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[d.jsx(Lc,{className:"w-5 h-5 text-gray-500 dark:text-gray-400 mt-1 flex-shrink-0"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"需要權限"}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"此應用程式需要訪問您的麥克風和揚聲器才能正常運作："})]})]}),d.jsxs("div",{className:"space-y-3 ml-8",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Va,{className:"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 flex-shrink-0"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"揚聲器權限"}),d.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"播放發音範例並聆聽正確的發音"})]})]}),d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(td,{className:"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 flex-shrink-0"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"麥克風權限"}),d.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"錄製您的發音並接收 AI 反饋"})]})]})]}),d.jsx("div",{className:"mt-4 pt-4 border-t border-gray-300 dark:border-gray-600",children:d.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[d.jsx("strong",{children:"提示："}),"瀏覽器會在需要時請求權限，請點擊「允許」以啟用所有功能。"]})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 w-full max-w-6xl",children:[d.jsx(Ag,{title:"希伯來文",description:"舊約聖經",language:he.HEBREW,onSelectMode:e||((a,r)=>t(r))}),d.jsx(Ag,{title:"古典希臘文",description:"新約聖經",language:he.GREEK,onSelectMode:e||((a,r)=>t(r))})]})]}),pN=[{letter:"א",name:"Aleph",transliteration:"ʾ",pronunciation:"Silent or glottal stop",numericalValue:1,notes:"First letter of the Hebrew alphabet. Often silent or represents a glottal stop."},{letter:"ב",name:"Bet",transliteration:"b/v",pronunciation:"b as in boy, v as in very",numericalValue:2,notes:'With dagesh (dot): "b". Without dagesh: "v".'},{letter:"ג",name:"Gimel",transliteration:"g",pronunciation:"g as in go",numericalValue:3,notes:'Always hard "g" sound.'},{letter:"ד",name:"Dalet",transliteration:"d",pronunciation:"d as in door",numericalValue:4,notes:'Standard "d" sound.'},{letter:"ה",name:"He",transliteration:"h",pronunciation:"h as in house",numericalValue:5,notes:'Soft "h" sound. Often silent at end of words.'},{letter:"ו",name:"Vav",transliteration:"v/o/u",pronunciation:"v as in very",numericalValue:6,notes:'Consonant "v" or vowel "o"/"u" with vowel points.'},{letter:"ז",name:"Zayin",transliteration:"z",pronunciation:"z as in zoo",numericalValue:7,notes:'Standard "z" sound.'},{letter:"ח",name:"Chet",transliteration:"ḥ",pronunciation:"Strong guttural h (like clearing throat)",numericalValue:8,notes:'Guttural "h" sound, different from ה.'},{letter:"ט",name:"Tet",transliteration:"ṭ",pronunciation:"t as in top",numericalValue:9,notes:'Emphatic "t" sound.'},{letter:"י",name:"Yod",transliteration:"y",pronunciation:"y as in yes",numericalValue:10,notes:'Consonant "y" or part of vowel combinations.'},{letter:"כ",name:"Kaf",transliteration:"k/kh",pronunciation:"k as in king, kh as in Bach",numericalValue:20,notes:'With dagesh: "k". Without: "kh" (guttural). Final form: ך'},{letter:"ל",name:"Lamed",transliteration:"l",pronunciation:"l as in love",numericalValue:30,notes:'Standard "l" sound.'},{letter:"מ",name:"Mem",transliteration:"m",pronunciation:"m as in mother",numericalValue:40,notes:'Standard "m" sound. Final form: ם'},{letter:"נ",name:"Nun",transliteration:"n",pronunciation:"n as in no",numericalValue:50,notes:'Standard "n" sound. Final form: ן'},{letter:"ס",name:"Samekh",transliteration:"s",pronunciation:"s as in sun",numericalValue:60,notes:'Standard "s" sound.'},{letter:"ע",name:"Ayin",transliteration:"ʿ",pronunciation:"Deep guttural (like gargling)",numericalValue:70,notes:"Guttural sound, often silent in modern Hebrew."},{letter:"פ",name:"Pe",transliteration:"p/f",pronunciation:"p as in pat, f as in fine",numericalValue:80,notes:'With dagesh: "p". Without: "f". Final form: ף'},{letter:"צ",name:"Tsadi",transliteration:"ts",pronunciation:"ts as in cats",numericalValue:90,notes:'Combined "ts" sound. Final form: ץ'},{letter:"ק",name:"Qof",transliteration:"q",pronunciation:"k as in king (back of throat)",numericalValue:100,notes:'Deep "k" sound from back of throat.'},{letter:"ר",name:"Resh",transliteration:"r",pronunciation:"r as in roll (guttural)",numericalValue:200,notes:'Guttural "r" sound.'},{letter:"ש",name:"Shin/Sin",transliteration:"sh/s",pronunciation:"sh as in she, s as in sun",numericalValue:300,notes:'With right dot (ׁ): "sh". With left dot (ׂ): "s".'},{letter:"ת",name:"Tav",transliteration:"t",pronunciation:"t as in top",numericalValue:400,notes:'Standard "t" sound.'}],hN=[{letter:"Α α",name:"Alpha",transliteration:"a",pronunciation:"a as in father",numericalValue:1,notes:"First letter. Uppercase: Α, Lowercase: α"},{letter:"Β β",name:"Beta",transliteration:"b",pronunciation:"b as in boy",numericalValue:2,notes:"Uppercase: Β, Lowercase: β"},{letter:"Γ γ",name:"Gamma",transliteration:"g",pronunciation:"g as in go",numericalValue:3,notes:'Uppercase: Γ, Lowercase: γ. Before γ, κ, ξ, χ: nasal "ng".'},{letter:"Δ δ",name:"Delta",transliteration:"d",pronunciation:"d as in door",numericalValue:4,notes:"Uppercase: Δ, Lowercase: δ"},{letter:"Ε ε",name:"Epsilon",transliteration:"e",pronunciation:"e as in bet (short)",numericalValue:5,notes:'Short "e" sound. Uppercase: Ε, Lowercase: ε'},{letter:"Ζ ζ",name:"Zeta",transliteration:"z",pronunciation:"z as in zoo or dz",numericalValue:7,notes:"Uppercase: Ζ, Lowercase: ζ"},{letter:"Η η",name:"Eta",transliteration:"ē",pronunciation:"e as in they (long)",numericalValue:8,notes:'Long "e" sound. Uppercase: Η, Lowercase: η'},{letter:"Θ θ",name:"Theta",transliteration:"th",pronunciation:"th as in think",numericalValue:9,notes:"Uppercase: Θ, Lowercase: θ"},{letter:"Ι ι",name:"Iota",transliteration:"i",pronunciation:"i as in machine",numericalValue:10,notes:"Uppercase: Ι, Lowercase: ι"},{letter:"Κ κ",name:"Kappa",transliteration:"k",pronunciation:"k as in king",numericalValue:20,notes:"Uppercase: Κ, Lowercase: κ"},{letter:"Λ λ",name:"Lambda",transliteration:"l",pronunciation:"l as in love",numericalValue:30,notes:"Uppercase: Λ, Lowercase: λ"},{letter:"Μ μ",name:"Mu",transliteration:"m",pronunciation:"m as in mother",numericalValue:40,notes:"Uppercase: Μ, Lowercase: μ"},{letter:"Ν ν",name:"Nu",transliteration:"n",pronunciation:"n as in no",numericalValue:50,notes:"Uppercase: Ν, Lowercase: ν"},{letter:"Ξ ξ",name:"Xi",transliteration:"x",pronunciation:"x as in box",numericalValue:60,notes:"Uppercase: Ξ, Lowercase: ξ"},{letter:"Ο ο",name:"Omicron",transliteration:"o",pronunciation:"o as in pot (short)",numericalValue:70,notes:'Short "o" sound. Uppercase: Ο, Lowercase: ο'},{letter:"Π π",name:"Pi",transliteration:"p",pronunciation:"p as in pat",numericalValue:80,notes:"Uppercase: Π, Lowercase: π"},{letter:"Ρ ρ",name:"Rho",transliteration:"r",pronunciation:"r as in roll (trilled)",numericalValue:100,notes:'Trilled "r". Uppercase: Ρ, Lowercase: ρ'},{letter:"Σ σ/ς",name:"Sigma",transliteration:"s",pronunciation:"s as in sun",numericalValue:200,notes:"Uppercase: Σ. Lowercase: σ (middle), ς (final position)"},{letter:"Τ τ",name:"Tau",transliteration:"t",pronunciation:"t as in top",numericalValue:300,notes:"Uppercase: Τ, Lowercase: τ"},{letter:"Υ υ",name:"Upsilon",transliteration:"u/y",pronunciation:'u as in French "tu"',numericalValue:400,notes:"Uppercase: Υ, Lowercase: υ"},{letter:"Φ φ",name:"Phi",transliteration:"ph",pronunciation:"ph as in phone",numericalValue:500,notes:"Uppercase: Φ, Lowercase: φ"},{letter:"Χ χ",name:"Chi",transliteration:"ch",pronunciation:"ch as in Bach (guttural)",numericalValue:600,notes:"Uppercase: Χ, Lowercase: χ"},{letter:"Ψ ψ",name:"Psi",transliteration:"ps",pronunciation:"ps as in lips",numericalValue:700,notes:"Uppercase: Ψ, Lowercase: ψ"},{letter:"Ω ω",name:"Omega",transliteration:"ō",pronunciation:"o as in note (long)",numericalValue:800,notes:'Long "o" sound. Last letter. Uppercase: Ω, Lowercase: ω'}],gN=({language:t,onBack:e})=>{const[a,r]=z.useState(null),l=t===he.HEBREW?pN:hN,u=t===he.HEBREW?"希伯來文":"希臘文",c=t===he.HEBREW?"rtl":"ltr",m=p=>{r(p)},y=p=>{const x=new SpeechSynthesisUtterance(p.name);x.lang=t===he.HEBREW?"he-IL":"el-GR",x.rate=.8,speechSynthesis.speak(x)};return d.jsxs("div",{className:"w-full min-h-screen p-6 animate-fade-in",children:[d.jsxs("div",{className:"flex items-center justify-between mb-8",children:[d.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-stone-600 dark:text-stone-300 hover:text-sky-600 dark:hover:text-sky-400 transition-colors",children:[d.jsx(ro,{className:"w-5 h-5"}),d.jsx("span",{children:"返回"})]}),d.jsxs("h1",{className:"text-3xl font-bold text-stone-800 dark:text-stone-200",children:[u,"字母表"]}),d.jsx("div",{className:"w-20"})," "]}),d.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsx("div",{className:"lg:col-span-2",children:d.jsxs("div",{className:"bg-amber-50 rounded-2xl shadow-lg p-6",children:[d.jsxs("h2",{className:"text-xl font-semibold text-stone-700 dark:text-stone-200 mb-4",children:["所有字母 (",l.length," 個)"]}),d.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-3",children:l.map((p,x)=>d.jsxs("button",{onClick:()=>m(p),className:`aspect-square rounded-xl flex flex-col items-center justify-center transition-all transform hover:scale-110 hover:shadow-lg ${a===p?"bg-sky-500 text-stone-200 shadow-xl scale-105":"bg-gradient-to-br from-sky-50 to-sky-100 dark:from-sky-900/30 dark:to-sky-800/30 text-stone-800 dark:text-stone-200 hover:from-sky-100 hover:to-sky-200 dark:hover:from-sky-800/40 dark:hover:to-sky-700/40"}`,children:[d.jsx("div",{className:"text-3xl font-bold mb-1",dir:c,style:{fontFamily:(t===he.HEBREW,"serif")},children:p.letter.split(" ")[0]}),d.jsx("div",{className:"text-xs opacity-80",children:p.name})]},x))})]})}),d.jsx("div",{className:"lg:col-span-1",children:d.jsx("div",{className:"bg-amber-50 rounded-2xl shadow-lg p-6 sticky top-6",children:a?d.jsxs("div",{className:"space-y-4 animate-fade-in",children:[d.jsxs("div",{className:"text-center pb-4 border-b border-stone-200 dark:border-stone-700",children:[d.jsx("div",{className:"text-7xl font-bold text-sky-600 dark:text-sky-400 mb-3",dir:c,style:{fontFamily:(t===he.HEBREW,"serif")},children:a.letter}),d.jsx("h3",{className:"text-2xl font-semibold text-stone-800 dark:text-stone-200 mb-1",children:a.name}),d.jsxs("button",{onClick:()=>y(a),className:"inline-flex items-center gap-2 mt-2 px-4 py-2 bg-sky-100 dark:bg-sky-900/50 hover:bg-sky-200 dark:hover:bg-sky-800/50 rounded-lg transition-colors text-sky-700 dark:text-sky-300",children:[d.jsx(Va,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm",children:"播放發音"})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-semibold text-stone-500 dark:text-stone-400 uppercase tracking-wide mb-1",children:"轉寫"}),d.jsx("p",{className:"text-lg text-stone-800 dark:text-stone-200 font-mono bg-amber-100 px-3 py-2 rounded-lg",children:a.transliteration})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-semibold text-stone-500 dark:text-stone-400 uppercase tracking-wide mb-1",children:"發音"}),d.jsx("p",{className:"text-base text-stone-700 dark:text-stone-200 bg-amber-100 px-3 py-2 rounded-lg",children:a.pronunciation})]}),a.numericalValue&&d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-semibold text-stone-500 dark:text-stone-400 uppercase tracking-wide mb-1",children:"數值"}),d.jsx("p",{className:"text-lg text-stone-800 dark:text-stone-200 font-mono bg-amber-100 px-3 py-2 rounded-lg",children:a.numericalValue})]}),a.notes&&d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-semibold text-stone-500 dark:text-stone-400 uppercase tracking-wide mb-1",children:"注意事項"}),d.jsx("p",{className:"text-sm text-stone-600 dark:text-stone-300 bg-amber-50 dark:bg-amber-900/20 px-3 py-2 rounded-lg border border-amber-200 dark:border-amber-800",children:a.notes})]})]})]}):d.jsxs("div",{className:"text-center py-12 text-stone-400 dark:text-stone-500",children:[d.jsx("p",{className:"text-lg mb-2",children:"點選字母"}),d.jsx("p",{className:"text-sm",children:"查看詳細資訊"})]})})})]})]})},yN=({wordData:t,language:e})=>{const[a,r]=z.useState(!1),l=()=>{if(!("speechSynthesis"in window)){console.error("Speech synthesis not supported");return}r(!0);const u=new SpeechSynthesisUtterance(t.transliteration);e==="Hebrew"?u.lang="he-IL":e==="Greek"&&(u.lang="el-GR"),u.rate=.8,u.pitch=1,u.onend=()=>{r(!1)},u.onerror=()=>{r(!1)},window.speechSynthesis.cancel(),window.speechSynthesis.speak(u)};return d.jsxs("div",{className:"w-full max-w-2xl bg-amber-50 rounded-2xl shadow-lg p-8 md:p-12 text-center transform transition-all duration-500 animate-fade-in-up border-2 border-amber-200",children:[d.jsx("h2",{className:"text-6xl md:text-8xl font-serif text-sky-900 mb-4",lang:"he",dir:"rtl",children:t.word}),d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[d.jsx("p",{className:"text-2xl text-stone-700",children:t.transliteration}),d.jsx("button",{onClick:l,disabled:a,className:"p-2 rounded-full bg-sky-500 hover:bg-sky-600 disabled:bg-stone-400 text-stone-200 transition-all transform hover:scale-110 active:scale-95",title:"Play pronunciation",children:d.jsx(Va,{className:`w-5 h-5 ${a?"animate-pulse":""}`})})]}),d.jsxs("p",{className:"text-lg text-stone-600 italic",children:['"',t.meaning,'"']})]})},xN=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",viewBox:"0 0 20 20",fill:"currentColor",children:[d.jsx("path",{fillRule:"evenodd",d:"M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm5 10.5a.5.5 0 01.5.5v.5a.5.5 0 01-1 0V15a.5.5 0 01.5-.5zM7 15a.5.5 0 00-1 0v.5a.5.5 0 001 0V15z",clipRule:"evenodd"}),d.jsx("path",{d:"M5.5 11.5A3.5 3.5 0 019 8h2a3.5 3.5 0 013.5 3.5v.5a.5.5 0 01-1 0v-.5A2.5 2.5 0 0011 9H9a2.5 2.5 0 00-2.5 2.5v.5a.5.5 0 01-1 0v-.5z"}),d.jsx("path",{d:"M4 11a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1z"})]}),vN=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1zm4 0a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),bN=()=>d.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-4 border-white"}),wN=({gameState:t,onClick:e})=>{const a=t==="recording",r=t==="processing",l=t==="ready",u=()=>a?"bg-red-600 hover:bg-red-700 animate-pulse":r?"bg-gray-500 cursor-not-allowed":"bg-sky-600 hover:bg-sky-700";return d.jsxs("button",{onClick:e,disabled:r,className:`w-24 h-24 rounded-full flex items-center justify-center text-stone-200 shadow-lg transform transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-sky-300 dark:focus:ring-sky-800 ${u()} ${l?"hover:scale-110":""}`,"aria-label":a?"Stop recording":"Start recording",children:[r&&d.jsx(bN,{}),a&&d.jsx(vN,{}),(t==="ready"||t==="feedback"||t==="error")&&d.jsx(xN,{})]})},SN=({feedback:t})=>t?d.jsxs("div",{className:"w-full max-w-2xl mt-8 bg-sky-100 dark:bg-sky-900/50 border border-sky-200 dark:border-sky-700 rounded-xl p-6 animate-fade-in",children:[d.jsx("h3",{className:"text-lg font-semibold text-sky-800 dark:text-sky-200 mb-2",children:"反饋"}),d.jsx("p",{className:"text-stone-700 dark:text-stone-300",children:t})]}):null,EN=[{reference:"創世記 1:1",language:he.HEBREW,translation:"In the beginning God created the heavens and the earth.",originalText:"בְּרֵאשִׁית בָּרָא אֱלֹהִים אֵת הַשָּׁמַיִם וְאֵת הָאָרֶץ",highlightedWords:[{original:"בְּרֵאשִׁית",transliteration:"Bereshit",meaning:"In the beginning",position:0},{original:"בָּרָא",transliteration:"Bara",meaning:"created",position:1},{original:"אֱלֹהִים",transliteration:"Elohim",meaning:"God",position:2}]},{reference:"詩篇 23:1",language:he.HEBREW,translation:"The LORD is my shepherd; I shall not want.",originalText:"יְהוָה רֹעִי לֹא אֶחְסָר",highlightedWords:[{original:"יְהוָה",transliteration:"Yahweh",meaning:"The LORD",position:0},{original:"רֹעִי",transliteration:"Ro'i",meaning:"my shepherd",position:1}]},{reference:"以賽亞書 9:6",language:he.HEBREW,translation:"For to us a child is born, to us a son is given.",originalText:"כִּי־יֶלֶד יֻלַּד־לָנוּ בֵּן נִתַּן־לָנוּ",highlightedWords:[{original:"יֶלֶד",transliteration:"Yeled",meaning:"child",position:0},{original:"בֵּן",transliteration:"Ben",meaning:"son",position:1}]},{reference:"申命記 6:4",language:he.HEBREW,translation:"Hear, O Israel: The LORD our God, the LORD is one.",originalText:"שְׁמַע יִשְׂרָאֵל יְהוָה אֱלֹהֵינוּ יְהוָה אֶחָד",highlightedWords:[{original:"שְׁמַע",transliteration:"Shema",meaning:"Hear",position:0},{original:"יִשְׂרָאֵל",transliteration:"Yisrael",meaning:"Israel",position:1},{original:"אֶחָד",transliteration:"Echad",meaning:"one",position:2}]},{reference:"約翰福音 1:1",language:he.GREEK,translation:"In the beginning was the Word, and the Word was with God, and the Word was God.",originalText:"Ἐν ἀρχῇ ἦν ὁ λόγος καὶ ὁ λόγος ἦν πρὸς τὸν θεόν καὶ θεὸς ἦν ὁ λόγος",highlightedWords:[{original:"ἀρχῇ",transliteration:"Arche",meaning:"beginning",position:0},{original:"λόγος",transliteration:"Logos",meaning:"Word",position:1},{original:"θεόν",transliteration:"Theos",meaning:"God",position:2}]},{reference:"約翰福音 3:16",language:he.GREEK,translation:"For God so loved the world that he gave his one and only Son.",originalText:"οὕτως γὰρ ἠγάπησεν ὁ θεὸς τὸν κόσμον ὥστε τὸν υἱὸν τὸν μονογενῆ ἔδωκεν",highlightedWords:[{original:"ἠγάπησεν",transliteration:"Egapesen",meaning:"loved",position:0},{original:"θεὸς",transliteration:"Theos",meaning:"God",position:1},{original:"κόσμον",transliteration:"Kosmon",meaning:"world",position:2},{original:"υἱὸν",transliteration:"Huion",meaning:"Son",position:3}]},{reference:"哥林多前書 13:13",language:he.GREEK,translation:"And now these three remain: faith, hope and love. But the greatest of these is love.",originalText:"νυνὶ δὲ μένει πίστις ἐλπίς ἀγάπη τὰ τρία ταῦτα μείζων δὲ τούτων ἡ ἀγάπη",highlightedWords:[{original:"πίστις",transliteration:"Pistis",meaning:"faith",position:0},{original:"ἐλπίς",transliteration:"Elpis",meaning:"hope",position:1},{original:"ἀγάπη",transliteration:"Agape",meaning:"love",position:2}]},{reference:"腓立比書 4:13",language:he.GREEK,translation:"I can do all things through Christ who strengthens me.",originalText:"πάντα ἰσχύω ἐν τῷ ἐνδυναμοῦντί με",highlightedWords:[{original:"πάντα",transliteration:"Panta",meaning:"all things",position:0},{original:"ἰσχύω",transliteration:"Ischuo",meaning:"I am able/can do",position:1},{original:"ἐνδυναμοῦντί",transliteration:"Endunamounti",meaning:"strengthening",position:2}]},{reference:"創世記 1:3",language:he.HEBREW,translation:'And God said, "Let there be light," and there was light.',originalText:"וַיֹּאמֶר אֱלֹהִים יְהִי אוֹר וַיְהִי־אוֹר",highlightedWords:[{original:"וַיֹּאמֶר",transliteration:"Vayomer",meaning:"and He said",position:0},{original:"יְהִי",transliteration:"Yehi",meaning:"let there be",position:1},{original:"אוֹר",transliteration:"Or",meaning:"light",position:2}]},{reference:"出埃及記 3:14",language:he.HEBREW,translation:'God said to Moses, "I AM WHO I AM."',originalText:"וַיֹּאמֶר אֱלֹהִים אֶל־מֹשֶׁה אֶהְיֶה אֲשֶׁר אֶהְיֶה",highlightedWords:[{original:"אֶהְיֶה",transliteration:"Ehyeh",meaning:"I am/I will be",position:0},{original:"מֹשֶׁה",transliteration:"Moshe",meaning:"Moses",position:1}]},{reference:"詩篇 1:1",language:he.HEBREW,translation:"Blessed is the man who does not walk in the counsel of the wicked.",originalText:"אַשְׁרֵי־הָאִישׁ אֲשֶׁר לֹא הָלַךְ בַּעֲצַת רְשָׁעִים",highlightedWords:[{original:"אַשְׁרֵי",transliteration:"Ashrei",meaning:"Blessed",position:0},{original:"הָאִישׁ",transliteration:"Ha'ish",meaning:"the man",position:1},{original:"רְשָׁעִים",transliteration:"Resha'im",meaning:"wicked",position:2}]},{reference:"箴言 3:5",language:he.HEBREW,translation:"Trust in the LORD with all your heart.",originalText:"בְּטַח אֶל־יְהוָה בְּכָל־לִבֶּךָ",highlightedWords:[{original:"בְּטַח",transliteration:"Betach",meaning:"Trust",position:0},{original:"לִבֶּךָ",transliteration:"Libekha",meaning:"your heart",position:1}]},{reference:"傳道書 3:1",language:he.HEBREW,translation:"There is a time for everything, and a season for every activity under the heavens.",originalText:"לַכֹּל זְמָן וְעֵת לְכָל־חֵפֶץ תַּחַת הַשָּׁמָיִם",highlightedWords:[{original:"זְמָן",transliteration:"Zeman",meaning:"time",position:0},{original:"עֵת",transliteration:"Et",meaning:"season",position:1},{original:"חֵפֶץ",transliteration:"Chefetz",meaning:"activity/purpose",position:2}]},{reference:"以賽亞書 6:3",language:he.HEBREW,translation:"Holy, holy, holy is the LORD Almighty.",originalText:"קָדוֹשׁ קָדוֹשׁ קָדוֹשׁ יְהוָה צְבָאוֹת",highlightedWords:[{original:"קָדוֹשׁ",transliteration:"Qadosh",meaning:"Holy",position:0},{original:"צְבָאוֹת",transliteration:"Tzeva'ot",meaning:"of Hosts/Almighty",position:1}]},{reference:"耶利米書 29:11",language:he.HEBREW,translation:"For I know the plans I have for you, declares the LORD.",originalText:"כִּי אָנֹכִי יָדַעְתִּי אֶת־הַמַּחֲשָׁבֹת אֲשֶׁר אָנֹכִי חֹשֵׁב עֲלֵיכֶם נְאֻם־יְהוָה",highlightedWords:[{original:"יָדַעְתִּי",transliteration:"Yada'ti",meaning:"I know",position:0},{original:"מַּחֲשָׁבֹת",transliteration:"Machashavot",meaning:"plans/thoughts",position:1},{original:"נְאֻם",transliteration:"Ne'um",meaning:"declares",position:2}]},{reference:"彌迦書 6:8",language:he.HEBREW,translation:"He has shown you, O mortal, what is good.",originalText:"הִגִּיד לְךָ אָדָם מַה־טּוֹב",highlightedWords:[{original:"הִגִּיד",transliteration:"Higid",meaning:"He has shown",position:0},{original:"אָדָם",transliteration:"Adam",meaning:"man/mortal",position:1},{original:"טּוֹב",transliteration:"Tov",meaning:"good",position:2}]},{reference:"耶利米哀歌 3:22-23",language:he.HEBREW,translation:"Because of the LORD's great love we are not consumed, for his compassions never fail.",originalText:"חַסְדֵי יְהוָה כִּי לֹא־תָמְנוּ כִּי לֹא־כָלוּ רַחֲמָיו",highlightedWords:[{original:"חַסְדֵי",transliteration:"Chasdei",meaning:"steadfast love",position:0},{original:"רַחֲמָיו",transliteration:"Rachamav",meaning:"His compassions",position:1}]},{reference:"瑪拉基書 3:10",language:he.HEBREW,translation:"Bring the whole tithe into the storehouse.",originalText:"הָבִיאוּ אֶת־כָּל־הַמַּעֲשֵׂר אֶל־בֵּית הָאוֹצָר",highlightedWords:[{original:"הָבִיאוּ",transliteration:"Havi'u",meaning:"Bring",position:0},{original:"מַּעֲשֵׂר",transliteration:"Ma'aser",meaning:"tithe",position:1},{original:"אוֹצָר",transliteration:"Otzar",meaning:"storehouse",position:2}]},{reference:"民數記 6:24-26",language:he.HEBREW,translation:"The LORD bless you and keep you.",originalText:"יְבָרֶכְךָ יְהוָה וְיִשְׁמְרֶךָ",highlightedWords:[{original:"יְבָרֶכְךָ",transliteration:"Yevarechecha",meaning:"bless you",position:0},{original:"וְיִשְׁמְרֶךָ",transliteration:"Veyishmerecha",meaning:"and keep you",position:1}]},{reference:"歷代志上 29:11",language:he.HEBREW,translation:"Yours, O LORD, is the greatness and the power.",originalText:"לְךָ יְהוָה הַגְּדֻלָּה וְהַגְּבוּרָה",highlightedWords:[{original:"הַגְּדֻלָּה",transliteration:"Hagedulah",meaning:"the greatness",position:0},{original:"הַגְּבוּרָה",transliteration:"Hagevurah",meaning:"the power/might",position:1}]},{reference:"詩篇 46:1",language:he.HEBREW,translation:"God is our refuge and strength.",originalText:"אֱלֹהִים לָנוּ מַחֲסֶה וָעֹז",highlightedWords:[{original:"מַחֲסֶה",transliteration:"Machaseh",meaning:"refuge",position:0},{original:"עֹז",transliteration:"Oz",meaning:"strength",position:1}]},{reference:"詩篇 119:105",language:he.HEBREW,translation:"Your word is a lamp for my feet, a light on my path.",originalText:"נֵר־לְרַגְלִי דְבָרֶךָ וְאוֹר לִנְתִיבָתִי",highlightedWords:[{original:"נֵר",transliteration:"Ner",meaning:"lamp",position:0},{original:"דְבָרֶךָ",transliteration:"Devarecha",meaning:"Your word",position:1},{original:"אוֹר",transliteration:"Or",meaning:"light",position:2}]},{reference:"約書亞記 1:9",language:he.HEBREW,translation:"Be strong and courageous. Do not be afraid.",originalText:"חֲזַק וֶאֱמָץ אַל־תַּעֲרֹץ וְאַל־תֵּחָת",highlightedWords:[{original:"חֲזַק",transliteration:"Chazaq",meaning:"Be strong",position:0},{original:"אֱמָץ",transliteration:"Ematz",meaning:"courageous",position:1},{original:"תַּעֲרֹץ",transliteration:"Ta'arotz",meaning:"be afraid",position:2}]},{reference:"但以理書 12:3",language:he.HEBREW,translation:"Those who are wise will shine like the brightness of the heavens.",originalText:"וְהַמַּשְׂכִּלִים יַזְהִרוּ כְּזֹהַר הָרָקִיעַ",highlightedWords:[{original:"מַּשְׂכִּלִים",transliteration:"Maskilim",meaning:"wise ones",position:0},{original:"יַזְהִרוּ",transliteration:"Yazhiru",meaning:"will shine",position:1},{original:"רָקִיעַ",transliteration:"Raqi'a",meaning:"heavens/expanse",position:2}]},{reference:"馬太福音 5:3",language:he.GREEK,translation:"Blessed are the poor in spirit, for theirs is the kingdom of heaven.",originalText:"Μακάριοι οἱ πτωχοὶ τῷ πνεύματι ὅτι αὐτῶν ἐστιν ἡ βασιλεία τῶν οὐρανῶν",highlightedWords:[{original:"Μακάριοι",transliteration:"Makarioi",meaning:"Blessed",position:0},{original:"πτωχοὶ",transliteration:"Ptochoi",meaning:"poor",position:1},{original:"πνεύματι",transliteration:"Pneumati",meaning:"in spirit",position:2},{original:"βασιλεία",transliteration:"Basileia",meaning:"kingdom",position:3}]},{reference:"馬太福音 6:9",language:he.GREEK,translation:"Our Father in heaven, hallowed be your name.",originalText:"Πάτερ ἡμῶν ὁ ἐν τοῖς οὐρανοῖς ἁγιασθήτω τὸ ὄνομά σου",highlightedWords:[{original:"Πάτερ",transliteration:"Pater",meaning:"Father",position:0},{original:"ἁγιασθήτω",transliteration:"Hagiastheto",meaning:"hallowed be",position:1},{original:"ὄνομά",transliteration:"Onoma",meaning:"name",position:2}]},{reference:"馬太福音 28:19",language:he.GREEK,translation:"Go and make disciples of all nations.",originalText:"πορευθέντες μαθητεύσατε πάντα τὰ ἔθνη",highlightedWords:[{original:"πορευθέντες",transliteration:"Poreuthentes",meaning:"Go",position:0},{original:"μαθητεύσατε",transliteration:"Matheteusate",meaning:"make disciples",position:1},{original:"ἔθνη",transliteration:"Ethne",meaning:"nations",position:2}]},{reference:"馬可福音 1:15",language:he.GREEK,translation:"Repent and believe the good news.",originalText:"μετανοεῖτε καὶ πιστεύετε ἐν τῷ εὐαγγελίῳ",highlightedWords:[{original:"μετανοεῖτε",transliteration:"Metanoeite",meaning:"Repent",position:0},{original:"πιστεύετε",transliteration:"Pisteuete",meaning:"believe",position:1},{original:"εὐαγγελίῳ",transliteration:"Euangelio",meaning:"gospel/good news",position:2}]},{reference:"路加福音 2:11",language:he.GREEK,translation:"Today in the town of David a Savior has been born to you; he is the Messiah, the Lord.",originalText:"ὅτι ἐτέχθη ὑμῖν σήμερον σωτὴρ ὅς ἐστιν χριστὸς κύριος",highlightedWords:[{original:"σωτὴρ",transliteration:"Soter",meaning:"Savior",position:0},{original:"χριστὸς",transliteration:"Christos",meaning:"Christ/Messiah",position:1},{original:"κύριος",transliteration:"Kyrios",meaning:"Lord",position:2}]},{reference:"約翰福音 14:6",language:he.GREEK,translation:"I am the way and the truth and the life.",originalText:"ἐγώ εἰμι ἡ ὁδὸς καὶ ἡ ἀλήθεια καὶ ἡ ζωή",highlightedWords:[{original:"ὁδὸς",transliteration:"Hodos",meaning:"way",position:0},{original:"ἀλήθεια",transliteration:"Aletheia",meaning:"truth",position:1},{original:"ζωή",transliteration:"Zoe",meaning:"life",position:2}]},{reference:"使徒行傳 2:38",language:he.GREEK,translation:"Repent and be baptized, every one of you, in the name of Jesus Christ.",originalText:"μετανοήσατε καὶ βαπτισθήτω ἕκαστος ὑμῶν ἐπὶ τῷ ὀνόματι Ἰησοῦ Χριστοῦ",highlightedWords:[{original:"μετανοήσατε",transliteration:"Metanoesate",meaning:"Repent",position:0},{original:"βαπτισθήτω",transliteration:"Baptistheto",meaning:"be baptized",position:1},{original:"ὀνόματι",transliteration:"Onomati",meaning:"name",position:2}]},{reference:"羅馬書 3:23",language:he.GREEK,translation:"For all have sinned and fall short of the glory of God.",originalText:"πάντες γὰρ ἥμαρτον καὶ ὑστεροῦνται τῆς δόξης τοῦ θεοῦ",highlightedWords:[{original:"ἥμαρτον",transliteration:"Hemarton",meaning:"have sinned",position:0},{original:"δόξης",transliteration:"Doxes",meaning:"glory",position:1}]},{reference:"羅馬書 6:23",language:he.GREEK,translation:"For the wages of sin is death, but the gift of God is eternal life.",originalText:"τὰ γὰρ ὀψώνια τῆς ἁμαρτίας θάνατος τὸ δὲ χάρισμα τοῦ θεοῦ ζωὴ αἰώνιος",highlightedWords:[{original:"ἁμαρτίας",transliteration:"Hamartias",meaning:"sin",position:0},{original:"θάνατος",transliteration:"Thanatos",meaning:"death",position:1},{original:"χάρισμα",transliteration:"Charisma",meaning:"gift",position:2},{original:"αἰώνιος",transliteration:"Aionios",meaning:"eternal",position:3}]},{reference:"羅馬書 8:28",language:he.GREEK,translation:"And we know that in all things God works for the good of those who love him.",originalText:"οἴδαμεν δὲ ὅτι τοῖς ἀγαπῶσιν τὸν θεὸν πάντα συνεργεῖ εἰς ἀγαθόν",highlightedWords:[{original:"ἀγαπῶσιν",transliteration:"Agaposin",meaning:"love",position:0},{original:"συνεργεῖ",transliteration:"Synergei",meaning:"works together",position:1},{original:"ἀγαθόν",transliteration:"Agathon",meaning:"good",position:2}]},{reference:"哥林多前書 10:13",language:he.GREEK,translation:"God is faithful; he will not let you be tempted beyond what you can bear.",originalText:"πιστὸς δὲ ὁ θεός ὃς οὐκ ἐάσει ὑμᾶς πειρασθῆναι ὑπὲρ ὃ δύνασθε",highlightedWords:[{original:"πιστὸς",transliteration:"Pistos",meaning:"faithful",position:0},{original:"πειρασθῆναι",transliteration:"Peirasthenai",meaning:"to be tempted",position:1},{original:"δύνασθε",transliteration:"Dynasthe",meaning:"you are able",position:2}]},{reference:"加拉太書 5:22-23",language:he.GREEK,translation:"But the fruit of the Spirit is love, joy, peace.",originalText:"ὁ δὲ καρπὸς τοῦ πνεύματός ἐστιν ἀγάπη χαρὰ εἰρήνη",highlightedWords:[{original:"καρπὸς",transliteration:"Karpos",meaning:"fruit",position:0},{original:"χαρὰ",transliteration:"Chara",meaning:"joy",position:1},{original:"εἰρήνη",transliteration:"Eirene",meaning:"peace",position:2}]},{reference:"以弗所書 2:8-9",language:he.GREEK,translation:"For it is by grace you have been saved, through faith.",originalText:"τῇ γὰρ χάριτί ἐστε σεσῳσμένοι διὰ πίστεως",highlightedWords:[{original:"χάριτί",transliteration:"Chariti",meaning:"grace",position:0},{original:"σεσῳσμένοι",transliteration:"Sesosmenoi",meaning:"saved",position:1},{original:"πίστεως",transliteration:"Pisteos",meaning:"faith",position:2}]},{reference:"腓立比書 4:4",language:he.GREEK,translation:"Rejoice in the Lord always. I will say it again: Rejoice!",originalText:"χαίρετε ἐν κυρίῳ πάντοτε πάλιν ἐρῶ χαίρετε",highlightedWords:[{original:"χαίρετε",transliteration:"Chairete",meaning:"Rejoice",position:0},{original:"κυρίῳ",transliteration:"Kyrio",meaning:"Lord",position:1},{original:"πάντοτε",transliteration:"Pantote",meaning:"always",position:2}]},{reference:"歌羅西書 3:23",language:he.GREEK,translation:"Whatever you do, work at it with all your heart, as working for the Lord.",originalText:"ὃ ἐὰν ποιῆτε ἐκ ψυχῆς ἐργάζεσθε ὡς τῷ κυρίῳ",highlightedWords:[{original:"ψυχῆς",transliteration:"Psyches",meaning:"soul/heart",position:0},{original:"ἐργάζεσθε",transliteration:"Ergazesthe",meaning:"work",position:1}]},{reference:"帖撒羅尼迦前書 5:16-18",language:he.GREEK,translation:"Rejoice always, pray continually, give thanks in all circumstances.",originalText:"πάντοτε χαίρετε ἀδιαλείπτως προσεύχεσθε ἐν παντὶ εὐχαριστεῖτε",highlightedWords:[{original:"ἀδιαλείπτως",transliteration:"Adialeiptos",meaning:"continually/unceasingly",position:0},{original:"προσεύχεσθε",transliteration:"Proseuchesthe",meaning:"pray",position:1},{original:"εὐχαριστεῖτε",transliteration:"Eucharistei",meaning:"give thanks",position:2}]},{reference:"提摩太後書 3:16",language:he.GREEK,translation:"All Scripture is God-breathed and is useful for teaching.",originalText:"πᾶσα γραφὴ θεόπνευστος καὶ ὠφέλιμος πρὸς διδασκαλίαν",highlightedWords:[{original:"γραφὴ",transliteration:"Graphe",meaning:"Scripture",position:0},{original:"θεόπνευστος",transliteration:"Theopneustos",meaning:"God-breathed",position:1},{original:"διδασκαλίαν",transliteration:"Didaskalian",meaning:"teaching",position:2}]},{reference:"希伯來書 11:1",language:he.GREEK,translation:"Now faith is confidence in what we hope for.",originalText:"ἔστιν δὲ πίστις ἐλπιζομένων ὑπόστασις",highlightedWords:[{original:"πίστις",transliteration:"Pistis",meaning:"faith",position:0},{original:"ἐλπιζομένων",transliteration:"Elpizomenon",meaning:"things hoped for",position:1},{original:"ὑπόστασις",transliteration:"Hypostasis",meaning:"confidence/assurance",position:2}]},{reference:"雅各書 1:22",language:he.GREEK,translation:"Do not merely listen to the word, and so deceive yourselves. Do what it says.",originalText:"γίνεσθε δὲ ποιηταὶ λόγου καὶ μὴ μόνον ἀκροαταί",highlightedWords:[{original:"ποιηταὶ",transliteration:"Poietai",meaning:"doers",position:0},{original:"λόγου",transliteration:"Logou",meaning:"word",position:1},{original:"ἀκροαταί",transliteration:"Akroatai",meaning:"hearers",position:2}]},{reference:"彼得前書 5:7",language:he.GREEK,translation:"Cast all your anxiety on him because he cares for you.",originalText:"πᾶσαν τὴν μέριμναν ὑμῶν ἐπιρίψαντες ἐπ αὐτόν ὅτι αὐτῷ μέλει περὶ ὑμῶν",highlightedWords:[{original:"μέριμναν",transliteration:"Merimnan",meaning:"anxiety/care",position:0},{original:"ἐπιρίψαντες",transliteration:"Epiripsantes",meaning:"casting",position:1},{original:"μέλει",transliteration:"Melei",meaning:"cares",position:2}]},{reference:"約翰一書 4:8",language:he.GREEK,translation:"Whoever does not love does not know God, because God is love.",originalText:"ὁ μὴ ἀγαπῶν οὐκ ἔγνω τὸν θεόν ὅτι ὁ θεὸς ἀγάπη ἐστίν",highlightedWords:[{original:"ἀγαπῶν",transliteration:"Agapon",meaning:"loving",position:0},{original:"ἔγνω",transliteration:"Egno",meaning:"knows",position:1},{original:"ἀγάπη",transliteration:"Agape",meaning:"love",position:2}]},{reference:"啟示錄 3:20",language:he.GREEK,translation:"Here I am! I stand at the door and knock.",originalText:"ἰδοὺ ἕστηκα ἐπὶ τὴν θύραν καὶ κρούω",highlightedWords:[{original:"ἕστηκα",transliteration:"Hesteka",meaning:"I stand",position:0},{original:"θύραν",transliteration:"Thyran",meaning:"door",position:1},{original:"κρούω",transliteration:"Krouo",meaning:"I knock",position:2}]},{reference:"啟示錄 21:4",language:he.GREEK,translation:"He will wipe every tear from their eyes.",originalText:"καὶ ἐξαλείψει πᾶν δάκρυον ἐκ τῶν ὀφθαλμῶν αὐτῶν",highlightedWords:[{original:"ἐξαλείψει",transliteration:"Exaleipsei",meaning:"will wipe away",position:0},{original:"δάκρυον",transliteration:"Dakryon",meaning:"tear",position:1},{original:"ὀφθαλμῶν",transliteration:"Ophthalmon",meaning:"eyes",position:2}]}],NN=t=>EN.filter(e=>e.language===t),TN=({language:t,onSelectVerse:e,onBack:a})=>{const[r,l]=z.useState(""),[u,c]=z.useState("all"),m=NN(t),y=t===he.HEBREW?"希伯來文經文":"希臘文經文",p=t===he.HEBREW?"舊約聖經":"新約聖經",x=z.useMemo(()=>{const E=new Set(m.map(C=>{const A=C.reference.split(" ");return A[0]&&!isNaN(parseInt(A[0]))&&A.length>1?`${A[0]} ${A[1]}`:A[0]}));return["all",...Array.from(E)]},[m]),b=z.useMemo(()=>m.filter(E=>{const C=E.reference.toLowerCase().includes(r.toLowerCase())||E.translation.toLowerCase().includes(r.toLowerCase())||E.highlightedWords.some(U=>U.original.includes(r)||U.transliteration.toLowerCase().includes(r.toLowerCase())||U.meaning.toLowerCase().includes(r.toLowerCase())),A=u==="all"||E.reference.startsWith(u);return C&&A}),[m,r,u]),w={all:"全部經卷",Genesis:"創世記",出埃及記:"出埃及記",Exodus:"出埃及記",Psalm:"詩篇",箴言:"箴言",Proverbs:"箴言",傳道書:"傳道書",Ecclesiastes:"傳道書",Isaiah:"以賽亞書",耶利米書:"耶利米書",Jeremiah:"耶利米書",彌迦書:"彌迦書",Micah:"彌迦書",耶利米哀歌:"耶利米哀歌",Lamentations:"耶利米哀歌",瑪拉基書:"瑪拉基書",Malachi:"瑪拉基書",民數記:"民數記",Numbers:"民數記","1 Chronicles":"歷代志上",Chronicles:"歷代志",約書亞記:"約書亞記",Joshua:"約書亞記",但以理書:"但以理書",Daniel:"但以理書",Deuteronomy:"申命記",Matthew:"馬太福音",Mark:"馬可福音",Luke:"路加福音",John:"約翰福音",Acts:"使徒行傳",Romans:"羅馬書","1 Corinthians":"哥林多前書",Galatians:"加拉太書",Ephesians:"以弗所書",Philippians:"腓立比書",Colossians:"歌羅西書","1 Thessalonians":"帖撒羅尼迦前書","2 Timothy":"提摩太後書",Hebrews:"希伯來書",James:"雅各書","1 Peter":"彼得前書","1 John":"約翰一書",Revelation:"啟示錄"};return d.jsxs("div",{className:"w-full max-w-4xl p-6 animate-fade-in",children:[d.jsx("button",{onClick:a,className:"mb-6 text-sm text-stone-500 hover:text-sky-600 transition-colors",children:"← 返回練習模式"}),d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h2",{className:"text-4xl font-bold text-sky-800 dark:text-sky-300 mb-2",children:y}),d.jsx("p",{className:"text-lg text-stone-600 dark:text-stone-400",children:p})]}),d.jsxs("div",{className:"mb-6 space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-stone-400"}),d.jsx("input",{type:"text",value:r,onChange:E=>l(E.target.value),placeholder:"搜尋經文、詞彙或翻譯...",className:"w-full pl-10 pr-4 py-3 bg-amber-50 border border-stone-300 dark:border-stone-600 rounded-xl focus:ring-2 focus:ring-sky-500 focus:border-transparent outline-none transition-all"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Q0,{className:"w-5 h-5 text-stone-500"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(E=>d.jsx("button",{onClick:()=>c(E),className:`px-4 py-2 rounded-lg font-medium transition-all ${u===E?"bg-sky-600 text-stone-200 shadow-md":"bg-stone-200 dark:bg-stone-700 text-stone-700 dark:text-stone-300 hover:bg-stone-300 dark:hover:bg-stone-600"}`,children:w[E]||E},E))})]}),d.jsxs("p",{className:"text-sm text-stone-500 dark:text-stone-400",children:["找到 ",b.length," 個經文"]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.length===0?d.jsxs("div",{className:"col-span-2 text-center py-12",children:[d.jsx("p",{className:"text-lg text-stone-500 dark:text-stone-400 mb-2",children:"沒有找到符合條件的經文"}),d.jsx("p",{className:"text-sm text-stone-400 dark:text-stone-500",children:"請嘗試其他搜尋條件"})]}):b.map(E=>d.jsx("button",{onClick:()=>e(E),className:"group p-6 bg-amber-50 rounded-xl shadow-md hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 text-left border-2 border-transparent hover:border-sky-500",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"p-2 bg-sky-100 dark:bg-sky-900/30 rounded-lg group-hover:bg-sky-200 dark:group-hover:bg-sky-800/50 transition-colors",children:d.jsx(K0,{className:"w-5 h-5 text-sky-600 dark:text-sky-400"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-lg font-semibold text-sky-900 dark:text-sky-200 mb-2",children:E.reference}),d.jsx("p",{className:"text-sm text-stone-600 dark:text-stone-400 line-clamp-2",children:E.translation}),d.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[E.highlightedWords.slice(0,3).map((C,A)=>d.jsx("span",{className:"px-2 py-1 bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300 text-xs rounded-md font-medium",children:C.original},A)),E.highlightedWords.length>3&&d.jsxs("span",{className:"px-2 py-1 text-stone-500 dark:text-stone-400 text-xs",children:["+",E.highlightedWords.length-3," more"]})]})]})]})},E.reference))})]})},CN=({verse:t,onBack:e})=>{const[a,r]=z.useState(null),[l,u]=z.useState(null),[c,m]=z.useState(!1),y=b=>{if(!("speechSynthesis"in window)){console.error("Speech synthesis not supported");return}u(b.original);const w=new SpeechSynthesisUtterance(b.transliteration);w.lang=t.language==="Hebrew"?"he-IL":"el-GR",w.rate=.7,w.pitch=1,w.onend=()=>{u(null)},w.onerror=()=>{u(null)},window.speechSynthesis.cancel(),window.speechSynthesis.speak(w)},p=()=>{if(!("speechSynthesis"in window)){console.error("Speech synthesis not supported");return}if(!t.originalText){console.error("No original text available");return}m(!0),window.speechSynthesis.cancel();const b=new SpeechSynthesisUtterance(t.originalText);b.lang=t.language==="Hebrew"?"he-IL":"el-GR",b.rate=.6,b.pitch=1,b.volume=1,b.onend=()=>{m(!1)},b.onerror=()=>{m(!1)},window.speechSynthesis.speak(b)},x=()=>{window.speechSynthesis.cancel(),m(!1)};return d.jsxs("div",{className:"w-full max-w-5xl p-6 animate-fade-in-up",children:[d.jsxs("button",{onClick:e,className:"mb-6 text-sm text-stone-500 hover:text-sky-600 transition-colors flex items-center gap-2",children:[d.jsx(ro,{className:"w-4 h-4"}),"返回經文列表"]}),d.jsx("div",{className:"mb-8 text-center",children:d.jsxs("div",{className:"inline-flex items-center gap-3 mb-3 px-6 py-3 bg-sky-100 dark:bg-sky-900/30 rounded-full",children:[d.jsx(K0,{className:"w-5 h-5 text-sky-600 dark:text-sky-400"}),d.jsx("h2",{className:"text-2xl font-bold text-sky-800 dark:text-sky-300",children:t.reference})]})}),d.jsxs("div",{className:"mb-8 p-6 bg-amber-50 rounded-2xl shadow-lg",children:[d.jsx("h3",{className:"text-sm font-semibold text-stone-500 dark:text-stone-400 mb-3 uppercase tracking-wide",children:"英文翻譯"}),d.jsxs("p",{className:"text-xl text-stone-700 dark:text-stone-200 leading-relaxed italic",children:['"',t.translation,'"']})]}),t.originalText&&d.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-2xl shadow-lg",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-sm font-semibold text-amber-700 dark:text-amber-400 uppercase tracking-wide",children:"原文經文"}),d.jsxs("button",{onClick:c?x:p,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-semibold transition-all ${c?"bg-red-600 hover:bg-red-700 text-stone-200":"bg-amber-600 hover:bg-amber-700 text-stone-200"}`,children:[d.jsx(Va,{className:`w-5 h-5 ${c?"animate-pulse":""}`}),d.jsx("span",{className:"text-sm",children:c?"停止朗讀":"朗讀整段經文"})]})]}),d.jsx("p",{className:"text-3xl md:text-4xl text-amber-900 dark:text-amber-200 leading-relaxed font-serif",dir:t.language==="Hebrew"?"rtl":"ltr",children:t.originalText}),d.jsxs("div",{className:"mt-3 text-xs text-amber-700 dark:text-amber-400 italic",children:[t.language==="Hebrew"?"希伯來語朗讀":"希臘語朗讀"," · 點擊上方按鈕聆聽完整經文發音"]})]}),d.jsxs("div",{className:"mb-8",children:[d.jsx("h3",{className:"text-lg font-bold text-sky-800 dark:text-sky-300 mb-4",children:"重點詞彙學習"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.highlightedWords.map((b,w)=>d.jsxs("button",{onClick:()=>{r(b),y(b)},className:`group p-5 rounded-xl transition-all duration-300 border-2 text-left ${(a==null?void 0:a.original)===b.original?"bg-sky-100 dark:bg-sky-900/50 border-sky-500 shadow-lg scale-105":"bg-amber-50 border-stone-200 dark:border-stone-700 hover:border-sky-400 hover:shadow-md"}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsx("div",{className:"text-3xl font-serif text-sky-900 dark:text-sky-200",dir:t.language==="Hebrew"?"rtl":"ltr",children:b.original}),d.jsx("button",{onClick:E=>{E.stopPropagation(),y(b)},className:`p-2 rounded-full transition-colors ${l===b.original?"bg-sky-500 text-stone-200":"bg-sky-100 dark:bg-sky-900/30 text-sky-600 dark:text-sky-400 hover:bg-sky-200 dark:hover:bg-sky-800/50"}`,children:d.jsx(Va,{className:`w-4 h-4 ${l===b.original?"animate-pulse":""}`})})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-lg font-medium text-stone-700 dark:text-stone-300",children:b.transliteration}),d.jsx("p",{className:"text-sm text-stone-600 dark:text-stone-400",children:b.meaning})]})]},w))})]}),a&&d.jsxs("div",{className:"p-6 bg-gradient-to-r from-sky-500 to-indigo-600 rounded-2xl shadow-xl text-stone-200 animate-fade-in",children:[d.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide mb-3 opacity-90",children:"當前選擇的詞彙"}),d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsx("div",{className:"text-6xl font-serif",dir:t.language==="Hebrew"?"rtl":"ltr",children:a.original}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-2xl font-bold mb-1",children:a.transliteration}),d.jsx("p",{className:"text-lg opacity-90",children:a.meaning})]}),d.jsx("button",{onClick:()=>y(a),className:"p-4 bg-white/20 hover:bg-white/30 rounded-full transition-colors",children:d.jsx(Va,{className:"w-8 h-8"})})]})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let AN,_N;function IN(){return{geminiUrl:AN,vertexUrl:_N}}function kN(t,e,a,r){var l,u;if(!(t!=null&&t.baseUrl)){const c=IN();return e?(l=c.vertexUrl)!==null&&l!==void 0?l:a:(u=c.geminiUrl)!==null&&u!==void 0?u:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ji{}function ge(t,e){const a=/\{([^}]+)\}/g;return t.replace(a,(r,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const u=e[l];return u!=null?String(u):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function g(t,e,a){for(let u=0;u<e.length-1;u++){const c=e[u];if(c.endsWith("[]")){const m=c.slice(0,-2);if(!(m in t))if(Array.isArray(a))t[m]=Array.from({length:a.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[m])){const y=t[m];if(Array.isArray(a))for(let p=0;p<y.length;p++){const x=y[p];g(x,e.slice(u+1),a[p])}else for(const p of y)g(p,e.slice(u+1),a)}return}else if(c.endsWith("[0]")){const m=c.slice(0,-3);m in t||(t[m]=[{}]);const y=t[m];g(y[0],e.slice(u+1),a);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const r=e[e.length-1],l=t[r];if(l!==void 0){if(!a||typeof a=="object"&&Object.keys(a).length===0||a===l)return;if(typeof l=="object"&&typeof a=="object"&&l!==null&&a!==null)Object.assign(l,a);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof a=="object"&&a!==null&&!Array.isArray(a)?Object.assign(t,a):t[r]=a}function f(t,e,a=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return a;const l=e[r];if(l.endsWith("[]")){const u=l.slice(0,-2);if(u in t){const c=t[u];return Array.isArray(c)?c.map(m=>f(m,e.slice(r+1),a)):a}else return a}else t=t[l]}return t}catch(r){if(r instanceof TypeError)return a;throw r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xd(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RN(t){const e={},a=f(t,["operationName"]);a!=null&&g(e,["operationName"],a);const r=f(t,["resourceName"]);return r!=null&&g(e,["_url","resourceName"],r),e}function MN(t){const e={},a=f(t,["name"]);a!=null&&g(e,["name"],a);const r=f(t,["metadata"]);r!=null&&g(e,["metadata"],r);const l=f(t,["done"]);l!=null&&g(e,["done"],l);const u=f(t,["error"]);u!=null&&g(e,["error"],u);const c=f(t,["response","generateVideoResponse"]);return c!=null&&g(e,["response"],LN(c)),e}function DN(t){const e={},a=f(t,["name"]);a!=null&&g(e,["name"],a);const r=f(t,["metadata"]);r!=null&&g(e,["metadata"],r);const l=f(t,["done"]);l!=null&&g(e,["done"],l);const u=f(t,["error"]);u!=null&&g(e,["error"],u);const c=f(t,["response"]);return c!=null&&g(e,["response"],qN(c)),e}function LN(t){const e={},a=f(t,["generatedSamples"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>PN(c))),g(e,["generatedVideos"],u)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const l=f(t,["raiMediaFilteredReasons"]);return l!=null&&g(e,["raiMediaFilteredReasons"],l),e}function qN(t){const e={},a=f(t,["videos"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>UN(c))),g(e,["generatedVideos"],u)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const l=f(t,["raiMediaFilteredReasons"]);return l!=null&&g(e,["raiMediaFilteredReasons"],l),e}function PN(t){const e={},a=f(t,["_self"]);return a!=null&&g(e,["video"],GN(a)),e}function UN(t){const e={},a=f(t,["_self"]);return a!=null&&g(e,["video"],ON(a)),e}function BN(t){const e={},a=f(t,["operationName"]);return a!=null&&g(e,["_url","operationName"],a),e}function VN(t){const e={},a=f(t,["operationName"]);return a!=null&&g(e,["_url","operationName"],a),e}function GN(t){const e={},a=f(t,["video","uri"]);a!=null&&g(e,["uri"],a);const r=f(t,["video","encodedVideo"]);r!=null&&g(e,["videoBytes"],xd(r));const l=f(t,["encoding"]);return l!=null&&g(e,["mimeType"],l),e}function ON(t){const e={},a=f(t,["gcsUri"]);a!=null&&g(e,["uri"],a);const r=f(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],xd(r));const l=f(t,["mimeType"]);return l!=null&&g(e,["mimeType"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _g;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(_g||(_g={}));var Ig;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Ig||(Ig={}));var wi;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(wi||(wi={}));var kg;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(kg||(kg={}));var Rg;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Rg||(Rg={}));var Mg;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Mg||(Mg={}));var Dg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Dg||(Dg={}));var Lg;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Lg||(Lg={}));var qg;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(qg||(qg={}));var Pg;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Pg||(Pg={}));var Ug;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(Ug||(Ug={}));var Bg;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Bg||(Bg={}));var Vg;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Vg||(Vg={}));var Gg;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(Gg||(Gg={}));var Og;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Og||(Og={}));var Ul;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Ul||(Ul={}));var Hg;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Hg||(Hg={}));var Fc;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Fc||(Fc={}));var zg;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(zg||(zg={}));var jg;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(jg||(jg={}));var Fg;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V"})(Fg||(Fg={}));var Jg;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Jg||(Jg={}));var Yg;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Yg||(Yg={}));var Kg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Kg||(Kg={}));var Qg;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Qg||(Qg={}));var $g;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})($g||($g={}));var Xg;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Xg||(Xg={}));var Zg;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Zg||(Zg={}));var Wg;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Wg||(Wg={}));var e0;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(e0||(e0={}));var t0;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(t0||(t0={}));var n0;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(n0||(n0={}));var i0;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(i0||(i0={}));var a0;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(a0||(a0={}));var r0;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(r0||(r0={}));var o0;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(o0||(o0={}));var l0;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(l0||(l0={}));var s0;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(s0||(s0={}));var u0;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(u0||(u0={}));var c0;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(c0||(c0={}));var d0;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(d0||(d0={}));var f0;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(f0||(f0={}));var m0;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(m0||(m0={}));var p0;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(p0||(p0={}));var h0;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(h0||(h0={}));var g0;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(g0||(g0={}));var y0;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(y0||(y0={}));var x0;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(x0||(x0={}));var Ba;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ba||(Ba={}));class Jc{constructor(e){const a={};for(const r of e.headers.entries())a[r[0]]=r[1];this.headers=a,this.responseInternal=e}json(){return this.responseInternal.json()}}class Xr{get text(){var e,a,r,l,u,c,m,y;if(((l=(r=(a=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||a===void 0?void 0:a.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",x=!1;const b=[];for(const w of(y=(m=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[E,C]of Object.entries(w))E!=="text"&&E!=="thought"&&(C!==null||C!==void 0)&&b.push(E);if(typeof w.text=="string"){if(typeof w.thought=="boolean"&&w.thought)continue;x=!0,p+=w.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?p:void 0}get data(){var e,a,r,l,u,c,m,y;if(((l=(r=(a=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||a===void 0?void 0:a.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const x=[];for(const b of(y=(m=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[w,E]of Object.entries(b))w!=="inlineData"&&(E!==null||E!==void 0)&&x.push(w);b.inlineData&&typeof b.inlineData.data=="string"&&(p+=atob(b.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,a,r,l,u,c,m,y;if(((l=(r=(a=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||a===void 0?void 0:a.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(y=(m=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,a,r,l,u,c,m,y,p;if(((l=(r=(a=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||a===void 0?void 0:a.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(y=(m=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((x==null?void 0:x.length)!==0)return(p=x==null?void 0:x[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,a,r,l,u,c,m,y,p;if(((l=(r=(a=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||a===void 0?void 0:a.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(y=(m=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((x==null?void 0:x.length)!==0)return(p=x==null?void 0:x[0])===null||p===void 0?void 0:p.output}}class v0{}class b0{}class HN{}class zN{}class jN{}class FN{}class w0{}class S0{}class E0{}class JN{}class Bl{_fromAPIResponse({apiResponse:e,isVertexAI:a}){const r=new Bl;let l;const u=e;return a?l=DN(u):l=MN(u),Object.assign(r,l),r}}class N0{}class T0{}class C0{}class YN{}class KN{}class QN{}class A0{}class $N{get text(){var e,a,r;let l="",u=!1;const c=[];for(const m of(r=(a=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||a===void 0?void 0:a.parts)!==null&&r!==void 0?r:[]){for(const[y,p]of Object.entries(m))y!=="text"&&y!=="thought"&&p!==null&&c.push(y);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;u=!0,l+=m.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?l:void 0}get data(){var e,a,r;let l="";const u=[];for(const c of(r=(a=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||a===void 0?void 0:a.parts)!==null&&r!==void 0?r:[]){for(const[m,y]of Object.entries(c))m!=="inlineData"&&y!==null&&u.push(m);c.inlineData&&typeof c.inlineData.data=="string"&&(l+=atob(c.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class XN{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ve(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const a=e.split("/",2);return`publishers/${a[0]}/models/${a[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Gy(t,e){const a=Ve(t,e);return a?a.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${a}`:a.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${a}`:a:""}function Oy(t){return Array.isArray(t)?t.map(e=>Vl(e)):[Vl(t)]}function Vl(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Hy(t){const e=Vl(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function zy(t){const e=Vl(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function _0(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function jy(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>_0(e)):[_0(t)]}function Yc(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function I0(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function k0(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ct(t){if(t==null)throw new Error("ContentUnion is required");return Yc(t)?t:{role:"user",parts:jy(t)}}function vd(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(a=>{const r=Ct(a);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const a=Ct(e);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]}return Array.isArray(e)?e.map(a=>Ct(a)):[Ct(e)]}function mn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(I0(t)||k0(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ct(t)]}const e=[],a=[],r=Yc(t[0]);for(const l of t){const u=Yc(l);if(u!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(l);else{if(I0(l)||k0(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");a.push(l)}}return r||e.push({role:"user",parts:jy(a)}),e}function ZN(t,e){t.includes("null")&&(e.nullable=!0);const a=t.filter(r=>r!=="null");if(a.length===1)e.type=Object.values(wi).includes(a[0].toUpperCase())?a[0].toUpperCase():wi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of a)e.anyOf.push({type:Object.values(wi).includes(r.toUpperCase())?r.toUpperCase():wi.TYPE_UNSPECIFIED})}}function Ha(t){const e={},a=["items"],r=["anyOf"],l=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=t.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,t=u[1]):u[1].type==="null"&&(e.nullable=!0,t=u[0])),t.type instanceof Array&&ZN(t.type,e);for(const[c,m]of Object.entries(t))if(m!=null)if(c=="type"){if(m==="null")throw new Error("type: null can not be the only possible type for the field.");if(m instanceof Array)continue;e.type=Object.values(wi).includes(m.toUpperCase())?m.toUpperCase():wi.TYPE_UNSPECIFIED}else if(a.includes(c))e[c]=Ha(m);else if(r.includes(c)){const y=[];for(const p of m){if(p.type=="null"){e.nullable=!0;continue}y.push(Ha(p))}e[c]=y}else if(l.includes(c)){const y={};for(const[p,x]of Object.entries(m))y[p]=Ha(x);e[c]=y}else{if(c==="additionalProperties")continue;e[c]=m}return e}function bd(t){return Ha(t)}function wd(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Sd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ka(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ha(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ha(e.response));return t}function Qa(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const a of t)e.push(a);return e}function WN(t,e,a,r=1){const l=!e.startsWith(`${a}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${a}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:l?`projects/${t.getProject()}/locations/${t.getLocation()}/${a}/${e}`:e:l?`${a}/${e}`:e}function Kn(t,e){if(typeof e!="string")throw new Error("name must be a string");return WN(t,e,"cachedContents")}function Fy(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ei(t){return xd(t)}function eT(t){return t!=null&&typeof t=="object"&&"name"in t}function tT(t){return t!=null&&typeof t=="object"&&"video"in t}function nT(t){return t!=null&&typeof t=="object"&&"uri"in t}function Jy(t){var e;let a;if(eT(t)&&(a=t.name),!(nT(t)&&(a=t.uri,a===void 0))&&!(tT(t)&&(a=(e=t.video)===null||e===void 0?void 0:e.uri,a===void 0))){if(typeof t=="string"&&(a=t),a===void 0)throw new Error("Could not extract file name from the provided input.");if(a.startsWith("https://")){const l=a.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${a}`);a=l[0]}else a.startsWith("files/")&&(a=a.split("files/")[1]);return a}}function Yy(t,e){let a;return t.isVertexAI()?a=e?"publishers/google/models":"models":a=e?"models":"tunedModels",a}function Ky(t){for(const e of["models","tunedModels","publisherModels"])if(iT(t,e))return t[e];return[]}function iT(t,e){return t!==null&&typeof t=="object"&&e in t}function aT(t,e={}){const a=t,r={name:a.name,description:a.description,parametersJsonSchema:a.inputSchema};return a.outputSchema&&(r.responseJsonSchema=a.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function rT(t,e={}){const a=[],r=new Set;for(const l of t){const u=l.name;if(r.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);r.add(u);const c=aT(l,e);c.functionDeclarations&&a.push(...c.functionDeclarations)}return{functionDeclarations:a}}function Qy(t,e){let a;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))a={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))a={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))a={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");a={inlinedRequests:e}}else a=e;const r=[a.gcsUri,a.bigqueryUri].filter(Boolean).length,l=[a.inlinedRequests,a.fileName].filter(Boolean).length;if(t.isVertexAI()){if(l>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||l!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return a}function oT(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function $y(t){if(typeof t!="object"||t===null)return{};const e=t,a=e.inlinedResponses;if(typeof a!="object"||a===null)return t;const l=a.inlinedResponses;if(!Array.isArray(l)||l.length===0)return t;let u=!1;for(const c of l){if(typeof c!="object"||c===null)continue;const y=c.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function $a(t,e){const a=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(a))return a.split("/").pop();throw new Error(`Invalid batch job name: ${a}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(a))return a.split("/").pop();if(/^\d+$/.test(a))return a;throw new Error(`Invalid batch job name: ${a}.`)}function Xy(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lT(t){const e={},a=f(t,["responsesFile"]);a!=null&&g(e,["fileName"],a);const r=f(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>PT(c))),g(e,["inlinedResponses"],u)}const l=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>c)),g(e,["inlinedEmbedContentResponses"],u)}return e}function sT(t){const e={},a=f(t,["predictionsFormat"]);a!=null&&g(e,["format"],a);const r=f(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const l=f(t,["bigqueryDestination","outputUri"]);return l!=null&&g(e,["bigqueryUri"],l),e}function uT(t){const e={},a=f(t,["format"]);a!=null&&g(e,["predictionsFormat"],a);const r=f(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const l=f(t,["bigqueryUri"]);if(l!=null&&g(e,["bigqueryDestination","outputUri"],l),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Zr(t){const e={},a=f(t,["name"]);a!=null&&g(e,["name"],a);const r=f(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const l=f(t,["metadata","state"]);l!=null&&g(e,["state"],Xy(l));const u=f(t,["metadata","createTime"]);u!=null&&g(e,["createTime"],u);const c=f(t,["metadata","endTime"]);c!=null&&g(e,["endTime"],c);const m=f(t,["metadata","updateTime"]);m!=null&&g(e,["updateTime"],m);const y=f(t,["metadata","model"]);y!=null&&g(e,["model"],y);const p=f(t,["metadata","output"]);return p!=null&&g(e,["dest"],lT($y(p))),e}function Kc(t){const e={},a=f(t,["name"]);a!=null&&g(e,["name"],a);const r=f(t,["displayName"]);r!=null&&g(e,["displayName"],r);const l=f(t,["state"]);l!=null&&g(e,["state"],Xy(l));const u=f(t,["error"]);u!=null&&g(e,["error"],u);const c=f(t,["createTime"]);c!=null&&g(e,["createTime"],c);const m=f(t,["startTime"]);m!=null&&g(e,["startTime"],m);const y=f(t,["endTime"]);y!=null&&g(e,["endTime"],y);const p=f(t,["updateTime"]);p!=null&&g(e,["updateTime"],p);const x=f(t,["model"]);x!=null&&g(e,["model"],x);const b=f(t,["inputConfig"]);b!=null&&g(e,["src"],cT(b));const w=f(t,["outputConfig"]);return w!=null&&g(e,["dest"],sT($y(w))),e}function cT(t){const e={},a=f(t,["instancesFormat"]);a!=null&&g(e,["format"],a);const r=f(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const l=f(t,["bigquerySource","inputUri"]);return l!=null&&g(e,["bigqueryUri"],l),e}function dT(t,e){const a={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=f(e,["fileName"]);r!=null&&g(a,["fileName"],r);const l=f(e,["inlinedRequests"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>qT(t,c))),g(a,["requests","requests"],u)}return a}function fT(t){const e={},a=f(t,["format"]);a!=null&&g(e,["instancesFormat"],a);const r=f(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const l=f(t,["bigqueryUri"]);if(l!=null&&g(e,["bigquerySource","inputUri"],l),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function mT(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=f(t,["data"]);a!=null&&g(e,["data"],a);const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function pT(t,e){const a={},r=f(e,["name"]);return r!=null&&g(a,["_url","name"],$a(t,r)),a}function hT(t,e){const a={},r=f(e,["name"]);return r!=null&&g(a,["_url","name"],$a(t,r)),a}function gT(t){const e={},a=f(t,["content"]);a!=null&&g(e,["content"],a);const r=f(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],yT(r));const l=f(t,["tokenCount"]);l!=null&&g(e,["tokenCount"],l);const u=f(t,["finishReason"]);u!=null&&g(e,["finishReason"],u);const c=f(t,["urlContextMetadata"]);c!=null&&g(e,["urlContextMetadata"],c);const m=f(t,["avgLogprobs"]);m!=null&&g(e,["avgLogprobs"],m);const y=f(t,["groundingMetadata"]);y!=null&&g(e,["groundingMetadata"],y);const p=f(t,["index"]);p!=null&&g(e,["index"],p);const x=f(t,["logprobsResult"]);x!=null&&g(e,["logprobsResult"],x);const b=f(t,["safetyRatings"]);if(b!=null){let w=b;Array.isArray(w)&&(w=w.map(E=>E)),g(e,["safetyRatings"],w)}return e}function yT(t){const e={},a=f(t,["citationSources"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(l=>l)),g(e,["citations"],r)}return e}function Zy(t){const e={},a=f(t,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>zT(u))),g(e,["parts"],l)}const r=f(t,["role"]);return r!=null&&g(e,["role"],r),e}function xT(t,e){const a={},r=f(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return a}function vT(t,e){const a={},r=f(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const l=f(t,["dest"]);return e!==void 0&&l!=null&&g(e,["outputConfig"],uT(oT(l))),a}function R0(t,e){const a={},r=f(e,["model"]);r!=null&&g(a,["_url","model"],Ve(t,r));const l=f(e,["src"]);l!=null&&g(a,["batch","inputConfig"],dT(t,Qy(t,l)));const u=f(e,["config"]);return u!=null&&xT(u,a),a}function bT(t,e){const a={},r=f(e,["model"]);r!=null&&g(a,["model"],Ve(t,r));const l=f(e,["src"]);l!=null&&g(a,["inputConfig"],fT(Qy(t,l)));const u=f(e,["config"]);return u!=null&&vT(u,a),a}function wT(t,e){const a={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["batch","displayName"],r),a}function Mc(t,e){const a={},r=f(e,["model"]);r!=null&&g(a,["_url","model"],Ve(t,r));const l=f(e,["src"]);l!=null&&g(a,["batch","inputConfig"],_T(t,l));const u=f(e,["config"]);return u!=null&&wT(u,a),a}function ST(t,e){const a={},r=f(e,["name"]);return r!=null&&g(a,["_url","name"],$a(t,r)),a}function ET(t,e){const a={},r=f(e,["name"]);return r!=null&&g(a,["_url","name"],$a(t,r)),a}function NT(t){const e={},a=f(t,["sdkHttpResponse"]);a!=null&&g(e,["sdkHttpResponse"],a);const r=f(t,["name"]);r!=null&&g(e,["name"],r);const l=f(t,["done"]);l!=null&&g(e,["done"],l);const u=f(t,["error"]);return u!=null&&g(e,["error"],u),e}function TT(t){const e={},a=f(t,["sdkHttpResponse"]);a!=null&&g(e,["sdkHttpResponse"],a);const r=f(t,["name"]);r!=null&&g(e,["name"],r);const l=f(t,["done"]);l!=null&&g(e,["done"],l);const u=f(t,["error"]);return u!=null&&g(e,["error"],u),e}function CT(t,e){const a={},r=f(e,["contents"]);if(r!=null){let u=vd(t,r);Array.isArray(u)&&(u=u.map(c=>c)),g(a,["requests[]","request","content"],u)}const l=f(e,["config"]);return l!=null&&g(a,["_self"],AT(l,a)),a}function AT(t,e){const a={},r=f(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const l=f(t,["title"]);e!==void 0&&l!=null&&g(e,["requests[]","title"],l);const u=f(t,["outputDimensionality"]);if(e!==void 0&&u!=null&&g(e,["requests[]","outputDimensionality"],u),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function _T(t,e){const a={},r=f(e,["fileName"]);r!=null&&g(a,["file_name"],r);const l=f(e,["inlinedRequests"]);return l!=null&&g(a,["requests"],CT(t,l)),a}function IT(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=f(t,["fileUri"]);a!=null&&g(e,["fileUri"],a);const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function kT(t,e,a){const r={},l=f(e,["systemInstruction"]);a!==void 0&&l!=null&&g(a,["systemInstruction"],Zy(Ct(l)));const u=f(e,["temperature"]);u!=null&&g(r,["temperature"],u);const c=f(e,["topP"]);c!=null&&g(r,["topP"],c);const m=f(e,["topK"]);m!=null&&g(r,["topK"],m);const y=f(e,["candidateCount"]);y!=null&&g(r,["candidateCount"],y);const p=f(e,["maxOutputTokens"]);p!=null&&g(r,["maxOutputTokens"],p);const x=f(e,["stopSequences"]);x!=null&&g(r,["stopSequences"],x);const b=f(e,["responseLogprobs"]);b!=null&&g(r,["responseLogprobs"],b);const w=f(e,["logprobs"]);w!=null&&g(r,["logprobs"],w);const E=f(e,["presencePenalty"]);E!=null&&g(r,["presencePenalty"],E);const C=f(e,["frequencyPenalty"]);C!=null&&g(r,["frequencyPenalty"],C);const A=f(e,["seed"]);A!=null&&g(r,["seed"],A);const U=f(e,["responseMimeType"]);U!=null&&g(r,["responseMimeType"],U);const I=f(e,["responseSchema"]);I!=null&&g(r,["responseSchema"],bd(I));const B=f(e,["responseJsonSchema"]);if(B!=null&&g(r,["responseJsonSchema"],B),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=f(e,["safetySettings"]);if(a!==void 0&&P!=null){let $=P;Array.isArray($)&&($=$.map(K=>jT(K))),g(a,["safetySettings"],$)}const q=f(e,["tools"]);if(a!==void 0&&q!=null){let $=Qa(q);Array.isArray($)&&($=$.map(K=>FT(Ka(K)))),g(a,["tools"],$)}const H=f(e,["toolConfig"]);if(a!==void 0&&H!=null&&g(a,["toolConfig"],H),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=f(e,["cachedContent"]);a!==void 0&&k!=null&&g(a,["cachedContent"],Kn(t,k));const M=f(e,["responseModalities"]);M!=null&&g(r,["responseModalities"],M);const ae=f(e,["mediaResolution"]);ae!=null&&g(r,["mediaResolution"],ae);const J=f(e,["speechConfig"]);if(J!=null&&g(r,["speechConfig"],wd(J)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ne=f(e,["thinkingConfig"]);ne!=null&&g(r,["thinkingConfig"],ne);const le=f(e,["imageConfig"]);return le!=null&&g(r,["imageConfig"],le),r}function RT(t){const e={},a=f(t,["sdkHttpResponse"]);a!=null&&g(e,["sdkHttpResponse"],a);const r=f(t,["candidates"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(p=>gT(p))),g(e,["candidates"],y)}const l=f(t,["modelVersion"]);l!=null&&g(e,["modelVersion"],l);const u=f(t,["promptFeedback"]);u!=null&&g(e,["promptFeedback"],u);const c=f(t,["responseId"]);c!=null&&g(e,["responseId"],c);const m=f(t,["usageMetadata"]);return m!=null&&g(e,["usageMetadata"],m),e}function MT(t,e){const a={},r=f(e,["name"]);return r!=null&&g(a,["_url","name"],$a(t,r)),a}function DT(t,e){const a={},r=f(e,["name"]);return r!=null&&g(a,["_url","name"],$a(t,r)),a}function LT(t){const e={},a=f(t,["timeRangeFilter"]);if(a!=null&&g(e,["timeRangeFilter"],a),f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function qT(t,e){const a={},r=f(e,["model"]);r!=null&&g(a,["request","model"],Ve(t,r));const l=f(e,["contents"]);if(l!=null){let c=mn(l);Array.isArray(c)&&(c=c.map(m=>Zy(m))),g(a,["request","contents"],c)}const u=f(e,["config"]);return u!=null&&g(a,["request","generationConfig"],kT(t,u,f(a,["request"],{}))),a}function PT(t){const e={},a=f(t,["response"]);a!=null&&g(e,["response"],RT(a));const r=f(t,["error"]);return r!=null&&g(e,["error"],r),e}function UT(t,e){const a={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const l=f(t,["pageToken"]);if(e!==void 0&&l!=null&&g(e,["_query","pageToken"],l),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return a}function BT(t,e){const a={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const l=f(t,["pageToken"]);e!==void 0&&l!=null&&g(e,["_query","pageToken"],l);const u=f(t,["filter"]);return e!==void 0&&u!=null&&g(e,["_query","filter"],u),a}function VT(t){const e={},a=f(t,["config"]);return a!=null&&UT(a,e),e}function GT(t){const e={},a=f(t,["config"]);return a!=null&&BT(a,e),e}function OT(t){const e={},a=f(t,["sdkHttpResponse"]);a!=null&&g(e,["sdkHttpResponse"],a);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const l=f(t,["operations"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>Zr(c))),g(e,["batchJobs"],u)}return e}function HT(t){const e={},a=f(t,["sdkHttpResponse"]);a!=null&&g(e,["sdkHttpResponse"],a);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const l=f(t,["batchPredictionJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>Kc(c))),g(e,["batchJobs"],u)}return e}function zT(t){const e={},a=f(t,["videoMetadata"]);a!=null&&g(e,["videoMetadata"],a);const r=f(t,["thought"]);r!=null&&g(e,["thought"],r);const l=f(t,["inlineData"]);l!=null&&g(e,["inlineData"],mT(l));const u=f(t,["fileData"]);u!=null&&g(e,["fileData"],IT(u));const c=f(t,["thoughtSignature"]);c!=null&&g(e,["thoughtSignature"],c);const m=f(t,["functionCall"]);m!=null&&g(e,["functionCall"],m);const y=f(t,["codeExecutionResult"]);y!=null&&g(e,["codeExecutionResult"],y);const p=f(t,["executableCode"]);p!=null&&g(e,["executableCode"],p);const x=f(t,["functionResponse"]);x!=null&&g(e,["functionResponse"],x);const b=f(t,["text"]);return b!=null&&g(e,["text"],b),e}function jT(t){const e={};if(f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=f(t,["category"]);a!=null&&g(e,["category"],a);const r=f(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function FT(t){const e={},a=f(t,["functionDeclarations"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(p=>p)),g(e,["functionDeclarations"],y)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearch"]);r!=null&&g(e,["googleSearch"],LT(r));const l=f(t,["googleSearchRetrieval"]);if(l!=null&&g(e,["googleSearchRetrieval"],l),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const u=f(t,["urlContext"]);u!=null&&g(e,["urlContext"],u);const c=f(t,["computerUse"]);c!=null&&g(e,["computerUse"],c);const m=f(t,["codeExecution"]);return m!=null&&g(e,["codeExecution"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ji;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ji||(ji={}));class so{constructor(e,a,r,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=a,this.init(e,r,l)}init(e,a,r){var l,u;this.nameInternal=e,this.pageInternal=a[this.nameInternal]||[],this.sdkHttpResponseInternal=a==null?void 0:a.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!r||Object.keys(r).length===0?c={config:{}}:typeof r=="object"?c=Object.assign({},r):c=r,c.config&&(c.config.pageToken=a.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(u=(l=c.config)===null||l===void 0?void 0:l.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JT extends Ji{constructor(e){super(),this.apiClient=e,this.create=async a=>(this.apiClient.isVertexAI()&&(a.config=this.formatDestination(a.src,a.config)),this.createInternal(a)),this.createEmbeddings=async a=>{var r,l;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(a.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(a);const m=this.createInlinedEmbedContentRequest(a),y=m.path,p=m.body,x=Mc(this.apiClient,a)._query||{};return this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=a.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=a.config)===null||l===void 0?void 0:l.abortSignal}).then(w=>w.json()).then(w=>Zr(w))},this.list=async(a={})=>new so(ji.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(a),a)}createInlinedGenerateContentRequest(e){const a=R0(this.apiClient,e),r=a._url,l=ge("{model}:batchGenerateContent",r),m=a.batch.inputConfig.requests,y=m.requests,p=[];for(const x of y){const b=Object.assign({},x);if(b.systemInstruction){const w=b.systemInstruction;delete b.systemInstruction;const E=b.request;E.systemInstruction=w,b.request=E}p.push(b)}return m.requests=p,delete a.config,delete a._url,delete a._query,{path:l,body:a}}createInlinedEmbedContentRequest(e){const a=Mc(this.apiClient,e),r=a._url,l=ge("{model}:asyncBatchEmbedContent",r),m=a.batch.inputConfig.requests,y=m.requests,p=[];delete m.config;for(const x of y){const b=Object.assign({},x),w=b.request;for(const E in b)E!=="request"&&(w[E]=b[E],delete b[E]);p.push(b)}return m.requests=p,delete a.config,delete a._url,delete a._query,{path:l,body:a}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,a){const r=a?Object.assign({},a):{},l=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${l}`),r.dest===void 0){const u=this.getGcsUri(e),c=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?r.dest=`${u.slice(0,-6)}/dest`:r.dest=`${u}_dest_${l}`;else if(c)r.dest=`${c}_dest_${l}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var a,r,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=bT(this.apiClient,e);return m=ge("batchPredictionJobs",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>Kc(x))}else{const p=R0(this.apiClient,e);return m=ge("{model}:batchGenerateContent",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),c.then(x=>Zr(x))}}async createEmbeddingsInternal(e){var a,r;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Mc(this.apiClient,e);return u=ge("{model}:asyncBatchEmbedContent",m._url),c=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(y=>Zr(y))}}async get(e){var a,r,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=DT(this.apiClient,e);return m=ge("batchPredictionJobs/{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>Kc(x))}else{const p=MT(this.apiClient,e);return m=ge("batches/{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),c.then(x=>Zr(x))}}async cancel(e){var a,r,l,u;let c="",m={};if(this.apiClient.isVertexAI()){const y=hT(this.apiClient,e);c=ge("batchPredictionJobs/{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const y=pT(this.apiClient,e);c=ge("batches/{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var a,r,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=GT(e);return m=ge("batchPredictionJobs",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const b=HT(x),w=new A0;return Object.assign(w,b),w})}else{const p=VT(e);return m=ge("batches",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const b=OT(x),w=new A0;return Object.assign(w,b),w})}}async delete(e){var a,r,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=ET(this.apiClient,e);return m=ge("batchPredictionJobs/{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>TT(x))}else{const p=ST(this.apiClient,e);return m=ge("batches/{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>NT(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YT(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=f(t,["data"]);a!=null&&g(e,["data"],a);const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function M0(t){const e={},a=f(t,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>mC(u))),g(e,["parts"],l)}const r=f(t,["role"]);return r!=null&&g(e,["role"],r),e}function KT(t,e){const a={},r=f(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const l=f(t,["expireTime"]);e!==void 0&&l!=null&&g(e,["expireTime"],l);const u=f(t,["displayName"]);e!==void 0&&u!=null&&g(e,["displayName"],u);const c=f(t,["contents"]);if(e!==void 0&&c!=null){let x=mn(c);Array.isArray(x)&&(x=x.map(b=>M0(b))),g(e,["contents"],x)}const m=f(t,["systemInstruction"]);e!==void 0&&m!=null&&g(e,["systemInstruction"],M0(Ct(m)));const y=f(t,["tools"]);if(e!==void 0&&y!=null){let x=y;Array.isArray(x)&&(x=x.map(b=>pC(b))),g(e,["tools"],x)}const p=f(t,["toolConfig"]);if(e!==void 0&&p!=null&&g(e,["toolConfig"],p),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return a}function QT(t,e){const a={},r=f(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const l=f(t,["expireTime"]);e!==void 0&&l!=null&&g(e,["expireTime"],l);const u=f(t,["displayName"]);e!==void 0&&u!=null&&g(e,["displayName"],u);const c=f(t,["contents"]);if(e!==void 0&&c!=null){let b=mn(c);Array.isArray(b)&&(b=b.map(w=>w)),g(e,["contents"],b)}const m=f(t,["systemInstruction"]);e!==void 0&&m!=null&&g(e,["systemInstruction"],Ct(m));const y=f(t,["tools"]);if(e!==void 0&&y!=null){let b=y;Array.isArray(b)&&(b=b.map(w=>hC(w))),g(e,["tools"],b)}const p=f(t,["toolConfig"]);e!==void 0&&p!=null&&g(e,["toolConfig"],p);const x=f(t,["kmsKeyName"]);return e!==void 0&&x!=null&&g(e,["encryption_spec","kmsKeyName"],x),a}function $T(t,e){const a={},r=f(e,["model"]);r!=null&&g(a,["model"],Gy(t,r));const l=f(e,["config"]);return l!=null&&KT(l,a),a}function XT(t,e){const a={},r=f(e,["model"]);r!=null&&g(a,["model"],Gy(t,r));const l=f(e,["config"]);return l!=null&&QT(l,a),a}function ZT(t,e){const a={},r=f(e,["name"]);return r!=null&&g(a,["_url","name"],Kn(t,r)),a}function WT(t,e){const a={},r=f(e,["name"]);return r!=null&&g(a,["_url","name"],Kn(t,r)),a}function eC(t){const e={},a=f(t,["sdkHttpResponse"]);return a!=null&&g(e,["sdkHttpResponse"],a),e}function tC(t){const e={},a=f(t,["sdkHttpResponse"]);return a!=null&&g(e,["sdkHttpResponse"],a),e}function nC(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=f(t,["fileUri"]);a!=null&&g(e,["fileUri"],a);const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function iC(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=f(t,["description"]);a!=null&&g(e,["description"],a);const r=f(t,["name"]);r!=null&&g(e,["name"],r);const l=f(t,["parameters"]);l!=null&&g(e,["parameters"],l);const u=f(t,["parametersJsonSchema"]);u!=null&&g(e,["parametersJsonSchema"],u);const c=f(t,["response"]);c!=null&&g(e,["response"],c);const m=f(t,["responseJsonSchema"]);return m!=null&&g(e,["responseJsonSchema"],m),e}function aC(t,e){const a={},r=f(e,["name"]);return r!=null&&g(a,["_url","name"],Kn(t,r)),a}function rC(t,e){const a={},r=f(e,["name"]);return r!=null&&g(a,["_url","name"],Kn(t,r)),a}function oC(t){const e={},a=f(t,["timeRangeFilter"]);if(a!=null&&g(e,["timeRangeFilter"],a),f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function lC(t,e){const a={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const l=f(t,["pageToken"]);return e!==void 0&&l!=null&&g(e,["_query","pageToken"],l),a}function sC(t,e){const a={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const l=f(t,["pageToken"]);return e!==void 0&&l!=null&&g(e,["_query","pageToken"],l),a}function uC(t){const e={},a=f(t,["config"]);return a!=null&&lC(a,e),e}function cC(t){const e={},a=f(t,["config"]);return a!=null&&sC(a,e),e}function dC(t){const e={},a=f(t,["sdkHttpResponse"]);a!=null&&g(e,["sdkHttpResponse"],a);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const l=f(t,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>c)),g(e,["cachedContents"],u)}return e}function fC(t){const e={},a=f(t,["sdkHttpResponse"]);a!=null&&g(e,["sdkHttpResponse"],a);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const l=f(t,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>c)),g(e,["cachedContents"],u)}return e}function mC(t){const e={},a=f(t,["videoMetadata"]);a!=null&&g(e,["videoMetadata"],a);const r=f(t,["thought"]);r!=null&&g(e,["thought"],r);const l=f(t,["inlineData"]);l!=null&&g(e,["inlineData"],YT(l));const u=f(t,["fileData"]);u!=null&&g(e,["fileData"],nC(u));const c=f(t,["thoughtSignature"]);c!=null&&g(e,["thoughtSignature"],c);const m=f(t,["functionCall"]);m!=null&&g(e,["functionCall"],m);const y=f(t,["codeExecutionResult"]);y!=null&&g(e,["codeExecutionResult"],y);const p=f(t,["executableCode"]);p!=null&&g(e,["executableCode"],p);const x=f(t,["functionResponse"]);x!=null&&g(e,["functionResponse"],x);const b=f(t,["text"]);return b!=null&&g(e,["text"],b),e}function pC(t){const e={},a=f(t,["functionDeclarations"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(p=>p)),g(e,["functionDeclarations"],y)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearch"]);r!=null&&g(e,["googleSearch"],oC(r));const l=f(t,["googleSearchRetrieval"]);if(l!=null&&g(e,["googleSearchRetrieval"],l),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const u=f(t,["urlContext"]);u!=null&&g(e,["urlContext"],u);const c=f(t,["computerUse"]);c!=null&&g(e,["computerUse"],c);const m=f(t,["codeExecution"]);return m!=null&&g(e,["codeExecution"],m),e}function hC(t){const e={},a=f(t,["functionDeclarations"]);if(a!=null){let b=a;Array.isArray(b)&&(b=b.map(w=>iC(w))),g(e,["functionDeclarations"],b)}const r=f(t,["retrieval"]);r!=null&&g(e,["retrieval"],r);const l=f(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=f(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const m=f(t,["googleMaps"]);m!=null&&g(e,["googleMaps"],m);const y=f(t,["urlContext"]);y!=null&&g(e,["urlContext"],y);const p=f(t,["computerUse"]);p!=null&&g(e,["computerUse"],p);const x=f(t,["codeExecution"]);return x!=null&&g(e,["codeExecution"],x),e}function gC(t,e){const a={},r=f(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const l=f(t,["expireTime"]);return e!==void 0&&l!=null&&g(e,["expireTime"],l),a}function yC(t,e){const a={},r=f(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const l=f(t,["expireTime"]);return e!==void 0&&l!=null&&g(e,["expireTime"],l),a}function xC(t,e){const a={},r=f(e,["name"]);r!=null&&g(a,["_url","name"],Kn(t,r));const l=f(e,["config"]);return l!=null&&gC(l,a),a}function vC(t,e){const a={},r=f(e,["name"]);r!=null&&g(a,["_url","name"],Kn(t,r));const l=f(e,["config"]);return l!=null&&yC(l,a),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bC extends Ji{constructor(e){super(),this.apiClient=e,this.list=async(a={})=>new so(ji.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(a),a)}async create(e){var a,r,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=XT(this.apiClient,e);return m=ge("cachedContents",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>x)}else{const p=$T(this.apiClient,e);return m=ge("cachedContents",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),c.then(x=>x)}}async get(e){var a,r,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=rC(this.apiClient,e);return m=ge("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>x)}else{const p=aC(this.apiClient,e);return m=ge("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),c.then(x=>x)}}async delete(e){var a,r,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=WT(this.apiClient,e);return m=ge("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const b=tC(x),w=new T0;return Object.assign(w,b),w})}else{const p=ZT(this.apiClient,e);return m=ge("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const b=eC(x),w=new T0;return Object.assign(w,b),w})}}async update(e){var a,r,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=vC(this.apiClient,e);return m=ge("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>x)}else{const p=xC(this.apiClient,e);return m=ge("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),c.then(x=>x)}}async listInternal(e){var a,r,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=cC(e);return m=ge("cachedContents",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const b=fC(x),w=new C0;return Object.assign(w,b),w})}else{const p=uC(e);return m=ge("cachedContents",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const b=dC(x),w=new C0;return Object.assign(w,b),w})}}}function D0(t){var e=typeof Symbol=="function"&&Symbol.iterator,a=e&&t[e],r=0;if(a)return a.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function et(t){return this instanceof et?(this.v=t,this):new et(t)}function za(t,e,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=a.apply(t,e||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",c),l[Symbol.asyncIterator]=function(){return this},l;function c(E){return function(C){return Promise.resolve(C).then(E,b)}}function m(E,C){r[E]&&(l[E]=function(A){return new Promise(function(U,I){u.push([E,A,U,I])>1||y(E,A)})},C&&(l[E]=C(l[E])))}function y(E,C){try{p(r[E](C))}catch(A){w(u[0][3],A)}}function p(E){E.value instanceof et?Promise.resolve(E.value.v).then(x,b):w(u[0][2],E)}function x(E){y("next",E)}function b(E){y("throw",E)}function w(E,C){E(C),u.shift(),u.length&&y(u[0][0],u[0][1])}}function io(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],a;return e?e.call(t):(t=typeof D0=="function"?D0(t):t[Symbol.iterator](),a={},r("next"),r("throw"),r("return"),a[Symbol.asyncIterator]=function(){return this},a);function r(u){a[u]=t[u]&&function(c){return new Promise(function(m,y){c=t[u](c),l(m,y,c.done,c.value)})}}function l(u,c,m,y){Promise.resolve(y).then(function(p){u({value:p,done:m})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wC(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const a=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return a===void 0?!1:Wy(a)}function Wy(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function SC(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function L0(t){if(t===void 0||t.length===0)return[];const e=[],a=t.length;let r=0;for(;r<a;)if(t[r].role==="user")e.push(t[r]),r++;else{const l=[];let u=!0;for(;r<a&&t[r].role==="model";)l.push(t[r]),u&&!Wy(t[r])&&(u=!1),r++;u?e.push(...l):e.pop()}return e}class EC{constructor(e,a){this.modelsModule=e,this.apiClient=a}create(e){return new NC(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class NC{constructor(e,a,r,l={},u=[]){this.apiClient=e,this.modelsModule=a,this.model=r,this.config=l,this.history=u,this.sendPromise=Promise.resolve(),SC(u)}async sendMessage(e){var a;await this.sendPromise;const r=Ct(e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(a=e.config)!==null&&a!==void 0?a:this.config});return this.sendPromise=(async()=>{var u,c,m;const y=await l,p=(c=(u=y.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content,x=y.automaticFunctionCallingHistory,b=this.getHistory(!0).length;let w=[];x!=null&&(w=(m=x.slice(b))!==null&&m!==void 0?m:[]);const E=p?[p]:[];this.recordHistory(r,E,w)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var a;await this.sendPromise;const r=Ct(e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(a=e.config)!==null&&a!==void 0?a:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const u=await l;return this.processStreamResponse(u,r)}getHistory(e=!1){const a=e?L0(this.history):this.history;return structuredClone(a)}processStreamResponse(e,a){var r,l;return za(this,arguments,function*(){var c,m,y,p;const x=[];try{for(var b=!0,w=io(e),E;E=yield et(w.next()),c=E.done,!c;b=!0){p=E.value,b=!1;const C=p;if(wC(C)){const A=(l=(r=C.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content;A!==void 0&&x.push(A)}yield yield et(C)}}catch(C){m={error:C}}finally{try{!b&&!c&&(y=w.return)&&(yield et(y.call(w)))}finally{if(m)throw m.error}}this.recordHistory(a,x)})}recordHistory(e,a,r){let l=[];a.length>0&&a.every(u=>u.role!==void 0)?l=a:l.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...L0(r)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jl extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,jl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TC(t){const e={},a=f(t,["file"]);return a!=null&&g(e,["file"],a),e}function CC(t){const e={},a=f(t,["sdkHttpResponse"]);return a!=null&&g(e,["sdkHttpResponse"],a),e}function AC(t){const e={},a=f(t,["name"]);return a!=null&&g(e,["_url","file"],Jy(a)),e}function _C(t){const e={},a=f(t,["sdkHttpResponse"]);return a!=null&&g(e,["sdkHttpResponse"],a),e}function IC(t){const e={},a=f(t,["name"]);return a!=null&&g(e,["_url","file"],Jy(a)),e}function kC(t,e){const a={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const l=f(t,["pageToken"]);return e!==void 0&&l!=null&&g(e,["_query","pageToken"],l),a}function RC(t){const e={},a=f(t,["config"]);return a!=null&&kC(a,e),e}function MC(t){const e={},a=f(t,["sdkHttpResponse"]);a!=null&&g(e,["sdkHttpResponse"],a);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const l=f(t,["files"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>c)),g(e,["files"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DC extends Ji{constructor(e){super(),this.apiClient=e,this.list=async(a={})=>new so(ji.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(a),a)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(a=>a)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var a,r;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=RC(e);return u=ge("files",m._url),c=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:y.headers},x})),l.then(y=>{const p=MC(y),x=new YN;return Object.assign(x,p),x})}}async createInternal(e){var a,r;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=TC(e);return u=ge("upload/v1beta/files",m._url),c=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(y=>{const p=CC(y),x=new KN;return Object.assign(x,p),x})}}async get(e){var a,r;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=IC(e);return u=ge("files/{file}",m._url),c=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(e){var a,r;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=AC(e);return u=ge("files/{file}",m._url),c=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:y.headers},x})),l.then(y=>{const p=_C(y),x=new QN;return Object.assign(x,p),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dl(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=f(t,["data"]);a!=null&&g(e,["data"],a);const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function LC(t){const e={},a=f(t,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>KC(u))),g(e,["parts"],l)}const r=f(t,["role"]);return r!=null&&g(e,["role"],r),e}function qC(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=f(t,["fileUri"]);a!=null&&g(e,["fileUri"],a);const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function PC(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=f(t,["description"]);a!=null&&g(e,["description"],a);const r=f(t,["name"]);r!=null&&g(e,["name"],r);const l=f(t,["parameters"]);l!=null&&g(e,["parameters"],l);const u=f(t,["parametersJsonSchema"]);u!=null&&g(e,["parametersJsonSchema"],u);const c=f(t,["response"]);c!=null&&g(e,["response"],c);const m=f(t,["responseJsonSchema"]);return m!=null&&g(e,["responseJsonSchema"],m),e}function UC(t){const e={},a=f(t,["modelSelectionConfig"]);a!=null&&g(e,["modelConfig"],a);const r=f(t,["audioTimestamp"]);r!=null&&g(e,["audioTimestamp"],r);const l=f(t,["candidateCount"]);l!=null&&g(e,["candidateCount"],l);const u=f(t,["enableAffectiveDialog"]);u!=null&&g(e,["enableAffectiveDialog"],u);const c=f(t,["frequencyPenalty"]);c!=null&&g(e,["frequencyPenalty"],c);const m=f(t,["logprobs"]);m!=null&&g(e,["logprobs"],m);const y=f(t,["maxOutputTokens"]);y!=null&&g(e,["maxOutputTokens"],y);const p=f(t,["mediaResolution"]);p!=null&&g(e,["mediaResolution"],p);const x=f(t,["presencePenalty"]);x!=null&&g(e,["presencePenalty"],x);const b=f(t,["responseJsonSchema"]);b!=null&&g(e,["responseJsonSchema"],b);const w=f(t,["responseLogprobs"]);w!=null&&g(e,["responseLogprobs"],w);const E=f(t,["responseMimeType"]);E!=null&&g(e,["responseMimeType"],E);const C=f(t,["responseModalities"]);C!=null&&g(e,["responseModalities"],C);const A=f(t,["responseSchema"]);A!=null&&g(e,["responseSchema"],A);const U=f(t,["routingConfig"]);U!=null&&g(e,["routingConfig"],U);const I=f(t,["seed"]);I!=null&&g(e,["seed"],I);const B=f(t,["speechConfig"]);B!=null&&g(e,["speechConfig"],ex(B));const P=f(t,["stopSequences"]);P!=null&&g(e,["stopSequences"],P);const q=f(t,["temperature"]);q!=null&&g(e,["temperature"],q);const H=f(t,["thinkingConfig"]);H!=null&&g(e,["thinkingConfig"],H);const k=f(t,["topK"]);k!=null&&g(e,["topK"],k);const M=f(t,["topP"]);return M!=null&&g(e,["topP"],M),e}function BC(t){const e={},a=f(t,["timeRangeFilter"]);if(a!=null&&g(e,["timeRangeFilter"],a),f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function VC(t,e){const a={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const l=f(t,["responseModalities"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","responseModalities"],l);const u=f(t,["temperature"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","temperature"],u);const c=f(t,["topP"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topP"],c);const m=f(t,["topK"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","topK"],m);const y=f(t,["maxOutputTokens"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","maxOutputTokens"],y);const p=f(t,["mediaResolution"]);e!==void 0&&p!=null&&g(e,["setup","generationConfig","mediaResolution"],p);const x=f(t,["seed"]);e!==void 0&&x!=null&&g(e,["setup","generationConfig","seed"],x);const b=f(t,["speechConfig"]);e!==void 0&&b!=null&&g(e,["setup","generationConfig","speechConfig"],Sd(b));const w=f(t,["thinkingConfig"]);e!==void 0&&w!=null&&g(e,["setup","generationConfig","thinkingConfig"],w);const E=f(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],E);const C=f(t,["systemInstruction"]);e!==void 0&&C!=null&&g(e,["setup","systemInstruction"],LC(Ct(C)));const A=f(t,["tools"]);if(e!==void 0&&A!=null){let k=Qa(A);Array.isArray(k)&&(k=k.map(M=>$C(Ka(M)))),g(e,["setup","tools"],k)}const U=f(t,["sessionResumption"]);e!==void 0&&U!=null&&g(e,["setup","sessionResumption"],QC(U));const I=f(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","inputAudioTranscription"],I);const B=f(t,["outputAudioTranscription"]);e!==void 0&&B!=null&&g(e,["setup","outputAudioTranscription"],B);const P=f(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&g(e,["setup","realtimeInputConfig"],P);const q=f(t,["contextWindowCompression"]);e!==void 0&&q!=null&&g(e,["setup","contextWindowCompression"],q);const H=f(t,["proactivity"]);return e!==void 0&&H!=null&&g(e,["setup","proactivity"],H),a}function GC(t,e){const a={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],UC(r));const l=f(t,["responseModalities"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","responseModalities"],l);const u=f(t,["temperature"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","temperature"],u);const c=f(t,["topP"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topP"],c);const m=f(t,["topK"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","topK"],m);const y=f(t,["maxOutputTokens"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","maxOutputTokens"],y);const p=f(t,["mediaResolution"]);e!==void 0&&p!=null&&g(e,["setup","generationConfig","mediaResolution"],p);const x=f(t,["seed"]);e!==void 0&&x!=null&&g(e,["setup","generationConfig","seed"],x);const b=f(t,["speechConfig"]);e!==void 0&&b!=null&&g(e,["setup","generationConfig","speechConfig"],ex(Sd(b)));const w=f(t,["thinkingConfig"]);e!==void 0&&w!=null&&g(e,["setup","generationConfig","thinkingConfig"],w);const E=f(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],E);const C=f(t,["systemInstruction"]);e!==void 0&&C!=null&&g(e,["setup","systemInstruction"],Ct(C));const A=f(t,["tools"]);if(e!==void 0&&A!=null){let k=Qa(A);Array.isArray(k)&&(k=k.map(M=>XC(Ka(M)))),g(e,["setup","tools"],k)}const U=f(t,["sessionResumption"]);e!==void 0&&U!=null&&g(e,["setup","sessionResumption"],U);const I=f(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","inputAudioTranscription"],I);const B=f(t,["outputAudioTranscription"]);e!==void 0&&B!=null&&g(e,["setup","outputAudioTranscription"],B);const P=f(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&g(e,["setup","realtimeInputConfig"],P);const q=f(t,["contextWindowCompression"]);e!==void 0&&q!=null&&g(e,["setup","contextWindowCompression"],q);const H=f(t,["proactivity"]);return e!==void 0&&H!=null&&g(e,["setup","proactivity"],H),a}function OC(t,e){const a={},r=f(e,["model"]);r!=null&&g(a,["setup","model"],Ve(t,r));const l=f(e,["config"]);return l!=null&&g(a,["config"],VC(l,a)),a}function HC(t,e){const a={},r=f(e,["model"]);r!=null&&g(a,["setup","model"],Ve(t,r));const l=f(e,["config"]);return l!=null&&g(a,["config"],GC(l,a)),a}function zC(t){const e={},a=f(t,["musicGenerationConfig"]);return a!=null&&g(e,["musicGenerationConfig"],a),e}function jC(t){const e={},a=f(t,["weightedPrompts"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(l=>l)),g(e,["weightedPrompts"],r)}return e}function FC(t){const e={},a=f(t,["media"]);if(a!=null){let p=Oy(a);Array.isArray(p)&&(p=p.map(x=>Dl(x))),g(e,["mediaChunks"],p)}const r=f(t,["audio"]);r!=null&&g(e,["audio"],Dl(zy(r)));const l=f(t,["audioStreamEnd"]);l!=null&&g(e,["audioStreamEnd"],l);const u=f(t,["video"]);u!=null&&g(e,["video"],Dl(Hy(u)));const c=f(t,["text"]);c!=null&&g(e,["text"],c);const m=f(t,["activityStart"]);m!=null&&g(e,["activityStart"],m);const y=f(t,["activityEnd"]);return y!=null&&g(e,["activityEnd"],y),e}function JC(t){const e={},a=f(t,["media"]);if(a!=null){let p=Oy(a);Array.isArray(p)&&(p=p.map(x=>x)),g(e,["mediaChunks"],p)}const r=f(t,["audio"]);r!=null&&g(e,["audio"],zy(r));const l=f(t,["audioStreamEnd"]);l!=null&&g(e,["audioStreamEnd"],l);const u=f(t,["video"]);u!=null&&g(e,["video"],Hy(u));const c=f(t,["text"]);c!=null&&g(e,["text"],c);const m=f(t,["activityStart"]);m!=null&&g(e,["activityStart"],m);const y=f(t,["activityEnd"]);return y!=null&&g(e,["activityEnd"],y),e}function YC(t){const e={},a=f(t,["setupComplete"]);a!=null&&g(e,["setupComplete"],a);const r=f(t,["serverContent"]);r!=null&&g(e,["serverContent"],r);const l=f(t,["toolCall"]);l!=null&&g(e,["toolCall"],l);const u=f(t,["toolCallCancellation"]);u!=null&&g(e,["toolCallCancellation"],u);const c=f(t,["usageMetadata"]);c!=null&&g(e,["usageMetadata"],ZC(c));const m=f(t,["goAway"]);m!=null&&g(e,["goAway"],m);const y=f(t,["sessionResumptionUpdate"]);return y!=null&&g(e,["sessionResumptionUpdate"],y),e}function KC(t){const e={},a=f(t,["videoMetadata"]);a!=null&&g(e,["videoMetadata"],a);const r=f(t,["thought"]);r!=null&&g(e,["thought"],r);const l=f(t,["inlineData"]);l!=null&&g(e,["inlineData"],Dl(l));const u=f(t,["fileData"]);u!=null&&g(e,["fileData"],qC(u));const c=f(t,["thoughtSignature"]);c!=null&&g(e,["thoughtSignature"],c);const m=f(t,["functionCall"]);m!=null&&g(e,["functionCall"],m);const y=f(t,["codeExecutionResult"]);y!=null&&g(e,["codeExecutionResult"],y);const p=f(t,["executableCode"]);p!=null&&g(e,["executableCode"],p);const x=f(t,["functionResponse"]);x!=null&&g(e,["functionResponse"],x);const b=f(t,["text"]);return b!=null&&g(e,["text"],b),e}function QC(t){const e={},a=f(t,["handle"]);if(a!=null&&g(e,["handle"],a),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ex(t){const e={},a=f(t,["voiceConfig"]);if(a!=null&&g(e,["voiceConfig"],a),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=f(t,["languageCode"]);return r!=null&&g(e,["languageCode"],r),e}function $C(t){const e={},a=f(t,["functionDeclarations"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(p=>p)),g(e,["functionDeclarations"],y)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearch"]);r!=null&&g(e,["googleSearch"],BC(r));const l=f(t,["googleSearchRetrieval"]);if(l!=null&&g(e,["googleSearchRetrieval"],l),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const u=f(t,["urlContext"]);u!=null&&g(e,["urlContext"],u);const c=f(t,["computerUse"]);c!=null&&g(e,["computerUse"],c);const m=f(t,["codeExecution"]);return m!=null&&g(e,["codeExecution"],m),e}function XC(t){const e={},a=f(t,["functionDeclarations"]);if(a!=null){let b=a;Array.isArray(b)&&(b=b.map(w=>PC(w))),g(e,["functionDeclarations"],b)}const r=f(t,["retrieval"]);r!=null&&g(e,["retrieval"],r);const l=f(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=f(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const m=f(t,["googleMaps"]);m!=null&&g(e,["googleMaps"],m);const y=f(t,["urlContext"]);y!=null&&g(e,["urlContext"],y);const p=f(t,["computerUse"]);p!=null&&g(e,["computerUse"],p);const x=f(t,["codeExecution"]);return x!=null&&g(e,["codeExecution"],x),e}function ZC(t){const e={},a=f(t,["promptTokenCount"]);a!=null&&g(e,["promptTokenCount"],a);const r=f(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const l=f(t,["candidatesTokenCount"]);l!=null&&g(e,["responseTokenCount"],l);const u=f(t,["toolUsePromptTokenCount"]);u!=null&&g(e,["toolUsePromptTokenCount"],u);const c=f(t,["thoughtsTokenCount"]);c!=null&&g(e,["thoughtsTokenCount"],c);const m=f(t,["totalTokenCount"]);m!=null&&g(e,["totalTokenCount"],m);const y=f(t,["promptTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(C=>C)),g(e,["promptTokensDetails"],E)}const p=f(t,["cacheTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(C=>C)),g(e,["cacheTokensDetails"],E)}const x=f(t,["candidatesTokensDetails"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(C=>C)),g(e,["responseTokensDetails"],E)}const b=f(t,["toolUsePromptTokensDetails"]);if(b!=null){let E=b;Array.isArray(E)&&(E=E.map(C=>C)),g(e,["toolUsePromptTokensDetails"],E)}const w=f(t,["trafficType"]);return w!=null&&g(e,["trafficType"],w),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WC(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=f(t,["data"]);a!=null&&g(e,["data"],a);const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function eA(t){const e={},a=f(t,["content"]);a!=null&&g(e,["content"],a);const r=f(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],tA(r));const l=f(t,["tokenCount"]);l!=null&&g(e,["tokenCount"],l);const u=f(t,["finishReason"]);u!=null&&g(e,["finishReason"],u);const c=f(t,["urlContextMetadata"]);c!=null&&g(e,["urlContextMetadata"],c);const m=f(t,["avgLogprobs"]);m!=null&&g(e,["avgLogprobs"],m);const y=f(t,["groundingMetadata"]);y!=null&&g(e,["groundingMetadata"],y);const p=f(t,["index"]);p!=null&&g(e,["index"],p);const x=f(t,["logprobsResult"]);x!=null&&g(e,["logprobsResult"],x);const b=f(t,["safetyRatings"]);if(b!=null){let w=b;Array.isArray(w)&&(w=w.map(E=>E)),g(e,["safetyRatings"],w)}return e}function tA(t){const e={},a=f(t,["citationSources"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(l=>l)),g(e,["citations"],r)}return e}function nA(t,e){const a={},r=f(e,["model"]);r!=null&&g(a,["_url","model"],Ve(t,r));const l=f(e,["contents"]);if(l!=null){let u=mn(l);Array.isArray(u)&&(u=u.map(c=>c)),g(a,["contents"],u)}return a}function iA(t){const e={},a=f(t,["sdkHttpResponse"]);a!=null&&g(e,["sdkHttpResponse"],a);const r=f(t,["tokensInfo"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>u)),g(e,["tokensInfo"],l)}return e}function aA(t){const e={},a=f(t,["values"]);a!=null&&g(e,["values"],a);const r=f(t,["statistics"]);return r!=null&&g(e,["statistics"],rA(r)),e}function rA(t){const e={},a=f(t,["truncated"]);a!=null&&g(e,["truncated"],a);const r=f(t,["token_count"]);return r!=null&&g(e,["tokenCount"],r),e}function Fl(t){const e={},a=f(t,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>u_(u))),g(e,["parts"],l)}const r=f(t,["role"]);return r!=null&&g(e,["role"],r),e}function oA(t){const e={},a=f(t,["controlType"]);a!=null&&g(e,["controlType"],a);const r=f(t,["enableControlImageComputation"]);return r!=null&&g(e,["computeControl"],r),e}function lA(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function sA(t,e){const a={},r=f(t,["systemInstruction"]);e!==void 0&&r!=null&&g(e,["systemInstruction"],Ct(r));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>rx(m))),g(e,["tools"],c)}const u=f(t,["generationConfig"]);return e!==void 0&&u!=null&&g(e,["generationConfig"],XA(u)),a}function uA(t,e){const a={},r=f(e,["model"]);r!=null&&g(a,["_url","model"],Ve(t,r));const l=f(e,["contents"]);if(l!=null){let c=mn(l);Array.isArray(c)&&(c=c.map(m=>Fl(m))),g(a,["contents"],c)}const u=f(e,["config"]);return u!=null&&lA(u),a}function cA(t,e){const a={},r=f(e,["model"]);r!=null&&g(a,["_url","model"],Ve(t,r));const l=f(e,["contents"]);if(l!=null){let c=mn(l);Array.isArray(c)&&(c=c.map(m=>m)),g(a,["contents"],c)}const u=f(e,["config"]);return u!=null&&sA(u,a),a}function dA(t){const e={},a=f(t,["sdkHttpResponse"]);a!=null&&g(e,["sdkHttpResponse"],a);const r=f(t,["totalTokens"]);r!=null&&g(e,["totalTokens"],r);const l=f(t,["cachedContentTokenCount"]);return l!=null&&g(e,["cachedContentTokenCount"],l),e}function fA(t){const e={},a=f(t,["sdkHttpResponse"]);a!=null&&g(e,["sdkHttpResponse"],a);const r=f(t,["totalTokens"]);return r!=null&&g(e,["totalTokens"],r),e}function mA(t,e){const a={},r=f(e,["model"]);return r!=null&&g(a,["_url","name"],Ve(t,r)),a}function pA(t,e){const a={},r=f(e,["model"]);return r!=null&&g(a,["_url","name"],Ve(t,r)),a}function hA(t){const e={},a=f(t,["sdkHttpResponse"]);return a!=null&&g(e,["sdkHttpResponse"],a),e}function gA(t){const e={},a=f(t,["sdkHttpResponse"]);return a!=null&&g(e,["sdkHttpResponse"],a),e}function yA(t,e){const a={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const l=f(t,["negativePrompt"]);e!==void 0&&l!=null&&g(e,["parameters","negativePrompt"],l);const u=f(t,["numberOfImages"]);e!==void 0&&u!=null&&g(e,["parameters","sampleCount"],u);const c=f(t,["aspectRatio"]);e!==void 0&&c!=null&&g(e,["parameters","aspectRatio"],c);const m=f(t,["guidanceScale"]);e!==void 0&&m!=null&&g(e,["parameters","guidanceScale"],m);const y=f(t,["seed"]);e!==void 0&&y!=null&&g(e,["parameters","seed"],y);const p=f(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&g(e,["parameters","safetySetting"],p);const x=f(t,["personGeneration"]);e!==void 0&&x!=null&&g(e,["parameters","personGeneration"],x);const b=f(t,["includeSafetyAttributes"]);e!==void 0&&b!=null&&g(e,["parameters","includeSafetyAttributes"],b);const w=f(t,["includeRaiReason"]);e!==void 0&&w!=null&&g(e,["parameters","includeRaiReason"],w);const E=f(t,["language"]);e!==void 0&&E!=null&&g(e,["parameters","language"],E);const C=f(t,["outputMimeType"]);e!==void 0&&C!=null&&g(e,["parameters","outputOptions","mimeType"],C);const A=f(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&g(e,["parameters","outputOptions","compressionQuality"],A);const U=f(t,["addWatermark"]);e!==void 0&&U!=null&&g(e,["parameters","addWatermark"],U);const I=f(t,["labels"]);e!==void 0&&I!=null&&g(e,["labels"],I);const B=f(t,["editMode"]);e!==void 0&&B!=null&&g(e,["parameters","editMode"],B);const P=f(t,["baseSteps"]);return e!==void 0&&P!=null&&g(e,["parameters","editConfig","baseSteps"],P),a}function xA(t,e){const a={},r=f(e,["model"]);r!=null&&g(a,["_url","model"],Ve(t,r));const l=f(e,["prompt"]);l!=null&&g(a,["instances[0]","prompt"],l);const u=f(e,["referenceImages"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(y=>h_(y))),g(a,["instances[0]","referenceImages"],m)}const c=f(e,["config"]);return c!=null&&yA(c,a),a}function vA(t){const e={},a=f(t,["sdkHttpResponse"]);a!=null&&g(e,["sdkHttpResponse"],a);const r=f(t,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Jl(u))),g(e,["generatedImages"],l)}return e}function bA(t,e){const a={},r=f(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const l=f(t,["title"]);e!==void 0&&l!=null&&g(e,["requests[]","title"],l);const u=f(t,["outputDimensionality"]);if(e!==void 0&&u!=null&&g(e,["requests[]","outputDimensionality"],u),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function wA(t,e){const a={},r=f(t,["taskType"]);e!==void 0&&r!=null&&g(e,["instances[]","task_type"],r);const l=f(t,["title"]);e!==void 0&&l!=null&&g(e,["instances[]","title"],l);const u=f(t,["outputDimensionality"]);e!==void 0&&u!=null&&g(e,["parameters","outputDimensionality"],u);const c=f(t,["mimeType"]);e!==void 0&&c!=null&&g(e,["instances[]","mimeType"],c);const m=f(t,["autoTruncate"]);return e!==void 0&&m!=null&&g(e,["parameters","autoTruncate"],m),a}function SA(t,e){const a={},r=f(e,["model"]);r!=null&&g(a,["_url","model"],Ve(t,r));const l=f(e,["contents"]);if(l!=null){let m=vd(t,l);Array.isArray(m)&&(m=m.map(y=>y)),g(a,["requests[]","content"],m)}const u=f(e,["config"]);u!=null&&bA(u,a);const c=f(e,["model"]);return c!==void 0&&g(a,["requests[]","model"],Ve(t,c)),a}function EA(t,e){const a={},r=f(e,["model"]);r!=null&&g(a,["_url","model"],Ve(t,r));const l=f(e,["contents"]);if(l!=null){let c=vd(t,l);Array.isArray(c)&&(c=c.map(m=>m)),g(a,["instances[]","content"],c)}const u=f(e,["config"]);return u!=null&&wA(u,a),a}function NA(t){const e={},a=f(t,["sdkHttpResponse"]);a!=null&&g(e,["sdkHttpResponse"],a);const r=f(t,["embeddings"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),g(e,["embeddings"],u)}const l=f(t,["metadata"]);return l!=null&&g(e,["metadata"],l),e}function TA(t){const e={},a=f(t,["sdkHttpResponse"]);a!=null&&g(e,["sdkHttpResponse"],a);const r=f(t,["predictions[]","embeddings"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>aA(c))),g(e,["embeddings"],u)}const l=f(t,["metadata"]);return l!=null&&g(e,["metadata"],l),e}function CA(t){const e={},a=f(t,["endpoint"]);a!=null&&g(e,["name"],a);const r=f(t,["deployedModelId"]);return r!=null&&g(e,["deployedModelId"],r),e}function AA(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=f(t,["fileUri"]);a!=null&&g(e,["fileUri"],a);const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function _A(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=f(t,["description"]);a!=null&&g(e,["description"],a);const r=f(t,["name"]);r!=null&&g(e,["name"],r);const l=f(t,["parameters"]);l!=null&&g(e,["parameters"],l);const u=f(t,["parametersJsonSchema"]);u!=null&&g(e,["parametersJsonSchema"],u);const c=f(t,["response"]);c!=null&&g(e,["response"],c);const m=f(t,["responseJsonSchema"]);return m!=null&&g(e,["responseJsonSchema"],m),e}function IA(t,e,a){const r={},l=f(e,["systemInstruction"]);a!==void 0&&l!=null&&g(a,["systemInstruction"],Fl(Ct(l)));const u=f(e,["temperature"]);u!=null&&g(r,["temperature"],u);const c=f(e,["topP"]);c!=null&&g(r,["topP"],c);const m=f(e,["topK"]);m!=null&&g(r,["topK"],m);const y=f(e,["candidateCount"]);y!=null&&g(r,["candidateCount"],y);const p=f(e,["maxOutputTokens"]);p!=null&&g(r,["maxOutputTokens"],p);const x=f(e,["stopSequences"]);x!=null&&g(r,["stopSequences"],x);const b=f(e,["responseLogprobs"]);b!=null&&g(r,["responseLogprobs"],b);const w=f(e,["logprobs"]);w!=null&&g(r,["logprobs"],w);const E=f(e,["presencePenalty"]);E!=null&&g(r,["presencePenalty"],E);const C=f(e,["frequencyPenalty"]);C!=null&&g(r,["frequencyPenalty"],C);const A=f(e,["seed"]);A!=null&&g(r,["seed"],A);const U=f(e,["responseMimeType"]);U!=null&&g(r,["responseMimeType"],U);const I=f(e,["responseSchema"]);I!=null&&g(r,["responseSchema"],bd(I));const B=f(e,["responseJsonSchema"]);if(B!=null&&g(r,["responseJsonSchema"],B),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=f(e,["safetySettings"]);if(a!==void 0&&P!=null){let $=P;Array.isArray($)&&($=$.map(K=>g_(K))),g(a,["safetySettings"],$)}const q=f(e,["tools"]);if(a!==void 0&&q!=null){let $=Qa(q);Array.isArray($)&&($=$.map(K=>S_(Ka(K)))),g(a,["tools"],$)}const H=f(e,["toolConfig"]);if(a!==void 0&&H!=null&&g(a,["toolConfig"],H),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=f(e,["cachedContent"]);a!==void 0&&k!=null&&g(a,["cachedContent"],Kn(t,k));const M=f(e,["responseModalities"]);M!=null&&g(r,["responseModalities"],M);const ae=f(e,["mediaResolution"]);ae!=null&&g(r,["mediaResolution"],ae);const J=f(e,["speechConfig"]);if(J!=null&&g(r,["speechConfig"],wd(J)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ne=f(e,["thinkingConfig"]);ne!=null&&g(r,["thinkingConfig"],ne);const le=f(e,["imageConfig"]);return le!=null&&g(r,["imageConfig"],le),r}function kA(t,e,a){const r={},l=f(e,["systemInstruction"]);a!==void 0&&l!=null&&g(a,["systemInstruction"],Ct(l));const u=f(e,["temperature"]);u!=null&&g(r,["temperature"],u);const c=f(e,["topP"]);c!=null&&g(r,["topP"],c);const m=f(e,["topK"]);m!=null&&g(r,["topK"],m);const y=f(e,["candidateCount"]);y!=null&&g(r,["candidateCount"],y);const p=f(e,["maxOutputTokens"]);p!=null&&g(r,["maxOutputTokens"],p);const x=f(e,["stopSequences"]);x!=null&&g(r,["stopSequences"],x);const b=f(e,["responseLogprobs"]);b!=null&&g(r,["responseLogprobs"],b);const w=f(e,["logprobs"]);w!=null&&g(r,["logprobs"],w);const E=f(e,["presencePenalty"]);E!=null&&g(r,["presencePenalty"],E);const C=f(e,["frequencyPenalty"]);C!=null&&g(r,["frequencyPenalty"],C);const A=f(e,["seed"]);A!=null&&g(r,["seed"],A);const U=f(e,["responseMimeType"]);U!=null&&g(r,["responseMimeType"],U);const I=f(e,["responseSchema"]);I!=null&&g(r,["responseSchema"],bd(I));const B=f(e,["responseJsonSchema"]);B!=null&&g(r,["responseJsonSchema"],B);const P=f(e,["routingConfig"]);P!=null&&g(r,["routingConfig"],P);const q=f(e,["modelSelectionConfig"]);q!=null&&g(r,["modelConfig"],q);const H=f(e,["safetySettings"]);if(a!==void 0&&H!=null){let V=H;Array.isArray(V)&&(V=V.map(re=>re)),g(a,["safetySettings"],V)}const k=f(e,["tools"]);if(a!==void 0&&k!=null){let V=Qa(k);Array.isArray(V)&&(V=V.map(re=>rx(Ka(re)))),g(a,["tools"],V)}const M=f(e,["toolConfig"]);a!==void 0&&M!=null&&g(a,["toolConfig"],M);const ae=f(e,["labels"]);a!==void 0&&ae!=null&&g(a,["labels"],ae);const J=f(e,["cachedContent"]);a!==void 0&&J!=null&&g(a,["cachedContent"],Kn(t,J));const ne=f(e,["responseModalities"]);ne!=null&&g(r,["responseModalities"],ne);const le=f(e,["mediaResolution"]);le!=null&&g(r,["mediaResolution"],le);const $=f(e,["speechConfig"]);$!=null&&g(r,["speechConfig"],ax(wd($)));const K=f(e,["audioTimestamp"]);K!=null&&g(r,["audioTimestamp"],K);const X=f(e,["thinkingConfig"]);X!=null&&g(r,["thinkingConfig"],X);const ue=f(e,["imageConfig"]);return ue!=null&&g(r,["imageConfig"],ue),r}function q0(t,e){const a={},r=f(e,["model"]);r!=null&&g(a,["_url","model"],Ve(t,r));const l=f(e,["contents"]);if(l!=null){let c=mn(l);Array.isArray(c)&&(c=c.map(m=>Fl(m))),g(a,["contents"],c)}const u=f(e,["config"]);return u!=null&&g(a,["generationConfig"],IA(t,u,a)),a}function P0(t,e){const a={},r=f(e,["model"]);r!=null&&g(a,["_url","model"],Ve(t,r));const l=f(e,["contents"]);if(l!=null){let c=mn(l);Array.isArray(c)&&(c=c.map(m=>m)),g(a,["contents"],c)}const u=f(e,["config"]);return u!=null&&g(a,["generationConfig"],kA(t,u,a)),a}function U0(t){const e={},a=f(t,["sdkHttpResponse"]);a!=null&&g(e,["sdkHttpResponse"],a);const r=f(t,["candidates"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(p=>eA(p))),g(e,["candidates"],y)}const l=f(t,["modelVersion"]);l!=null&&g(e,["modelVersion"],l);const u=f(t,["promptFeedback"]);u!=null&&g(e,["promptFeedback"],u);const c=f(t,["responseId"]);c!=null&&g(e,["responseId"],c);const m=f(t,["usageMetadata"]);return m!=null&&g(e,["usageMetadata"],m),e}function B0(t){const e={},a=f(t,["sdkHttpResponse"]);a!=null&&g(e,["sdkHttpResponse"],a);const r=f(t,["candidates"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(x=>x)),g(e,["candidates"],p)}const l=f(t,["createTime"]);l!=null&&g(e,["createTime"],l);const u=f(t,["modelVersion"]);u!=null&&g(e,["modelVersion"],u);const c=f(t,["promptFeedback"]);c!=null&&g(e,["promptFeedback"],c);const m=f(t,["responseId"]);m!=null&&g(e,["responseId"],m);const y=f(t,["usageMetadata"]);return y!=null&&g(e,["usageMetadata"],y),e}function RA(t,e){const a={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const l=f(t,["aspectRatio"]);e!==void 0&&l!=null&&g(e,["parameters","aspectRatio"],l);const u=f(t,["guidanceScale"]);if(e!==void 0&&u!=null&&g(e,["parameters","guidanceScale"],u),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=f(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&g(e,["parameters","safetySetting"],c);const m=f(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const y=f(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&g(e,["parameters","includeSafetyAttributes"],y);const p=f(t,["includeRaiReason"]);e!==void 0&&p!=null&&g(e,["parameters","includeRaiReason"],p);const x=f(t,["language"]);e!==void 0&&x!=null&&g(e,["parameters","language"],x);const b=f(t,["outputMimeType"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","mimeType"],b);const w=f(t,["outputCompressionQuality"]);if(e!==void 0&&w!=null&&g(e,["parameters","outputOptions","compressionQuality"],w),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=f(t,["imageSize"]);if(e!==void 0&&E!=null&&g(e,["parameters","sampleImageSize"],E),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function MA(t,e){const a={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const l=f(t,["negativePrompt"]);e!==void 0&&l!=null&&g(e,["parameters","negativePrompt"],l);const u=f(t,["numberOfImages"]);e!==void 0&&u!=null&&g(e,["parameters","sampleCount"],u);const c=f(t,["aspectRatio"]);e!==void 0&&c!=null&&g(e,["parameters","aspectRatio"],c);const m=f(t,["guidanceScale"]);e!==void 0&&m!=null&&g(e,["parameters","guidanceScale"],m);const y=f(t,["seed"]);e!==void 0&&y!=null&&g(e,["parameters","seed"],y);const p=f(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&g(e,["parameters","safetySetting"],p);const x=f(t,["personGeneration"]);e!==void 0&&x!=null&&g(e,["parameters","personGeneration"],x);const b=f(t,["includeSafetyAttributes"]);e!==void 0&&b!=null&&g(e,["parameters","includeSafetyAttributes"],b);const w=f(t,["includeRaiReason"]);e!==void 0&&w!=null&&g(e,["parameters","includeRaiReason"],w);const E=f(t,["language"]);e!==void 0&&E!=null&&g(e,["parameters","language"],E);const C=f(t,["outputMimeType"]);e!==void 0&&C!=null&&g(e,["parameters","outputOptions","mimeType"],C);const A=f(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&g(e,["parameters","outputOptions","compressionQuality"],A);const U=f(t,["addWatermark"]);e!==void 0&&U!=null&&g(e,["parameters","addWatermark"],U);const I=f(t,["labels"]);e!==void 0&&I!=null&&g(e,["labels"],I);const B=f(t,["imageSize"]);e!==void 0&&B!=null&&g(e,["parameters","sampleImageSize"],B);const P=f(t,["enhancePrompt"]);return e!==void 0&&P!=null&&g(e,["parameters","enhancePrompt"],P),a}function DA(t,e){const a={},r=f(e,["model"]);r!=null&&g(a,["_url","model"],Ve(t,r));const l=f(e,["prompt"]);l!=null&&g(a,["instances[0]","prompt"],l);const u=f(e,["config"]);return u!=null&&RA(u,a),a}function LA(t,e){const a={},r=f(e,["model"]);r!=null&&g(a,["_url","model"],Ve(t,r));const l=f(e,["prompt"]);l!=null&&g(a,["instances[0]","prompt"],l);const u=f(e,["config"]);return u!=null&&MA(u,a),a}function qA(t){const e={},a=f(t,["sdkHttpResponse"]);a!=null&&g(e,["sdkHttpResponse"],a);const r=f(t,["predictions"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>YA(c))),g(e,["generatedImages"],u)}const l=f(t,["positivePromptSafetyAttributes"]);return l!=null&&g(e,["positivePromptSafetyAttributes"],nx(l)),e}function PA(t){const e={},a=f(t,["sdkHttpResponse"]);a!=null&&g(e,["sdkHttpResponse"],a);const r=f(t,["predictions"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>Jl(c))),g(e,["generatedImages"],u)}const l=f(t,["positivePromptSafetyAttributes"]);return l!=null&&g(e,["positivePromptSafetyAttributes"],ix(l)),e}function UA(t,e){const a={},r=f(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=f(t,["durationSeconds"]);if(e!==void 0&&l!=null&&g(e,["parameters","durationSeconds"],l),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=f(t,["aspectRatio"]);e!==void 0&&u!=null&&g(e,["parameters","aspectRatio"],u);const c=f(t,["resolution"]);e!==void 0&&c!=null&&g(e,["parameters","resolution"],c);const m=f(t,["personGeneration"]);if(e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=f(t,["negativePrompt"]);e!==void 0&&y!=null&&g(e,["parameters","negativePrompt"],y);const p=f(t,["enhancePrompt"]);if(e!==void 0&&p!=null&&g(e,["parameters","enhancePrompt"],p),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const x=f(t,["lastFrame"]);e!==void 0&&x!=null&&g(e,["instances[0]","lastFrame"],Yl(x));const b=f(t,["referenceImages"]);if(e!==void 0&&b!=null){let w=b;Array.isArray(w)&&(w=w.map(E=>q_(E))),g(e,["instances[0]","referenceImages"],w)}if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return a}function BA(t,e){const a={},r=f(t,["numberOfVideos"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const l=f(t,["outputGcsUri"]);e!==void 0&&l!=null&&g(e,["parameters","storageUri"],l);const u=f(t,["fps"]);e!==void 0&&u!=null&&g(e,["parameters","fps"],u);const c=f(t,["durationSeconds"]);e!==void 0&&c!=null&&g(e,["parameters","durationSeconds"],c);const m=f(t,["seed"]);e!==void 0&&m!=null&&g(e,["parameters","seed"],m);const y=f(t,["aspectRatio"]);e!==void 0&&y!=null&&g(e,["parameters","aspectRatio"],y);const p=f(t,["resolution"]);e!==void 0&&p!=null&&g(e,["parameters","resolution"],p);const x=f(t,["personGeneration"]);e!==void 0&&x!=null&&g(e,["parameters","personGeneration"],x);const b=f(t,["pubsubTopic"]);e!==void 0&&b!=null&&g(e,["parameters","pubsubTopic"],b);const w=f(t,["negativePrompt"]);e!==void 0&&w!=null&&g(e,["parameters","negativePrompt"],w);const E=f(t,["enhancePrompt"]);e!==void 0&&E!=null&&g(e,["parameters","enhancePrompt"],E);const C=f(t,["generateAudio"]);e!==void 0&&C!=null&&g(e,["parameters","generateAudio"],C);const A=f(t,["lastFrame"]);e!==void 0&&A!=null&&g(e,["instances[0]","lastFrame"],bn(A));const U=f(t,["referenceImages"]);if(e!==void 0&&U!=null){let P=U;Array.isArray(P)&&(P=P.map(q=>P_(q))),g(e,["instances[0]","referenceImages"],P)}const I=f(t,["mask"]);e!==void 0&&I!=null&&g(e,["instances[0]","mask"],L_(I));const B=f(t,["compressionQuality"]);return e!==void 0&&B!=null&&g(e,["parameters","compressionQuality"],B),a}function VA(t){const e={},a=f(t,["name"]);a!=null&&g(e,["name"],a);const r=f(t,["metadata"]);r!=null&&g(e,["metadata"],r);const l=f(t,["done"]);l!=null&&g(e,["done"],l);const u=f(t,["error"]);u!=null&&g(e,["error"],u);const c=f(t,["response","generateVideoResponse"]);return c!=null&&g(e,["response"],zA(c)),e}function GA(t){const e={},a=f(t,["name"]);a!=null&&g(e,["name"],a);const r=f(t,["metadata"]);r!=null&&g(e,["metadata"],r);const l=f(t,["done"]);l!=null&&g(e,["done"],l);const u=f(t,["error"]);u!=null&&g(e,["error"],u);const c=f(t,["response"]);return c!=null&&g(e,["response"],jA(c)),e}function OA(t,e){const a={},r=f(e,["model"]);r!=null&&g(a,["_url","model"],Ve(t,r));const l=f(e,["prompt"]);l!=null&&g(a,["instances[0]","prompt"],l);const u=f(e,["image"]);u!=null&&g(a,["instances[0]","image"],Yl(u));const c=f(e,["video"]);c!=null&&g(a,["instances[0]","video"],ox(c));const m=f(e,["source"]);m!=null&&FA(m,a);const y=f(e,["config"]);return y!=null&&UA(y,a),a}function HA(t,e){const a={},r=f(e,["model"]);r!=null&&g(a,["_url","model"],Ve(t,r));const l=f(e,["prompt"]);l!=null&&g(a,["instances[0]","prompt"],l);const u=f(e,["image"]);u!=null&&g(a,["instances[0]","image"],bn(u));const c=f(e,["video"]);c!=null&&g(a,["instances[0]","video"],lx(c));const m=f(e,["source"]);m!=null&&JA(m,a);const y=f(e,["config"]);return y!=null&&BA(y,a),a}function zA(t){const e={},a=f(t,["generatedSamples"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>QA(c))),g(e,["generatedVideos"],u)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const l=f(t,["raiMediaFilteredReasons"]);return l!=null&&g(e,["raiMediaFilteredReasons"],l),e}function jA(t){const e={},a=f(t,["videos"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>$A(c))),g(e,["generatedVideos"],u)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const l=f(t,["raiMediaFilteredReasons"]);return l!=null&&g(e,["raiMediaFilteredReasons"],l),e}function FA(t,e){const a={},r=f(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const l=f(t,["image"]);e!==void 0&&l!=null&&g(e,["instances[0]","image"],Yl(l));const u=f(t,["video"]);return e!==void 0&&u!=null&&g(e,["instances[0]","video"],ox(u)),a}function JA(t,e){const a={},r=f(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const l=f(t,["image"]);e!==void 0&&l!=null&&g(e,["instances[0]","image"],bn(l));const u=f(t,["video"]);return e!==void 0&&u!=null&&g(e,["instances[0]","video"],lx(u)),a}function YA(t){const e={},a=f(t,["_self"]);a!=null&&g(e,["image"],t_(a));const r=f(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const l=f(t,["_self"]);return l!=null&&g(e,["safetyAttributes"],nx(l)),e}function Jl(t){const e={},a=f(t,["_self"]);a!=null&&g(e,["image"],tx(a));const r=f(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const l=f(t,["_self"]);l!=null&&g(e,["safetyAttributes"],ix(l));const u=f(t,["prompt"]);return u!=null&&g(e,["enhancedPrompt"],u),e}function KA(t){const e={},a=f(t,["_self"]);a!=null&&g(e,["mask"],tx(a));const r=f(t,["labels"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>u)),g(e,["labels"],l)}return e}function QA(t){const e={},a=f(t,["_self"]);return a!=null&&g(e,["video"],M_(a)),e}function $A(t){const e={},a=f(t,["_self"]);return a!=null&&g(e,["video"],D_(a)),e}function XA(t){const e={},a=f(t,["modelSelectionConfig"]);a!=null&&g(e,["modelConfig"],a);const r=f(t,["audioTimestamp"]);r!=null&&g(e,["audioTimestamp"],r);const l=f(t,["candidateCount"]);l!=null&&g(e,["candidateCount"],l);const u=f(t,["enableAffectiveDialog"]);u!=null&&g(e,["enableAffectiveDialog"],u);const c=f(t,["frequencyPenalty"]);c!=null&&g(e,["frequencyPenalty"],c);const m=f(t,["logprobs"]);m!=null&&g(e,["logprobs"],m);const y=f(t,["maxOutputTokens"]);y!=null&&g(e,["maxOutputTokens"],y);const p=f(t,["mediaResolution"]);p!=null&&g(e,["mediaResolution"],p);const x=f(t,["presencePenalty"]);x!=null&&g(e,["presencePenalty"],x);const b=f(t,["responseJsonSchema"]);b!=null&&g(e,["responseJsonSchema"],b);const w=f(t,["responseLogprobs"]);w!=null&&g(e,["responseLogprobs"],w);const E=f(t,["responseMimeType"]);E!=null&&g(e,["responseMimeType"],E);const C=f(t,["responseModalities"]);C!=null&&g(e,["responseModalities"],C);const A=f(t,["responseSchema"]);A!=null&&g(e,["responseSchema"],A);const U=f(t,["routingConfig"]);U!=null&&g(e,["routingConfig"],U);const I=f(t,["seed"]);I!=null&&g(e,["seed"],I);const B=f(t,["speechConfig"]);B!=null&&g(e,["speechConfig"],ax(B));const P=f(t,["stopSequences"]);P!=null&&g(e,["stopSequences"],P);const q=f(t,["temperature"]);q!=null&&g(e,["temperature"],q);const H=f(t,["thinkingConfig"]);H!=null&&g(e,["thinkingConfig"],H);const k=f(t,["topK"]);k!=null&&g(e,["topK"],k);const M=f(t,["topP"]);return M!=null&&g(e,["topP"],M),e}function ZA(t,e){const a={},r=f(e,["model"]);return r!=null&&g(a,["_url","name"],Ve(t,r)),a}function WA(t,e){const a={},r=f(e,["model"]);return r!=null&&g(a,["_url","name"],Ve(t,r)),a}function e_(t){const e={},a=f(t,["timeRangeFilter"]);if(a!=null&&g(e,["timeRangeFilter"],a),f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function t_(t){const e={},a=f(t,["bytesBase64Encoded"]);a!=null&&g(e,["imageBytes"],Ei(a));const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function tx(t){const e={},a=f(t,["gcsUri"]);a!=null&&g(e,["gcsUri"],a);const r=f(t,["bytesBase64Encoded"]);r!=null&&g(e,["imageBytes"],Ei(r));const l=f(t,["mimeType"]);return l!=null&&g(e,["mimeType"],l),e}function Yl(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=f(t,["imageBytes"]);a!=null&&g(e,["bytesBase64Encoded"],Ei(a));const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function bn(t){const e={},a=f(t,["gcsUri"]);a!=null&&g(e,["gcsUri"],a);const r=f(t,["imageBytes"]);r!=null&&g(e,["bytesBase64Encoded"],Ei(r));const l=f(t,["mimeType"]);return l!=null&&g(e,["mimeType"],l),e}function n_(t,e,a){const r={},l=f(e,["pageSize"]);a!==void 0&&l!=null&&g(a,["_query","pageSize"],l);const u=f(e,["pageToken"]);a!==void 0&&u!=null&&g(a,["_query","pageToken"],u);const c=f(e,["filter"]);a!==void 0&&c!=null&&g(a,["_query","filter"],c);const m=f(e,["queryBase"]);return a!==void 0&&m!=null&&g(a,["_url","models_url"],Yy(t,m)),r}function i_(t,e,a){const r={},l=f(e,["pageSize"]);a!==void 0&&l!=null&&g(a,["_query","pageSize"],l);const u=f(e,["pageToken"]);a!==void 0&&u!=null&&g(a,["_query","pageToken"],u);const c=f(e,["filter"]);a!==void 0&&c!=null&&g(a,["_query","filter"],c);const m=f(e,["queryBase"]);return a!==void 0&&m!=null&&g(a,["_url","models_url"],Yy(t,m)),r}function a_(t,e){const a={},r=f(e,["config"]);return r!=null&&n_(t,r,a),a}function r_(t,e){const a={},r=f(e,["config"]);return r!=null&&i_(t,r,a),a}function o_(t){const e={},a=f(t,["sdkHttpResponse"]);a!=null&&g(e,["sdkHttpResponse"],a);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const l=f(t,["_self"]);if(l!=null){let u=Ky(l);Array.isArray(u)&&(u=u.map(c=>Qc(c))),g(e,["models"],u)}return e}function l_(t){const e={},a=f(t,["sdkHttpResponse"]);a!=null&&g(e,["sdkHttpResponse"],a);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const l=f(t,["_self"]);if(l!=null){let u=Ky(l);Array.isArray(u)&&(u=u.map(c=>$c(c))),g(e,["models"],u)}return e}function s_(t){const e={},a=f(t,["maskMode"]);a!=null&&g(e,["maskMode"],a);const r=f(t,["segmentationClasses"]);r!=null&&g(e,["maskClasses"],r);const l=f(t,["maskDilation"]);return l!=null&&g(e,["dilation"],l),e}function Qc(t){const e={},a=f(t,["name"]);a!=null&&g(e,["name"],a);const r=f(t,["displayName"]);r!=null&&g(e,["displayName"],r);const l=f(t,["description"]);l!=null&&g(e,["description"],l);const u=f(t,["version"]);u!=null&&g(e,["version"],u);const c=f(t,["_self"]);c!=null&&g(e,["tunedModelInfo"],E_(c));const m=f(t,["inputTokenLimit"]);m!=null&&g(e,["inputTokenLimit"],m);const y=f(t,["outputTokenLimit"]);y!=null&&g(e,["outputTokenLimit"],y);const p=f(t,["supportedGenerationMethods"]);return p!=null&&g(e,["supportedActions"],p),e}function $c(t){const e={},a=f(t,["name"]);a!=null&&g(e,["name"],a);const r=f(t,["displayName"]);r!=null&&g(e,["displayName"],r);const l=f(t,["description"]);l!=null&&g(e,["description"],l);const u=f(t,["versionId"]);u!=null&&g(e,["version"],u);const c=f(t,["deployedModels"]);if(c!=null){let b=c;Array.isArray(b)&&(b=b.map(w=>CA(w))),g(e,["endpoints"],b)}const m=f(t,["labels"]);m!=null&&g(e,["labels"],m);const y=f(t,["_self"]);y!=null&&g(e,["tunedModelInfo"],N_(y));const p=f(t,["defaultCheckpointId"]);p!=null&&g(e,["defaultCheckpointId"],p);const x=f(t,["checkpoints"]);if(x!=null){let b=x;Array.isArray(b)&&(b=b.map(w=>w)),g(e,["checkpoints"],b)}return e}function u_(t){const e={},a=f(t,["videoMetadata"]);a!=null&&g(e,["videoMetadata"],a);const r=f(t,["thought"]);r!=null&&g(e,["thought"],r);const l=f(t,["inlineData"]);l!=null&&g(e,["inlineData"],WC(l));const u=f(t,["fileData"]);u!=null&&g(e,["fileData"],AA(u));const c=f(t,["thoughtSignature"]);c!=null&&g(e,["thoughtSignature"],c);const m=f(t,["functionCall"]);m!=null&&g(e,["functionCall"],m);const y=f(t,["codeExecutionResult"]);y!=null&&g(e,["codeExecutionResult"],y);const p=f(t,["executableCode"]);p!=null&&g(e,["executableCode"],p);const x=f(t,["functionResponse"]);x!=null&&g(e,["functionResponse"],x);const b=f(t,["text"]);return b!=null&&g(e,["text"],b),e}function c_(t){const e={},a=f(t,["productImage"]);return a!=null&&g(e,["image"],bn(a)),e}function d_(t,e){const a={},r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const l=f(t,["baseSteps"]);e!==void 0&&l!=null&&g(e,["parameters","editConfig","baseSteps"],l);const u=f(t,["outputGcsUri"]);e!==void 0&&u!=null&&g(e,["parameters","storageUri"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const m=f(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&g(e,["parameters","safetySetting"],m);const y=f(t,["personGeneration"]);e!==void 0&&y!=null&&g(e,["parameters","personGeneration"],y);const p=f(t,["addWatermark"]);e!==void 0&&p!=null&&g(e,["parameters","addWatermark"],p);const x=f(t,["outputMimeType"]);e!==void 0&&x!=null&&g(e,["parameters","outputOptions","mimeType"],x);const b=f(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","compressionQuality"],b);const w=f(t,["enhancePrompt"]);e!==void 0&&w!=null&&g(e,["parameters","enhancePrompt"],w);const E=f(t,["labels"]);return e!==void 0&&E!=null&&g(e,["labels"],E),a}function f_(t,e){const a={},r=f(e,["model"]);r!=null&&g(a,["_url","model"],Ve(t,r));const l=f(e,["source"]);l!=null&&p_(l,a);const u=f(e,["config"]);return u!=null&&d_(u,a),a}function m_(t){const e={},a=f(t,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(l=>Jl(l))),g(e,["generatedImages"],r)}return e}function p_(t,e){const a={},r=f(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const l=f(t,["personImage"]);e!==void 0&&l!=null&&g(e,["instances[0]","personImage","image"],bn(l));const u=f(t,["productImages"]);if(e!==void 0&&u!=null){let c=u;Array.isArray(c)&&(c=c.map(m=>c_(m))),g(e,["instances[0]","productImages"],c)}return a}function h_(t){const e={},a=f(t,["referenceImage"]);a!=null&&g(e,["referenceImage"],bn(a));const r=f(t,["referenceId"]);r!=null&&g(e,["referenceId"],r);const l=f(t,["referenceType"]);l!=null&&g(e,["referenceType"],l);const u=f(t,["maskImageConfig"]);u!=null&&g(e,["maskImageConfig"],s_(u));const c=f(t,["controlImageConfig"]);c!=null&&g(e,["controlImageConfig"],oA(c));const m=f(t,["styleImageConfig"]);m!=null&&g(e,["styleImageConfig"],m);const y=f(t,["subjectImageConfig"]);return y!=null&&g(e,["subjectImageConfig"],y),e}function nx(t){const e={},a=f(t,["safetyAttributes","categories"]);a!=null&&g(e,["categories"],a);const r=f(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const l=f(t,["contentType"]);return l!=null&&g(e,["contentType"],l),e}function ix(t){const e={},a=f(t,["safetyAttributes","categories"]);a!=null&&g(e,["categories"],a);const r=f(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const l=f(t,["contentType"]);return l!=null&&g(e,["contentType"],l),e}function g_(t){const e={};if(f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=f(t,["category"]);a!=null&&g(e,["category"],a);const r=f(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function y_(t){const e={},a=f(t,["image"]);return a!=null&&g(e,["image"],bn(a)),e}function x_(t,e){const a={},r=f(t,["mode"]);e!==void 0&&r!=null&&g(e,["parameters","mode"],r);const l=f(t,["maxPredictions"]);e!==void 0&&l!=null&&g(e,["parameters","maxPredictions"],l);const u=f(t,["confidenceThreshold"]);e!==void 0&&u!=null&&g(e,["parameters","confidenceThreshold"],u);const c=f(t,["maskDilation"]);e!==void 0&&c!=null&&g(e,["parameters","maskDilation"],c);const m=f(t,["binaryColorThreshold"]);e!==void 0&&m!=null&&g(e,["parameters","binaryColorThreshold"],m);const y=f(t,["labels"]);return e!==void 0&&y!=null&&g(e,["labels"],y),a}function v_(t,e){const a={},r=f(e,["model"]);r!=null&&g(a,["_url","model"],Ve(t,r));const l=f(e,["source"]);l!=null&&w_(l,a);const u=f(e,["config"]);return u!=null&&x_(u,a),a}function b_(t){const e={},a=f(t,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(l=>KA(l))),g(e,["generatedMasks"],r)}return e}function w_(t,e){const a={},r=f(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const l=f(t,["image"]);e!==void 0&&l!=null&&g(e,["instances[0]","image"],bn(l));const u=f(t,["scribbleImage"]);return e!==void 0&&u!=null&&g(e,["instances[0]","scribble"],y_(u)),a}function ax(t){const e={},a=f(t,["voiceConfig"]);if(a!=null&&g(e,["voiceConfig"],a),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=f(t,["languageCode"]);return r!=null&&g(e,["languageCode"],r),e}function S_(t){const e={},a=f(t,["functionDeclarations"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(p=>p)),g(e,["functionDeclarations"],y)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearch"]);r!=null&&g(e,["googleSearch"],e_(r));const l=f(t,["googleSearchRetrieval"]);if(l!=null&&g(e,["googleSearchRetrieval"],l),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const u=f(t,["urlContext"]);u!=null&&g(e,["urlContext"],u);const c=f(t,["computerUse"]);c!=null&&g(e,["computerUse"],c);const m=f(t,["codeExecution"]);return m!=null&&g(e,["codeExecution"],m),e}function rx(t){const e={},a=f(t,["functionDeclarations"]);if(a!=null){let b=a;Array.isArray(b)&&(b=b.map(w=>_A(w))),g(e,["functionDeclarations"],b)}const r=f(t,["retrieval"]);r!=null&&g(e,["retrieval"],r);const l=f(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=f(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const m=f(t,["googleMaps"]);m!=null&&g(e,["googleMaps"],m);const y=f(t,["urlContext"]);y!=null&&g(e,["urlContext"],y);const p=f(t,["computerUse"]);p!=null&&g(e,["computerUse"],p);const x=f(t,["codeExecution"]);return x!=null&&g(e,["codeExecution"],x),e}function E_(t){const e={},a=f(t,["baseModel"]);a!=null&&g(e,["baseModel"],a);const r=f(t,["createTime"]);r!=null&&g(e,["createTime"],r);const l=f(t,["updateTime"]);return l!=null&&g(e,["updateTime"],l),e}function N_(t){const e={},a=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);a!=null&&g(e,["baseModel"],a);const r=f(t,["createTime"]);r!=null&&g(e,["createTime"],r);const l=f(t,["updateTime"]);return l!=null&&g(e,["updateTime"],l),e}function T_(t,e){const a={},r=f(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const l=f(t,["description"]);e!==void 0&&l!=null&&g(e,["description"],l);const u=f(t,["defaultCheckpointId"]);return e!==void 0&&u!=null&&g(e,["defaultCheckpointId"],u),a}function C_(t,e){const a={},r=f(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const l=f(t,["description"]);e!==void 0&&l!=null&&g(e,["description"],l);const u=f(t,["defaultCheckpointId"]);return e!==void 0&&u!=null&&g(e,["defaultCheckpointId"],u),a}function A_(t,e){const a={},r=f(e,["model"]);r!=null&&g(a,["_url","name"],Ve(t,r));const l=f(e,["config"]);return l!=null&&T_(l,a),a}function __(t,e){const a={},r=f(e,["model"]);r!=null&&g(a,["_url","model"],Ve(t,r));const l=f(e,["config"]);return l!=null&&C_(l,a),a}function I_(t,e){const a={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const l=f(t,["includeRaiReason"]);e!==void 0&&l!=null&&g(e,["parameters","includeRaiReason"],l);const u=f(t,["outputMimeType"]);e!==void 0&&u!=null&&g(e,["parameters","outputOptions","mimeType"],u);const c=f(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","compressionQuality"],c);const m=f(t,["enhanceInputImage"]);e!==void 0&&m!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],m);const y=f(t,["imagePreservationFactor"]);e!==void 0&&y!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],y);const p=f(t,["labels"]);e!==void 0&&p!=null&&g(e,["labels"],p);const x=f(t,["numberOfImages"]);e!==void 0&&x!=null&&g(e,["parameters","sampleCount"],x);const b=f(t,["mode"]);return e!==void 0&&b!=null&&g(e,["parameters","mode"],b),a}function k_(t,e){const a={},r=f(e,["model"]);r!=null&&g(a,["_url","model"],Ve(t,r));const l=f(e,["image"]);l!=null&&g(a,["instances[0]","image"],bn(l));const u=f(e,["upscaleFactor"]);u!=null&&g(a,["parameters","upscaleConfig","upscaleFactor"],u);const c=f(e,["config"]);return c!=null&&I_(c,a),a}function R_(t){const e={},a=f(t,["sdkHttpResponse"]);a!=null&&g(e,["sdkHttpResponse"],a);const r=f(t,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Jl(u))),g(e,["generatedImages"],l)}return e}function M_(t){const e={},a=f(t,["video","uri"]);a!=null&&g(e,["uri"],a);const r=f(t,["video","encodedVideo"]);r!=null&&g(e,["videoBytes"],Ei(r));const l=f(t,["encoding"]);return l!=null&&g(e,["mimeType"],l),e}function D_(t){const e={},a=f(t,["gcsUri"]);a!=null&&g(e,["uri"],a);const r=f(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],Ei(r));const l=f(t,["mimeType"]);return l!=null&&g(e,["mimeType"],l),e}function L_(t){const e={},a=f(t,["image"]);a!=null&&g(e,["_self"],bn(a));const r=f(t,["maskMode"]);return r!=null&&g(e,["maskMode"],r),e}function q_(t){const e={},a=f(t,["image"]);a!=null&&g(e,["image"],Yl(a));const r=f(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function P_(t){const e={},a=f(t,["image"]);a!=null&&g(e,["image"],bn(a));const r=f(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function ox(t){const e={},a=f(t,["uri"]);a!=null&&g(e,["video","uri"],a);const r=f(t,["videoBytes"]);r!=null&&g(e,["video","encodedVideo"],Ei(r));const l=f(t,["mimeType"]);return l!=null&&g(e,["encoding"],l),e}function lx(t){const e={},a=f(t,["uri"]);a!=null&&g(e,["gcsUri"],a);const r=f(t,["videoBytes"]);r!=null&&g(e,["bytesBase64Encoded"],Ei(r));const l=f(t,["mimeType"]);return l!=null&&g(e,["mimeType"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const U_="Content-Type",B_="X-Server-Timeout",V_="User-Agent",Xc="x-goog-api-client",G_="1.23.0",O_=`google-genai-sdk/${G_}`,H_="v1beta1",z_="v1beta",V0=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class j_{constructor(e){var a,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:H_,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:z_,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),a=new URL(e);return a.protocol=a.protocol=="http:"?"ws":"wss",a.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,a,r){const l=[this.getRequestUrlInternal(a)];return r&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let a=this.clientOptions.httpOptions;e.httpOptions&&(a=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,a,r);if(e.queryParams)for(const[c,m]of Object.entries(e.queryParams))l.searchParams.append(c,String(m));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,a,e.abortSignal),this.unaryApiCall(l,u,e.httpMethod)}patchHttpOptions(e,a){const r=JSON.parse(JSON.stringify(e));for(const[l,u]of Object.entries(a))typeof u=="object"?r[l]=Object.assign(Object.assign({},r[l]),u):u!==void 0&&(r[l]=u);return r}async requestStream(e){let a=this.clientOptions.httpOptions;e.httpOptions&&(a=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,a,r);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,a,e.abortSignal),this.streamApiCall(l,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,a,r){if(a&&a.timeout||r){const l=new AbortController,u=l.signal;if(a.timeout&&(a==null?void 0:a.timeout)>0){const c=setTimeout(()=>l.abort(),a.timeout);c&&typeof c.unref=="function"&&c.unref()}r&&r.addEventListener("abort",()=>{l.abort()}),e.signal=u}return a&&a.extraBody!==null&&F_(e,a.extraBody),e.headers=await this.getHeadersInternal(a),e}async unaryApiCall(e,a,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},a),{method:r})).then(async l=>(await G0(l),new Jc(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,a,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},a),{method:r})).then(async l=>(await G0(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var a;return za(this,arguments,function*(){const l=(a=e==null?void 0:e.body)===null||a===void 0?void 0:a.getReader(),u=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let c="";for(;;){const{done:m,value:y}=yield et(l.read());if(m){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=u.decode(y,{stream:!0});try{const b=JSON.parse(p);if("error"in b){const w=JSON.parse(JSON.stringify(b.error)),E=w.status,C=w.code,A=`got status: ${E}. ${JSON.stringify(b)}`;if(C>=400&&C<600)throw new jl({message:A,status:C})}}catch(b){if(b.name==="ApiError")throw b}c+=p;let x=c.match(V0);for(;x;){const b=x[1];try{const w=new Response(b,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield et(new Jc(w)),c=c.slice(x[0].length),x=c.match(V0)}catch(w){throw new Error(`exception parsing stream chunk ${b}. ${w}`)}}}}finally{l.releaseLock()}})}async apiCall(e,a){return fetch(e,a).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},a=O_+" "+this.clientOptions.userAgentExtra;return e[V_]=a,e[Xc]=a,e[U_]="application/json",e}async getHeadersInternal(e){const a=new Headers;if(e&&e.headers){for(const[r,l]of Object.entries(e.headers))a.append(r,l);e.timeout&&e.timeout>0&&a.append(B_,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a),a}async uploadFile(e,a){var r;const l={};a!=null&&(l.mimeType=a.mimeType,l.name=a.name,l.displayName=a.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const u=this.clientOptions.uploader,c=await u.stat(e);l.sizeBytes=String(c.size);const m=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:c.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=m;const y=await this.fetchUploadUrl(l,a);return u.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,a){var r;let l={};a!=null&&a.httpOptions?l=a.httpOptions:l={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const u={file:e},c=await this.request({path:ge("upload/v1beta/files",u._url),body:JSON.stringify(u),httpMethod:"POST",httpOptions:l});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(r=c==null?void 0:c.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function G0(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const a=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const l=JSON.stringify(r);throw a>=400&&a<600?new jl({message:l,status:a}):new Error(l)}}function F_(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let a={};if(typeof t.body=="string"&&t.body.length>0)try{const u=JSON.parse(t.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))a=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(u,c){const m=Object.assign({},u);for(const y in c)if(Object.prototype.hasOwnProperty.call(c,y)){const p=c[y],x=m[y];p&&typeof p=="object"&&!Array.isArray(p)&&x&&typeof x=="object"&&!Array.isArray(x)?m[y]=r(x,p):(x&&p&&typeof x!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof x}, New type: ${typeof p}. Overwriting.`),m[y]=p)}return m}const l=r(a,e);t.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const J_="mcp_used/unknown";let Y_=!1;function sx(t){for(const e of t)if(K_(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Y_}function ux(t){var e;const a=(e=t[Xc])!==null&&e!==void 0?e:"";t[Xc]=(a+` ${J_}`).trimStart()}function K_(t){return t!==null&&typeof t=="object"&&t instanceof Ed}function Q_(t,e=100){return za(this,arguments,function*(){let r,l=0;for(;l<e;){const u=yield et(t.listTools({cursor:r}));for(const c of u.tools)yield yield et(c),l++;if(!u.nextCursor)break;r=u.nextCursor}})}class Ed{constructor(e=[],a){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=a}static create(e,a){return new Ed(e,a)}async initialize(){var e,a,r,l;if(this.mcpTools.length>0)return;const u={},c=[];for(const x of this.mcpClients)try{for(var m=!0,y=(a=void 0,io(Q_(x))),p;p=await y.next(),e=p.done,!e;m=!0){l=p.value,m=!1;const b=l;c.push(b);const w=b.name;if(u[w])throw new Error(`Duplicate function name ${w} found in MCP tools. Please ensure function names are unique.`);u[w]=x}}catch(b){a={error:b}}finally{try{!m&&!e&&(r=y.return)&&await r.call(y)}finally{if(a)throw a.error}}this.mcpTools=c,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),rT(this.mcpTools,this.config)}async callTool(e){await this.initialize();const a=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[r.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const c=await l.callTool({name:r.name,arguments:r.args},void 0,u);a.push({functionResponse:{name:r.name,response:c.isError?{error:c}:c}})}return a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function $_(t,e,a){const r=new XN;let l;a.data instanceof Blob?l=JSON.parse(await a.data.text()):l=JSON.parse(a.data),Object.assign(r,l),e(r)}class X_{constructor(e,a,r){this.apiClient=e,this.auth=a,this.webSocketFactory=r}async connect(e){var a,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),c=e3(this.apiClient.getDefaultHeaders()),m=this.apiClient.getApiKey(),y=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${m}`;let p=()=>{};const x=new Promise(P=>{p=P}),b=e.callbacks,w=function(){p({})},E=this.apiClient,C={onopen:w,onmessage:P=>{$_(E,b.onmessage,P)},onerror:(a=b==null?void 0:b.onerror)!==null&&a!==void 0?a:function(P){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(P){}},A=this.webSocketFactory.create(y,W_(c),C);A.connect(),await x;const B={setup:{model:Ve(this.apiClient,e.model)}};return A.send(JSON.stringify(B)),new Z_(A,this.apiClient)}}class Z_{constructor(e,a){this.conn=e,this.apiClient=a}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const a=jC(e);this.conn.send(JSON.stringify({clientContent:a}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const a=zC(e);this.conn.send(JSON.stringify(a))}sendPlaybackControl(e){const a={playbackControl:e};this.conn.send(JSON.stringify(a))}play(){this.sendPlaybackControl(Ba.PLAY)}pause(){this.sendPlaybackControl(Ba.PAUSE)}stop(){this.sendPlaybackControl(Ba.STOP)}resetContext(){this.sendPlaybackControl(Ba.RESET_CONTEXT)}close(){this.conn.close()}}function W_(t){const e={};return t.forEach((a,r)=>{e[r]=a}),e}function e3(t){const e=new Headers;for(const[a,r]of Object.entries(t))e.append(a,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const t3="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function n3(t,e,a){const r=new $N;let l;a.data instanceof Blob?l=await a.data.text():a.data instanceof ArrayBuffer?l=new TextDecoder().decode(a.data):l=a.data;const u=JSON.parse(l);if(t.isVertexAI()){const c=YC(u);Object.assign(r,c)}else Object.assign(r,u);e(r)}class i3{constructor(e,a,r){this.apiClient=e,this.auth=a,this.webSocketFactory=r,this.music=new X_(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var a,r,l,u,c,m;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let x;const b=this.apiClient.getHeaders();e.config&&e.config.tools&&sx(e.config.tools)&&ux(b);const w=l3(b);if(this.apiClient.isVertexAI())x=`${y}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(w);else{const J=this.apiClient.getApiKey();let ne="BidiGenerateContent",le="key";J!=null&&J.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ne="BidiGenerateContentConstrained",le="access_token"),x=`${y}/ws/google.ai.generativelanguage.${p}.GenerativeService.${ne}?${le}=${J}`}let E=()=>{};const C=new Promise(J=>{E=J}),A=e.callbacks,U=function(){var J;(J=A==null?void 0:A.onopen)===null||J===void 0||J.call(A),E({})},I=this.apiClient,B={onopen:U,onmessage:J=>{n3(I,A.onmessage,J)},onerror:(a=A==null?void 0:A.onerror)!==null&&a!==void 0?a:function(J){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(J){}},P=this.webSocketFactory.create(x,o3(w),B);P.connect(),await C;let q=Ve(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&q.startsWith("publishers/")){const J=this.apiClient.getProject(),ne=this.apiClient.getLocation();q=`projects/${J}/locations/${ne}/`+q}let H={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ul.AUDIO]}:e.config.responseModalities=[Ul.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const k=(m=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&m!==void 0?m:[],M=[];for(const J of k)if(this.isCallableTool(J)){const ne=J;M.push(await ne.tool())}else M.push(J);M.length>0&&(e.config.tools=M);const ae={model:q,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?H=HC(this.apiClient,ae):H=OC(this.apiClient,ae),delete H.config,P.send(JSON.stringify(H)),new r3(P,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const a3={turnComplete:!0};class r3{constructor(e,a){this.conn=e,this.apiClient=a}tLiveClientContent(e,a){if(a.turns!==null&&a.turns!==void 0){let r=[];try{r=mn(a.turns),e.isVertexAI()||(r=r.map(l=>Fl(l)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof a.turns}'`)}return{clientContent:{turns:r,turnComplete:a.turnComplete}}}return{clientContent:{turnComplete:a.turnComplete}}}tLiveClienttToolResponse(e,a){let r=[];if(a.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(a.functionResponses)?r=a.functionResponses:r=[a.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const u of r){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(t3)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},a3),e);const a=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(a))}sendRealtimeInput(e){let a={};this.apiClient.isVertexAI()?a={realtimeInput:JC(e)}:a={realtimeInput:FC(e)},this.conn.send(JSON.stringify(a))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const a=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(a))}close(){this.conn.close()}}function o3(t){const e={};return t.forEach((a,r)=>{e[r]=a}),e}function l3(t){const e=new Headers;for(const[a,r]of Object.entries(t))e.append(a,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const O0=10;function H0(t){var e,a,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const c of(a=t==null?void 0:t.tools)!==null&&a!==void 0?a:[])if(ja(c)){l=!0;break}if(!l)return!0;const u=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function ja(t){return"callTool"in t&&typeof t.callTool=="function"}function s3(t){var e,a,r;return(r=(a=(e=t.config)===null||e===void 0?void 0:e.tools)===null||a===void 0?void 0:a.some(l=>ja(l)))!==null&&r!==void 0?r:!1}function u3(t){var e,a,r;return(r=(a=(e=t.config)===null||e===void 0?void 0:e.tools)===null||a===void 0?void 0:a.some(l=>!ja(l)))!==null&&r!==void 0?r:!1}function z0(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c3 extends Ji{constructor(e){super(),this.apiClient=e,this.generateContent=async a=>{var r,l,u,c,m;const y=await this.processParamsMaybeAddMcpUsage(a);if(this.maybeMoveToResponseJsonSchem(a),!s3(a)||H0(a.config))return await this.generateContentInternal(y);if(u3(a))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,x;const b=mn(y.contents),w=(u=(l=(r=y.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&u!==void 0?u:O0;let E=0;for(;E<w&&(p=await this.generateContentInternal(y),!(!p.functionCalls||p.functionCalls.length===0));){const C=p.candidates[0].content,A=[];for(const U of(m=(c=a.config)===null||c===void 0?void 0:c.tools)!==null&&m!==void 0?m:[])if(ja(U)){const B=await U.callTool(p.functionCalls);A.push(...B)}E++,x={role:"user",parts:A},y.contents=mn(y.contents),y.contents.push(C),y.contents.push(x),z0(y.config)&&(b.push(C),b.push(x))}return z0(y.config)&&(p.automaticFunctionCallingHistory=b),p},this.generateContentStream=async a=>{if(this.maybeMoveToResponseJsonSchem(a),H0(a.config)){const r=await this.processParamsMaybeAddMcpUsage(a);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(a)},this.generateImages=async a=>await this.generateImagesInternal(a).then(r=>{var l;let u;const c=[];if(r!=null&&r.generatedImages)for(const y of r.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((l=y==null?void 0:y.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?u=y==null?void 0:y.safetyAttributes:c.push(y);let m;return u?m={generatedImages:c,positivePromptSafetyAttributes:u,sdkHttpResponse:r.sdkHttpResponse}:m={generatedImages:c,sdkHttpResponse:r.sdkHttpResponse},m}),this.list=async a=>{var r;const c={config:Object.assign(Object.assign({},{queryBase:!0}),a==null?void 0:a.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((r=c.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new so(ji.PAGED_ITEM_MODELS,m=>this.listInternal(m),await this.listInternal(c),c)},this.editImage=async a=>{const r={model:a.model,prompt:a.prompt,referenceImages:[],config:a.config};return a.referenceImages&&a.referenceImages&&(r.referenceImages=a.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async a=>{let r={numberOfImages:1,mode:"upscale"};a.config&&(r=Object.assign(Object.assign({},r),a.config));const l={model:a.model,image:a.image,upscaleFactor:a.upscaleFactor,config:r};return await this.upscaleImageInternal(l)},this.generateVideos=async a=>{if((a.prompt||a.image||a.video)&&a.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(a)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var a,r,l;const u=(a=e.config)===null||a===void 0?void 0:a.tools;if(!u)return e;const c=await Promise.all(u.map(async y=>ja(y)?await y.tool():y)),m={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(m.config.tools=c,e.config&&e.config.tools&&sx(e.config.tools)){const y=(l=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&l!==void 0?l:{};let p=Object.assign({},y);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),ux(p),m.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return m}async initAfcToolsMap(e){var a,r,l;const u=new Map;for(const c of(r=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&r!==void 0?r:[])if(ja(c)){const m=c,y=await m.tool();for(const p of(l=y.functionDeclarations)!==null&&l!==void 0?l:[]){if(!p.name)throw new Error("Function declaration name is required.");if(u.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);u.set(p.name,m)}}return u}async processAfcStream(e){var a,r,l;const u=(l=(r=(a=e.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&l!==void 0?l:O0;let c=!1,m=0;const y=await this.initAfcToolsMap(e);return(function(p,x,b){var w,E;return za(this,arguments,function*(){for(var C,A,U,I;m<u;){c&&(m++,c=!1);const H=yield et(p.processParamsMaybeAddMcpUsage(b)),k=yield et(p.generateContentStreamInternal(H)),M=[],ae=[];try{for(var B=!0,P=(A=void 0,io(k)),q;q=yield et(P.next()),C=q.done,!C;B=!0){I=q.value,B=!1;const J=I;if(yield yield et(J),J.candidates&&(!((w=J.candidates[0])===null||w===void 0)&&w.content)){ae.push(J.candidates[0].content);for(const ne of(E=J.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(m<u&&ne.functionCall){if(!ne.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(ne.functionCall.name)){const le=yield et(x.get(ne.functionCall.name).callTool([ne.functionCall]));M.push(...le)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${ne.functionCall.name}`)}}}}catch(J){A={error:J}}finally{try{!B&&!C&&(U=P.return)&&(yield et(U.call(P)))}finally{if(A)throw A.error}}if(M.length>0){c=!0;const J=new Xr;J.candidates=[{content:{role:"user",parts:M}}],yield yield et(J);const ne=[];ne.push(...ae),ne.push({role:"user",parts:M});const le=mn(b.contents).concat(ne);b.contents=le}else break}})})(this,y,e)}async generateContentInternal(e){var a,r,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=P0(this.apiClient,e);return m=ge("{model}:generateContent",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const b=B0(x),w=new Xr;return Object.assign(w,b),w})}else{const p=q0(this.apiClient,e);return m=ge("{model}:generateContent",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const b=U0(x),w=new Xr;return Object.assign(w,b),w})}}async generateContentStreamInternal(e){var a,r,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=P0(this.apiClient,e);return m=ge("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),c.then(function(b){return za(this,arguments,function*(){var w,E,C,A;try{for(var U=!0,I=io(b),B;B=yield et(I.next()),w=B.done,!w;U=!0){A=B.value,U=!1;const P=A,q=B0(yield et(P.json()));q.sdkHttpResponse={headers:P.headers};const H=new Xr;Object.assign(H,q),yield yield et(H)}}catch(P){E={error:P}}finally{try{!U&&!w&&(C=I.return)&&(yield et(C.call(I)))}finally{if(E)throw E.error}}})})}else{const p=q0(this.apiClient,e);return m=ge("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),c.then(function(b){return za(this,arguments,function*(){var w,E,C,A;try{for(var U=!0,I=io(b),B;B=yield et(I.next()),w=B.done,!w;U=!0){A=B.value,U=!1;const P=A,q=U0(yield et(P.json()));q.sdkHttpResponse={headers:P.headers};const H=new Xr;Object.assign(H,q),yield yield et(H)}}catch(P){E={error:P}}finally{try{!U&&!w&&(C=I.return)&&(yield et(C.call(I)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var a,r,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=EA(this.apiClient,e);return m=ge("{model}:predict",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const b=TA(x),w=new v0;return Object.assign(w,b),w})}else{const p=SA(this.apiClient,e);return m=ge("{model}:batchEmbedContents",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const b=NA(x),w=new v0;return Object.assign(w,b),w})}}async generateImagesInternal(e){var a,r,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=LA(this.apiClient,e);return m=ge("{model}:predict",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const b=PA(x),w=new b0;return Object.assign(w,b),w})}else{const p=DA(this.apiClient,e);return m=ge("{model}:predict",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const b=qA(x),w=new b0;return Object.assign(w,b),w})}}async editImageInternal(e){var a,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const m=xA(this.apiClient,e);return u=ge("{model}:predict",m._url),c=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:y.headers},x})),l.then(y=>{const p=vA(y),x=new HN;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var a,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const m=k_(this.apiClient,e);return u=ge("{model}:predict",m._url),c=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:y.headers},x})),l.then(y=>{const p=R_(y),x=new zN;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var a,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const m=f_(this.apiClient,e);return u=ge("{model}:predict",m._url),c=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(y=>{const p=m_(y),x=new jN;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var a,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const m=v_(this.apiClient,e);return u=ge("{model}:predict",m._url),c=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(y=>{const p=b_(y),x=new FN;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var a,r,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=WA(this.apiClient,e);return m=ge("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>$c(x))}else{const p=ZA(this.apiClient,e);return m=ge("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),c.then(x=>Qc(x))}}async listInternal(e){var a,r,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=r_(this.apiClient,e);return m=ge("{models_url}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const b=l_(x),w=new w0;return Object.assign(w,b),w})}else{const p=a_(this.apiClient,e);return m=ge("{models_url}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const b=o_(x),w=new w0;return Object.assign(w,b),w})}}async update(e){var a,r,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=__(this.apiClient,e);return m=ge("{model}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>$c(x))}else{const p=A_(this.apiClient,e);return m=ge("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),c.then(x=>Qc(x))}}async delete(e){var a,r,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=pA(this.apiClient,e);return m=ge("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const b=gA(x),w=new S0;return Object.assign(w,b),w})}else{const p=mA(this.apiClient,e);return m=ge("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const b=hA(x),w=new S0;return Object.assign(w,b),w})}}async countTokens(e){var a,r,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=cA(this.apiClient,e);return m=ge("{model}:countTokens",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const b=fA(x),w=new E0;return Object.assign(w,b),w})}else{const p=uA(this.apiClient,e);return m=ge("{model}:countTokens",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const b=dA(x),w=new E0;return Object.assign(w,b),w})}}async computeTokens(e){var a,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const m=nA(this.apiClient,e);return u=ge("{model}:computeTokens",m._url),c=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:y.headers},x})),l.then(y=>{const p=iA(y),x=new JN;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var a,r,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=HA(this.apiClient,e);return m=ge("{model}:predictLongRunning",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>{const b=GA(x),w=new Bl;return Object.assign(w,b),w})}else{const p=OA(this.apiClient,e);return m=ge("{model}:predictLongRunning",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),c.then(x=>{const b=VA(x),w=new Bl;return Object.assign(w,b),w})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d3 extends Ji{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const a=e.operation,r=e.config;if(a.name===void 0||a.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=a.name.split("/operations/")[0];let u;r&&"httpOptions"in r&&(u=r.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:a.name,resourceName:l,config:{httpOptions:u}});return a._fromAPIResponse({apiResponse:c,isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:a.name,config:r});return a._fromAPIResponse({apiResponse:l,isVertexAI:!1})}}async get(e){const a=e.operation,r=e.config;if(a.name===void 0||a.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=a.name.split("/operations/")[0];let u;r&&"httpOptions"in r&&(u=r.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:a.name,resourceName:l,config:{httpOptions:u}});return a._fromAPIResponse({apiResponse:c,isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:a.name,config:r});return a._fromAPIResponse({apiResponse:l,isVertexAI:!1})}}async getVideosOperationInternal(e){var a,r,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=VN(e);return m=ge("{operationName}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c}else{const p=BN(e);return m=ge("{operationName}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),c}}async fetchPredictVideosOperationInternal(e){var a,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const m=RN(e);return u=ge("{resourceName}:fetchPredictOperation",m._url),c=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function f3(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=f(t,["data"]);a!=null&&g(e,["data"],a);const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function m3(t){const e={},a=f(t,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>b3(u))),g(e,["parts"],l)}const r=f(t,["role"]);return r!=null&&g(e,["role"],r),e}function p3(t,e,a){const r={},l=f(e,["expireTime"]);a!==void 0&&l!=null&&g(a,["expireTime"],l);const u=f(e,["newSessionExpireTime"]);a!==void 0&&u!=null&&g(a,["newSessionExpireTime"],u);const c=f(e,["uses"]);a!==void 0&&c!=null&&g(a,["uses"],c);const m=f(e,["liveConnectConstraints"]);a!==void 0&&m!=null&&g(a,["bidiGenerateContentSetup"],v3(t,m));const y=f(e,["lockAdditionalFields"]);return a!==void 0&&y!=null&&g(a,["fieldMask"],y),r}function h3(t,e){const a={},r=f(e,["config"]);return r!=null&&g(a,["config"],p3(t,r,a)),a}function g3(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=f(t,["fileUri"]);a!=null&&g(e,["fileUri"],a);const r=f(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function y3(t){const e={},a=f(t,["timeRangeFilter"]);if(a!=null&&g(e,["timeRangeFilter"],a),f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function x3(t,e){const a={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const l=f(t,["responseModalities"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","responseModalities"],l);const u=f(t,["temperature"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","temperature"],u);const c=f(t,["topP"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topP"],c);const m=f(t,["topK"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","topK"],m);const y=f(t,["maxOutputTokens"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","maxOutputTokens"],y);const p=f(t,["mediaResolution"]);e!==void 0&&p!=null&&g(e,["setup","generationConfig","mediaResolution"],p);const x=f(t,["seed"]);e!==void 0&&x!=null&&g(e,["setup","generationConfig","seed"],x);const b=f(t,["speechConfig"]);e!==void 0&&b!=null&&g(e,["setup","generationConfig","speechConfig"],Sd(b));const w=f(t,["thinkingConfig"]);e!==void 0&&w!=null&&g(e,["setup","generationConfig","thinkingConfig"],w);const E=f(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],E);const C=f(t,["systemInstruction"]);e!==void 0&&C!=null&&g(e,["setup","systemInstruction"],m3(Ct(C)));const A=f(t,["tools"]);if(e!==void 0&&A!=null){let k=Qa(A);Array.isArray(k)&&(k=k.map(M=>S3(Ka(M)))),g(e,["setup","tools"],k)}const U=f(t,["sessionResumption"]);e!==void 0&&U!=null&&g(e,["setup","sessionResumption"],w3(U));const I=f(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","inputAudioTranscription"],I);const B=f(t,["outputAudioTranscription"]);e!==void 0&&B!=null&&g(e,["setup","outputAudioTranscription"],B);const P=f(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&g(e,["setup","realtimeInputConfig"],P);const q=f(t,["contextWindowCompression"]);e!==void 0&&q!=null&&g(e,["setup","contextWindowCompression"],q);const H=f(t,["proactivity"]);return e!==void 0&&H!=null&&g(e,["setup","proactivity"],H),a}function v3(t,e){const a={},r=f(e,["model"]);r!=null&&g(a,["setup","model"],Ve(t,r));const l=f(e,["config"]);return l!=null&&g(a,["config"],x3(l,a)),a}function b3(t){const e={},a=f(t,["videoMetadata"]);a!=null&&g(e,["videoMetadata"],a);const r=f(t,["thought"]);r!=null&&g(e,["thought"],r);const l=f(t,["inlineData"]);l!=null&&g(e,["inlineData"],f3(l));const u=f(t,["fileData"]);u!=null&&g(e,["fileData"],g3(u));const c=f(t,["thoughtSignature"]);c!=null&&g(e,["thoughtSignature"],c);const m=f(t,["functionCall"]);m!=null&&g(e,["functionCall"],m);const y=f(t,["codeExecutionResult"]);y!=null&&g(e,["codeExecutionResult"],y);const p=f(t,["executableCode"]);p!=null&&g(e,["executableCode"],p);const x=f(t,["functionResponse"]);x!=null&&g(e,["functionResponse"],x);const b=f(t,["text"]);return b!=null&&g(e,["text"],b),e}function w3(t){const e={},a=f(t,["handle"]);if(a!=null&&g(e,["handle"],a),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function S3(t){const e={},a=f(t,["functionDeclarations"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(p=>p)),g(e,["functionDeclarations"],y)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearch"]);r!=null&&g(e,["googleSearch"],y3(r));const l=f(t,["googleSearchRetrieval"]);if(l!=null&&g(e,["googleSearchRetrieval"],l),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const u=f(t,["urlContext"]);u!=null&&g(e,["urlContext"],u);const c=f(t,["computerUse"]);c!=null&&g(e,["computerUse"],c);const m=f(t,["codeExecution"]);return m!=null&&g(e,["codeExecution"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function E3(t){const e=[];for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)){const r=t[a];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const l=Object.keys(r).map(u=>`${a}.${u}`);e.push(...l)}else e.push(a)}return e.join(",")}function N3(t,e){let a=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const u=r.setup;typeof u=="object"&&u!==null?(t.bidiGenerateContentSetup=u,a=u):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const l=t.fieldMask;if(a){const u=E3(a);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?t.fieldMask=u:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let m=[];l.length>0&&(m=l.map(p=>c.includes(p)?`generationConfig.${p}`:p));const y=[];u&&y.push(u),m.length>0&&y.push(...m),y.length>0?t.fieldMask=y.join(","):delete t.fieldMask}else delete t.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?t.fieldMask=l.join(","):delete t.fieldMask;return t}class T3 extends Ji{constructor(e){super(),this.apiClient=e}async create(e){var a,r;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const m=h3(this.apiClient,e);u=ge("auth_tokens",m._url),c=m._query,delete m.config,delete m._url,delete m._query;const y=N3(m,e.config);return l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C3(t){const e={},a=f(t,["name"]);return a!=null&&g(e,["_url","name"],a),e}function A3(t){const e={},a=f(t,["name"]);return a!=null&&g(e,["_url","name"],a),e}function _3(t,e){const a={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=f(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&g(e,["displayName"],r),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=f(t,["epochCount"]);e!==void 0&&l!=null&&g(e,["tuningTask","hyperparameters","epochCount"],l);const u=f(t,["learningRateMultiplier"]);if(u!=null&&g(a,["tuningTask","hyperparameters","learningRateMultiplier"],u),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=f(t,["batchSize"]);e!==void 0&&c!=null&&g(e,["tuningTask","hyperparameters","batchSize"],c);const m=f(t,["learningRate"]);if(e!==void 0&&m!=null&&g(e,["tuningTask","hyperparameters","learningRate"],m),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return a}function I3(t,e){const a={},r=f(t,["validationDataset"]);e!==void 0&&r!=null&&g(e,["supervisedTuningSpec"],j3(r,a));const l=f(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&g(e,["tunedModelDisplayName"],l);const u=f(t,["description"]);e!==void 0&&u!=null&&g(e,["description"],u);const c=f(t,["epochCount"]);e!==void 0&&c!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],c);const m=f(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m);const y=f(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const p=f(t,["adapterSize"]);if(e!==void 0&&p!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],p),f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const x=f(t,["labels"]);return e!==void 0&&x!=null&&g(e,["labels"],x),a}function k3(t){const e={},a=f(t,["baseModel"]);a!=null&&g(e,["baseModel"],a);const r=f(t,["preTunedModel"]);r!=null&&g(e,["preTunedModel"],r);const l=f(t,["trainingDataset"]);l!=null&&g(e,["tuningTask","trainingData"],O3(l));const u=f(t,["config"]);return u!=null&&_3(u,e),e}function R3(t){const e={},a=f(t,["baseModel"]);a!=null&&g(e,["baseModel"],a);const r=f(t,["preTunedModel"]);r!=null&&g(e,["preTunedModel"],r);const l=f(t,["trainingDataset"]);l!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],H3(l,e));const u=f(t,["config"]);return u!=null&&I3(u,e),e}function M3(t){const e={},a=f(t,["name"]);return a!=null&&g(e,["_url","name"],a),e}function D3(t){const e={},a=f(t,["name"]);return a!=null&&g(e,["_url","name"],a),e}function L3(t,e){const a={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const l=f(t,["pageToken"]);e!==void 0&&l!=null&&g(e,["_query","pageToken"],l);const u=f(t,["filter"]);return e!==void 0&&u!=null&&g(e,["_query","filter"],u),a}function q3(t,e){const a={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const l=f(t,["pageToken"]);e!==void 0&&l!=null&&g(e,["_query","pageToken"],l);const u=f(t,["filter"]);return e!==void 0&&u!=null&&g(e,["_query","filter"],u),a}function P3(t){const e={},a=f(t,["config"]);return a!=null&&L3(a,e),e}function U3(t){const e={},a=f(t,["config"]);return a!=null&&q3(a,e),e}function B3(t){const e={},a=f(t,["sdkHttpResponse"]);a!=null&&g(e,["sdkHttpResponse"],a);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const l=f(t,["tunedModels"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>cx(c))),g(e,["tuningJobs"],u)}return e}function V3(t){const e={},a=f(t,["sdkHttpResponse"]);a!=null&&g(e,["sdkHttpResponse"],a);const r=f(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const l=f(t,["tuningJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>Zc(c))),g(e,["tuningJobs"],u)}return e}function G3(t){const e={},a=f(t,["name"]);a!=null&&g(e,["model"],a);const r=f(t,["name"]);return r!=null&&g(e,["endpoint"],r),e}function O3(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=f(t,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(l=>l)),g(e,["examples","examples"],r)}return e}function H3(t,e){const a={},r=f(t,["gcsUri"]);e!==void 0&&r!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],r);const l=f(t,["vertexDatasetResource"]);if(e!==void 0&&l!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],l),f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function cx(t){const e={},a=f(t,["sdkHttpResponse"]);a!=null&&g(e,["sdkHttpResponse"],a);const r=f(t,["name"]);r!=null&&g(e,["name"],r);const l=f(t,["state"]);l!=null&&g(e,["state"],Fy(l));const u=f(t,["createTime"]);u!=null&&g(e,["createTime"],u);const c=f(t,["tuningTask","startTime"]);c!=null&&g(e,["startTime"],c);const m=f(t,["tuningTask","completeTime"]);m!=null&&g(e,["endTime"],m);const y=f(t,["updateTime"]);y!=null&&g(e,["updateTime"],y);const p=f(t,["description"]);p!=null&&g(e,["description"],p);const x=f(t,["baseModel"]);x!=null&&g(e,["baseModel"],x);const b=f(t,["_self"]);b!=null&&g(e,["tunedModel"],G3(b));const w=f(t,["customBaseModel"]);w!=null&&g(e,["customBaseModel"],w);const E=f(t,["experiment"]);E!=null&&g(e,["experiment"],E);const C=f(t,["labels"]);C!=null&&g(e,["labels"],C);const A=f(t,["outputUri"]);A!=null&&g(e,["outputUri"],A);const U=f(t,["pipelineJob"]);U!=null&&g(e,["pipelineJob"],U);const I=f(t,["serviceAccount"]);I!=null&&g(e,["serviceAccount"],I);const B=f(t,["tunedModelDisplayName"]);B!=null&&g(e,["tunedModelDisplayName"],B);const P=f(t,["veoTuningSpec"]);return P!=null&&g(e,["veoTuningSpec"],P),e}function Zc(t){const e={},a=f(t,["sdkHttpResponse"]);a!=null&&g(e,["sdkHttpResponse"],a);const r=f(t,["name"]);r!=null&&g(e,["name"],r);const l=f(t,["state"]);l!=null&&g(e,["state"],Fy(l));const u=f(t,["createTime"]);u!=null&&g(e,["createTime"],u);const c=f(t,["startTime"]);c!=null&&g(e,["startTime"],c);const m=f(t,["endTime"]);m!=null&&g(e,["endTime"],m);const y=f(t,["updateTime"]);y!=null&&g(e,["updateTime"],y);const p=f(t,["error"]);p!=null&&g(e,["error"],p);const x=f(t,["description"]);x!=null&&g(e,["description"],x);const b=f(t,["baseModel"]);b!=null&&g(e,["baseModel"],b);const w=f(t,["tunedModel"]);w!=null&&g(e,["tunedModel"],w);const E=f(t,["preTunedModel"]);E!=null&&g(e,["preTunedModel"],E);const C=f(t,["supervisedTuningSpec"]);C!=null&&g(e,["supervisedTuningSpec"],C);const A=f(t,["tuningDataStats"]);A!=null&&g(e,["tuningDataStats"],A);const U=f(t,["encryptionSpec"]);U!=null&&g(e,["encryptionSpec"],U);const I=f(t,["partnerModelTuningSpec"]);I!=null&&g(e,["partnerModelTuningSpec"],I);const B=f(t,["customBaseModel"]);B!=null&&g(e,["customBaseModel"],B);const P=f(t,["experiment"]);P!=null&&g(e,["experiment"],P);const q=f(t,["labels"]);q!=null&&g(e,["labels"],q);const H=f(t,["outputUri"]);H!=null&&g(e,["outputUri"],H);const k=f(t,["pipelineJob"]);k!=null&&g(e,["pipelineJob"],k);const M=f(t,["serviceAccount"]);M!=null&&g(e,["serviceAccount"],M);const ae=f(t,["tunedModelDisplayName"]);ae!=null&&g(e,["tunedModelDisplayName"],ae);const J=f(t,["veoTuningSpec"]);return J!=null&&g(e,["veoTuningSpec"],J),e}function z3(t){const e={},a=f(t,["sdkHttpResponse"]);a!=null&&g(e,["sdkHttpResponse"],a);const r=f(t,["name"]);r!=null&&g(e,["name"],r);const l=f(t,["metadata"]);l!=null&&g(e,["metadata"],l);const u=f(t,["done"]);u!=null&&g(e,["done"],u);const c=f(t,["error"]);return c!=null&&g(e,["error"],c),e}function j3(t,e){const a={},r=f(t,["gcsUri"]);r!=null&&g(a,["validationDatasetUri"],r);const l=f(t,["vertexDatasetResource"]);return e!==void 0&&l!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],l),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class F3 extends Ji{constructor(e){super(),this.apiClient=e,this.get=async a=>await this.getInternal(a),this.list=async(a={})=>new so(ji.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(a),a),this.tune=async a=>{var r;if(this.apiClient.isVertexAI())if(a.baseModel.startsWith("projects/")){const l={tunedModelName:a.baseModel};!((r=a.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(l.checkpointId=a.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},a),{preTunedModel:l});return u.baseModel=void 0,await this.tuneInternal(u)}else{const l=Object.assign({},a);return await this.tuneInternal(l)}else{const l=Object.assign({},a),u=await this.tuneMldevInternal(l);let c="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?c=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(c=u.name.split("/operations/")[0]),{name:c,state:Fc.JOB_STATE_QUEUED}}}}async getInternal(e){var a,r,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=D3(e);return m=ge("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>Zc(x))}else{const p=M3(e);return m=ge("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>cx(x))}}async listInternal(e){var a,r,l,u;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=U3(e);return m=ge("tuningJobs",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const b=V3(x),w=new N0;return Object.assign(w,b),w})}else{const p=P3(e);return m=ge("tunedModels",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:x.headers},w})),c.then(x=>{const b=B3(x),w=new N0;return Object.assign(w,b),w})}}async cancel(e){var a,r,l,u;let c="",m={};if(this.apiClient.isVertexAI()){const y=A3(e);c=ge("{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const y=C3(e);c=ge("{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async tuneInternal(e){var a,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const m=R3(e);return u=ge("tuningJobs",m._url),c=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:y.headers},x})),l.then(y=>Zc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var a,r;let l,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=k3(e);return u=ge("tunedModels",m._url),c=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:y.headers},x})),l.then(y=>z3(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class J3{async download(e,a){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Y3=1024*1024*8,K3=3,Q3=1e3,$3=2,Dc="x-goog-upload-status";async function X3(t,e,a){var r,l,u;let c=0,m=0,y=new Jc(new Response),p="upload";for(c=t.size;m<c;){const b=Math.min(Y3,c-m),w=t.slice(m,m+b);m+b>=c&&(p+=", finalize");let E=0,C=Q3;for(;E<K3&&(y=await a.request({path:"",body:w,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(m),"Content-Length":String(b)}}}),!(!((r=y==null?void 0:y.headers)===null||r===void 0)&&r[Dc]));)E++,await W3(C),C=C*$3;if(m+=b,((l=y==null?void 0:y.headers)===null||l===void 0?void 0:l[Dc])!=="active")break;if(c<=m)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const x=await(y==null?void 0:y.json());if(((u=y==null?void 0:y.headers)===null||u===void 0?void 0:u[Dc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return x.file}async function Z3(t){return{size:t.size,type:t.type}}function W3(t){return new Promise(e=>setTimeout(e,t))}class eI{async upload(e,a,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await X3(e,a,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Z3(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tI{create(e,a,r){return new nI(e,a,r)}}class nI{constructor(e,a,r){this.url=e,this.headers=a,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const j0="x-goog-api-key";class iI{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(j0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(j0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aI="gl-node/";class Nd{constructor(e){var a;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(a=e.vertexai)!==null&&a!==void 0?a:!1,this.apiKey=e.apiKey;const r=kN(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const l=new iI(this.apiKey);this.apiClient=new j_({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:aI+"web",uploader:new eI,downloader:new J3}),this.models=new c3(this.apiClient),this.live=new i3(this.apiClient,l,new tI),this.batches=new JT(this.apiClient),this.chats=new EC(this.models,this.apiClient),this.caches=new bC(this.apiClient),this.files=new DC(this.apiClient),this.operations=new d3(this.apiClient),this.authTokens=new T3(this.apiClient),this.tunings=new F3(this.apiClient)}}const rI="AIzaSyDcN6U-3ferwZqCG-r93GR2kpKpC9U1SA4",oI=new Nd({apiKey:rI}),lI=async(t,e,a)=>{try{const r="gemini-2.0-flash-exp",l=`You are an expert biblical language pronunciation coach specializing in ${t.language} (${t.language==="Hebrew"?"Biblical Hebrew":"Koine Greek"}).

The student is attempting to pronounce the word:
- Original: ${t.word}
- Transliteration: ${t.transliteration}
- Meaning: ${t.meanings.join(", ")}
- Part of Speech: ${t.partOfSpeech}
${t.grammaticalNotes?`- Grammar Notes: ${t.grammaticalNotes}`:""}

Please analyze their pronunciation and respond in JSON format with:
{
  "isCorrect": true/false (true if pronunciation is good enough, false if needs improvement),
  "score": 0-100 (0 = completely wrong, 100 = perfect),
  "feedback": "Brief encouraging feedback in Traditional Chinese (2-3 sentences)",
  "suggestions": "If not perfect, specific suggestions for improvement in Traditional Chinese (optional)"
}

Be encouraging but honest. Consider:
- Correct consonant sounds
- Correct vowel sounds
- Proper stress/emphasis
- Overall fluency

Respond ONLY with valid JSON, no other text.`,u={inlineData:{data:e,mimeType:a}},c={text:l},m=await oI.models.generateContent({model:r,contents:{parts:[c,u]},config:{responseMimeType:"application/json"}}),y=JSON.parse(m.text);return{isCorrect:y.isCorrect||!1,score:y.score||0,feedback:y.feedback||"無法分析發音",suggestions:y.suggestions}}catch(r){return console.error("Error getting pronunciation feedback from Gemini:",r),{isCorrect:!1,score:0,feedback:"抱歉，無法分析您的發音。請重試。",suggestions:void 0}}},sI=({card:t,onRate:e,showRating:a=!0})=>{const[r,l]=z.useState(!1),[u,c]=z.useState("idle"),[m,y]=z.useState(null),p=z.useRef(null),x=z.useRef([]),b=I=>new Promise((B,P)=>{const q=new FileReader;q.onloadend=()=>{if(typeof q.result!="string")return P(new Error("File could not be read as a string."));const k=q.result.split(",")[1];B(k)},q.onerror=P,q.readAsDataURL(I)}),w=()=>{u==="idle"&&l(!r)},E=I=>{const B=m==null?void 0:m.score;e(I,B),l(!1),c("idle"),y(null)},C=z.useCallback(async()=>{try{const I=await navigator.mediaDevices.getUserMedia({audio:!0});y(null),c("recording");const B=new MediaRecorder(I);p.current=B,x.current=[],B.ondataavailable=P=>{x.current.push(P.data)},B.onstop=async()=>{c("processing");const P=new Blob(x.current,{type:B.mimeType});try{const q=await b(P),H=await lI(t,q,B.mimeType);y(H),c("feedback")}catch(q){console.error("Error getting pronunciation feedback:",q),y({isCorrect:!1,score:0,feedback:"無法分析發音，請重試。"}),c("feedback")}I.getTracks().forEach(q=>q.stop())},B.start()}catch(I){console.error("Error accessing microphone:",I),alert("需要麥克風權限才能練習發音。請在瀏覽器設定中啟用麥克風。"),c("idle")}},[t]),A=z.useCallback(()=>{p.current&&p.current.state==="recording"&&p.current.stop()},[]),U=()=>{u==="recording"?A():u==="idle"&&C()};return d.jsxs("div",{className:"w-full max-w-2xl mx-auto",children:[d.jsx("div",{className:"relative w-full h-96 cursor-pointer",style:{perspective:"1000px"},onClick:w,children:d.jsxs("div",{className:"relative w-full h-full transition-transform duration-500",style:{transformStyle:"preserve-3d",transform:r?"rotateY(180deg)":"rotateY(0deg)"},children:[d.jsx("div",{className:`absolute w-full h-full bg-gradient-to-br from-amber-50 to-amber-100 border-4 border-amber-600 rounded-2xl shadow-2xl flex flex-col items-center justify-center p-8 ${r?"invisible":"visible"}`,style:{backfaceVisibility:"hidden"},children:d.jsxs("div",{className:"text-center space-y-6",children:[d.jsx("div",{className:"flex justify-center",children:d.jsx("span",{className:`px-4 py-1 rounded-full text-sm font-semibold ${t.language==="Hebrew"?"bg-blue-600 text-white":"bg-green-600 text-white"}`,children:t.language})}),d.jsx("div",{className:`text-6xl font-bold ${t.language==="Hebrew"?"font-hebrew":"font-greek"}`,dir:t.language==="Hebrew"?"rtl":"ltr",children:t.word}),d.jsx("div",{className:"text-2xl text-gray-600 italic",children:t.transliteration}),d.jsx("div",{className:"text-sm text-gray-500 uppercase tracking-wider",children:t.partOfSpeech}),d.jsxs("div",{className:"pt-8 border-t border-amber-300 w-full",children:[d.jsx("div",{className:"text-sm text-amber-700 font-semibold mb-3",children:"發音練習"}),d.jsxs("button",{onClick:I=>{I.stopPropagation(),U()},disabled:u==="processing",className:`w-full py-3 rounded-lg font-bold transition-all ${u==="recording"?"bg-red-500 hover:bg-red-600 text-white animate-pulse":u==="processing"?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 text-white"}`,children:[u==="recording"&&"🎤 錄音中... (點擊停止)",u==="processing"&&"⏳ AI 分析中...",u==="idle"&&"🎤 開始錄音",u==="feedback"&&"🎤 再試一次"]}),m&&u==="feedback"&&d.jsxs("div",{className:`mt-4 p-4 rounded-lg border-2 ${m.isCorrect?"bg-green-50 border-green-400":"bg-orange-50 border-orange-400"}`,onClick:I=>I.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-lg font-bold",children:m.isCorrect?"✅ 很好！":"📝 需要改進"}),d.jsxs("span",{className:"text-2xl font-bold text-gray-700",children:[m.score,"/100"]})]}),d.jsx("div",{className:"text-sm text-gray-700 mb-2",children:m.feedback}),m.suggestions&&d.jsxs("div",{className:"text-xs text-gray-600 bg-amber-50/50 p-2 rounded mt-2",children:["💡 ",m.suggestions]})]})]}),d.jsxs("div",{className:"pt-4 text-amber-600 text-xs",children:[u==="idle"&&"點擊翻轉查看答案",u==="feedback"&&"錄音完成後點擊翻轉查看詳細資料"]})]})}),d.jsxs("div",{className:`absolute w-full h-full bg-gradient-to-br from-indigo-50 to-indigo-100 border-4 border-indigo-600 rounded-2xl shadow-2xl flex flex-col p-6 overflow-y-auto ${r?"visible":"invisible"}`,style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:[d.jsxs("div",{className:"text-center mb-4",children:[d.jsx("div",{className:`text-3xl font-bold mb-2 ${t.language==="Hebrew"?"font-hebrew":"font-greek"}`,dir:t.language==="Hebrew"?"rtl":"ltr",children:t.word}),d.jsx("div",{className:"text-lg text-gray-600 italic",children:t.transliteration})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"意思"}),d.jsx("div",{className:"space-y-1",children:t.meanings.map((I,B)=>d.jsxs("div",{className:"text-lg",children:["• ",I]},B))})]}),t.grammaticalNotes&&d.jsxs("div",{className:"mb-4 bg-amber-50/50 p-3 rounded-lg",children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"語法筆記"}),d.jsx("p",{className:"text-sm text-gray-700",children:t.grammaticalNotes})]}),t.examples.length>0&&d.jsxs("div",{className:"mb-4 bg-amber-50/50 p-3 rounded-lg",children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"聖經例句"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"text-xs text-amber-700 font-semibold",children:t.examples[0].reference}),d.jsx("div",{className:`text-base ${t.language==="Hebrew"?"font-hebrew":"font-greek"}`,dir:t.language==="Hebrew"?"rtl":"ltr",children:t.examples[0].text}),d.jsx("div",{className:"text-sm text-gray-600 italic",children:t.examples[0].translation})]})]}),d.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-auto pt-2",children:[d.jsxs("span",{children:["出現次數: ",t.frequency,"次"]}),d.jsxs("span",{children:["課程章節: ",t.chapter]})]})]})]})}),a&&r&&d.jsxs("div",{className:"mt-6 grid grid-cols-4 gap-4",children:[d.jsxs("button",{onClick:I=>{I.stopPropagation(),E("again")},className:"flex flex-col items-center justify-center p-4 bg-red-100 hover:bg-red-200 border-2 border-red-400 rounded-lg transition-colors",children:[d.jsx("span",{className:"text-2xl mb-1",children:"😰"}),d.jsx("span",{className:"text-sm font-semibold text-red-700",children:"再次"}),d.jsx("span",{className:"text-xs text-red-600",children:"< 1天"})]}),d.jsxs("button",{onClick:I=>{I.stopPropagation(),E("hard")},className:"flex flex-col items-center justify-center p-4 bg-orange-100 hover:bg-orange-200 border-2 border-orange-400 rounded-lg transition-colors",children:[d.jsx("span",{className:"text-2xl mb-1",children:"😅"}),d.jsx("span",{className:"text-sm font-semibold text-orange-700",children:"困難"}),d.jsx("span",{className:"text-xs text-orange-600",children:"3天"})]}),d.jsxs("button",{onClick:I=>{I.stopPropagation(),E("good")},className:"flex flex-col items-center justify-center p-4 bg-green-100 hover:bg-green-200 border-2 border-green-400 rounded-lg transition-colors",children:[d.jsx("span",{className:"text-2xl mb-1",children:"😊"}),d.jsx("span",{className:"text-sm font-semibold text-green-700",children:"良好"}),d.jsx("span",{className:"text-xs text-green-600",children:"7天"})]}),d.jsxs("button",{onClick:I=>{I.stopPropagation(),E("easy")},className:"flex flex-col items-center justify-center p-4 bg-blue-100 hover:bg-blue-200 border-2 border-blue-400 rounded-lg transition-colors",children:[d.jsx("span",{className:"text-2xl mb-1",children:"😎"}),d.jsx("span",{className:"text-sm font-semibold text-blue-700",children:"容易"}),d.jsx("span",{className:"text-xs text-blue-600",children:"14天"})]})]}),!r&&u==="idle"&&d.jsx("div",{className:"mt-4 text-center text-gray-500 text-sm",children:"先練習發音，然後翻轉卡片查看意思和詳細資料"}),!r&&u==="feedback"&&m&&d.jsxs("div",{className:"mt-4 text-center space-y-2",children:[d.jsxs("div",{className:"text-sm text-gray-600",children:["發音分數: ",d.jsxs("span",{className:"font-bold text-lg",children:[m.score,"/100"]})]}),d.jsx("div",{className:"text-xs text-gray-500",children:"現在翻轉卡片查看詞彙意思，然後評估你的整體掌握程度"})]})]})},dx=[{id:"heb_001",language:"Hebrew",word:"אֱלֹהִים",transliteration:"Elohim",partOfSpeech:"noun",meanings:["God","gods"],frequency:2602,chapter:1,examples:[{reference:"Genesis 1:1",text:"בְּרֵאשִׁית בָּרָא אֱלֹהִים",translation:"In the beginning God created"}],grammaticalNotes:"Masculine plural form, but treated as singular when referring to the one true God"},{id:"heb_002",language:"Hebrew",word:"יהוה",transliteration:"YHWH / Yahweh",partOfSpeech:"noun",meanings:["LORD","Yahweh"],frequency:6828,chapter:1,examples:[{reference:"Genesis 2:4",text:"יְהוָה אֱלֹהִים",translation:"the LORD God"}],grammaticalNotes:"The covenant name of God, tetragrammaton (YHWH)"},{id:"heb_003",language:"Hebrew",word:"אָדָם",transliteration:"Adam",partOfSpeech:"noun",meanings:["man","mankind","Adam"],frequency:562,chapter:1,examples:[{reference:"Genesis 1:27",text:"וַיִּבְרָא אֱלֹהִים אֶת־הָאָדָם",translation:"And God created the man"}],grammaticalNotes:"Can mean individual person or humanity collectively"},{id:"heb_004",language:"Hebrew",word:"אֶרֶץ",transliteration:"Eretz",partOfSpeech:"noun",meanings:["land","earth","ground"],frequency:2505,chapter:1,examples:[{reference:"Genesis 1:1",text:"אֵת הַשָּׁמַיִם וְאֵת הָאָרֶץ",translation:"the heavens and the earth"}],grammaticalNotes:"Feminine singular noun"},{id:"heb_005",language:"Hebrew",word:"שָׁמַיִם",transliteration:"Shamayim",partOfSpeech:"noun",meanings:["heavens","sky"],frequency:421,chapter:1,examples:[{reference:"Genesis 1:1",text:"בָּרָא אֱלֹהִים אֵת הַשָּׁמַיִם",translation:"God created the heavens"}],grammaticalNotes:"Masculine plural (dual) form, always plural"},{id:"heb_006",language:"Hebrew",word:"בַּיִת",transliteration:"Bayit",partOfSpeech:"noun",meanings:["house","household","temple"],frequency:2047,chapter:2,examples:[{reference:"Genesis 12:1",text:"מִבֵּיתְךָ",translation:"from your house"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_007",language:"Hebrew",word:"בֵּן",transliteration:"Ben",partOfSpeech:"noun",meanings:["son","child"],frequency:4941,chapter:2,examples:[{reference:"Genesis 4:17",text:"וַתֵּלֶד אֶת־בֶּן",translation:"and she bore a son"}],grammaticalNotes:"Masculine singular noun, plural: בָּנִים (banim)"},{id:"heb_008",language:"Hebrew",word:"בַּת",transliteration:"Bat",partOfSpeech:"noun",meanings:["daughter"],frequency:587,chapter:2,examples:[{reference:"Genesis 6:2",text:"בְּנוֹת הָאָדָם",translation:"daughters of man"}],grammaticalNotes:"Feminine singular noun, plural: בָּנוֹת (banot)"},{id:"heb_009",language:"Hebrew",word:"יוֹם",transliteration:"Yom",partOfSpeech:"noun",meanings:["day","time"],frequency:2304,chapter:2,examples:[{reference:"Genesis 1:5",text:"וַיִּקְרָא אֱלֹהִים לָאוֹר יוֹם",translation:"And God called the light day"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_010",language:"Hebrew",word:"לַיְלָה",transliteration:"Laylah",partOfSpeech:"noun",meanings:["night"],frequency:234,chapter:2,examples:[{reference:"Genesis 1:5",text:"וְלַחֹשֶׁךְ קָרָא לָיְלָה",translation:"and the darkness He called night"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_011",language:"Hebrew",word:"אָמַר",transliteration:"Amar",partOfSpeech:"verb",meanings:["to say","to speak"],frequency:5316,chapter:3,examples:[{reference:"Genesis 1:3",text:"וַיֹּאמֶר אֱלֹהִים",translation:"And God said"}],grammaticalNotes:"Qal perfect 3ms: אָמַר, Qal imperfect 3ms: יֹאמַר"},{id:"heb_012",language:"Hebrew",word:"עָשָׂה",transliteration:"Asah",partOfSpeech:"verb",meanings:["to do","to make"],frequency:2632,chapter:3,examples:[{reference:"Genesis 1:7",text:"וַיַּעַשׂ אֱלֹהִים",translation:"And God made"}],grammaticalNotes:"Qal perfect 3ms: עָשָׂה, Qal imperfect 3ms: יַעֲשֶׂה"},{id:"heb_013",language:"Hebrew",word:"בָּרָא",transliteration:"Bara",partOfSpeech:"verb",meanings:["to create"],frequency:54,chapter:3,examples:[{reference:"Genesis 1:1",text:"בָּרָא אֱלֹהִים",translation:"God created"}],grammaticalNotes:"Used exclusively with God as subject in Qal stem"},{id:"heb_014",language:"Hebrew",word:"הָלַךְ",transliteration:"Halakh",partOfSpeech:"verb",meanings:["to walk","to go"],frequency:1554,chapter:3,examples:[{reference:"Genesis 3:8",text:"מִתְהַלֵּךְ בַּגָּן",translation:"walking in the garden"}],grammaticalNotes:"Qal perfect 3ms: הָלַךְ, Qal imperfect 3ms: יֵלֵךְ"},{id:"heb_015",language:"Hebrew",word:"בּוֹא",transliteration:"Bo",partOfSpeech:"verb",meanings:["to come","to enter"],frequency:2592,chapter:4,examples:[{reference:"Genesis 6:18",text:"וּבָאתָ אֶל־הַתֵּבָה",translation:"and you shall come into the ark"}],grammaticalNotes:"Qal perfect 3ms: בָּא, Qal imperfect 3ms: יָבוֹא"},{id:"heb_016",language:"Hebrew",word:"יָצָא",transliteration:"Yatsa",partOfSpeech:"verb",meanings:["to go out","to come out"],frequency:1076,chapter:4,examples:[{reference:"Genesis 2:10",text:"וְנָהָר יֹצֵא מֵעֵדֶן",translation:"and a river went out from Eden"}],grammaticalNotes:"Qal perfect 3ms: יָצָא, Qal imperfect 3ms: יֵצֵא"},{id:"heb_017",language:"Hebrew",word:"נָתַן",transliteration:"Natan",partOfSpeech:"verb",meanings:["to give","to put","to set"],frequency:2014,chapter:4,examples:[{reference:"Genesis 1:17",text:"וַיִּתֵּן אֹתָם אֱלֹהִים",translation:"And God set them"}],grammaticalNotes:"Qal perfect 3ms: נָתַן, Qal imperfect 3ms: יִתֵּן"},{id:"heb_018",language:"Hebrew",word:"רָאָה",transliteration:"Raah",partOfSpeech:"verb",meanings:["to see","to look"],frequency:1311,chapter:4,examples:[{reference:"Genesis 1:4",text:"וַיַּרְא אֱלֹהִים אֶת־הָאוֹר",translation:"And God saw the light"}],grammaticalNotes:"Qal perfect 3ms: רָאָה, Qal imperfect 3ms: יִרְאֶה"},{id:"heb_019",language:"Hebrew",word:"שָׁמַע",transliteration:"Shama",partOfSpeech:"verb",meanings:["to hear","to listen","to obey"],frequency:1165,chapter:4,examples:[{reference:"Genesis 3:8",text:"וַיִּשְׁמְעוּ אֶת־קוֹל",translation:"And they heard the sound"}],grammaticalNotes:"Qal perfect 3ms: שָׁמַע, Qal imperfect 3ms: יִשְׁמַע"},{id:"heb_020",language:"Hebrew",word:"קָרָא",transliteration:"Qara",partOfSpeech:"verb",meanings:["to call","to proclaim","to read"],frequency:739,chapter:4,examples:[{reference:"Genesis 1:5",text:"וַיִּקְרָא אֱלֹהִים לָאוֹר יוֹם",translation:"And God called the light day"}],grammaticalNotes:"Qal perfect 3ms: קָרָא, Qal imperfect 3ms: יִקְרָא"},{id:"heb_021",language:"Hebrew",word:"אֵת",transliteration:"Et",partOfSpeech:"particle",meanings:["(direct object marker)"],frequency:10978,chapter:5,examples:[{reference:"Genesis 1:1",text:"בָּרָא אֱלֹהִים אֵת הַשָּׁמַיִם",translation:"God created the heavens"}],grammaticalNotes:"Marks the definite direct object, not translated in English"},{id:"heb_022",language:"Hebrew",word:"אֶל",transliteration:"El",partOfSpeech:"preposition",meanings:["to","toward","into"],frequency:5518,chapter:5,examples:[{reference:"Genesis 2:19",text:"וַיָּבֵא אֶל־הָאָדָם",translation:"and He brought to the man"}],grammaticalNotes:"Indicates motion toward or direction"},{id:"heb_023",language:"Hebrew",word:"בְּ",transliteration:"Be",partOfSpeech:"preposition",meanings:["in","at","with","by"],frequency:15559,chapter:5,examples:[{reference:"Genesis 1:1",text:"בְּרֵאשִׁית",translation:"In the beginning"}],grammaticalNotes:"Inseparable preposition, prefixed to nouns"},{id:"heb_024",language:"Hebrew",word:"לְ",transliteration:"Le",partOfSpeech:"preposition",meanings:["to","for","belonging to"],frequency:20321,chapter:5,examples:[{reference:"Genesis 1:5",text:"וַיִּקְרָא אֱלֹהִים לָאוֹר",translation:"And God called to the light"}],grammaticalNotes:"Inseparable preposition, most frequent in Hebrew"},{id:"heb_025",language:"Hebrew",word:"מִן",transliteration:"Min",partOfSpeech:"preposition",meanings:["from","out of","than"],frequency:7592,chapter:5,examples:[{reference:"Genesis 2:10",text:"יֹצֵא מֵעֵדֶן",translation:"going out from Eden"}],grammaticalNotes:"Can be separate word or inseparable prefix מִ/מֵ"},{id:"heb_026",language:"Hebrew",word:"עַל",transliteration:"Al",partOfSpeech:"preposition",meanings:["on","upon","over","concerning"],frequency:5777,chapter:5,examples:[{reference:"Genesis 1:2",text:"עַל־פְּנֵי הַמָּיִם",translation:"over the face of the waters"}],grammaticalNotes:"Indicates position above or concerning something"},{id:"heb_027",language:"Hebrew",word:"כְּ",transliteration:"Ke",partOfSpeech:"preposition",meanings:["as","like","according to"],frequency:3053,chapter:6,examples:[{reference:"Genesis 1:26",text:"נַעֲשֶׂה אָדָם בְּצַלְמֵנוּ כִּדְמוּתֵנוּ",translation:"Let us make man in our image, according to our likeness"}],grammaticalNotes:"Inseparable preposition for comparison"},{id:"heb_028",language:"Hebrew",word:"אִם",transliteration:"Im",partOfSpeech:"conjunction",meanings:["if","whether"],frequency:1070,chapter:6,examples:[{reference:"Genesis 4:7",text:"הֲלוֹא אִם־תֵּיטִיב",translation:"If you do well"}],grammaticalNotes:"Introduces conditional clauses"},{id:"heb_029",language:"Hebrew",word:"כִּי",transliteration:"Ki",partOfSpeech:"conjunction",meanings:["that","because","for","when"],frequency:4487,chapter:6,examples:[{reference:"Genesis 1:4",text:"וַיַּרְא אֱלֹהִים אֶת־הָאוֹר כִּי־טוֹב",translation:"And God saw the light, that it was good"}],grammaticalNotes:"Very common conjunction with multiple meanings depending on context"},{id:"heb_030",language:"Hebrew",word:"וְ",transliteration:"Ve",partOfSpeech:"conjunction",meanings:["and","but","also"],frequency:50524,chapter:6,examples:[{reference:"Genesis 1:1",text:"אֵת הַשָּׁמַיִם וְאֵת הָאָרֶץ",translation:"the heavens and the earth"}],grammaticalNotes:"Most frequent word in Hebrew Bible, inseparable conjunction"},{id:"heb_031",language:"Hebrew",word:"מֶלֶךְ",transliteration:"Melekh",partOfSpeech:"noun",meanings:["king"],frequency:2530,chapter:7,examples:[{reference:"1 Samuel 8:5",text:"שִׂימָה לָּנוּ מֶלֶךְ",translation:"appoint for us a king"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_032",language:"Hebrew",word:"עִיר",transliteration:"Ir",partOfSpeech:"noun",meanings:["city","town"],frequency:1092,chapter:7,examples:[{reference:"Genesis 4:17",text:"וַיִּבֶן עִיר",translation:"and he built a city"}],grammaticalNotes:"Feminine singular noun"},{id:"heb_033",language:"Hebrew",word:"עַם",transliteration:"Am",partOfSpeech:"noun",meanings:["people","nation"],frequency:1869,chapter:7,examples:[{reference:"Exodus 1:9",text:"עַם בְּנֵי יִשְׂרָאֵל",translation:"the people of Israel"}],grammaticalNotes:"Masculine singular noun, collective"},{id:"heb_034",language:"Hebrew",word:"דָּבָר",transliteration:"Davar",partOfSpeech:"noun",meanings:["word","thing","matter"],frequency:1454,chapter:7,examples:[{reference:"Genesis 15:1",text:"הָיָה דְבַר־יְהוָה",translation:"the word of the LORD came"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_035",language:"Hebrew",word:"יָד",transliteration:"Yad",partOfSpeech:"noun",meanings:["hand","power"],frequency:1627,chapter:8,examples:[{reference:"Exodus 14:31",text:"אֶת־הַיָּד הַגְּדֹלָה",translation:"the great hand/power"}],grammaticalNotes:"Feminine singular noun"},{id:"heb_036",language:"Hebrew",word:"לֵב",transliteration:"Lev",partOfSpeech:"noun",meanings:["heart","mind","will"],frequency:858,chapter:8,examples:[{reference:"Deuteronomy 6:5",text:"בְּכָל־לְבָבְךָ",translation:"with all your heart"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_037",language:"Hebrew",word:"נֶפֶשׁ",transliteration:"Nefesh",partOfSpeech:"noun",meanings:["soul","life","person"],frequency:757,chapter:8,examples:[{reference:"Genesis 2:7",text:"לְנֶפֶשׁ חַיָּה",translation:"a living soul"}],grammaticalNotes:"Feminine singular noun"},{id:"heb_038",language:"Hebrew",word:"רוּחַ",transliteration:"Ruach",partOfSpeech:"noun",meanings:["spirit","wind","breath"],frequency:378,chapter:8,examples:[{reference:"Genesis 1:2",text:"וְרוּחַ אֱלֹהִים",translation:"and the Spirit of God"}],grammaticalNotes:"Feminine singular noun"},{id:"heb_039",language:"Hebrew",word:"מַיִם",transliteration:"Mayim",partOfSpeech:"noun",meanings:["water","waters"],frequency:585,chapter:8,examples:[{reference:"Genesis 1:2",text:"עַל־פְּנֵי הַמָּיִם",translation:"over the face of the waters"}],grammaticalNotes:"Masculine plural (dual), always plural"},{id:"heb_040",language:"Hebrew",word:"אִשָּׁה",transliteration:"Ishah",partOfSpeech:"noun",meanings:["woman","wife"],frequency:781,chapter:9,examples:[{reference:"Genesis 2:22",text:"וַיִּבֶן אֶת־הַצֵּלָע לְאִשָּׁה",translation:"and fashioned the rib into a woman"}],grammaticalNotes:"Feminine singular noun"},{id:"heb_041",language:"Hebrew",word:"אִישׁ",transliteration:"Ish",partOfSpeech:"noun",meanings:["man","husband"],frequency:2188,chapter:9,examples:[{reference:"Genesis 2:23",text:"זֹאת תִּקָּרֵא אִשָּׁה כִּי מֵאִישׁ",translation:"this shall be called woman because from man"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_042",language:"Hebrew",word:"אָב",transliteration:"Av",partOfSpeech:"noun",meanings:["father","ancestor"],frequency:1210,chapter:9,examples:[{reference:"Genesis 2:24",text:"יַעֲזָב־אִישׁ אֶת־אָבִיו",translation:"a man shall leave his father"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_043",language:"Hebrew",word:"אֵם",transliteration:"Em",partOfSpeech:"noun",meanings:["mother"],frequency:220,chapter:9,examples:[{reference:"Genesis 2:24",text:"וְאֶת־אִמּוֹ",translation:"and his mother"}],grammaticalNotes:"Feminine singular noun"},{id:"heb_044",language:"Hebrew",word:"אָח",transliteration:"Ach",partOfSpeech:"noun",meanings:["brother"],frequency:629,chapter:9,examples:[{reference:"Genesis 4:2",text:"וַתֹּסֶף לָלֶדֶת אֶת־אָחִיו",translation:"and she bore his brother"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_045",language:"Hebrew",word:"אָחוֹת",transliteration:"Achot",partOfSpeech:"noun",meanings:["sister"],frequency:114,chapter:9,examples:[{reference:"Genesis 4:22",text:"וַאֲחוֹת תּוּבַל־קַיִן",translation:"and the sister of Tubal-cain"}],grammaticalNotes:"Feminine singular noun"},{id:"heb_046",language:"Hebrew",word:"קוֹל",transliteration:"Qol",partOfSpeech:"noun",meanings:["voice","sound"],frequency:505,chapter:10,examples:[{reference:"Genesis 3:8",text:"אֶת־קוֹל יְהוָה אֱלֹהִים",translation:"the sound of the LORD God"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_047",language:"Hebrew",word:"שֵׁם",transliteration:"Shem",partOfSpeech:"noun",meanings:["name"],frequency:864,chapter:10,examples:[{reference:"Genesis 2:19",text:"לִרְאוֹת מַה־יִּקְרָא־לוֹ וְכֹל אֲשֶׁר יִקְרָא־לוֹ הָאָדָם נֶפֶשׁ חַיָּה הוּא שְׁמוֹ",translation:"to see what he would call it, and whatever the man called a living creature, that was its name"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_048",language:"Hebrew",word:"מָקוֹם",transliteration:"Maqom",partOfSpeech:"noun",meanings:["place","location"],frequency:401,chapter:10,examples:[{reference:"Genesis 1:9",text:"אֶל־מָקוֹם אֶחָד",translation:"to one place"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_049",language:"Hebrew",word:"עֵץ",transliteration:"Etz",partOfSpeech:"noun",meanings:["tree","wood"],frequency:330,chapter:10,examples:[{reference:"Genesis 2:9",text:"כָּל־עֵץ נֶחְמָד",translation:"every tree pleasant"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_050",language:"Hebrew",word:"כֹּהֵן",transliteration:"Kohen",partOfSpeech:"noun",meanings:["priest"],frequency:750,chapter:10,examples:[{reference:"Genesis 14:18",text:"וְהוּא כֹהֵן לְאֵל עֶלְיוֹן",translation:"and he was priest of God Most High"}],grammaticalNotes:"Masculine singular noun"}],fx=[{id:"grk_001",language:"Greek",word:"ὁ",transliteration:"ho",partOfSpeech:"article",meanings:["the"],frequency:19870,chapter:1,examples:[{reference:"John 1:1",text:"Ἐν ἀρχῇ ἦν ὁ λόγος",translation:"In the beginning was the Word"}],grammaticalNotes:"Definite article, nominative masculine singular. Full paradigm: ὁ, ἡ, τό (m, f, n)"},{id:"grk_002",language:"Greek",word:"θεός",transliteration:"theos",partOfSpeech:"noun",meanings:["God","god"],frequency:1317,chapter:1,examples:[{reference:"John 1:1",text:"καὶ θεὸς ἦν ὁ λόγος",translation:"and the Word was God"}],grammaticalNotes:"Masculine 2nd declension noun"},{id:"grk_003",language:"Greek",word:"λόγος",transliteration:"logos",partOfSpeech:"noun",meanings:["word","message","reason"],frequency:330,chapter:1,examples:[{reference:"John 1:1",text:"Ἐν ἀρχῇ ἦν ὁ λόγος",translation:"In the beginning was the Word"}],grammaticalNotes:"Masculine 2nd declension noun"},{id:"grk_004",language:"Greek",word:"ἄνθρωπος",transliteration:"anthrōpos",partOfSpeech:"noun",meanings:["man","person","humanity"],frequency:550,chapter:1,examples:[{reference:"Matthew 4:4",text:"οὐκ ἐπ' ἄρτῳ μόνῳ ζήσεται ὁ ἄνθρωπος",translation:"man shall not live by bread alone"}],grammaticalNotes:"Masculine 2nd declension noun"},{id:"grk_005",language:"Greek",word:"υἱός",transliteration:"huios",partOfSpeech:"noun",meanings:["son"],frequency:377,chapter:2,examples:[{reference:"Matthew 3:17",text:"Οὗτός ἐστιν ὁ υἱός μου",translation:"This is my Son"}],grammaticalNotes:"Masculine 2nd declension noun"},{id:"grk_006",language:"Greek",word:"κύριος",transliteration:"kyrios",partOfSpeech:"noun",meanings:["lord","master","Lord"],frequency:717,chapter:2,examples:[{reference:"Matthew 7:21",text:"Κύριε, κύριε",translation:"Lord, Lord"}],grammaticalNotes:"Masculine 2nd declension noun, often refers to Jesus or God"},{id:"grk_007",language:"Greek",word:"ἀδελφός",transliteration:"adelphos",partOfSpeech:"noun",meanings:["brother"],frequency:343,chapter:2,examples:[{reference:"Matthew 4:18",text:"δύο ἀδελφούς",translation:"two brothers"}],grammaticalNotes:"Masculine 2nd declension noun"},{id:"grk_008",language:"Greek",word:"οὐρανός",transliteration:"ouranos",partOfSpeech:"noun",meanings:["heaven","sky"],frequency:273,chapter:2,examples:[{reference:"Matthew 3:2",text:"ἡ βασιλεία τῶν οὐρανῶν",translation:"the kingdom of heaven"}],grammaticalNotes:"Masculine 2nd declension noun"},{id:"grk_009",language:"Greek",word:"καρδία",transliteration:"kardia",partOfSpeech:"noun",meanings:["heart"],frequency:156,chapter:2,examples:[{reference:"Matthew 5:8",text:"οἱ καθαροὶ τῇ καρδίᾳ",translation:"the pure in heart"}],grammaticalNotes:"Feminine 1st declension noun"},{id:"grk_010",language:"Greek",word:"ἡμέρα",transliteration:"hēmera",partOfSpeech:"noun",meanings:["day"],frequency:389,chapter:2,examples:[{reference:"Matthew 6:34",text:"ἀρκετὸν τῇ ἡμέρᾳ ἡ κακία αὐτῆς",translation:"sufficient for the day is its own trouble"}],grammaticalNotes:"Feminine 1st declension noun"},{id:"grk_011",language:"Greek",word:"εἰμί",transliteration:"eimi",partOfSpeech:"verb",meanings:["to be","I am"],frequency:2462,chapter:3,examples:[{reference:"John 8:58",text:"πρὶν Ἀβραὰμ γενέσθαι ἐγὼ εἰμί",translation:"Before Abraham was, I am"}],grammaticalNotes:"Irregular verb. Present: εἰμί, εἶ, ἐστί, ἐσμέν, ἐστέ, εἰσί"},{id:"grk_012",language:"Greek",word:"λέγω",transliteration:"legō",partOfSpeech:"verb",meanings:["to say","to speak","to tell"],frequency:2354,chapter:3,examples:[{reference:"Matthew 3:9",text:"μὴ δόξητε λέγειν ἐν ἑαυτοῖς",translation:"do not presume to say to yourselves"}],grammaticalNotes:"Present active indicative 1s. Future: ἐρῶ, Aorist: εἶπον"},{id:"grk_013",language:"Greek",word:"ἔχω",transliteration:"echō",partOfSpeech:"verb",meanings:["to have","to hold"],frequency:708,chapter:3,examples:[{reference:"Matthew 3:9",text:"πατέρα ἔχομεν τὸν Ἀβραάμ",translation:"we have Abraham as our father"}],grammaticalNotes:"Present active indicative 1s. Future: ἕξω, Aorist: ἔσχον"},{id:"grk_014",language:"Greek",word:"γίνομαι",transliteration:"ginomai",partOfSpeech:"verb",meanings:["to become","to be","to happen"],frequency:669,chapter:3,examples:[{reference:"John 1:3",text:"πάντα δι' αὐτοῦ ἐγένετο",translation:"all things came into being through him"}],grammaticalNotes:"Deponent verb (middle/passive forms with active meaning). Aorist: ἐγενόμην"},{id:"grk_015",language:"Greek",word:"ἀκούω",transliteration:"akouō",partOfSpeech:"verb",meanings:["to hear","to listen"],frequency:428,chapter:4,examples:[{reference:"Matthew 2:3",text:"ἀκούσας δὲ ὁ βασιλεὺς Ἡρῴδης",translation:"And when Herod the king heard"}],grammaticalNotes:"Regular ω-verb. Aorist: ἤκουσα. Takes genitive of person heard"},{id:"grk_016",language:"Greek",word:"βλέπω",transliteration:"blepō",partOfSpeech:"verb",meanings:["to see","to look"],frequency:133,chapter:4,examples:[{reference:"Matthew 5:28",text:"πᾶς ὁ βλέπων γυναῖκα",translation:"everyone who looks at a woman"}],grammaticalNotes:"Regular ω-verb. Aorist: ἔβλεψα"},{id:"grk_017",language:"Greek",word:"ποιέω",transliteration:"poieō",partOfSpeech:"verb",meanings:["to do","to make"],frequency:568,chapter:4,examples:[{reference:"Matthew 3:8",text:"ποιήσατε οὖν καρπὸν",translation:"therefore bear fruit"}],grammaticalNotes:"Contract verb (-εω). Aorist: ἐποίησα"},{id:"grk_018",language:"Greek",word:"ἔρχομαι",transliteration:"erchomai",partOfSpeech:"verb",meanings:["to come","to go"],frequency:634,chapter:4,examples:[{reference:"Matthew 3:11",text:"ὁ δὲ ὀπίσω μου ἐρχόμενος",translation:"but he who is coming after me"}],grammaticalNotes:"Deponent verb. Aorist: ἦλθον (from ἐλεύσομαι)"},{id:"grk_019",language:"Greek",word:"λαλέω",transliteration:"laleō",partOfSpeech:"verb",meanings:["to speak","to talk"],frequency:296,chapter:4,examples:[{reference:"Matthew 9:18",text:"ταῦτα αὐτοῦ λαλοῦντος αὐτοῖς",translation:"while he was saying these things to them"}],grammaticalNotes:"Contract verb (-εω). Aorist: ἐλάλησα"},{id:"grk_020",language:"Greek",word:"δίδωμι",transliteration:"didōmi",partOfSpeech:"verb",meanings:["to give"],frequency:415,chapter:4,examples:[{reference:"Matthew 4:9",text:"ταῦτά σοι πάντα δώσω",translation:"all these I will give you"}],grammaticalNotes:"μι-verb. Present: δίδωμι, δίδως, δίδωσι. Aorist: ἔδωκα"},{id:"grk_021",language:"Greek",word:"ἐν",transliteration:"en",partOfSpeech:"preposition",meanings:["in","by","with"],frequency:2752,chapter:5,examples:[{reference:"John 1:1",text:"Ἐν ἀρχῇ ἦν ὁ λόγος",translation:"In the beginning was the Word"}],grammaticalNotes:"Takes dative case only"},{id:"grk_022",language:"Greek",word:"εἰς",transliteration:"eis",partOfSpeech:"preposition",meanings:["into","to","for"],frequency:1768,chapter:5,examples:[{reference:"Matthew 2:1",text:"Ἰησοῦ γεννηθέντος ἐν Βηθλέεμ... εἰς Ἱεροσόλυμα",translation:"Jesus was born in Bethlehem... to Jerusalem"}],grammaticalNotes:"Takes accusative case only. Indicates motion toward"},{id:"grk_023",language:"Greek",word:"ἐκ",transliteration:"ek",partOfSpeech:"preposition",meanings:["from","out of"],frequency:914,chapter:5,examples:[{reference:"Matthew 1:3",text:"Φαρὲς ἐγέννησεν... ἐκ τῆς Θαμάρ",translation:"Perez... from Tamar"}],grammaticalNotes:"Takes genitive case only. ἐξ before vowels"},{id:"grk_024",language:"Greek",word:"ἀπό",transliteration:"apo",partOfSpeech:"preposition",meanings:["from","away from"],frequency:646,chapter:5,examples:[{reference:"Matthew 1:17",text:"ἀπὸ Ἀβραὰμ ἕως Δαυίδ",translation:"from Abraham to David"}],grammaticalNotes:"Takes genitive case only. ἀπ' before vowels"},{id:"grk_025",language:"Greek",word:"πρός",transliteration:"pros",partOfSpeech:"preposition",meanings:["to","toward","with"],frequency:700,chapter:5,examples:[{reference:"John 1:1",text:"καὶ ὁ λόγος ἦν πρὸς τὸν θεόν",translation:"and the Word was with God"}],grammaticalNotes:"Takes accusative (most common), genitive, or dative"},{id:"grk_026",language:"Greek",word:"διά",transliteration:"dia",partOfSpeech:"preposition",meanings:["through","because of"],frequency:667,chapter:6,examples:[{reference:"John 1:3",text:"πάντα δι' αὐτοῦ ἐγένετο",translation:"all things came into being through him"}],grammaticalNotes:"Takes genitive (through) or accusative (because of). δι' before vowels"},{id:"grk_027",language:"Greek",word:"μετά",transliteration:"meta",partOfSpeech:"preposition",meanings:["with","after"],frequency:469,chapter:6,examples:[{reference:"Matthew 1:23",text:"ὁ θεὸς μεθ' ἡμῶν",translation:"God with us"}],grammaticalNotes:"Takes genitive (with) or accusative (after). μετ' or μεθ' before vowels"},{id:"grk_028",language:"Greek",word:"ἐπί",transliteration:"epi",partOfSpeech:"preposition",meanings:["on","upon","over"],frequency:890,chapter:6,examples:[{reference:"Matthew 3:16",text:"καταβαῖνον ἐπ' αὐτόν",translation:"descending upon him"}],grammaticalNotes:"Takes genitive, dative, or accusative. ἐπ' before vowels"},{id:"grk_029",language:"Greek",word:"κατά",transliteration:"kata",partOfSpeech:"preposition",meanings:["according to","against","down"],frequency:473,chapter:6,examples:[{reference:"Matthew 1:20",text:"ἄγγελος κατ' ὄναρ ἐφάνη",translation:"an angel appeared in a dream"}],grammaticalNotes:"Takes genitive (against, down) or accusative (according to). κατ' before vowels"},{id:"grk_030",language:"Greek",word:"ὑπό",transliteration:"hypo",partOfSpeech:"preposition",meanings:["by","under"],frequency:220,chapter:6,examples:[{reference:"Matthew 3:6",text:"ἐβαπτίζοντο... ὑπ' αὐτοῦ",translation:"they were baptized by him"}],grammaticalNotes:"Takes genitive (by - agent) or accusative (under). ὑπ' before vowels"},{id:"grk_031",language:"Greek",word:"καί",transliteration:"kai",partOfSpeech:"conjunction",meanings:["and","also","even"],frequency:9161,chapter:5,examples:[{reference:"John 1:1",text:"καὶ ὁ λόγος ἦν πρὸς τὸν θεόν",translation:"and the Word was with God"}],grammaticalNotes:'Most frequent word in NT. Can mean "and", "also", "even", or "but"'},{id:"grk_032",language:"Greek",word:"δέ",transliteration:"de",partOfSpeech:"conjunction",meanings:["but","and","now"],frequency:2792,chapter:5,examples:[{reference:"Matthew 1:2",text:"Ἀβραὰμ ἐγέννησεν τὸν Ἰσαάκ, Ἰσαὰκ δὲ ἐγέννησεν",translation:"Abraham was the father of Isaac, and Isaac the father of"}],grammaticalNotes:"Postpositive (second position in clause). Usually weaker than ἀλλά"},{id:"grk_033",language:"Greek",word:"ἀλλά",transliteration:"alla",partOfSpeech:"conjunction",meanings:["but","rather","except"],frequency:638,chapter:6,examples:[{reference:"Matthew 4:4",text:"οὐκ ἐπ' ἄρτῳ μόνῳ... ἀλλ' ἐπὶ παντὶ ῥήματι",translation:"not on bread alone... but on every word"}],grammaticalNotes:"Strong adversative. ἀλλ' before vowels"},{id:"grk_034",language:"Greek",word:"γάρ",transliteration:"gar",partOfSpeech:"conjunction",meanings:["for","because"],frequency:1041,chapter:6,examples:[{reference:"Matthew 1:21",text:"αὐτὸς γὰρ σώσει τὸν λαὸν αὐτοῦ",translation:"for he will save his people"}],grammaticalNotes:"Postpositive. Gives explanation or reason"},{id:"grk_035",language:"Greek",word:"οὖν",transliteration:"oun",partOfSpeech:"conjunction",meanings:["therefore","then"],frequency:499,chapter:6,examples:[{reference:"Matthew 3:8",text:"ποιήσατε οὖν καρπὸν",translation:"therefore bear fruit"}],grammaticalNotes:"Postpositive. Draws inference or conclusion"},{id:"grk_036",language:"Greek",word:"ὅτι",transliteration:"hoti",partOfSpeech:"conjunction",meanings:["that","because"],frequency:1296,chapter:6,examples:[{reference:"Matthew 2:2",text:"εἴδομεν γὰρ αὐτοῦ τὸν ἀστέρα... καὶ ἤλθομεν προσκυνῆσαι αὐτῷ",translation:"for we saw his star... and have come to worship him"}],grammaticalNotes:"Introduces indirect discourse or causal clause"},{id:"grk_037",language:"Greek",word:"εἰ",transliteration:"ei",partOfSpeech:"conjunction",meanings:["if","whether"],frequency:502,chapter:6,examples:[{reference:"Matthew 4:3",text:"Εἰ υἱὸς εἶ τοῦ θεοῦ",translation:"If you are the Son of God"}],grammaticalNotes:"Introduces conditional clauses"},{id:"grk_038",language:"Greek",word:"ἵνα",transliteration:"hina",partOfSpeech:"conjunction",meanings:["in order that","that","so that"],frequency:663,chapter:6,examples:[{reference:"John 3:16",text:"ἵνα πᾶς ὁ πιστεύων... ἔχῃ ζωὴν αἰώνιον",translation:"so that whoever believes... may have eternal life"}],grammaticalNotes:"Purpose or result clause, takes subjunctive"},{id:"grk_039",language:"Greek",word:"ὡς",transliteration:"hōs",partOfSpeech:"conjunction",meanings:["as","like","when"],frequency:504,chapter:7,examples:[{reference:"Matthew 1:24",text:"ἐποίησεν ὡς προσέταξεν αὐτῷ",translation:"he did as the angel commanded him"}],grammaticalNotes:"Comparison, manner, or temporal"},{id:"grk_040",language:"Greek",word:"οὐ",transliteration:"ou",partOfSpeech:"particle",meanings:["not"],frequency:1606,chapter:5,examples:[{reference:"Matthew 4:4",text:"οὐκ ἐπ' ἄρτῳ μόνῳ",translation:"not on bread alone"}],grammaticalNotes:"Negates indicative mood. οὐκ before smooth breathing, οὐχ before rough breathing"},{id:"grk_041",language:"Greek",word:"πιστεύω",transliteration:"pisteuō",partOfSpeech:"verb",meanings:["to believe","to trust","to have faith"],frequency:241,chapter:7,examples:[{reference:"John 3:16",text:"πᾶς ὁ πιστεύων εἰς αὐτὸν",translation:"everyone who believes in him"}],grammaticalNotes:"Takes dative (believe someone) or εἰς + accusative (believe in)"},{id:"grk_042",language:"Greek",word:"ἀγαπάω",transliteration:"agapaō",partOfSpeech:"verb",meanings:["to love"],frequency:143,chapter:7,examples:[{reference:"John 3:16",text:"οὕτως γὰρ ἠγάπησεν ὁ θεὸς τὸν κόσμον",translation:"For God so loved the world"}],grammaticalNotes:"Contract verb (-αω). Aorist: ἠγάπησα"},{id:"grk_043",language:"Greek",word:"ζωή",transliteration:"zōē",partOfSpeech:"noun",meanings:["life"],frequency:135,chapter:7,examples:[{reference:"John 1:4",text:"ἐν αὐτῷ ζωὴ ἦν",translation:"In him was life"}],grammaticalNotes:"Feminine 1st declension noun"},{id:"grk_044",language:"Greek",word:"κόσμος",transliteration:"kosmos",partOfSpeech:"noun",meanings:["world","universe"],frequency:186,chapter:8,examples:[{reference:"John 3:16",text:"ἠγάπησεν ὁ θεὸς τὸν κόσμον",translation:"God loved the world"}],grammaticalNotes:"Masculine 2nd declension noun"},{id:"grk_045",language:"Greek",word:"πνεῦμα",transliteration:"pneuma",partOfSpeech:"noun",meanings:["spirit","Spirit","wind","breath"],frequency:379,chapter:8,examples:[{reference:"Matthew 3:16",text:"τὸ πνεῦμα τοῦ θεοῦ",translation:"the Spirit of God"}],grammaticalNotes:"Neuter 3rd declension noun"},{id:"grk_046",language:"Greek",word:"δόξα",transliteration:"doxa",partOfSpeech:"noun",meanings:["glory","honor"],frequency:166,chapter:8,examples:[{reference:"John 1:14",text:"ἐθεασάμεθα τὴν δόξαν αὐτοῦ",translation:"we have seen his glory"}],grammaticalNotes:"Feminine 1st declension noun"},{id:"grk_047",language:"Greek",word:"ἁμαρτία",transliteration:"hamartia",partOfSpeech:"noun",meanings:["sin"],frequency:173,chapter:9,examples:[{reference:"John 1:29",text:"ὁ αἴρων τὴν ἁμαρτίαν τοῦ κόσμου",translation:"who takes away the sin of the world"}],grammaticalNotes:"Feminine 1st declension noun"},{id:"grk_048",language:"Greek",word:"ἐκκλησία",transliteration:"ekklēsia",partOfSpeech:"noun",meanings:["church","assembly"],frequency:114,chapter:9,examples:[{reference:"Matthew 16:18",text:"οἰκοδομήσω μου τὴν ἐκκλησίαν",translation:"I will build my church"}],grammaticalNotes:"Feminine 1st declension noun"},{id:"grk_049",language:"Greek",word:"βασιλεία",transliteration:"basileia",partOfSpeech:"noun",meanings:["kingdom","reign"],frequency:162,chapter:9,examples:[{reference:"Matthew 3:2",text:"ἤγγικεν ἡ βασιλεία τῶν οὐρανῶν",translation:"the kingdom of heaven is at hand"}],grammaticalNotes:"Feminine 1st declension noun"},{id:"grk_050",language:"Greek",word:"χάρις",transliteration:"charis",partOfSpeech:"noun",meanings:["grace","favor"],frequency:155,chapter:10,examples:[{reference:"John 1:14",text:"πλήρης χάριτος καὶ ἀληθείας",translation:"full of grace and truth"}],grammaticalNotes:"Feminine 3rd declension noun"}],uI=()=>[...dx,...fx],Td=t=>t==="Hebrew"?dx:fx,cI=(t,e)=>{const a=new Date;if(e<3)return{...t,lastReviewed:a,nextReview:new Date(a.getTime()+1440*60*1e3),correctCount:t.correctCount,incorrectCount:t.incorrectCount+1,easinessFactor:Math.max(1.3,t.easinessFactor-.2),interval:1,repetitions:0};const r=t.repetitions+1,l=t.correctCount+1,u=Math.max(1.3,t.easinessFactor+(.1-(5-e)*(.08+(5-e)*.02)));let c;r===1?c=1:r===2?c=6:c=Math.round(t.interval*u);const m=new Date(a.getTime()+c*24*60*60*1e3);return{...t,lastReviewed:a,nextReview:m,correctCount:l,incorrectCount:t.incorrectCount,easinessFactor:u,interval:c,repetitions:r}},dI=t=>{const e=new Date;return{cardId:t,lastReviewed:e,nextReview:e,correctCount:0,incorrectCount:0,easinessFactor:2.5,interval:0,repetitions:0}},Wc=(t,e=new Date)=>t.filter(a=>a.nextReview<=e).sort((a,r)=>a.nextReview.getTime()-r.nextReview.getTime()).map(a=>a.cardId),F0=t=>{const e=t.correctCount+t.incorrectCount,a=e>0?t.correctCount/e:0;let r;return t.repetitions===0?r="new":t.repetitions<3?r="learning":t.repetitions<6?r="intermediate":t.repetitions<10?r="advanced":r="mastered",{totalReviews:e,retentionRate:a,masteryLevel:r}},fI=(t,e,a=10,r=20)=>{const u=Wc(t,new Date),c=new Set(t.map(w=>w.cardId)),m=e-c.size,y=Math.min(a,m),p=Math.min(r,u.length),x=y+p;let b;return p>r?b=`You have ${u.length} cards due for review. Focus on reviews today to maintain your progress.`:m===0?b="Great job! You've studied all available cards. Keep reviewing to maintain mastery.":p===0?b=`No reviews due today. Perfect time to learn ${y} new cards!`:b=`Balance your session: ${p} reviews + ${y} new cards = ${x} cards total.`,{dueCards:u,newCards:y,totalForToday:x,recommendation:b}},mI=(t,e)=>{if(!t)return 1;switch(e){case"easy":return 5;case"medium":return 4;case"hard":return 3;default:return 4}},pI=t=>{try{const e=t.map(a=>({...a,lastReviewed:a.lastReviewed.toISOString(),nextReview:a.nextReview.toISOString()}));localStorage.setItem("biblical-language-vocab-progress",JSON.stringify(e))}catch(e){console.error("Failed to save vocabulary progress:",e)}},hI=()=>{try{const t=localStorage.getItem("biblical-language-vocab-progress");return t?JSON.parse(t).map(a=>({...a,lastReviewed:new Date(a.lastReviewed),nextReview:new Date(a.nextReview)})):[]}catch(t){return console.error("Failed to load vocabulary progress:",t),[]}},gI=()=>{const[t,e]=z.useState("menu"),[a,r]=z.useState("mixed"),[l,u]=z.useState("all"),[c,m]=z.useState([]),[y,p]=z.useState([]),[x,b]=z.useState(0),[w,E]=z.useState({total:0,completed:0,correct:0});z.useEffect(()=>{const q=hI();m(q)},[]),z.useEffect(()=>{c.length>0&&pI(c)},[c]);const C=uI(),A=fI(c,C.length),U=(q,H)=>{let k=[];const M=H==="all"?C:Td(H),ae=new Set(c.map(ne=>ne.cardId)),J=new Set(Wc(c));if(q==="review")k=M.filter(ne=>J.has(ne.id));else if(q==="new")k=M.filter(ne=>!ae.has(ne.id)).slice(0,10);else{const ne=M.filter($=>J.has($.id)),le=M.filter($=>!ae.has($.id)).slice(0,5);k=[...ne,...le]}k=k.sort(()=>Math.random()-.5),p(k),b(0),E({total:k.length,completed:0,correct:0}),e("session")},I=(q,H)=>{if(y.length===0)return;const k=y[x],M=q!=="again",J=mI(M,q==="easy"?"easy":q==="good"?"medium":"hard");let ne=c.find($=>$.cardId===k.id);ne||(ne=dI(k.id));const le=cI(ne,J);m($=>[...$.filter(X=>X.cardId!==k.id),le]),E($=>({...$,completed:$.completed+1,correct:$.correct+(M?1:0)})),x<y.length-1?b(x+1):setTimeout(()=>{e("menu")},2e3)},P=(()=>{const q=c.length,H=C.length,k=Wc(c).length,M=c.filter(X=>{const ue=C.find(V=>V.id===X.cardId);return(ue==null?void 0:ue.language)==="Hebrew"}).length,ae=c.filter(X=>{const ue=C.find(V=>V.id===X.cardId);return(ue==null?void 0:ue.language)==="Greek"}).length,J=c.map(X=>F0(X).masteryLevel),ne=J.filter(X=>X==="mastered").length,le=J.filter(X=>X==="advanced").length,$=J.filter(X=>X==="intermediate").length,K=J.filter(X=>X==="learning").length;return{totalStudied:q,totalCards:H,dueToday:k,hebrewStudied:M,greekStudied:ae,mastered:ne,advanced:le,intermediate:$,learning:K}})();if(t==="menu")return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-white to-indigo-50 p-6",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"聖經語言詞彙練習"}),d.jsx("p",{className:"text-gray-600",children:"使用間隔重複法掌握希伯來文和希臘文詞彙"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[d.jsxs("div",{className:"bg-amber-50 rounded-lg shadow-md p-6 text-center",children:[d.jsx("div",{className:"text-3xl font-bold text-indigo-600",children:P.totalStudied}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"已學習詞彙"}),d.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["/ ",P.totalCards," 總詞彙"]})]}),d.jsxs("div",{className:"bg-amber-50 rounded-lg shadow-md p-6 text-center",children:[d.jsx("div",{className:"text-3xl font-bold text-amber-600",children:P.dueToday}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"今日待複習"}),d.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"需要你的注意"})]}),d.jsxs("div",{className:"bg-amber-50 rounded-lg shadow-md p-6 text-center",children:[d.jsx("div",{className:"text-3xl font-bold text-green-600",children:P.mastered}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"已掌握"}),d.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"完全記住的詞彙"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[d.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg shadow-md p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-3",children:"希伯來文進度"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{children:"已學習:"}),d.jsxs("span",{className:"font-bold",children:[P.hebrewStudied," / 50"]})]}),d.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:d.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${P.hebrewStudied/50*100}%`}})})]})]}),d.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg shadow-md p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-3",children:"希臘文進度"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{children:"已學習:"}),d.jsxs("span",{className:"font-bold",children:[P.greekStudied," / 50"]})]}),d.jsx("div",{className:"w-full bg-green-200 rounded-full h-2",children:d.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all",style:{width:`${P.greekStudied/50*100}%`}})})]})]})]}),d.jsx("div",{className:"bg-gradient-to-r from-indigo-100 to-purple-100 border-2 border-indigo-300 rounded-lg p-6 mb-8",children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:"text-4xl",children:"💡"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-indigo-900 mb-2",children:"今日學習建議"}),d.jsx("p",{className:"text-indigo-800",children:A.recommendation})]})]})}),d.jsxs("div",{className:"bg-amber-50 rounded-lg shadow-md p-6 mb-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"選擇練習模式"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[d.jsxs("button",{onClick:()=>r("review"),className:`p-4 rounded-lg border-2 transition-all ${a==="review"?"border-amber-500 bg-amber-50":"border-gray-300 hover:border-amber-300"}`,children:[d.jsx("div",{className:"text-3xl mb-2",children:"📚"}),d.jsx("div",{className:"font-semibold",children:"複習模式"}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"只複習到期的詞彙"}),d.jsxs("div",{className:"text-xs text-amber-600 mt-2 font-bold",children:[A.dueCards.length," 張卡片"]})]}),d.jsxs("button",{onClick:()=>r("new"),className:`p-4 rounded-lg border-2 transition-all ${a==="new"?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-indigo-300"}`,children:[d.jsx("div",{className:"text-3xl mb-2",children:"✨"}),d.jsx("div",{className:"font-semibold",children:"新詞彙"}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"學習新的詞彙"}),d.jsxs("div",{className:"text-xs text-indigo-600 mt-2 font-bold",children:["最多 ",A.newCards," 張卡片"]})]}),d.jsxs("button",{onClick:()=>r("mixed"),className:`p-4 rounded-lg border-2 transition-all ${a==="mixed"?"border-green-500 bg-green-50":"border-gray-300 hover:border-green-300"}`,children:[d.jsx("div",{className:"text-3xl mb-2",children:"🎯"}),d.jsx("div",{className:"font-semibold",children:"混合模式"}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"複習 + 新詞彙"}),d.jsx("div",{className:"text-xs text-green-600 mt-2 font-bold",children:"平衡學習"})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"語言選擇"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>u("all"),className:`px-4 py-2 rounded-lg transition-all ${l==="all"?"bg-gray-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"全部"}),d.jsx("button",{onClick:()=>u("Hebrew"),className:`px-4 py-2 rounded-lg transition-all ${l==="Hebrew"?"bg-blue-600 text-white":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,children:"希伯來文"}),d.jsx("button",{onClick:()=>u("Greek"),className:`px-4 py-2 rounded-lg transition-all ${l==="Greek"?"bg-green-600 text-white":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:"希臘文"})]})]}),d.jsx("button",{onClick:()=>U(a,l),className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-bold rounded-lg shadow-lg transition-all transform hover:scale-105",children:"開始練習"})]}),d.jsx("button",{onClick:()=>e("stats"),className:"w-full py-3 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold rounded-lg transition-all",children:"查看詳細統計"})]})});if(t==="session"){if(y.length===0)return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-white to-indigo-50 flex items-center justify-center p-6",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-6xl mb-4",children:"🎉"}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"沒有需要複習的詞彙！"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"所有詞彙都已完成，試試學習新詞彙吧！"}),d.jsx("button",{onClick:()=>e("menu"),className:"px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg transition-all",children:"返回主選單"})]})});const q=y[x],H=w.completed===w.total;return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-white to-indigo-50 p-6",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["練習中 ",w.completed+1," / ",w.total]}),d.jsx("button",{onClick:()=>{confirm("確定要結束練習嗎？進度將不會被保存。")&&e("menu")},className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-all",children:"結束練習"})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 h-3 rounded-full transition-all",style:{width:`${w.completed/w.total*100}%`}})}),d.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mt-2",children:[d.jsxs("span",{children:["已完成: ",w.completed]}),d.jsxs("span",{children:["正確率:"," ",w.completed>0?Math.round(w.correct/w.completed*100):0,"%"]})]})]}),!H&&d.jsx(sI,{card:q,onRate:I}),H&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"text-6xl mb-4",children:"🎉"}),d.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"練習完成！"}),d.jsxs("p",{className:"text-lg text-gray-600 mb-6",children:["完成 ",w.total," 張卡片，正確率"," ",Math.round(w.correct/w.total*100),"%"]}),d.jsx("button",{onClick:()=>e("menu"),className:"px-8 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-bold rounded-lg shadow-lg transition-all transform hover:scale-105",children:"返回主選單"})]})]})})}if(t==="stats"){const q=c.map(H=>({cardId:H.cardId,card:C.find(k=>k.id===H.cardId),stats:F0(H),progress:H}));return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-white to-indigo-50 p-6",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"詳細統計"}),d.jsx("button",{onClick:()=>e("menu"),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-all",children:"返回主選單"})]}),d.jsxs("div",{className:"bg-amber-50 rounded-lg shadow-md p-6 mb-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"掌握程度分布"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:P.mastered}),d.jsx("div",{className:"text-sm text-gray-600",children:"已掌握"})]}),d.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:P.advanced}),d.jsx("div",{className:"text-sm text-gray-600",children:"進階"})]}),d.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:P.intermediate}),d.jsx("div",{className:"text-sm text-gray-600",children:"中級"})]}),d.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-orange-600",children:P.learning}),d.jsx("div",{className:"text-sm text-gray-600",children:"學習中"})]})]})]}),d.jsxs("div",{className:"bg-amber-50 rounded-lg shadow-md p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"詞彙進度詳情"}),d.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:q.sort((H,k)=>k.progress.repetitions-H.progress.repetitions).map(({cardId:H,card:k,stats:M,progress:ae})=>k?d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:`text-xl font-bold ${k.language==="Hebrew"?"font-hebrew":"font-greek"}`,children:k.word}),d.jsx("div",{className:"text-sm text-gray-600",children:k.transliteration})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"text-xs text-gray-500",children:[M.totalReviews," 次複習"]}),d.jsxs("div",{className:"text-xs text-gray-500",children:[Math.round(M.retentionRate*100),"% 正確"]}),d.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${M.masteryLevel==="mastered"?"bg-green-100 text-green-700":M.masteryLevel==="advanced"?"bg-blue-100 text-blue-700":M.masteryLevel==="intermediate"?"bg-yellow-100 text-yellow-700":"bg-orange-100 text-orange-700"}`,children:M.masteryLevel==="mastered"?"已掌握":M.masteryLevel==="advanced"?"進階":M.masteryLevel==="intermediate"?"中級":"學習中"})]})]},H):null)})]})]})})}return null},yI="AIzaSyDcN6U-3ferwZqCG-r93GR2kpKpC9U1SA4";new Nd({apiKey:yI});const xI=t=>new Promise((e,a)=>{if(!("speechSynthesis"in window)){a(new Error("Speech synthesis not supported"));return}const r=new SpeechSynthesisUtterance(t.word),l=window.speechSynthesis.getVoices();if(t.language==="Hebrew"){const u=l.find(c=>c.lang.startsWith("he"));u&&(r.voice=u),r.lang="he-IL"}else{const u=l.find(c=>c.lang.startsWith("el"));u&&(r.voice=u),r.lang="el-GR"}r.rate=.8,r.pitch=1,r.onend=()=>e(),r.onerror=u=>a(u.error),window.speechSynthesis.speak(r)}),mx=()=>new Promise(t=>{if(!("speechSynthesis"in window)){t([]);return}const e=window.speechSynthesis.getVoices();if(e.length>0){t(e);return}window.speechSynthesis.onvoiceschanged=()=>{t(window.speechSynthesis.getVoices())}}),vI=({language:t,onBack:e})=>{const[a,r]=z.useState("ready"),[l,u]=z.useState(null),[c,m]=z.useState(null),[y,p]=z.useState({correct:0,total:0}),[x,b]=z.useState(0),[w,E]=z.useState(!1),[C,A]=z.useState(!1),U=10;z.useEffect(()=>{mx().then(()=>{A(!0)})},[]);const I=()=>{const H=Td(t),k=H[Math.floor(Math.random()*H.length)],M=[],ae=H.filter(ne=>ne.id!==k.id);for(;M.length<3&&ae.length>0;){const ne=Math.floor(Math.random()*ae.length);M.push(ae[ne]),ae.splice(ne,1)}const J=[k,...M].sort(()=>Math.random()-.5);u({correct:k,options:J}),m(null),r("playing")},B=()=>{p({correct:0,total:0}),b(0),I()},P=async()=>{if(!(!l||w)){E(!0);try{await xI(l.correct)}catch(H){console.error("Error playing audio:",H),alert("無法播放音頻。您的瀏覽器可能不支援此語言的語音合成。")}finally{E(!1)}}},q=H=>{if(a!=="playing")return;m(H.id);const k=H.id===(l==null?void 0:l.correct.id);p(M=>({correct:M.correct+(k?1:0),total:M.total+1})),r(k?"correct":"incorrect"),setTimeout(()=>{const M=x+1;b(M),M>=U?r("complete"):I()},2e3)};if(a==="ready")return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-indigo-50 p-6",children:d.jsxs("div",{className:"max-w-2xl mx-auto",children:[d.jsx("button",{onClick:e,className:"mb-6 text-gray-600 hover:text-gray-800 transition-colors",children:"← 返回"}),d.jsxs("div",{className:"bg-amber-50 rounded-2xl shadow-xl p-8 text-center",children:[d.jsx("div",{className:"text-6xl mb-6",children:"👂"}),d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"聽力理解遊戲"}),d.jsx("p",{className:"text-lg text-gray-600 mb-6",children:t==="Hebrew"?"希伯來文":"希臘文"}),d.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg p-6 mb-6",children:[d.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"遊戲規則"}),d.jsxs("ul",{className:"text-sm text-gray-700 space-y-2 text-left max-w-md mx-auto",children:[d.jsx("li",{children:"🔊 點擊喇叭圖示聽取單詞發音"}),d.jsx("li",{children:"👀 查看 4 個選項"}),d.jsx("li",{children:"✅ 選擇你聽到的正確單詞"}),d.jsxs("li",{children:["🎯 完成 ",U," 個問題"]})]})]}),!C&&d.jsx("div",{className:"text-sm text-amber-600 mb-4",children:"載入語音中..."}),d.jsx("button",{onClick:B,disabled:!C,className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-bold rounded-lg shadow-lg transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:"開始遊戲"}),d.jsx("div",{className:"mt-6 text-xs text-gray-500",children:"提示：確保您的設備音量已開啟"})]})]})});if(a==="complete"){const H=Math.round(y.correct/y.total*100),k=H>=80,M=H>=60;return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-indigo-50 p-6",children:d.jsx("div",{className:"max-w-2xl mx-auto",children:d.jsxs("div",{className:"bg-amber-50 rounded-2xl shadow-xl p-8 text-center",children:[d.jsx("div",{className:"text-6xl mb-6",children:k?"🎉":M?"👍":"💪"}),d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"遊戲完成！"}),d.jsxs("div",{className:"bg-gradient-to-r from-purple-100 to-indigo-100 rounded-lg p-8 mb-6",children:[d.jsxs("div",{className:"text-5xl font-bold text-purple-600 mb-2",children:[y.correct," / ",y.total]}),d.jsxs("div",{className:"text-2xl font-semibold text-gray-700",children:[H,"% 正確"]})]}),d.jsxs("div",{className:"text-lg text-gray-700 mb-8",children:[k&&"太棒了！您的聽力理解能力很出色！",M&&!k&&"做得不錯！繼續練習會更好！",!M&&"繼續加油！多聽多練習會進步的！"]}),d.jsxs("div",{className:"flex gap-4 justify-center",children:[d.jsx("button",{onClick:B,className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-bold rounded-lg shadow-lg transition-all",children:"再玩一次"}),d.jsx("button",{onClick:e,className:"px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold rounded-lg transition-all",children:"返回選單"})]})]})})})}return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-indigo-50 p-6",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("button",{onClick:e,className:"text-gray-600 hover:text-gray-800 transition-colors",children:"← 返回"}),d.jsxs("div",{className:"text-lg font-semibold text-gray-700",children:["問題 ",x+1," / ",U]})]}),d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[d.jsx("span",{children:"進度"}),d.jsxs("span",{children:["正確: ",y.correct," / ",y.total]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 h-3 rounded-full transition-all",style:{width:`${(x+1)/U*100}%`}})})]}),d.jsx("div",{className:"bg-amber-50 rounded-2xl shadow-xl p-8 mb-8",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"你聽到哪個單詞？"}),d.jsx("button",{onClick:P,disabled:w||a!=="playing",className:`w-32 h-32 rounded-full flex items-center justify-center mx-auto mb-6 transition-all transform hover:scale-110 shadow-2xl ${w?"bg-purple-400 cursor-wait":"bg-gradient-to-br from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700"}`,children:d.jsx("span",{className:"text-6xl text-white",children:w?"⏸️":"🔊"})}),d.jsx("p",{className:"text-gray-600 text-sm",children:w?"播放中...":"點擊播放發音"}),a==="playing"&&d.jsx("button",{onClick:P,disabled:w,className:"mt-4 text-sm text-purple-600 hover:text-purple-700 underline",children:"重新播放"})]})}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l==null?void 0:l.options.map(H=>{const k=c===H.id,M=H.id===l.correct.id,ae=a==="correct"||a==="incorrect";return d.jsxs("button",{onClick:()=>q(H),disabled:a!=="playing",className:`p-6 rounded-xl border-4 transition-all transform hover:scale-105 ${ae&&M?"bg-green-100 border-green-500":ae&&k&&!M?"bg-red-100 border-red-500":a==="playing"?"bg-amber-50 border-gray-300 hover:border-purple-400":"bg-amber-50 border-gray-300"}`,children:[d.jsx("div",{className:`text-4xl font-bold mb-2 ${H.language==="Hebrew"?"font-hebrew":"font-greek"}`,dir:H.language==="Hebrew"?"rtl":"ltr",children:H.word}),d.jsx("div",{className:"text-sm text-gray-600 italic mb-1",children:H.transliteration}),ae&&d.jsx("div",{className:"text-xs text-gray-600 mt-2",children:H.meanings.join(", ")}),ae&&M&&d.jsx("div",{className:"mt-3 text-green-600 font-bold",children:"✓ 正確答案"}),ae&&k&&!M&&d.jsx("div",{className:"mt-3 text-red-600 font-bold",children:"✗ 錯誤"})]},H.id)})}),a==="correct"&&d.jsxs("div",{className:"mt-6 p-4 bg-green-100 border-2 border-green-400 rounded-lg text-center",children:[d.jsx("span",{className:"text-2xl mr-2",children:"🎉"}),d.jsx("span",{className:"text-green-800 font-semibold",children:"太棒了！答對了！"})]}),a==="incorrect"&&d.jsxs("div",{className:"mt-6 p-4 bg-red-100 border-2 border-red-400 rounded-lg text-center",children:[d.jsx("span",{className:"text-2xl mr-2",children:"💪"}),d.jsxs("span",{className:"text-red-800 font-semibold",children:["答錯了！正確答案是: ",l==null?void 0:l.correct.word]})]})]})})},bI="AIzaSyDcN6U-3ferwZqCG-r93GR2kpKpC9U1SA4",wI=new Nd({apiKey:bI}),SI=async t=>{try{const e="gemini-2.0-flash-exp",a=`You are a ${t.language==="Hebrew"?"Biblical Hebrew":"Koine Greek"} pronunciation expert teaching pronunciation.

Word: ${t.word}
Correct Transliteration: ${t.transliteration}
Meaning: ${t.meanings.join(", ")}
Part of Speech: ${t.partOfSpeech}

Generate 4 VERY DIFFERENT pronunciation attempts for this word - one correct and three with OBVIOUS, NOTICEABLE mistakes.

IMPORTANT: Make the incorrect pronunciations SIGNIFICANTLY different from the correct one. The differences should be CLEARLY AUDIBLE to learners.

For ${t.language==="Hebrew"?"Hebrew":"Greek"}, provide:
1. ONE correct pronunciation
2. THREE incorrect pronunciations with MAJOR, OBVIOUS errors:
   - Use DIFFERENT phonetic spellings that will sound distinctly wrong
   - Add or remove syllables
   - Change consonants or vowels significantly
   - Use wrong stress patterns that are very noticeable
   - Make mistakes that are EASY to hear

Respond in JSON format:
{
  "options": [
    {
      "phoneticText": "the word in original script (correct) OR significantly modified phonetic version (incorrect)",
      "description": "說明 in Traditional Chinese (either '正確發音' or specific description of the obvious mistake)",
      "isCorrect": true/false,
      "mistakeType": null (for correct) or one of: "stress" | "vowel" | "consonant" | "speed"
    }
  ]
}

CRITICAL REQUIREMENTS:
- The correct pronunciation uses the exact original word: ${t.word}
- The 3 incorrect ones MUST use NOTICEABLY DIFFERENT phonetic text that sounds VERY WRONG
- Make errors OBVIOUS - like adding syllables, wrong vowels, missing sounds, completely wrong stress
- Example: If correct is "שָׁלוֹם" (shalom), wrong ones could be "שָׁלוֹמִים" (shalomim), "סָלוֹם" (salom), "שַׁלוֹם" (shallom)
- Descriptions should clearly explain the OBVIOUS mistake in Traditional Chinese
- All 4 options should use the same script (${t.language==="Hebrew"?"Hebrew":"Greek"})`,r=await wI.models.generateContent({model:e,contents:{parts:[{text:a}]},config:{responseMimeType:"application/json",temperature:.9}}),u=JSON.parse(r.text).options.map((c,m)=>({id:`opt_${m}`,phoneticText:c.phoneticText,description:c.description,isCorrect:c.isCorrect,mistakeType:c.mistakeType})).sort(()=>Math.random()-.5);return{word:t,options:u}}catch(e){throw console.error("Error generating pronunciation challenge:",e),e}},EI=async(t,e,a)=>new Promise((r,l)=>{if(!("speechSynthesis"in window)){l(new Error("Speech synthesis not supported"));return}const u=new SpeechSynthesisUtterance(t),c=window.speechSynthesis.getVoices();if(e==="Hebrew"){const m=c.find(y=>y.lang.startsWith("he"));m&&(u.voice=m),u.lang="he-IL"}else{const m=c.find(y=>y.lang.startsWith("el"));m&&(u.voice=m),u.lang="el-GR"}switch(a){case"stress":u.rate=1.4,u.pitch=1.4;break;case"vowel":u.pitch=.7,u.rate=.8;break;case"consonant":u.rate=.7,u.pitch=.8;break;case"speed":u.rate=1.6,u.pitch=1.1;break;default:u.rate=.75,u.pitch=1}u.onend=()=>r(),u.onerror=m=>l(m.error),window.speechSynthesis.speak(u)}),NI=({language:t,onBack:e})=>{const[a,r]=z.useState("ready"),[l,u]=z.useState(null),[c,m]=z.useState(null),[y,p]=z.useState(null),[x,b]=z.useState({correct:0,total:0}),[w,E]=z.useState(0),[C,A]=z.useState(!1),[U,I]=z.useState(null),B=10;z.useEffect(()=>{mx().then(()=>{A(!0)})},[]);const P=async()=>{r("loading"),I(null);try{const M=Td(t),ae=M[Math.floor(Math.random()*M.length)],J=await SI(ae);u(J),m(null),r("playing")}catch(M){console.error("Error generating challenge:",M),I("生成挑戰失敗，請重試。"),r("ready")}},q=()=>{b({correct:0,total:0}),E(0),P()},H=async(M,ae,J)=>{if(!(y||a!=="playing")){p(M);try{await EI(ae,t,J)}catch(ne){console.error("Error playing pronunciation:",ne),I("無法播放音頻，請檢查瀏覽器設定。")}finally{p(null)}}},k=(M,ae)=>{a==="playing"&&(m(M),b(J=>({correct:J.correct+(ae?1:0),total:J.total+1})),r(ae?"correct":"incorrect"),setTimeout(()=>{const J=w+1;E(J),J>=B?r("complete"):P()},3e3))};if(a==="ready")return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-red-50 p-6",children:d.jsxs("div",{className:"max-w-2xl mx-auto",children:[d.jsx("button",{onClick:e,className:"mb-6 text-gray-600 hover:text-gray-800 transition-colors",children:"← 返回"}),d.jsxs("div",{className:"bg-amber-50 rounded-2xl shadow-xl p-8 text-center",children:[d.jsx("div",{className:"text-6xl mb-6",children:"🎯"}),d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"發音挑戰"}),d.jsx("p",{className:"text-lg text-gray-600 mb-6",children:t==="Hebrew"?"希伯來文":"希臘文"}),d.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-lg p-6 mb-6",children:[d.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"挑戰規則"}),d.jsxs("ul",{className:"text-sm text-gray-700 space-y-2 text-left max-w-md mx-auto",children:[d.jsx("li",{children:"👀 看到一個單詞"}),d.jsx("li",{children:"🔊 點擊聽 4 種不同的發音"}),d.jsx("li",{children:"✅ 選擇正確的發音"}),d.jsx("li",{children:"⚠️ 其他 3 個是常見錯誤"}),d.jsxs("li",{children:["🎯 完成 ",B," 個挑戰"]})]})]}),U&&d.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-300 rounded-lg text-red-700 text-sm",children:U}),!C&&d.jsx("div",{className:"text-sm text-amber-600 mb-4",children:"載入語音中..."}),d.jsx("button",{onClick:q,disabled:!C,className:"px-8 py-4 bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white font-bold rounded-lg shadow-lg transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:"開始挑戰"}),d.jsx("div",{className:"mt-6 text-xs text-gray-500",children:"提示：仔細聽每個發音的細微差異"})]})]})});if(a==="loading")return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-red-50 p-6 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:"🤖"}),d.jsx("div",{className:"text-xl font-semibold text-gray-700",children:"AI 正在生成挑戰..."})]})});if(a==="complete"){const M=Math.round(x.correct/x.total*100),ae=M>=80,J=M>=60;return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-red-50 p-6",children:d.jsx("div",{className:"max-w-2xl mx-auto",children:d.jsxs("div",{className:"bg-amber-50 rounded-2xl shadow-xl p-8 text-center",children:[d.jsx("div",{className:"text-6xl mb-6",children:ae?"🏆":J?"🎯":"💪"}),d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"挑戰完成！"}),d.jsxs("div",{className:"bg-gradient-to-r from-orange-100 to-red-100 rounded-lg p-8 mb-6",children:[d.jsxs("div",{className:"text-5xl font-bold text-orange-600 mb-2",children:[x.correct," / ",x.total]}),d.jsxs("div",{className:"text-2xl font-semibold text-gray-700",children:[M,"% 正確"]})]}),d.jsxs("div",{className:"text-lg text-gray-700 mb-8",children:[ae&&"驚人！您能辨別細微的發音差異！",J&&!ae&&"不錯！您的發音辨識能力正在進步！",!J&&"繼續練習！多聽會幫助您的耳朵變得更敏銳！"]}),d.jsxs("div",{className:"flex gap-4 justify-center",children:[d.jsx("button",{onClick:q,className:"px-6 py-3 bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white font-bold rounded-lg shadow-lg transition-all",children:"再挑戰一次"}),d.jsx("button",{onClick:e,className:"px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold rounded-lg transition-all",children:"返回選單"})]})]})})})}return l?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-red-50 p-6",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("button",{onClick:e,className:"text-gray-600 hover:text-gray-800 transition-colors",children:"← 返回"}),d.jsxs("div",{className:"text-lg font-semibold text-gray-700",children:["挑戰 ",w+1," / ",B]})]}),d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[d.jsx("span",{children:"進度"}),d.jsxs("span",{children:["正確: ",x.correct," / ",x.total]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-red-600 h-3 rounded-full transition-all",style:{width:`${(w+1)/B*100}%`}})})]}),d.jsx("div",{className:"bg-amber-50 rounded-2xl shadow-xl p-8 mb-8",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-600 mb-4",children:"哪個是正確的發音？"}),d.jsx("div",{className:`text-6xl font-bold mb-4 ${l.word.language==="Hebrew"?"font-hebrew":"font-greek"}`,dir:l.word.language==="Hebrew"?"rtl":"ltr",children:l.word.word}),d.jsx("div",{className:"text-xl text-gray-600 italic mb-2",children:l.word.transliteration}),d.jsx("div",{className:"text-sm text-gray-500",children:l.word.meanings.join(", ")})]})}),U&&d.jsx("div",{className:"mb-6 p-4 bg-red-100 border-2 border-red-300 rounded-lg text-red-700 text-center",children:U}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.options.map((M,ae)=>{const J=c===M.id,ne=a==="correct"||a==="incorrect",le=y===M.id;return d.jsxs("div",{className:`p-6 rounded-xl border-4 transition-all ${ne&&M.isCorrect?"bg-green-100 border-green-500":ne&&J&&!M.isCorrect?"bg-red-100 border-red-500":"bg-amber-50 border-gray-300"}`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("span",{className:"text-2xl font-bold text-gray-700",children:["選項 ",ae+1]}),d.jsx("button",{onClick:()=>H(M.id,M.phoneticText,M.mistakeType),disabled:le||a!=="playing",className:`w-12 h-12 rounded-full flex items-center justify-center transition-all ${le?"bg-orange-400 cursor-wait animate-pulse":"bg-gradient-to-br from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 transform hover:scale-110"}`,children:d.jsx("span",{className:"text-2xl text-white",children:le?"⏸️":"🔊"})})]}),ne&&d.jsx("div",{className:"text-sm text-gray-700 mb-3 bg-gray-50 p-3 rounded",children:M.description}),d.jsx("button",{onClick:()=>k(M.id,M.isCorrect),disabled:a!=="playing",className:`w-full py-3 rounded-lg font-bold transition-all ${a==="playing"?"bg-orange-600 hover:bg-orange-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:a==="playing"?"選擇此發音":"已選擇"}),ne&&M.isCorrect&&d.jsx("div",{className:"mt-3 text-green-600 font-bold text-center",children:"✓ 這是正確發音"}),ne&&J&&!M.isCorrect&&d.jsx("div",{className:"mt-3 text-red-600 font-bold text-center",children:"✗ 這是錯誤發音"})]},M.id)})}),a==="correct"&&d.jsxs("div",{className:"mt-6 p-4 bg-green-100 border-2 border-green-400 rounded-lg text-center",children:[d.jsx("span",{className:"text-2xl mr-2",children:"🎉"}),d.jsx("span",{className:"text-green-800 font-semibold",children:"太棒了！您選對了正確的發音！"})]}),a==="incorrect"&&d.jsxs("div",{className:"mt-6 p-4 bg-red-100 border-2 border-red-400 rounded-lg text-center",children:[d.jsx("span",{className:"text-2xl mr-2",children:"💪"}),d.jsx("span",{className:"text-red-800 font-semibold",children:"答錯了！仔細聽每個發音的差異。"})]})]})}):null},vt={OPENAI:{name:"OpenAI",model:"gpt-4o",endpoint:"/api/chat"},OLLAMA:{name:"Ollama Cloud",model:"qwen2.5-coder:32b",endpoint:"/api/chat"},GEMINI:{name:"Google Gemini",model:"gemini-2.0-flash-exp",apiKey:"AIzaSyDcN6U-3ferwZqCG-r93GR2kpKpC9U1SA4"}},TI=["Genesis 1:1","Psalm 23:1","Proverbs 3:5","Isaiah 40:31","Jeremiah 29:11","Psalm 119:105","Deuteronomy 6:4","Exodus 20:3","Proverbs 16:3","Isaiah 53:5","Psalm 46:1","Joshua 1:9","Micah 6:8","Ecclesiastes 3:1","Numbers 6:24-25"],CI=["John 3:16","Romans 8:28","Philippians 4:13","1 Corinthians 13:4","Matthew 5:3","John 1:1","Romans 12:2","Galatians 5:22","Ephesians 2:8","James 1:2","Matthew 6:33","1 John 4:8","Colossians 3:23","Hebrews 11:1","Revelation 21:4"],Rl=[],AI=5;async function _I(t,e=.7){const a=await fetch(vt.OLLAMA.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:"ollama",model:vt.OLLAMA.model,messages:t,temperature:e,topP:.9,maxTokens:2e3})});if(!a.ok){const l=await a.text();throw new Error(`Ollama Cloud API error (${a.status}): ${l}`)}const r=await a.json();if(!r.content)throw new Error("Invalid response format from Ollama Cloud");return r.content}async function II(t,e=.7){var m,y,p;const a=vt.GEMINI.apiKey,r=t.filter(x=>x.role!=="system").map(x=>({role:x.role==="assistant"?"model":"user",parts:[{text:x.content}]})),l=t.find(x=>x.role==="system"),u=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${vt.GEMINI.model}:generateContent?key=${a}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:r,systemInstruction:l?{parts:[{text:l.content}]}:void 0,generationConfig:{temperature:e,topP:.9,maxOutputTokens:2e3}})});if(!u.ok){const x=await u.text();throw new Error(`Gemini API error (${u.status}): ${x}`)}const c=await u.json();if((p=(y=(m=c.candidates)==null?void 0:m[0])==null?void 0:y.content)!=null&&p.parts)return c.candidates[0].content.parts.map(x=>x.text).join("");throw new Error("Invalid response format from Gemini")}async function kI(t,e=.7){const a=await fetch(vt.OPENAI.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:"openai",model:vt.OPENAI.model,messages:t,temperature:e,topP:.9,maxTokens:2e3})});if(!a.ok){const l=await a.text();throw new Error(`OpenAI API error (${a.status}): ${l}`)}const r=await a.json();if(!r.content)throw new Error("Invalid response format from OpenAI");return r.content}async function Cd(t,e=.7,a="Request"){console.log(`🔄 ${a} - Starting provider chain...`);try{console.log(`🔄 Trying ${vt.OPENAI.name} (${vt.OPENAI.model})...`);const r=await kI(t,e);return console.log(`✅ ${vt.OPENAI.name} succeeded`),r}catch(r){console.warn(`⚠️ ${vt.OPENAI.name} failed:`,r.message)}try{console.log(`↪️ Falling back to ${vt.OLLAMA.name} (${vt.OLLAMA.model})...`);const r=await _I(t,e);return console.log(`✅ ${vt.OLLAMA.name} succeeded`),r}catch(r){console.warn(`⚠️ ${vt.OLLAMA.name} failed:`,r.message)}try{console.log(`↪️ Falling back to ${vt.GEMINI.name} (${vt.GEMINI.model})...`);const r=await II(t,e);return console.log(`✅ ${vt.GEMINI.name} succeeded`),r}catch(r){console.error(`❌ ${vt.GEMINI.name} failed:`,r.message)}throw new Error("All AI providers failed. Please check your configuration and try again.")}const RI=async(t,e,a,r)=>{try{const u=[{role:"user",content:`You are a friendly and encouraging biblical language pronunciation coach. The user is trying to pronounce the ${e} word "${t.word}". The word is transliterated as "${t.transliteration}" and means "${t.meaning}".

Based on audio analysis (simulated), provide brief, clear, and positive feedback on their pronunciation in 1-2 sentences. If they are correct, praise them. If they are slightly off, gently guide them on the correct sound.`}];return await Cd(u,.7,"Pronunciation Feedback")}catch(l){return console.error("Error getting pronunciation feedback:",l),"Sorry, I encountered an error trying to analyze your pronunciation. Please try again."}},MI=async t=>{try{const e=t===he.HEBREW?"Biblical Hebrew":"Koine Greek",a=t===he.HEBREW?TI:CI;let r,l=0;do{const b=Math.floor(Math.random()*a.length);r=a[b],l++}while(Rl.includes(r)&&l<10);Rl.push(r),Rl.length>AI&&Rl.shift();const u=Date.now(),c=Math.random().toString(36).substring(7),m=`[Request ID: ${c}] Generate the specific Bible verse "${r}" in ${e}.

CRITICAL: You MUST provide the verse "${r}" - not any other verse.

Requirements:
- Provide the COMPLETE original ${e} text with proper characters and vowel points if applicable
- Include accurate transliteration for pronunciation practice
- Provide clear English translation
- The reference field MUST be exactly: ${r}

Unique request timestamp: ${u}

Output in JSON format with fields: original, transliteration, english, reference`;console.log(`%c[${c}] Generating verse: ${r} at ${new Date(u).toLocaleTimeString()}`,"color: blue; font-weight: bold");const p=await Cd([{role:"user",content:m}],.5,`Generate Bible Verse [${c}]`),x=JSON.parse(p);return console.log(`%c[${c}] ✓ Generated: ${x.reference}`,"color: green; font-weight: bold",x),{original:x.original,transliteration:x.transliteration,english:x.english,reference:x.reference,language:t}}catch(e){throw console.error("Error generating Bible sentence:",e),new Error("Failed to generate Bible sentence. Please try again.")}},DI=async(t,e,a)=>{try{const u=[{role:"user",content:`You are an expert ${t.language===he.HEBREW?"Biblical Hebrew":"Koine Greek"} pronunciation evaluator. The user is attempting to pronounce this Bible verse:

Original: ${t.original}
Transliteration: ${t.transliteration}
English: ${t.english}
Reference: ${t.reference}

Based on audio analysis (simulated), provide:
1. A score from 0-100 (0=unintelligible, 50=understandable with errors, 80=good, 100=excellent/native-like)
2. Specific feedback on what they did well and what needs improvement

Respond in this EXACT format:
SCORE: [number]
FEEDBACK: [Your detailed feedback in 2-3 sentences]`}],c=await Cd(u,.7,"Pronunciation Score"),m=c.match(/SCORE:\s*(\d+)/),y=c.match(/FEEDBACK:\s*(.+)/s),p=m?parseInt(m[1]):50,x=y?y[1].trim():c;return{score:p,feedback:x}}catch(r){return console.error("Error getting sentence pronunciation score:",r),{score:0,feedback:"Unable to evaluate pronunciation. Please try again."}}},LI=t=>new Promise((e,a)=>{const r=new FileReader;r.onloadend=()=>{if(typeof r.result!="string")return a(new Error("File could not be read as a string."));const l=r.result.split(",")[1];e(l)},r.onerror=a,r.readAsDataURL(t)}),qI=({language:t,onBack:e})=>{const[a,r]=z.useState(null),[l,u]=z.useState(!1),[c,m]=z.useState(!1),[y,p]=z.useState(!1),[x,b]=z.useState(null),[w,E]=z.useState(null),[C,A]=z.useState(null),U=z.useRef(null),I=z.useRef([]),B=z.useCallback(async()=>{u(!0),A(null),b(null),E(null);try{const M=await MI(t);r(M)}catch(M){A("無法生成句子，請重試"),console.error(M)}finally{u(!1)}},[t]),P=z.useCallback(async()=>{if(a)try{const M=await navigator.mediaDevices.getUserMedia({audio:!0});A(null),b(null),E(null);const ae=new MediaRecorder(M);U.current=ae,I.current=[],ae.ondataavailable=J=>{I.current.push(J.data)},ae.onstop=async()=>{p(!0);const J=new Blob(I.current,{type:ae.mimeType});try{const ne=await LI(J),le=await DI(a,ne,ae.mimeType);b(le.score),E(le.feedback)}catch(ne){console.error(ne),A("無法評估發音，請重試")}finally{p(!1)}M.getTracks().forEach(ne=>ne.stop())},ae.start(),m(!0)}catch(M){console.error("Error accessing microphone:",M),A("需要麥克風權限才能使用。請在瀏覽器設定中啟用麥克風。")}},[a]),q=z.useCallback(()=>{U.current&&U.current.state==="recording"&&(U.current.stop(),m(!1))},[]),H=M=>M>=80?"text-green-600":M>=60?"text-yellow-600":"text-red-600",k=M=>M>=80?"bg-green-100 border-green-300":M>=60?"bg-yellow-100 border-yellow-300":"bg-red-100 border-red-300";return J0.useEffect(()=>{B()},[B]),d.jsxs("div",{className:"w-full max-w-4xl mx-auto p-6",children:[d.jsx("button",{onClick:e,className:"mb-6 text-sm text-stone-600 hover:text-sky-600 transition-colors",children:"← 返回模式選擇"}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h2",{className:"text-3xl font-bold text-stone-800",children:[t===he.HEBREW?"希伯來文":"希臘文"," 句子練習"]}),d.jsx("button",{onClick:B,disabled:l||c||y,className:"flex items-center gap-2 px-4 py-2 bg-sky-600 text-stone-200 rounded-lg hover:bg-sky-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:l?d.jsxs(d.Fragment,{children:[d.jsx(yc,{className:"w-4 h-4 animate-spin"})," 生成中..."]}):d.jsxs(d.Fragment,{children:[d.jsx(y1,{className:"w-4 h-4"})," 新句子"]})})]}),C&&d.jsx("div",{className:"mb-6 p-4 bg-red-100 border-2 border-red-300 rounded-lg",children:d.jsx("p",{className:"text-red-800",children:C})}),a&&!l&&d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"text-center",children:d.jsx("span",{className:"inline-block px-4 py-2 bg-amber-100 text-amber-800 rounded-full text-sm font-semibold",children:a.reference})}),d.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-sky-50 rounded-xl p-6 border-2 border-blue-200",children:[d.jsx("p",{className:"text-xs text-stone-500 mb-2 font-semibold",children:"原文："}),d.jsx("p",{className:"text-4xl text-center font-serif leading-relaxed",dir:t===he.HEBREW?"rtl":"ltr",children:a.original})]}),d.jsxs("div",{className:"bg-stone-50 rounded-xl p-6 border-2 border-stone-200",children:[d.jsx("p",{className:"text-xs text-stone-500 mb-2 font-semibold",children:"發音指南："}),d.jsx("p",{className:"text-2xl text-center text-stone-700 font-mono leading-relaxed",children:a.transliteration})]}),d.jsxs("div",{className:"bg-green-50 rounded-xl p-6 border-2 border-green-200",children:[d.jsx("p",{className:"text-xs text-stone-500 mb-2 font-semibold",children:"英文翻譯："}),d.jsxs("p",{className:"text-lg text-center text-stone-700 italic",children:['"',a.english,'"']})]}),d.jsxs("div",{className:"flex flex-col items-center gap-4 pt-4",children:[d.jsx("button",{onClick:c?q:P,disabled:y,className:`flex items-center gap-3 px-8 py-4 rounded-full font-bold shadow-lg hover:shadow-xl transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed ${c?"bg-red-600 hover:bg-red-700 text-stone-200 animate-pulse":"bg-sky-600 hover:bg-sky-700 text-stone-200"}`,children:c?d.jsxs(d.Fragment,{children:[d.jsx(v1,{className:"w-6 h-6"})," 停止錄音"]}):d.jsxs(d.Fragment,{children:[d.jsx(td,{className:"w-6 h-6"})," 開始錄音"]})}),y&&d.jsxs("div",{className:"flex items-center gap-2 text-sky-600",children:[d.jsx(yc,{className:"w-5 h-5 animate-spin"}),d.jsx("span",{children:"AI 正在評估您的發音..."})]})]}),x!==null&&w&&d.jsxs("div",{className:`mt-6 p-6 rounded-xl border-2 ${k(x)} animate-fade-in`,children:[d.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[d.jsx("span",{className:"text-sm text-stone-600 font-semibold",children:"您的得分："}),d.jsx("span",{className:`text-6xl font-bold ${H(x)}`,children:x}),d.jsx("span",{className:"text-2xl text-stone-500",children:"/100"})]}),d.jsx("div",{className:"w-full h-4 bg-stone-200 rounded-full overflow-hidden mb-4",children:d.jsx("div",{className:`h-full transition-all duration-1000 ${x>=80?"bg-green-600":x>=60?"bg-yellow-600":"bg-red-600"}`,style:{width:`${x}%`}})}),d.jsxs("div",{className:"bg-white/50 rounded-lg p-4",children:[d.jsx("p",{className:"text-sm font-semibold text-stone-700 mb-2",children:"AI 反饋："}),d.jsx("p",{className:"text-stone-800 leading-relaxed",children:w})]})]})]}),l&&d.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[d.jsx(yc,{className:"w-12 h-12 text-sky-600 animate-spin mb-4"}),d.jsx("p",{className:"text-stone-600",children:"AI 正在生成聖經句子..."})]})]}),d.jsxs("div",{className:"mt-4 text-center text-xs text-stone-500",children:["Powered by ",d.jsx("span",{className:"font-semibold text-blue-600",children:"Multi-AI (GPT-4o/Ollama/Gemini)"})]})]})},PI=[{word:"בְּרֵאשִׁית",transliteration:"Bereshit",meaning:"In the beginning"},{word:"אֱלֹהִים",transliteration:"Elohim",meaning:"God"},{word:"יְהוָה",transliteration:"Yahweh",meaning:"The LORD"},{word:"שָׁלוֹם",transliteration:"Shalom",meaning:"Peace, harmony, wholeness"},{word:"תוֹרָה",transliteration:"Torah",meaning:"Law, instruction"},{word:"אָמֵן",transliteration:"Amen",meaning:"Truly, so be it"}],UI=[{word:"Λόγος",transliteration:"Logos",meaning:"Word, reason"},{word:"ἀγάπη",transliteration:"Agape",meaning:"Love (unconditional)"},{word:"Χριστός",transliteration:"Christos",meaning:"Christ, Anointed One"},{word:"πνεῦμα",transliteration:"Pneuma",meaning:"Spirit, wind, breath"},{word:"εὐαγγέλιον",transliteration:"Euangelion",meaning:"Good news, gospel"},{word:"χάρις",transliteration:"Charis",meaning:"Grace, favor"}],BI={[he.HEBREW]:PI,[he.GREEK]:UI},VI=t=>new Promise((e,a)=>{const r=new FileReader;r.onloadend=()=>{if(typeof r.result!="string")return a(new Error("File could not be read as a string."));const u=r.result.split(",")[1];e(u)},r.onerror=a,r.readAsDataURL(t)});function GI(){const[t,e]=z.useState(null),[a,r]=z.useState("selecting"),[l,u]=z.useState(null),[c,m]=z.useState(0),[y,p]=z.useState(null),[x,b]=z.useState(null),[w,E]=z.useState(null),C=z.useRef(null),A=z.useRef([]),U=l?BI[l]:[],I=U[c],B=$=>{u($),m(0),b(null),E(null),r("ready")},P=($,K)=>{e($),u(K),m(0),b(null),E(null),$==="word-practice"&&r("ready")},q=$=>{p($)},H=()=>{p(null)},k=()=>{e(null),u(null),p(null),r("selecting")},M=()=>{E(null),r("ready")},ae=z.useCallback(()=>{C.current&&C.current.state==="recording"&&C.current.stop()},[]),J=z.useCallback(async()=>{if(!(!I||!l))try{const $=await navigator.mediaDevices.getUserMedia({audio:!0});b(null),r("recording");const K=new MediaRecorder($);C.current=K,A.current=[],K.ondataavailable=X=>{A.current.push(X.data)},K.onstop=async()=>{r("processing");const X=new Blob(A.current,{type:K.mimeType});try{const ue=await VI(X),V=await RI(I,l,ue,K.mimeType);b(V)}catch(ue){console.error(ue),E("無法從 AI 獲取反饋，請重試。"),r("error")}finally{r("feedback")}$.getTracks().forEach(ue=>ue.stop())},K.start()}catch($){console.error("Error accessing microphone:",$),E("需要麥克風權限才能使用。請在瀏覽器設定中啟用麥克風。"),r("error")}},[I,l]),ne=()=>{a==="recording"?ae():J()},le=()=>{b(null),E(null),m($=>($+1)%U.length),r("ready")};return d.jsx("main",{className:"container mx-auto p-4 flex flex-col items-center justify-center min-h-screen font-sans",children:d.jsxs("div",{className:"w-full max-w-5xl flex flex-col items-center",children:[d.jsxs("div",{className:"absolute top-4 right-4 text-xs text-stone-500 dark:text-stone-400 flex items-center gap-2",children:[d.jsx("span",{children:"Pronunciation powered by"}),d.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:"Multi-AI (GPT-4o/Ollama/Gemini)"})]}),!t&&a==="selecting"&&d.jsx(mN,{onSelectMode:P,onSelect:B}),t==="alphabet-learning"&&l&&d.jsx(gN,{language:l,onBack:k}),t==="verse-learning"&&l&&!y&&d.jsx(TN,{language:l,onSelectVerse:q,onBack:k}),t==="verse-learning"&&y&&d.jsx(CN,{verse:y,onBack:H}),t==="vocabulary-flashcards"&&d.jsx(gI,{}),t==="listening-game"&&l&&d.jsx(vI,{language:l==="Hebrew"?"Hebrew":"Greek",onBack:k}),t==="pronunciation-challenge"&&l&&d.jsx(NI,{language:l==="Hebrew"?"Hebrew":"Greek",onBack:k}),t==="sentence-practice"&&l&&d.jsx(qI,{language:l,onBack:k}),t==="word-practice"&&a!=="selecting"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:k,className:"absolute top-4 left-4 text-sm text-stone-500 hover:text-sky-600 transition-colors",children:"← 切換模式"}),l&&I&&d.jsxs("div",{className:"flex flex-col items-center w-full",children:[d.jsx(yN,{wordData:I,language:l}),w&&d.jsxs("div",{className:"w-full max-w-2xl mt-8 bg-red-100 dark:bg-red-900/50 border border-red-300 dark:border-red-700 rounded-xl p-6 text-center animate-fade-in",children:[d.jsx("p",{className:"text-red-800 dark:text-red-200",children:w}),a==="error"&&w.includes("麥克風")&&d.jsx("button",{onClick:M,className:"mt-4 px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 transition-colors",children:"重試"})]}),d.jsx(SN,{feedback:x}),d.jsxs("div",{className:"mt-12 flex flex-col items-center gap-6",children:[d.jsx(wN,{gameState:a,onClick:ne}),a==="feedback"&&d.jsx("button",{onClick:le,className:"px-8 py-3 bg-green-600 text-white rounded-full font-bold shadow-md hover:bg-green-700 transition-all transform hover:scale-105 animate-fade-in",children:"下一個單字 →"})]})]})]})]})})}const OI=({onBack:t})=>d.jsxs("div",{className:"w-full h-full min-h-screen bg-gradient-to-br from-blue-100 to-sky-200 transition-colors",children:[d.jsx("div",{className:"absolute top-4 left-4 z-50",children:d.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 bg-amber-100 backdrop-blur-sm rounded-lg shadow-md hover:shadow-lg transition-all hover:scale-105 text-stone-700",children:[d.jsx(ro,{className:"w-4 h-4"}),d.jsx("span",{className:"font-medium",children:"返回主頁"})]})}),d.jsx(GI,{})]}),HI=()=>{const[t,e]=z.useState(dn.LANDING),a=()=>{e(dn.LANDING)},r=u=>{switch(u){case"bible-game":e(dn.BIBLE);break;case"theology-search":e(dn.THEOLOGY_SEARCH);break;case"biblical-language":e(dn.BIBLICAL_LANGUAGE);break}},l=()=>{switch(t){case dn.LANDING:return d.jsx(Uh,{onNavigate:r});case dn.BIBLE:return d.jsx(H1,{onBack:a});case dn.THEOLOGY_SEARCH:return d.jsx(fN,{onBack:a});case dn.BIBLICAL_LANGUAGE:return d.jsx(OI,{onBack:a});default:return d.jsx(Uh,{onNavigate:r})}};return d.jsx("div",{className:`min-h-screen text-gray-100 flex flex-col ${t===dn.LANDING?"bg-cover bg-center bg-no-repeat":"bg-gray-900"}`,style:t===dn.LANDING?{backgroundImage:"url(/sunday-school.png)",backgroundColor:"rgba(0, 0, 0, 0.5)",backgroundBlendMode:"darken"}:void 0,children:d.jsx("main",{className:"flex-grow container mx-auto px-4 py-8 flex flex-col items-center justify-center",children:l()})})},px=document.getElementById("root");if(!px)throw new Error("Could not find root element to mount to");const zI=Vb.createRoot(px);zI.render(d.jsx(J0.StrictMode,{children:d.jsx(HI,{})}));export{Nd as G};

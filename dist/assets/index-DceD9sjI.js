(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function i(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=i(s);fetch(s.href,l)}})();function kl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nd={exports:{}},fo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg;function Dw(){if(Mg)return fo;Mg=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var f in s)f!=="key"&&(l[f]=s[f])}else l=s;return s=l.ref,{$$typeof:e,type:a,key:c,ref:s!==void 0?s:null,props:l}}return fo.Fragment=t,fo.jsx=i,fo.jsxs=i,fo}var Dg;function Lw(){return Dg||(Dg=1,nd.exports=Dw()),nd.exports}var d=Lw(),id={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg;function qw(){if(Lg)return Se;Lg=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function S(L){return L===null||typeof L!="object"?null:(L=w&&L[w]||L["@@iterator"],typeof L=="function"?L:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,R={};function A(L,O,k){this.props=L,this.context=O,this.refs=R,this.updater=k||C}A.prototype.isReactComponent={},A.prototype.setState=function(L,O){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,O,"setState")},A.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function D(){}D.prototype=A.prototype;function q(L,O,k){this.props=L,this.context=O,this.refs=R,this.updater=k||C}var M=q.prototype=new D;M.constructor=q,E(M,A.prototype),M.isPureReactComponent=!0;var V=Array.isArray;function I(){}var U={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function $(L,O,k){var ue=k.ref;return{$$typeof:e,type:L,key:O,ref:ue!==void 0?ue:null,props:k}}function K(L,O){return $(L.type,O,L.props)}function te(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function z(L){var O={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(k){return O[k]})}var re=/\/+/g;function ie(L,O){return typeof L=="object"&&L!==null&&L.key!=null?z(""+L.key):O.toString(36)}function se(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(I,I):(L.status="pending",L.then(function(O){L.status==="pending"&&(L.status="fulfilled",L.value=O)},function(O){L.status==="pending"&&(L.status="rejected",L.reason=O)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function B(L,O,k,ue,pe){var he=typeof L;(he==="undefined"||he==="boolean")&&(L=null);var ve=!1;if(L===null)ve=!0;else switch(he){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(L.$$typeof){case e:case t:ve=!0;break;case g:return ve=L._init,B(ve(L._payload),O,k,ue,pe)}}if(ve)return pe=pe(L),ve=ue===""?"."+ie(L,0):ue,V(pe)?(k="",ve!=null&&(k=ve.replace(re,"$&/")+"/"),B(pe,O,k,"",function(St){return St})):pe!=null&&(te(pe)&&(pe=K(pe,k+(pe.key==null||L&&L.key===pe.key?"":(""+pe.key).replace(re,"$&/")+"/")+ve)),O.push(pe)),1;ve=0;var Le=ue===""?".":ue+":";if(V(L))for(var qe=0;qe<L.length;qe++)ue=L[qe],he=Le+ie(ue,qe),ve+=B(ue,O,k,he,pe);else if(qe=S(L),typeof qe=="function")for(L=qe.call(L),qe=0;!(ue=L.next()).done;)ue=ue.value,he=Le+ie(ue,qe++),ve+=B(ue,O,k,he,pe);else if(he==="object"){if(typeof L.then=="function")return B(se(L),O,k,ue,pe);throw O=String(L),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return ve}function ae(L,O,k){if(L==null)return L;var ue=[],pe=0;return B(L,ue,"","",function(he){return O.call(k,he,pe++)}),ue}function ce(L){if(L._status===-1){var O=L._result;O=O(),O.then(function(k){(L._status===0||L._status===-1)&&(L._status=1,L._result=k)},function(k){(L._status===0||L._status===-1)&&(L._status=2,L._result=k)}),L._status===-1&&(L._status=0,L._result=O)}if(L._status===1)return L._result.default;throw L._result}var _e=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},_={map:ae,forEach:function(L,O,k){ae(L,function(){O.apply(this,arguments)},k)},count:function(L){var O=0;return ae(L,function(){O++}),O},toArray:function(L){return ae(L,function(O){return O})||[]},only:function(L){if(!te(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Se.Activity=b,Se.Children=_,Se.Component=A,Se.Fragment=i,Se.Profiler=s,Se.PureComponent=q,Se.StrictMode=a,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,Se.__COMPILER_RUNTIME={__proto__:null,c:function(L){return U.H.useMemoCache(L)}},Se.cache=function(L){return function(){return L.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(L,O,k){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ue=E({},L.props),pe=L.key;if(O!=null)for(he in O.key!==void 0&&(pe=""+O.key),O)!Q.call(O,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&O.ref===void 0||(ue[he]=O[he]);var he=arguments.length-2;if(he===1)ue.children=k;else if(1<he){for(var ve=Array(he),Le=0;Le<he;Le++)ve[Le]=arguments[Le+2];ue.children=ve}return $(L.type,pe,ue)},Se.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Se.createElement=function(L,O,k){var ue,pe={},he=null;if(O!=null)for(ue in O.key!==void 0&&(he=""+O.key),O)Q.call(O,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(pe[ue]=O[ue]);var ve=arguments.length-2;if(ve===1)pe.children=k;else if(1<ve){for(var Le=Array(ve),qe=0;qe<ve;qe++)Le[qe]=arguments[qe+2];pe.children=Le}if(L&&L.defaultProps)for(ue in ve=L.defaultProps,ve)pe[ue]===void 0&&(pe[ue]=ve[ue]);return $(L,he,pe)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(L){return{$$typeof:f,render:L}},Se.isValidElement=te,Se.lazy=function(L){return{$$typeof:g,_payload:{_status:-1,_result:L},_init:ce}},Se.memo=function(L,O){return{$$typeof:h,type:L,compare:O===void 0?null:O}},Se.startTransition=function(L){var O=U.T,k={};U.T=k;try{var ue=L(),pe=U.S;pe!==null&&pe(k,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(I,_e)}catch(he){_e(he)}finally{O!==null&&k.types!==null&&(O.types=k.types),U.T=O}},Se.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},Se.use=function(L){return U.H.use(L)},Se.useActionState=function(L,O,k){return U.H.useActionState(L,O,k)},Se.useCallback=function(L,O){return U.H.useCallback(L,O)},Se.useContext=function(L){return U.H.useContext(L)},Se.useDebugValue=function(){},Se.useDeferredValue=function(L,O){return U.H.useDeferredValue(L,O)},Se.useEffect=function(L,O){return U.H.useEffect(L,O)},Se.useEffectEvent=function(L){return U.H.useEffectEvent(L)},Se.useId=function(){return U.H.useId()},Se.useImperativeHandle=function(L,O,k){return U.H.useImperativeHandle(L,O,k)},Se.useInsertionEffect=function(L,O){return U.H.useInsertionEffect(L,O)},Se.useLayoutEffect=function(L,O){return U.H.useLayoutEffect(L,O)},Se.useMemo=function(L,O){return U.H.useMemo(L,O)},Se.useOptimistic=function(L,O){return U.H.useOptimistic(L,O)},Se.useReducer=function(L,O,k){return U.H.useReducer(L,O,k)},Se.useRef=function(L){return U.H.useRef(L)},Se.useState=function(L){return U.H.useState(L)},Se.useSyncExternalStore=function(L,O,k){return U.H.useSyncExternalStore(L,O,k)},Se.useTransition=function(){return U.H.useTransition()},Se.version="19.2.0",Se}var qg;function rf(){return qg||(qg=1,id.exports=qw()),id.exports}var H=rf();const Uw=kl(H);var rd={exports:{}},ho={},ad={exports:{}},od={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug;function Pw(){return Ug||(Ug=1,(function(e){function t(B,ae){var ce=B.length;B.push(ae);e:for(;0<ce;){var _e=ce-1>>>1,_=B[_e];if(0<s(_,ae))B[_e]=ae,B[ce]=_,ce=_e;else break e}}function i(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var ae=B[0],ce=B.pop();if(ce!==ae){B[0]=ce;e:for(var _e=0,_=B.length,L=_>>>1;_e<L;){var O=2*(_e+1)-1,k=B[O],ue=O+1,pe=B[ue];if(0>s(k,ce))ue<_&&0>s(pe,k)?(B[_e]=pe,B[ue]=ce,_e=ue):(B[_e]=k,B[O]=ce,_e=O);else if(ue<_&&0>s(pe,ce))B[_e]=pe,B[ue]=ce,_e=ue;else break e}}return ae}function s(B,ae){var ce=B.sortIndex-ae.sortIndex;return ce!==0?ce:B.id-ae.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var p=[],h=[],g=1,b=null,w=3,S=!1,C=!1,E=!1,R=!1,A=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function M(B){for(var ae=i(h);ae!==null;){if(ae.callback===null)a(h);else if(ae.startTime<=B)a(h),ae.sortIndex=ae.expirationTime,t(p,ae);else break;ae=i(h)}}function V(B){if(E=!1,M(B),!C)if(i(p)!==null)C=!0,I||(I=!0,z());else{var ae=i(h);ae!==null&&se(V,ae.startTime-B)}}var I=!1,U=-1,Q=5,$=-1;function K(){return R?!0:!(e.unstable_now()-$<Q)}function te(){if(R=!1,I){var B=e.unstable_now();$=B;var ae=!0;try{e:{C=!1,E&&(E=!1,D(U),U=-1),S=!0;var ce=w;try{t:{for(M(B),b=i(p);b!==null&&!(b.expirationTime>B&&K());){var _e=b.callback;if(typeof _e=="function"){b.callback=null,w=b.priorityLevel;var _=_e(b.expirationTime<=B);if(B=e.unstable_now(),typeof _=="function"){b.callback=_,M(B),ae=!0;break t}b===i(p)&&a(p),M(B)}else a(p);b=i(p)}if(b!==null)ae=!0;else{var L=i(h);L!==null&&se(V,L.startTime-B),ae=!1}}break e}finally{b=null,w=ce,S=!1}ae=void 0}}finally{ae?z():I=!1}}}var z;if(typeof q=="function")z=function(){q(te)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ie=re.port2;re.port1.onmessage=te,z=function(){ie.postMessage(null)}}else z=function(){A(te,0)};function se(B,ae){U=A(function(){B(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(B){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var ce=w;w=ae;try{return B()}finally{w=ce}},e.unstable_requestPaint=function(){R=!0},e.unstable_runWithPriority=function(B,ae){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ce=w;w=B;try{return ae()}finally{w=ce}},e.unstable_scheduleCallback=function(B,ae,ce){var _e=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?_e+ce:_e):ce=_e,B){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=ce+_,B={id:g++,callback:ae,priorityLevel:B,startTime:ce,expirationTime:_,sortIndex:-1},ce>_e?(B.sortIndex=ce,t(h,B),i(p)===null&&B===i(h)&&(E?(D(U),U=-1):E=!0,se(V,ce-_e))):(B.sortIndex=_,t(p,B),C||S||(C=!0,I||(I=!0,z()))),B},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(B){var ae=w;return function(){var ce=w;w=ae;try{return B.apply(this,arguments)}finally{w=ce}}}})(od)),od}var Pg;function Vw(){return Pg||(Pg=1,ad.exports=Pw()),ad.exports}var sd={exports:{}},Nt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vg;function Gw(){if(Vg)return Nt;Vg=1;var e=rf();function t(p){var h="https://react.dev/errors/"+p;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(p,h,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:p,containerInfo:h,implementation:g}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,h){if(p==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Nt.createPortal=function(p,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return l(p,h,null,g)},Nt.flushSync=function(p){var h=c.T,g=a.p;try{if(c.T=null,a.p=2,p)return p()}finally{c.T=h,a.p=g,a.d.f()}},Nt.preconnect=function(p,h){typeof p=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(p,h))},Nt.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Nt.preinit=function(p,h){if(typeof p=="string"&&h&&typeof h.as=="string"){var g=h.as,b=f(g,h.crossOrigin),w=typeof h.integrity=="string"?h.integrity:void 0,S=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?a.d.S(p,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:S}):g==="script"&&a.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:S,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Nt.preinitModule=function(p,h){if(typeof p=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=f(h.as,h.crossOrigin);a.d.M(p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(p)},Nt.preload=function(p,h){if(typeof p=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,b=f(g,h.crossOrigin);a.d.L(p,g,{crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Nt.preloadModule=function(p,h){if(typeof p=="string")if(h){var g=f(h.as,h.crossOrigin);a.d.m(p,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(p)},Nt.requestFormReset=function(p){a.d.r(p)},Nt.unstable_batchedUpdates=function(p,h){return p(h)},Nt.useFormState=function(p,h,g){return c.H.useFormState(p,h,g)},Nt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Nt.version="19.2.0",Nt}var Gg;function jw(){if(Gg)return sd.exports;Gg=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),sd.exports=Gw(),sd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg;function Hw(){if(jg)return ho;jg=1;var e=Vw(),t=rf(),i=jw();function a(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function f(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function p(n){if(l(n)!==n)throw Error(a(188))}function h(n){var r=n.alternate;if(!r){if(r=l(n),r===null)throw Error(a(188));return r!==n?null:n}for(var o=n,u=r;;){var y=o.return;if(y===null)break;var v=y.alternate;if(v===null){if(u=y.return,u!==null){o=u;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===o)return p(y),n;if(v===u)return p(y),r;v=v.sibling}throw Error(a(188))}if(o.return!==u.return)o=y,u=v;else{for(var N=!1,T=y.child;T;){if(T===o){N=!0,o=y,u=v;break}if(T===u){N=!0,u=y,o=v;break}T=T.sibling}if(!N){for(T=v.child;T;){if(T===o){N=!0,o=v,u=y;break}if(T===u){N=!0,u=v,o=y;break}T=T.sibling}if(!N)throw Error(a(189))}}if(o.alternate!==u)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),q=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=te&&n[te]||n["@@iterator"],typeof n=="function"?n:null)}var re=Symbol.for("react.client.reference");function ie(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===re?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case E:return"Fragment";case A:return"Profiler";case R:return"StrictMode";case V:return"Suspense";case I:return"SuspenseList";case $:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case C:return"Portal";case q:return n.displayName||"Context";case D:return(n._context.displayName||"Context")+".Consumer";case M:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case U:return r=n.displayName||null,r!==null?r:ie(n.type)||"Memo";case Q:r=n._payload,n=n._init;try{return ie(n(r))}catch{}}return null}var se=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},_e=[],_=-1;function L(n){return{current:n}}function O(n){0>_||(n.current=_e[_],_e[_]=null,_--)}function k(n,r){_++,_e[_]=n.current,n.current=r}var ue=L(null),pe=L(null),he=L(null),ve=L(null);function Le(n,r){switch(k(he,r),k(pe,n),k(ue,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?tg(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=tg(r),n=ng(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}O(ue),k(ue,n)}function qe(){O(ue),O(pe),O(he)}function St(n){n.memoizedState!==null&&k(ve,n);var r=ue.current,o=ng(r,n.type);r!==o&&(k(pe,n),k(ue,o))}function Tn(n){pe.current===n&&(O(ue),O(pe)),ve.current===n&&(O(ve),so._currentValue=ce)}var lr,ur;function gn(n){if(lr===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);lr=r&&r[1]||"",ur=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lr+n+ur}var cr=!1;function dr(n,r){if(!n||cr)return"";cr=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(X){var Y=X}Reflect.construct(n,[],ne)}else{try{ne.call()}catch(X){Y=X}n.call(ne.prototype)}}else{try{throw Error()}catch(X){Y=X}(ne=n())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),N=v[0],T=v[1];if(N&&T){var P=N.split(`
`),J=T.split(`
`);for(y=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;y<J.length&&!J[y].includes("DetermineComponentFrameRoot");)y++;if(u===P.length||y===J.length)for(u=P.length-1,y=J.length-1;1<=u&&0<=y&&P[u]!==J[y];)y--;for(;1<=u&&0<=y;u--,y--)if(P[u]!==J[y]){if(u!==1||y!==1)do if(u--,y--,0>y||P[u]!==J[y]){var Z=`
`+P[u].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=u&&0<=y);break}}}finally{cr=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?gn(o):""}function Go(n,r){switch(n.tag){case 26:case 27:case 5:return gn(n.type);case 16:return gn("Lazy");case 13:return n.child!==r&&r!==null?gn("Suspense Fallback"):gn("Suspense");case 19:return gn("SuspenseList");case 0:case 15:return dr(n.type,!1);case 11:return dr(n.type.render,!1);case 1:return dr(n.type,!0);case 31:return gn("Activity");default:return""}}function jo(n){try{var r="",o=null;do r+=Go(n,o),o=n,n=n.return;while(n);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var fr=Object.prototype.hasOwnProperty,hr=e.unstable_scheduleCallback,va=e.unstable_cancelCallback,Hl=e.unstable_shouldYield,zl=e.unstable_requestPaint,Ct=e.unstable_now,Bl=e.unstable_getCurrentPriorityLevel,W=e.unstable_ImmediatePriority,le=e.unstable_UserBlockingPriority,be=e.unstable_NormalPriority,Ae=e.unstable_LowPriority,ze=e.unstable_IdlePriority,Ot=e.log,Pn=e.unstable_setDisableYieldValue,_t=null,ht=null;function Rt(n){if(typeof Ot=="function"&&Pn(n),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(_t,n)}catch{}}var $e=Math.clz32?Math.clz32:vb,ai=Math.log,yn=Math.LN2;function vb(n){return n>>>=0,n===0?32:31-(ai(n)/yn|0)|0}var Ho=256,zo=262144,Bo=4194304;function Ui(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Oo(n,r,o){var u=n.pendingLanes;if(u===0)return 0;var y=0,v=n.suspendedLanes,N=n.pingedLanes;n=n.warmLanes;var T=u&134217727;return T!==0?(u=T&~v,u!==0?y=Ui(u):(N&=T,N!==0?y=Ui(N):o||(o=T&~n,o!==0&&(y=Ui(o))))):(T=u&~v,T!==0?y=Ui(T):N!==0?y=Ui(N):o||(o=u&~n,o!==0&&(y=Ui(o)))),y===0?0:r!==0&&r!==y&&(r&v)===0&&(v=y&-y,o=r&-r,v>=o||v===32&&(o&4194048)!==0)?r:y}function ba(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function bb(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uf(){var n=Bo;return Bo<<=1,(Bo&62914560)===0&&(Bo=4194304),n}function Ol(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function wa(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function wb(n,r,o,u,y,v){var N=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var T=n.entanglements,P=n.expirationTimes,J=n.hiddenUpdates;for(o=N&~o;0<o;){var Z=31-$e(o),ne=1<<Z;T[Z]=0,P[Z]=-1;var Y=J[Z];if(Y!==null)for(J[Z]=null,Z=0;Z<Y.length;Z++){var X=Y[Z];X!==null&&(X.lane&=-536870913)}o&=~ne}u!==0&&Pf(n,u,0),v!==0&&y===0&&n.tag!==0&&(n.suspendedLanes|=v&~(N&~r))}function Pf(n,r,o){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-$e(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function Vf(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var u=31-$e(o),y=1<<u;y&r|n[u]&r&&(n[u]|=r),o&=~y}}function Gf(n,r){var o=r&-r;return o=(o&42)!==0?1:Fl(o),(o&(n.suspendedLanes|r))!==0?0:o}function Fl(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Jl(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function jf(){var n=ae.p;return n!==0?n:(n=window.event,n===void 0?32:Tg(n.type))}function Hf(n,r){var o=ae.p;try{return ae.p=n,r()}finally{ae.p=o}}var oi=Math.random().toString(36).slice(2),yt="__reactFiber$"+oi,Mt="__reactProps$"+oi,pr="__reactContainer$"+oi,Yl="__reactEvents$"+oi,Sb="__reactListeners$"+oi,Nb="__reactHandles$"+oi,zf="__reactResources$"+oi,Sa="__reactMarker$"+oi;function $l(n){delete n[yt],delete n[Mt],delete n[Yl],delete n[Sb],delete n[Nb]}function mr(n){var r=n[yt];if(r)return r;for(var o=n.parentNode;o;){if(r=o[pr]||o[yt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=ug(n);n!==null;){if(o=n[yt])return o;n=ug(n)}return r}n=o,o=n.parentNode}return null}function gr(n){if(n=n[yt]||n[pr]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function Na(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(a(33))}function yr(n){var r=n[zf];return r||(r=n[zf]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function mt(n){n[Sa]=!0}var Bf=new Set,Of={};function Pi(n,r){xr(n,r),xr(n+"Capture",r)}function xr(n,r){for(Of[n]=r,n=0;n<r.length;n++)Bf.add(r[n])}var Eb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ff={},Jf={};function Tb(n){return fr.call(Jf,n)?!0:fr.call(Ff,n)?!1:Eb.test(n)?Jf[n]=!0:(Ff[n]=!0,!1)}function Fo(n,r,o){if(Tb(r))if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+o)}}function Jo(n,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+o)}}function Vn(n,r,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(r,o,""+u)}}function nn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Yf(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Cb(n,r,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,v=u.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return y.call(this)},set:function(N){o=""+N,v.call(this,N)}}),Object.defineProperty(n,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(N){o=""+N},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Kl(n){if(!n._valueTracker){var r=Yf(n)?"checked":"value";n._valueTracker=Cb(n,r,""+n[r])}}function $f(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return n&&(u=Yf(n)?n.checked?"true":"false":n.value),n=u,n!==o?(r.setValue(n),!0):!1}function Yo(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var _b=/[\n"\\]/g;function rn(n){return n.replace(_b,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ql(n,r,o,u,y,v,N,T){n.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?n.type=N:n.removeAttribute("type"),r!=null?N==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+nn(r)):n.value!==""+nn(r)&&(n.value=""+nn(r)):N!=="submit"&&N!=="reset"||n.removeAttribute("value"),r!=null?Xl(n,N,nn(r)):o!=null?Xl(n,N,nn(o)):u!=null&&n.removeAttribute("value"),y==null&&v!=null&&(n.defaultChecked=!!v),y!=null&&(n.checked=y&&typeof y!="function"&&typeof y!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+nn(T):n.removeAttribute("name")}function Kf(n,r,o,u,y,v,N,T){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.type=v),r!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||r!=null)){Kl(n);return}o=o!=null?""+nn(o):"",r=r!=null?""+nn(r):o,T||r===n.value||(n.value=r),n.defaultValue=r}u=u??y,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=T?n.checked:!!u,n.defaultChecked=!!u,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(n.name=N),Kl(n)}function Xl(n,r,o){r==="number"&&Yo(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function vr(n,r,o,u){if(n=n.options,r){r={};for(var y=0;y<o.length;y++)r["$"+o[y]]=!0;for(o=0;o<n.length;o++)y=r.hasOwnProperty("$"+n[o].value),n[o].selected!==y&&(n[o].selected=y),y&&u&&(n[o].defaultSelected=!0)}else{for(o=""+nn(o),r=null,y=0;y<n.length;y++){if(n[y].value===o){n[y].selected=!0,u&&(n[y].defaultSelected=!0);return}r!==null||n[y].disabled||(r=n[y])}r!==null&&(r.selected=!0)}}function Qf(n,r,o){if(r!=null&&(r=""+nn(r),r!==n.value&&(n.value=r),o==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=o!=null?""+nn(o):""}function Xf(n,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(a(92));if(se(u)){if(1<u.length)throw Error(a(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=nn(r),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),Kl(n)}function br(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var Ab=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zf(n,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,o):typeof o!="number"||o===0||Ab.has(r)?r==="float"?n.cssFloat=o:n[r]=(""+o).trim():n[r]=o+"px"}function Wf(n,r,o){if(r!=null&&typeof r!="object")throw Error(a(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var y in r)u=r[y],r.hasOwnProperty(y)&&o[y]!==u&&Zf(n,y,u)}else for(var v in r)r.hasOwnProperty(v)&&Zf(n,v,r[v])}function Zl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ib=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $o(n){return Ib.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Gn(){}var Wl=null;function eu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var wr=null,Sr=null;function eh(n){var r=gr(n);if(r&&(n=r.stateNode)){var o=n[Mt]||null;e:switch(n=r.stateNode,r.type){case"input":if(Ql(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+rn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==n&&u.form===n.form){var y=u[Mt]||null;if(!y)throw Error(a(90));Ql(u,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===n.form&&$f(u)}break e;case"textarea":Qf(n,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&vr(n,!!o.multiple,r,!1)}}}var tu=!1;function th(n,r,o){if(tu)return n(r,o);tu=!0;try{var u=n(r);return u}finally{if(tu=!1,(wr!==null||Sr!==null)&&(qs(),wr&&(r=wr,n=Sr,Sr=wr=null,eh(r),n)))for(r=0;r<n.length;r++)eh(n[r])}}function Ea(n,r){var o=n.stateNode;if(o===null)return null;var u=o[Mt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(a(231,r,typeof o));return o}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nu=!1;if(jn)try{var Ta={};Object.defineProperty(Ta,"passive",{get:function(){nu=!0}}),window.addEventListener("test",Ta,Ta),window.removeEventListener("test",Ta,Ta)}catch{nu=!1}var si=null,iu=null,Ko=null;function nh(){if(Ko)return Ko;var n,r=iu,o=r.length,u,y="value"in si?si.value:si.textContent,v=y.length;for(n=0;n<o&&r[n]===y[n];n++);var N=o-n;for(u=1;u<=N&&r[o-u]===y[v-u];u++);return Ko=y.slice(n,1<u?1-u:void 0)}function Qo(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Xo(){return!0}function ih(){return!1}function Dt(n){function r(o,u,y,v,N){this._reactName=o,this._targetInst=y,this.type=u,this.nativeEvent=v,this.target=N,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(o=n[T],this[T]=o?o(v):v[T]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Xo:ih,this.isPropagationStopped=ih,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Xo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Xo)},persist:function(){},isPersistent:Xo}),r}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zo=Dt(Vi),Ca=b({},Vi,{view:0,detail:0}),Rb=Dt(Ca),ru,au,_a,Wo=b({},Ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:su,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==_a&&(_a&&n.type==="mousemove"?(ru=n.screenX-_a.screenX,au=n.screenY-_a.screenY):au=ru=0,_a=n),ru)},movementY:function(n){return"movementY"in n?n.movementY:au}}),rh=Dt(Wo),Mb=b({},Wo,{dataTransfer:0}),Db=Dt(Mb),Lb=b({},Ca,{relatedTarget:0}),ou=Dt(Lb),qb=b({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ub=Dt(qb),Pb=b({},Vi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Vb=Dt(Pb),Gb=b({},Vi,{data:0}),ah=Dt(Gb),jb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bb(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=zb[n])?!!r[n]:!1}function su(){return Bb}var Ob=b({},Ca,{key:function(n){if(n.key){var r=jb[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Qo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Hb[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:su,charCode:function(n){return n.type==="keypress"?Qo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Qo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Fb=Dt(Ob),Jb=b({},Wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oh=Dt(Jb),Yb=b({},Ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:su}),$b=Dt(Yb),Kb=b({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qb=Dt(Kb),Xb=b({},Wo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Zb=Dt(Xb),Wb=b({},Vi,{newState:0,oldState:0}),e1=Dt(Wb),t1=[9,13,27,32],lu=jn&&"CompositionEvent"in window,Aa=null;jn&&"documentMode"in document&&(Aa=document.documentMode);var n1=jn&&"TextEvent"in window&&!Aa,sh=jn&&(!lu||Aa&&8<Aa&&11>=Aa),lh=" ",uh=!1;function ch(n,r){switch(n){case"keyup":return t1.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dh(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Nr=!1;function i1(n,r){switch(n){case"compositionend":return dh(r);case"keypress":return r.which!==32?null:(uh=!0,lh);case"textInput":return n=r.data,n===lh&&uh?null:n;default:return null}}function r1(n,r){if(Nr)return n==="compositionend"||!lu&&ch(n,r)?(n=nh(),Ko=iu=si=null,Nr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return sh&&r.locale!=="ko"?null:r.data;default:return null}}var a1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fh(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!a1[n.type]:r==="textarea"}function hh(n,r,o,u){wr?Sr?Sr.push(u):Sr=[u]:wr=u,r=zs(r,"onChange"),0<r.length&&(o=new Zo("onChange","change",null,o,u),n.push({event:o,listeners:r}))}var ka=null,Ia=null;function o1(n){Km(n,0)}function es(n){var r=Na(n);if($f(r))return n}function ph(n,r){if(n==="change")return r}var mh=!1;if(jn){var uu;if(jn){var cu="oninput"in document;if(!cu){var gh=document.createElement("div");gh.setAttribute("oninput","return;"),cu=typeof gh.oninput=="function"}uu=cu}else uu=!1;mh=uu&&(!document.documentMode||9<document.documentMode)}function yh(){ka&&(ka.detachEvent("onpropertychange",xh),Ia=ka=null)}function xh(n){if(n.propertyName==="value"&&es(Ia)){var r=[];hh(r,Ia,n,eu(n)),th(o1,r)}}function s1(n,r,o){n==="focusin"?(yh(),ka=r,Ia=o,ka.attachEvent("onpropertychange",xh)):n==="focusout"&&yh()}function l1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return es(Ia)}function u1(n,r){if(n==="click")return es(r)}function c1(n,r){if(n==="input"||n==="change")return es(r)}function d1(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Ft=typeof Object.is=="function"?Object.is:d1;function Ra(n,r){if(Ft(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var y=o[u];if(!fr.call(r,y)||!Ft(n[y],r[y]))return!1}return!0}function vh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function bh(n,r){var o=vh(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=r&&u>=r)return{node:o,offset:r-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=vh(o)}}function wh(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?wh(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Sh(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Yo(n.document);r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=Yo(n.document)}return r}function du(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var f1=jn&&"documentMode"in document&&11>=document.documentMode,Er=null,fu=null,Ma=null,hu=!1;function Nh(n,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;hu||Er==null||Er!==Yo(u)||(u=Er,"selectionStart"in u&&du(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ma&&Ra(Ma,u)||(Ma=u,u=zs(fu,"onSelect"),0<u.length&&(r=new Zo("onSelect","select",null,r,o),n.push({event:r,listeners:u}),r.target=Er)))}function Gi(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var Tr={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionrun:Gi("Transition","TransitionRun"),transitionstart:Gi("Transition","TransitionStart"),transitioncancel:Gi("Transition","TransitionCancel"),transitionend:Gi("Transition","TransitionEnd")},pu={},Eh={};jn&&(Eh=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);function ji(n){if(pu[n])return pu[n];if(!Tr[n])return n;var r=Tr[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in Eh)return pu[n]=r[o];return n}var Th=ji("animationend"),Ch=ji("animationiteration"),_h=ji("animationstart"),h1=ji("transitionrun"),p1=ji("transitionstart"),m1=ji("transitioncancel"),Ah=ji("transitionend"),kh=new Map,mu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mu.push("scrollEnd");function xn(n,r){kh.set(n,r),Pi(r,[n])}var ts=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},an=[],Cr=0,gu=0;function ns(){for(var n=Cr,r=gu=Cr=0;r<n;){var o=an[r];an[r++]=null;var u=an[r];an[r++]=null;var y=an[r];an[r++]=null;var v=an[r];if(an[r++]=null,u!==null&&y!==null){var N=u.pending;N===null?y.next=y:(y.next=N.next,N.next=y),u.pending=y}v!==0&&Ih(o,y,v)}}function is(n,r,o,u){an[Cr++]=n,an[Cr++]=r,an[Cr++]=o,an[Cr++]=u,gu|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function yu(n,r,o,u){return is(n,r,o,u),rs(n)}function Hi(n,r){return is(n,null,null,r),rs(n)}function Ih(n,r,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var y=!1,v=n.return;v!==null;)v.childLanes|=o,u=v.alternate,u!==null&&(u.childLanes|=o),v.tag===22&&(n=v.stateNode,n===null||n._visibility&1||(y=!0)),n=v,v=v.return;return n.tag===3?(v=n.stateNode,y&&r!==null&&(y=31-$e(o),n=v.hiddenUpdates,u=n[y],u===null?n[y]=[r]:u.push(r),r.lane=o|536870912),v):null}function rs(n){if(50<eo)throw eo=0,Cc=null,Error(a(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var _r={};function g1(n,r,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(n,r,o,u){return new g1(n,r,o,u)}function xu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Hn(n,r){var o=n.alternate;return o===null?(o=Jt(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Rh(n,r){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function as(n,r,o,u,y,v){var N=0;if(u=n,typeof n=="function")xu(n)&&(N=1);else if(typeof n=="string")N=ww(n,o,ue.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case $:return n=Jt(31,o,r,y),n.elementType=$,n.lanes=v,n;case E:return zi(o.children,y,v,r);case R:N=8,y|=24;break;case A:return n=Jt(12,o,r,y|2),n.elementType=A,n.lanes=v,n;case V:return n=Jt(13,o,r,y),n.elementType=V,n.lanes=v,n;case I:return n=Jt(19,o,r,y),n.elementType=I,n.lanes=v,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case q:N=10;break e;case D:N=9;break e;case M:N=11;break e;case U:N=14;break e;case Q:N=16,u=null;break e}N=29,o=Error(a(130,n===null?"null":typeof n,"")),u=null}return r=Jt(N,o,r,y),r.elementType=n,r.type=u,r.lanes=v,r}function zi(n,r,o,u){return n=Jt(7,n,u,r),n.lanes=o,n}function vu(n,r,o){return n=Jt(6,n,null,r),n.lanes=o,n}function Mh(n){var r=Jt(18,null,null,0);return r.stateNode=n,r}function bu(n,r,o){return r=Jt(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Dh=new WeakMap;function on(n,r){if(typeof n=="object"&&n!==null){var o=Dh.get(n);return o!==void 0?o:(r={value:n,source:r,stack:jo(r)},Dh.set(n,r),r)}return{value:n,source:r,stack:jo(r)}}var Ar=[],kr=0,os=null,Da=0,sn=[],ln=0,li=null,Cn=1,_n="";function zn(n,r){Ar[kr++]=Da,Ar[kr++]=os,os=n,Da=r}function Lh(n,r,o){sn[ln++]=Cn,sn[ln++]=_n,sn[ln++]=li,li=n;var u=Cn;n=_n;var y=32-$e(u)-1;u&=~(1<<y),o+=1;var v=32-$e(r)+y;if(30<v){var N=y-y%5;v=(u&(1<<N)-1).toString(32),u>>=N,y-=N,Cn=1<<32-$e(r)+y|o<<y|u,_n=v+n}else Cn=1<<v|o<<y|u,_n=n}function wu(n){n.return!==null&&(zn(n,1),Lh(n,1,0))}function Su(n){for(;n===os;)os=Ar[--kr],Ar[kr]=null,Da=Ar[--kr],Ar[kr]=null;for(;n===li;)li=sn[--ln],sn[ln]=null,_n=sn[--ln],sn[ln]=null,Cn=sn[--ln],sn[ln]=null}function qh(n,r){sn[ln++]=Cn,sn[ln++]=_n,sn[ln++]=li,Cn=r.id,_n=r.overflow,li=n}var xt=null,Ze=null,De=!1,ui=null,un=!1,Nu=Error(a(519));function ci(n){var r=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw La(on(r,n)),Nu}function Uh(n){var r=n.stateNode,o=n.type,u=n.memoizedProps;switch(r[yt]=n,r[Mt]=u,o){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(o=0;o<no.length;o++)Ie(no[o],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Ie("invalid",r),Kf(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ie("invalid",r);break;case"textarea":Ie("invalid",r),Xf(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||Wm(r.textContent,o)?(u.popover!=null&&(Ie("beforetoggle",r),Ie("toggle",r)),u.onScroll!=null&&Ie("scroll",r),u.onScrollEnd!=null&&Ie("scrollend",r),u.onClick!=null&&(r.onclick=Gn),r=!0):r=!1,r||ci(n,!0)}function Ph(n){for(xt=n.return;xt;)switch(xt.tag){case 5:case 31:case 13:un=!1;return;case 27:case 3:un=!0;return;default:xt=xt.return}}function Ir(n){if(n!==xt)return!1;if(!De)return Ph(n),De=!0,!1;var r=n.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Hc(n.type,n.memoizedProps)),o=!o),o&&Ze&&ci(n),Ph(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));Ze=lg(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));Ze=lg(n)}else r===27?(r=Ze,Ei(n.type)?(n=Jc,Jc=null,Ze=n):Ze=r):Ze=xt?dn(n.stateNode.nextSibling):null;return!0}function Bi(){Ze=xt=null,De=!1}function Eu(){var n=ui;return n!==null&&(Pt===null?Pt=n:Pt.push.apply(Pt,n),ui=null),n}function La(n){ui===null?ui=[n]:ui.push(n)}var Tu=L(null),Oi=null,Bn=null;function di(n,r,o){k(Tu,r._currentValue),r._currentValue=o}function On(n){n._currentValue=Tu.current,O(Tu)}function Cu(n,r,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===o)break;n=n.return}}function _u(n,r,o,u){var y=n.child;for(y!==null&&(y.return=n);y!==null;){var v=y.dependencies;if(v!==null){var N=y.child;v=v.firstContext;e:for(;v!==null;){var T=v;v=y;for(var P=0;P<r.length;P++)if(T.context===r[P]){v.lanes|=o,T=v.alternate,T!==null&&(T.lanes|=o),Cu(v.return,o,n),u||(N=null);break e}v=T.next}}else if(y.tag===18){if(N=y.return,N===null)throw Error(a(341));N.lanes|=o,v=N.alternate,v!==null&&(v.lanes|=o),Cu(N,o,n),N=null}else N=y.child;if(N!==null)N.return=y;else for(N=y;N!==null;){if(N===n){N=null;break}if(y=N.sibling,y!==null){y.return=N.return,N=y;break}N=N.return}y=N}}function Rr(n,r,o,u){n=null;for(var y=r,v=!1;y!==null;){if(!v){if((y.flags&524288)!==0)v=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var N=y.alternate;if(N===null)throw Error(a(387));if(N=N.memoizedProps,N!==null){var T=y.type;Ft(y.pendingProps.value,N.value)||(n!==null?n.push(T):n=[T])}}else if(y===ve.current){if(N=y.alternate,N===null)throw Error(a(387));N.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(n!==null?n.push(so):n=[so])}y=y.return}n!==null&&_u(r,n,o,u),r.flags|=262144}function ss(n){for(n=n.firstContext;n!==null;){if(!Ft(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Fi(n){Oi=n,Bn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function vt(n){return Vh(Oi,n)}function ls(n,r){return Oi===null&&Fi(n),Vh(n,r)}function Vh(n,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Bn===null){if(n===null)throw Error(a(308));Bn=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Bn=Bn.next=r;return o}var y1=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(o){return o()})}},x1=e.unstable_scheduleCallback,v1=e.unstable_NormalPriority,st={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Au(){return{controller:new y1,data:new Map,refCount:0}}function qa(n){n.refCount--,n.refCount===0&&x1(v1,function(){n.controller.abort()})}var Ua=null,ku=0,Mr=0,Dr=null;function b1(n,r){if(Ua===null){var o=Ua=[];ku=0,Mr=Mc(),Dr={status:"pending",value:void 0,then:function(u){o.push(u)}}}return ku++,r.then(Gh,Gh),r}function Gh(){if(--ku===0&&Ua!==null){Dr!==null&&(Dr.status="fulfilled");var n=Ua;Ua=null,Mr=0,Dr=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function w1(n,r){var o=[],u={status:"pending",value:null,reason:null,then:function(y){o.push(y)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var y=0;y<o.length;y++)(0,o[y])(r)},function(y){for(u.status="rejected",u.reason=y,y=0;y<o.length;y++)(0,o[y])(void 0)}),u}var jh=B.S;B.S=function(n,r){Nm=Ct(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&b1(n,r),jh!==null&&jh(n,r)};var Ji=L(null);function Iu(){var n=Ji.current;return n!==null?n:Ke.pooledCache}function us(n,r){r===null?k(Ji,Ji.current):k(Ji,r.pool)}function Hh(){var n=Iu();return n===null?null:{parent:st._currentValue,pool:n}}var Lr=Error(a(460)),Ru=Error(a(474)),cs=Error(a(542)),ds={then:function(){}};function zh(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Bh(n,r,o){switch(o=n[o],o===void 0?n.push(r):o!==r&&(r.then(Gn,Gn),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Fh(n),n;default:if(typeof r.status=="string")r.then(Gn,Gn);else{if(n=Ke,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var y=r;y.status="fulfilled",y.value=u}},function(u){if(r.status==="pending"){var y=r;y.status="rejected",y.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Fh(n),n}throw $i=r,Lr}}function Yi(n){try{var r=n._init;return r(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?($i=o,Lr):o}}var $i=null;function Oh(){if($i===null)throw Error(a(459));var n=$i;return $i=null,n}function Fh(n){if(n===Lr||n===cs)throw Error(a(483))}var qr=null,Pa=0;function fs(n){var r=Pa;return Pa+=1,qr===null&&(qr=[]),Bh(qr,n,r)}function Va(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function hs(n,r){throw r.$$typeof===w?Error(a(525)):(n=Object.prototype.toString.call(r),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Jh(n){function r(j,G){if(n){var F=j.deletions;F===null?(j.deletions=[G],j.flags|=16):F.push(G)}}function o(j,G){if(!n)return null;for(;G!==null;)r(j,G),G=G.sibling;return null}function u(j){for(var G=new Map;j!==null;)j.key!==null?G.set(j.key,j):G.set(j.index,j),j=j.sibling;return G}function y(j,G){return j=Hn(j,G),j.index=0,j.sibling=null,j}function v(j,G,F){return j.index=F,n?(F=j.alternate,F!==null?(F=F.index,F<G?(j.flags|=67108866,G):F):(j.flags|=67108866,G)):(j.flags|=1048576,G)}function N(j){return n&&j.alternate===null&&(j.flags|=67108866),j}function T(j,G,F,ee){return G===null||G.tag!==6?(G=vu(F,j.mode,ee),G.return=j,G):(G=y(G,F),G.return=j,G)}function P(j,G,F,ee){var ye=F.type;return ye===E?Z(j,G,F.props.children,ee,F.key):G!==null&&(G.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Q&&Yi(ye)===G.type)?(G=y(G,F.props),Va(G,F),G.return=j,G):(G=as(F.type,F.key,F.props,null,j.mode,ee),Va(G,F),G.return=j,G)}function J(j,G,F,ee){return G===null||G.tag!==4||G.stateNode.containerInfo!==F.containerInfo||G.stateNode.implementation!==F.implementation?(G=bu(F,j.mode,ee),G.return=j,G):(G=y(G,F.children||[]),G.return=j,G)}function Z(j,G,F,ee,ye){return G===null||G.tag!==7?(G=zi(F,j.mode,ee,ye),G.return=j,G):(G=y(G,F),G.return=j,G)}function ne(j,G,F){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=vu(""+G,j.mode,F),G.return=j,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return F=as(G.type,G.key,G.props,null,j.mode,F),Va(F,G),F.return=j,F;case C:return G=bu(G,j.mode,F),G.return=j,G;case Q:return G=Yi(G),ne(j,G,F)}if(se(G)||z(G))return G=zi(G,j.mode,F,null),G.return=j,G;if(typeof G.then=="function")return ne(j,fs(G),F);if(G.$$typeof===q)return ne(j,ls(j,G),F);hs(j,G)}return null}function Y(j,G,F,ee){var ye=G!==null?G.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return ye!==null?null:T(j,G,""+F,ee);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case S:return F.key===ye?P(j,G,F,ee):null;case C:return F.key===ye?J(j,G,F,ee):null;case Q:return F=Yi(F),Y(j,G,F,ee)}if(se(F)||z(F))return ye!==null?null:Z(j,G,F,ee,null);if(typeof F.then=="function")return Y(j,G,fs(F),ee);if(F.$$typeof===q)return Y(j,G,ls(j,F),ee);hs(j,F)}return null}function X(j,G,F,ee,ye){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return j=j.get(F)||null,T(G,j,""+ee,ye);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case S:return j=j.get(ee.key===null?F:ee.key)||null,P(G,j,ee,ye);case C:return j=j.get(ee.key===null?F:ee.key)||null,J(G,j,ee,ye);case Q:return ee=Yi(ee),X(j,G,F,ee,ye)}if(se(ee)||z(ee))return j=j.get(F)||null,Z(G,j,ee,ye,null);if(typeof ee.then=="function")return X(j,G,F,fs(ee),ye);if(ee.$$typeof===q)return X(j,G,F,ls(G,ee),ye);hs(G,ee)}return null}function de(j,G,F,ee){for(var ye=null,Ue=null,me=G,Te=G=0,Me=null;me!==null&&Te<F.length;Te++){me.index>Te?(Me=me,me=null):Me=me.sibling;var Pe=Y(j,me,F[Te],ee);if(Pe===null){me===null&&(me=Me);break}n&&me&&Pe.alternate===null&&r(j,me),G=v(Pe,G,Te),Ue===null?ye=Pe:Ue.sibling=Pe,Ue=Pe,me=Me}if(Te===F.length)return o(j,me),De&&zn(j,Te),ye;if(me===null){for(;Te<F.length;Te++)me=ne(j,F[Te],ee),me!==null&&(G=v(me,G,Te),Ue===null?ye=me:Ue.sibling=me,Ue=me);return De&&zn(j,Te),ye}for(me=u(me);Te<F.length;Te++)Me=X(me,j,Te,F[Te],ee),Me!==null&&(n&&Me.alternate!==null&&me.delete(Me.key===null?Te:Me.key),G=v(Me,G,Te),Ue===null?ye=Me:Ue.sibling=Me,Ue=Me);return n&&me.forEach(function(ki){return r(j,ki)}),De&&zn(j,Te),ye}function xe(j,G,F,ee){if(F==null)throw Error(a(151));for(var ye=null,Ue=null,me=G,Te=G=0,Me=null,Pe=F.next();me!==null&&!Pe.done;Te++,Pe=F.next()){me.index>Te?(Me=me,me=null):Me=me.sibling;var ki=Y(j,me,Pe.value,ee);if(ki===null){me===null&&(me=Me);break}n&&me&&ki.alternate===null&&r(j,me),G=v(ki,G,Te),Ue===null?ye=ki:Ue.sibling=ki,Ue=ki,me=Me}if(Pe.done)return o(j,me),De&&zn(j,Te),ye;if(me===null){for(;!Pe.done;Te++,Pe=F.next())Pe=ne(j,Pe.value,ee),Pe!==null&&(G=v(Pe,G,Te),Ue===null?ye=Pe:Ue.sibling=Pe,Ue=Pe);return De&&zn(j,Te),ye}for(me=u(me);!Pe.done;Te++,Pe=F.next())Pe=X(me,j,Te,Pe.value,ee),Pe!==null&&(n&&Pe.alternate!==null&&me.delete(Pe.key===null?Te:Pe.key),G=v(Pe,G,Te),Ue===null?ye=Pe:Ue.sibling=Pe,Ue=Pe);return n&&me.forEach(function(Mw){return r(j,Mw)}),De&&zn(j,Te),ye}function Ye(j,G,F,ee){if(typeof F=="object"&&F!==null&&F.type===E&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case S:e:{for(var ye=F.key;G!==null;){if(G.key===ye){if(ye=F.type,ye===E){if(G.tag===7){o(j,G.sibling),ee=y(G,F.props.children),ee.return=j,j=ee;break e}}else if(G.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Q&&Yi(ye)===G.type){o(j,G.sibling),ee=y(G,F.props),Va(ee,F),ee.return=j,j=ee;break e}o(j,G);break}else r(j,G);G=G.sibling}F.type===E?(ee=zi(F.props.children,j.mode,ee,F.key),ee.return=j,j=ee):(ee=as(F.type,F.key,F.props,null,j.mode,ee),Va(ee,F),ee.return=j,j=ee)}return N(j);case C:e:{for(ye=F.key;G!==null;){if(G.key===ye)if(G.tag===4&&G.stateNode.containerInfo===F.containerInfo&&G.stateNode.implementation===F.implementation){o(j,G.sibling),ee=y(G,F.children||[]),ee.return=j,j=ee;break e}else{o(j,G);break}else r(j,G);G=G.sibling}ee=bu(F,j.mode,ee),ee.return=j,j=ee}return N(j);case Q:return F=Yi(F),Ye(j,G,F,ee)}if(se(F))return de(j,G,F,ee);if(z(F)){if(ye=z(F),typeof ye!="function")throw Error(a(150));return F=ye.call(F),xe(j,G,F,ee)}if(typeof F.then=="function")return Ye(j,G,fs(F),ee);if(F.$$typeof===q)return Ye(j,G,ls(j,F),ee);hs(j,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,G!==null&&G.tag===6?(o(j,G.sibling),ee=y(G,F),ee.return=j,j=ee):(o(j,G),ee=vu(F,j.mode,ee),ee.return=j,j=ee),N(j)):o(j,G)}return function(j,G,F,ee){try{Pa=0;var ye=Ye(j,G,F,ee);return qr=null,ye}catch(me){if(me===Lr||me===cs)throw me;var Ue=Jt(29,me,null,j.mode);return Ue.lanes=ee,Ue.return=j,Ue}finally{}}}var Ki=Jh(!0),Yh=Jh(!1),fi=!1;function Mu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Du(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function hi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function pi(n,r,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(je&2)!==0){var y=u.pending;return y===null?r.next=r:(r.next=y.next,y.next=r),u.pending=r,r=rs(n),Ih(n,null,o),r}return is(n,u,r,o),rs(n)}function Ga(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,Vf(n,o)}}function Lu(n,r){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var y=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var N={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?y=v=N:v=v.next=N,o=o.next}while(o!==null);v===null?y=v=r:v=v.next=r}else y=v=r;o={baseState:u.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}var qu=!1;function ja(){if(qu){var n=Dr;if(n!==null)throw n}}function Ha(n,r,o,u){qu=!1;var y=n.updateQueue;fi=!1;var v=y.firstBaseUpdate,N=y.lastBaseUpdate,T=y.shared.pending;if(T!==null){y.shared.pending=null;var P=T,J=P.next;P.next=null,N===null?v=J:N.next=J,N=P;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==N&&(T===null?Z.firstBaseUpdate=J:T.next=J,Z.lastBaseUpdate=P))}if(v!==null){var ne=y.baseState;N=0,Z=J=P=null,T=v;do{var Y=T.lane&-536870913,X=Y!==T.lane;if(X?(Re&Y)===Y:(u&Y)===Y){Y!==0&&Y===Mr&&(qu=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var de=n,xe=T;Y=r;var Ye=o;switch(xe.tag){case 1:if(de=xe.payload,typeof de=="function"){ne=de.call(Ye,ne,Y);break e}ne=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=xe.payload,Y=typeof de=="function"?de.call(Ye,ne,Y):de,Y==null)break e;ne=b({},ne,Y);break e;case 2:fi=!0}}Y=T.callback,Y!==null&&(n.flags|=64,X&&(n.flags|=8192),X=y.callbacks,X===null?y.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(J=Z=X,P=ne):Z=Z.next=X,N|=Y;if(T=T.next,T===null){if(T=y.shared.pending,T===null)break;X=T,T=X.next,X.next=null,y.lastBaseUpdate=X,y.shared.pending=null}}while(!0);Z===null&&(P=ne),y.baseState=P,y.firstBaseUpdate=J,y.lastBaseUpdate=Z,v===null&&(y.shared.lanes=0),vi|=N,n.lanes=N,n.memoizedState=ne}}function $h(n,r){if(typeof n!="function")throw Error(a(191,n));n.call(r)}function Kh(n,r){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)$h(o[n],r)}var Ur=L(null),ps=L(0);function Qh(n,r){n=Wn,k(ps,n),k(Ur,r),Wn=n|r.baseLanes}function Uu(){k(ps,Wn),k(Ur,Ur.current)}function Pu(){Wn=ps.current,O(Ur),O(ps)}var Yt=L(null),cn=null;function mi(n){var r=n.alternate;k(rt,rt.current&1),k(Yt,n),cn===null&&(r===null||Ur.current!==null||r.memoizedState!==null)&&(cn=n)}function Vu(n){k(rt,rt.current),k(Yt,n),cn===null&&(cn=n)}function Xh(n){n.tag===22?(k(rt,rt.current),k(Yt,n),cn===null&&(cn=n)):gi()}function gi(){k(rt,rt.current),k(Yt,Yt.current)}function $t(n){O(Yt),cn===n&&(cn=null),O(rt)}var rt=L(0);function ms(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Oc(o)||Fc(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Fn=0,Ee=null,Fe=null,lt=null,gs=!1,Pr=!1,Qi=!1,ys=0,za=0,Vr=null,S1=0;function nt(){throw Error(a(321))}function Gu(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!Ft(n[o],r[o]))return!1;return!0}function ju(n,r,o,u,y,v){return Fn=v,Ee=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,B.H=n===null||n.memoizedState===null?Lp:tc,Qi=!1,v=o(u,y),Qi=!1,Pr&&(v=Wh(r,o,u,y)),Zh(n),v}function Zh(n){B.H=Fa;var r=Fe!==null&&Fe.next!==null;if(Fn=0,lt=Fe=Ee=null,gs=!1,za=0,Vr=null,r)throw Error(a(300));n===null||ut||(n=n.dependencies,n!==null&&ss(n)&&(ut=!0))}function Wh(n,r,o,u){Ee=n;var y=0;do{if(Pr&&(Vr=null),za=0,Pr=!1,25<=y)throw Error(a(301));if(y+=1,lt=Fe=null,n.updateQueue!=null){var v=n.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}B.H=qp,v=r(o,u)}while(Pr);return v}function N1(){var n=B.H,r=n.useState()[0];return r=typeof r.then=="function"?Ba(r):r,n=n.useState()[0],(Fe!==null?Fe.memoizedState:null)!==n&&(Ee.flags|=1024),r}function Hu(){var n=ys!==0;return ys=0,n}function zu(n,r,o){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~o}function Bu(n){if(gs){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}gs=!1}Fn=0,lt=Fe=Ee=null,Pr=!1,za=ys=0,Vr=null}function At(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Ee.memoizedState=lt=n:lt=lt.next=n,lt}function at(){if(Fe===null){var n=Ee.alternate;n=n!==null?n.memoizedState:null}else n=Fe.next;var r=lt===null?Ee.memoizedState:lt.next;if(r!==null)lt=r,Fe=n;else{if(n===null)throw Ee.alternate===null?Error(a(467)):Error(a(310));Fe=n,n={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},lt===null?Ee.memoizedState=lt=n:lt=lt.next=n}return lt}function xs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ba(n){var r=za;return za+=1,Vr===null&&(Vr=[]),n=Bh(Vr,n,r),r=Ee,(lt===null?r.memoizedState:lt.next)===null&&(r=r.alternate,B.H=r===null||r.memoizedState===null?Lp:tc),n}function vs(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ba(n);if(n.$$typeof===q)return vt(n)}throw Error(a(438,String(n)))}function Ou(n){var r=null,o=Ee.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ee.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(y){return y.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=xs(),Ee.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(n),u=0;u<n;u++)o[u]=K;return r.index++,o}function Jn(n,r){return typeof r=="function"?r(n):r}function bs(n){var r=at();return Fu(r,Fe,n)}function Fu(n,r,o){var u=n.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=o;var y=n.baseQueue,v=u.pending;if(v!==null){if(y!==null){var N=y.next;y.next=v.next,v.next=N}r.baseQueue=y=v,u.pending=null}if(v=n.baseState,y===null)n.memoizedState=v;else{r=y.next;var T=N=null,P=null,J=r,Z=!1;do{var ne=J.lane&-536870913;if(ne!==J.lane?(Re&ne)===ne:(Fn&ne)===ne){var Y=J.revertLane;if(Y===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ne===Mr&&(Z=!0);else if((Fn&Y)===Y){J=J.next,Y===Mr&&(Z=!0);continue}else ne={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},P===null?(T=P=ne,N=v):P=P.next=ne,Ee.lanes|=Y,vi|=Y;ne=J.action,Qi&&o(v,ne),v=J.hasEagerState?J.eagerState:o(v,ne)}else Y={lane:ne,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},P===null?(T=P=Y,N=v):P=P.next=Y,Ee.lanes|=ne,vi|=ne;J=J.next}while(J!==null&&J!==r);if(P===null?N=v:P.next=T,!Ft(v,n.memoizedState)&&(ut=!0,Z&&(o=Dr,o!==null)))throw o;n.memoizedState=v,n.baseState=N,n.baseQueue=P,u.lastRenderedState=v}return y===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Ju(n){var r=at(),o=r.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=n;var u=o.dispatch,y=o.pending,v=r.memoizedState;if(y!==null){o.pending=null;var N=y=y.next;do v=n(v,N.action),N=N.next;while(N!==y);Ft(v,r.memoizedState)||(ut=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),o.lastRenderedState=v}return[v,u]}function ep(n,r,o){var u=Ee,y=at(),v=De;if(v){if(o===void 0)throw Error(a(407));o=o()}else o=r();var N=!Ft((Fe||y).memoizedState,o);if(N&&(y.memoizedState=o,ut=!0),y=y.queue,Ku(ip.bind(null,u,y,n),[n]),y.getSnapshot!==r||N||lt!==null&&lt.memoizedState.tag&1){if(u.flags|=2048,Gr(9,{destroy:void 0},np.bind(null,u,y,o,r),null),Ke===null)throw Error(a(349));v||(Fn&127)!==0||tp(u,r,o)}return o}function tp(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=Ee.updateQueue,r===null?(r=xs(),Ee.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function np(n,r,o,u){r.value=o,r.getSnapshot=u,rp(r)&&ap(n)}function ip(n,r,o){return o(function(){rp(r)&&ap(n)})}function rp(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!Ft(n,o)}catch{return!0}}function ap(n){var r=Hi(n,2);r!==null&&Vt(r,n,2)}function Yu(n){var r=At();if(typeof n=="function"){var o=n;if(n=o(),Qi){Rt(!0);try{o()}finally{Rt(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:n},r}function op(n,r,o,u){return n.baseState=o,Fu(n,Fe,typeof u=="function"?u:Jn)}function E1(n,r,o,u,y){if(Ns(n))throw Error(a(485));if(n=r.action,n!==null){var v={payload:y,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){v.listeners.push(N)}};B.T!==null?o(!0):v.isTransition=!1,u(v),o=r.pending,o===null?(v.next=r.pending=v,sp(r,v)):(v.next=o.next,r.pending=o.next=v)}}function sp(n,r){var o=r.action,u=r.payload,y=n.state;if(r.isTransition){var v=B.T,N={};B.T=N;try{var T=o(y,u),P=B.S;P!==null&&P(N,T),lp(n,r,T)}catch(J){$u(n,r,J)}finally{v!==null&&N.types!==null&&(v.types=N.types),B.T=v}}else try{v=o(y,u),lp(n,r,v)}catch(J){$u(n,r,J)}}function lp(n,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){up(n,r,u)},function(u){return $u(n,r,u)}):up(n,r,o)}function up(n,r,o){r.status="fulfilled",r.value=o,cp(r),n.state=o,r=n.pending,r!==null&&(o=r.next,o===r?n.pending=null:(o=o.next,r.next=o,sp(n,o)))}function $u(n,r,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,cp(r),r=r.next;while(r!==u)}n.action=null}function cp(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function dp(n,r){return r}function fp(n,r){if(De){var o=Ke.formState;if(o!==null){e:{var u=Ee;if(De){if(Ze){t:{for(var y=Ze,v=un;y.nodeType!==8;){if(!v){y=null;break t}if(y=dn(y.nextSibling),y===null){y=null;break t}}v=y.data,y=v==="F!"||v==="F"?y:null}if(y){Ze=dn(y.nextSibling),u=y.data==="F!";break e}}ci(u)}u=!1}u&&(r=o[0])}}return o=At(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dp,lastRenderedState:r},o.queue=u,o=Rp.bind(null,Ee,u),u.dispatch=o,u=Yu(!1),v=ec.bind(null,Ee,!1,u.queue),u=At(),y={state:r,dispatch:null,action:n,pending:null},u.queue=y,o=E1.bind(null,Ee,y,v,o),y.dispatch=o,u.memoizedState=n,[r,o,!1]}function hp(n){var r=at();return pp(r,Fe,n)}function pp(n,r,o){if(r=Fu(n,r,dp)[0],n=bs(Jn)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Ba(r)}catch(N){throw N===Lr?cs:N}else u=r;r=at();var y=r.queue,v=y.dispatch;return o!==r.memoizedState&&(Ee.flags|=2048,Gr(9,{destroy:void 0},T1.bind(null,y,o),null)),[u,v,n]}function T1(n,r){n.action=r}function mp(n){var r=at(),o=Fe;if(o!==null)return pp(r,o,n);at(),r=r.memoizedState,o=at();var u=o.queue.dispatch;return o.memoizedState=n,[r,u,!1]}function Gr(n,r,o,u){return n={tag:n,create:o,deps:u,inst:r,next:null},r=Ee.updateQueue,r===null&&(r=xs(),Ee.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,r.lastEffect=n),n}function gp(){return at().memoizedState}function ws(n,r,o,u){var y=At();Ee.flags|=n,y.memoizedState=Gr(1|r,{destroy:void 0},o,u===void 0?null:u)}function Ss(n,r,o,u){var y=at();u=u===void 0?null:u;var v=y.memoizedState.inst;Fe!==null&&u!==null&&Gu(u,Fe.memoizedState.deps)?y.memoizedState=Gr(r,v,o,u):(Ee.flags|=n,y.memoizedState=Gr(1|r,v,o,u))}function yp(n,r){ws(8390656,8,n,r)}function Ku(n,r){Ss(2048,8,n,r)}function C1(n){Ee.flags|=4;var r=Ee.updateQueue;if(r===null)r=xs(),Ee.updateQueue=r,r.events=[n];else{var o=r.events;o===null?r.events=[n]:o.push(n)}}function xp(n){var r=at().memoizedState;return C1({ref:r,nextImpl:n}),function(){if((je&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}function vp(n,r){return Ss(4,2,n,r)}function bp(n,r){return Ss(4,4,n,r)}function wp(n,r){if(typeof r=="function"){n=n();var o=r(n);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Sp(n,r,o){o=o!=null?o.concat([n]):null,Ss(4,4,wp.bind(null,r,n),o)}function Qu(){}function Np(n,r){var o=at();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Gu(r,u[1])?u[0]:(o.memoizedState=[n,r],n)}function Ep(n,r){var o=at();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Gu(r,u[1]))return u[0];if(u=n(),Qi){Rt(!0);try{n()}finally{Rt(!1)}}return o.memoizedState=[u,r],u}function Xu(n,r,o){return o===void 0||(Fn&1073741824)!==0&&(Re&261930)===0?n.memoizedState=r:(n.memoizedState=o,n=Tm(),Ee.lanes|=n,vi|=n,o)}function Tp(n,r,o,u){return Ft(o,r)?o:Ur.current!==null?(n=Xu(n,o,u),Ft(n,r)||(ut=!0),n):(Fn&42)===0||(Fn&1073741824)!==0&&(Re&261930)===0?(ut=!0,n.memoizedState=o):(n=Tm(),Ee.lanes|=n,vi|=n,r)}function Cp(n,r,o,u,y){var v=ae.p;ae.p=v!==0&&8>v?v:8;var N=B.T,T={};B.T=T,ec(n,!1,r,o);try{var P=y(),J=B.S;if(J!==null&&J(T,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var Z=w1(P,u);Oa(n,r,Z,Xt(n))}else Oa(n,r,u,Xt(n))}catch(ne){Oa(n,r,{then:function(){},status:"rejected",reason:ne},Xt())}finally{ae.p=v,N!==null&&T.types!==null&&(N.types=T.types),B.T=N}}function _1(){}function Zu(n,r,o,u){if(n.tag!==5)throw Error(a(476));var y=_p(n).queue;Cp(n,y,r,ce,o===null?_1:function(){return Ap(n),o(u)})}function _p(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:ce},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:o},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Ap(n){var r=_p(n);r.next===null&&(r=n.alternate.memoizedState),Oa(n,r.next.queue,{},Xt())}function Wu(){return vt(so)}function kp(){return at().memoizedState}function Ip(){return at().memoizedState}function A1(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var o=Xt();n=hi(o);var u=pi(r,n,o);u!==null&&(Vt(u,r,o),Ga(u,r,o)),r={cache:Au()},n.payload=r;return}r=r.return}}function k1(n,r,o){var u=Xt();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ns(n)?Mp(r,o):(o=yu(n,r,o,u),o!==null&&(Vt(o,n,u),Dp(o,r,u)))}function Rp(n,r,o){var u=Xt();Oa(n,r,o,u)}function Oa(n,r,o,u){var y={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ns(n))Mp(r,y);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var N=r.lastRenderedState,T=v(N,o);if(y.hasEagerState=!0,y.eagerState=T,Ft(T,N))return is(n,r,y,0),Ke===null&&ns(),!1}catch{}finally{}if(o=yu(n,r,y,u),o!==null)return Vt(o,n,u),Dp(o,r,u),!0}return!1}function ec(n,r,o,u){if(u={lane:2,revertLane:Mc(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ns(n)){if(r)throw Error(a(479))}else r=yu(n,o,u,2),r!==null&&Vt(r,n,2)}function Ns(n){var r=n.alternate;return n===Ee||r!==null&&r===Ee}function Mp(n,r){Pr=gs=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function Dp(n,r,o){if((o&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,Vf(n,o)}}var Fa={readContext:vt,use:vs,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt};Fa.useEffectEvent=nt;var Lp={readContext:vt,use:vs,useCallback:function(n,r){return At().memoizedState=[n,r===void 0?null:r],n},useContext:vt,useEffect:yp,useImperativeHandle:function(n,r,o){o=o!=null?o.concat([n]):null,ws(4194308,4,wp.bind(null,r,n),o)},useLayoutEffect:function(n,r){return ws(4194308,4,n,r)},useInsertionEffect:function(n,r){ws(4,2,n,r)},useMemo:function(n,r){var o=At();r=r===void 0?null:r;var u=n();if(Qi){Rt(!0);try{n()}finally{Rt(!1)}}return o.memoizedState=[u,r],u},useReducer:function(n,r,o){var u=At();if(o!==void 0){var y=o(r);if(Qi){Rt(!0);try{o(r)}finally{Rt(!1)}}}else y=r;return u.memoizedState=u.baseState=y,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:y},u.queue=n,n=n.dispatch=k1.bind(null,Ee,n),[u.memoizedState,n]},useRef:function(n){var r=At();return n={current:n},r.memoizedState=n},useState:function(n){n=Yu(n);var r=n.queue,o=Rp.bind(null,Ee,r);return r.dispatch=o,[n.memoizedState,o]},useDebugValue:Qu,useDeferredValue:function(n,r){var o=At();return Xu(o,n,r)},useTransition:function(){var n=Yu(!1);return n=Cp.bind(null,Ee,n.queue,!0,!1),At().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,o){var u=Ee,y=At();if(De){if(o===void 0)throw Error(a(407));o=o()}else{if(o=r(),Ke===null)throw Error(a(349));(Re&127)!==0||tp(u,r,o)}y.memoizedState=o;var v={value:o,getSnapshot:r};return y.queue=v,yp(ip.bind(null,u,v,n),[n]),u.flags|=2048,Gr(9,{destroy:void 0},np.bind(null,u,v,o,r),null),o},useId:function(){var n=At(),r=Ke.identifierPrefix;if(De){var o=_n,u=Cn;o=(u&~(1<<32-$e(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=ys++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=S1++,r="_"+r+"r_"+o.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:Wu,useFormState:fp,useActionState:fp,useOptimistic:function(n){var r=At();r.memoizedState=r.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=ec.bind(null,Ee,!0,o),o.dispatch=r,[n,r]},useMemoCache:Ou,useCacheRefresh:function(){return At().memoizedState=A1.bind(null,Ee)},useEffectEvent:function(n){var r=At(),o={impl:n};return r.memoizedState=o,function(){if((je&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},tc={readContext:vt,use:vs,useCallback:Np,useContext:vt,useEffect:Ku,useImperativeHandle:Sp,useInsertionEffect:vp,useLayoutEffect:bp,useMemo:Ep,useReducer:bs,useRef:gp,useState:function(){return bs(Jn)},useDebugValue:Qu,useDeferredValue:function(n,r){var o=at();return Tp(o,Fe.memoizedState,n,r)},useTransition:function(){var n=bs(Jn)[0],r=at().memoizedState;return[typeof n=="boolean"?n:Ba(n),r]},useSyncExternalStore:ep,useId:kp,useHostTransitionStatus:Wu,useFormState:hp,useActionState:hp,useOptimistic:function(n,r){var o=at();return op(o,Fe,n,r)},useMemoCache:Ou,useCacheRefresh:Ip};tc.useEffectEvent=xp;var qp={readContext:vt,use:vs,useCallback:Np,useContext:vt,useEffect:Ku,useImperativeHandle:Sp,useInsertionEffect:vp,useLayoutEffect:bp,useMemo:Ep,useReducer:Ju,useRef:gp,useState:function(){return Ju(Jn)},useDebugValue:Qu,useDeferredValue:function(n,r){var o=at();return Fe===null?Xu(o,n,r):Tp(o,Fe.memoizedState,n,r)},useTransition:function(){var n=Ju(Jn)[0],r=at().memoizedState;return[typeof n=="boolean"?n:Ba(n),r]},useSyncExternalStore:ep,useId:kp,useHostTransitionStatus:Wu,useFormState:mp,useActionState:mp,useOptimistic:function(n,r){var o=at();return Fe!==null?op(o,Fe,n,r):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Ou,useCacheRefresh:Ip};qp.useEffectEvent=xp;function nc(n,r,o,u){r=n.memoizedState,o=o(u,r),o=o==null?r:b({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var ic={enqueueSetState:function(n,r,o){n=n._reactInternals;var u=Xt(),y=hi(u);y.payload=r,o!=null&&(y.callback=o),r=pi(n,y,u),r!==null&&(Vt(r,n,u),Ga(r,n,u))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var u=Xt(),y=hi(u);y.tag=1,y.payload=r,o!=null&&(y.callback=o),r=pi(n,y,u),r!==null&&(Vt(r,n,u),Ga(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=Xt(),u=hi(o);u.tag=2,r!=null&&(u.callback=r),r=pi(n,u,o),r!==null&&(Vt(r,n,o),Ga(r,n,o))}};function Up(n,r,o,u,y,v,N){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,v,N):r.prototype&&r.prototype.isPureReactComponent?!Ra(o,u)||!Ra(y,v):!0}function Pp(n,r,o,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==n&&ic.enqueueReplaceState(r,r.state,null)}function Xi(n,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(n=n.defaultProps){o===r&&(o=b({},o));for(var y in n)o[y]===void 0&&(o[y]=n[y])}return o}function Vp(n){ts(n)}function Gp(n){console.error(n)}function jp(n){ts(n)}function Es(n,r){try{var o=n.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Hp(n,r,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function rc(n,r,o){return o=hi(o),o.tag=3,o.payload={element:null},o.callback=function(){Es(n,r)},o}function zp(n){return n=hi(n),n.tag=3,n}function Bp(n,r,o,u){var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var v=u.value;n.payload=function(){return y(v)},n.callback=function(){Hp(r,o,u)}}var N=o.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(n.callback=function(){Hp(r,o,u),typeof y!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function I1(n,r,o,u,y){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Rr(r,o,y,!0),o=Yt.current,o!==null){switch(o.tag){case 31:case 13:return cn===null?Us():o.alternate===null&&it===0&&(it=3),o.flags&=-257,o.flags|=65536,o.lanes=y,u===ds?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),kc(n,u,y)),!1;case 22:return o.flags|=65536,u===ds?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),kc(n,u,y)),!1}throw Error(a(435,o.tag))}return kc(n,u,y),Us(),!1}if(De)return r=Yt.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=y,u!==Nu&&(n=Error(a(422),{cause:u}),La(on(n,o)))):(u!==Nu&&(r=Error(a(423),{cause:u}),La(on(r,o))),n=n.current.alternate,n.flags|=65536,y&=-y,n.lanes|=y,u=on(u,o),y=rc(n.stateNode,u,y),Lu(n,y),it!==4&&(it=2)),!1;var v=Error(a(520),{cause:u});if(v=on(v,o),Wa===null?Wa=[v]:Wa.push(v),it!==4&&(it=2),r===null)return!0;u=on(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,n=y&-y,o.lanes|=n,n=rc(o.stateNode,u,n),Lu(o,n),!1;case 1:if(r=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(bi===null||!bi.has(v))))return o.flags|=65536,y&=-y,o.lanes|=y,y=zp(y),Bp(y,n,o,u),Lu(o,y),!1}o=o.return}while(o!==null);return!1}var ac=Error(a(461)),ut=!1;function bt(n,r,o,u){r.child=n===null?Yh(r,null,o,u):Ki(r,n.child,o,u)}function Op(n,r,o,u,y){o=o.render;var v=r.ref;if("ref"in u){var N={};for(var T in u)T!=="ref"&&(N[T]=u[T])}else N=u;return Fi(r),u=ju(n,r,o,N,v,y),T=Hu(),n!==null&&!ut?(zu(n,r,y),Yn(n,r,y)):(De&&T&&wu(r),r.flags|=1,bt(n,r,u,y),r.child)}function Fp(n,r,o,u,y){if(n===null){var v=o.type;return typeof v=="function"&&!xu(v)&&v.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=v,Jp(n,r,v,u,y)):(n=as(o.type,null,u,r,r.mode,y),n.ref=r.ref,n.return=r,r.child=n)}if(v=n.child,!hc(n,y)){var N=v.memoizedProps;if(o=o.compare,o=o!==null?o:Ra,o(N,u)&&n.ref===r.ref)return Yn(n,r,y)}return r.flags|=1,n=Hn(v,u),n.ref=r.ref,n.return=r,r.child=n}function Jp(n,r,o,u,y){if(n!==null){var v=n.memoizedProps;if(Ra(v,u)&&n.ref===r.ref)if(ut=!1,r.pendingProps=u=v,hc(n,y))(n.flags&131072)!==0&&(ut=!0);else return r.lanes=n.lanes,Yn(n,r,y)}return oc(n,r,o,u,y)}function Yp(n,r,o,u){var y=u.children,v=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(v=v!==null?v.baseLanes|o:o,n!==null){for(u=r.child=n.child,y=0;u!==null;)y=y|u.lanes|u.childLanes,u=u.sibling;u=y&~v}else u=0,r.child=null;return $p(n,r,v,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&us(r,v!==null?v.cachePool:null),v!==null?Qh(r,v):Uu(),Xh(r);else return u=r.lanes=536870912,$p(n,r,v!==null?v.baseLanes|o:o,o,u)}else v!==null?(us(r,v.cachePool),Qh(r,v),gi(),r.memoizedState=null):(n!==null&&us(r,null),Uu(),gi());return bt(n,r,y,o),r.child}function Ja(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function $p(n,r,o,u,y){var v=Iu();return v=v===null?null:{parent:st._currentValue,pool:v},r.memoizedState={baseLanes:o,cachePool:v},n!==null&&us(r,null),Uu(),Xh(r),n!==null&&Rr(n,r,u,!0),r.childLanes=y,null}function Ts(n,r){return r=_s({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function Kp(n,r,o){return Ki(r,n.child,null,o),n=Ts(r,r.pendingProps),n.flags|=2,$t(r),r.memoizedState=null,n}function R1(n,r,o){var u=r.pendingProps,y=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(De){if(u.mode==="hidden")return n=Ts(r,u),r.lanes=536870912,Ja(null,n);if(Vu(r),(n=Ze)?(n=sg(n,un),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:li!==null?{id:Cn,overflow:_n}:null,retryLane:536870912,hydrationErrors:null},o=Mh(n),o.return=r,r.child=o,xt=r,Ze=null)):n=null,n===null)throw ci(r);return r.lanes=536870912,null}return Ts(r,u)}var v=n.memoizedState;if(v!==null){var N=v.dehydrated;if(Vu(r),y)if(r.flags&256)r.flags&=-257,r=Kp(n,r,o);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(a(558));else if(ut||Rr(n,r,o,!1),y=(o&n.childLanes)!==0,ut||y){if(u=Ke,u!==null&&(N=Gf(u,o),N!==0&&N!==v.retryLane))throw v.retryLane=N,Hi(n,N),Vt(u,n,N),ac;Us(),r=Kp(n,r,o)}else n=v.treeContext,Ze=dn(N.nextSibling),xt=r,De=!0,ui=null,un=!1,n!==null&&qh(r,n),r=Ts(r,u),r.flags|=4096;return r}return n=Hn(n.child,{mode:u.mode,children:u.children}),n.ref=r.ref,r.child=n,n.return=r,n}function Cs(n,r){var o=r.ref;if(o===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(n===null||n.ref!==o)&&(r.flags|=4194816)}}function oc(n,r,o,u,y){return Fi(r),o=ju(n,r,o,u,void 0,y),u=Hu(),n!==null&&!ut?(zu(n,r,y),Yn(n,r,y)):(De&&u&&wu(r),r.flags|=1,bt(n,r,o,y),r.child)}function Qp(n,r,o,u,y,v){return Fi(r),r.updateQueue=null,o=Wh(r,u,o,y),Zh(n),u=Hu(),n!==null&&!ut?(zu(n,r,v),Yn(n,r,v)):(De&&u&&wu(r),r.flags|=1,bt(n,r,o,v),r.child)}function Xp(n,r,o,u,y){if(Fi(r),r.stateNode===null){var v=_r,N=o.contextType;typeof N=="object"&&N!==null&&(v=vt(N)),v=new o(u,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=ic,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=u,v.state=r.memoizedState,v.refs={},Mu(r),N=o.contextType,v.context=typeof N=="object"&&N!==null?vt(N):_r,v.state=r.memoizedState,N=o.getDerivedStateFromProps,typeof N=="function"&&(nc(r,o,N,u),v.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(N=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),N!==v.state&&ic.enqueueReplaceState(v,v.state,null),Ha(r,u,v,y),ja(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){v=r.stateNode;var T=r.memoizedProps,P=Xi(o,T);v.props=P;var J=v.context,Z=o.contextType;N=_r,typeof Z=="object"&&Z!==null&&(N=vt(Z));var ne=o.getDerivedStateFromProps;Z=typeof ne=="function"||typeof v.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,Z||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T||J!==N)&&Pp(r,v,u,N),fi=!1;var Y=r.memoizedState;v.state=Y,Ha(r,u,v,y),ja(),J=r.memoizedState,T||Y!==J||fi?(typeof ne=="function"&&(nc(r,o,ne,u),J=r.memoizedState),(P=fi||Up(r,o,P,u,Y,J,N))?(Z||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=J),v.props=u,v.state=J,v.context=N,u=P):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{v=r.stateNode,Du(n,r),N=r.memoizedProps,Z=Xi(o,N),v.props=Z,ne=r.pendingProps,Y=v.context,J=o.contextType,P=_r,typeof J=="object"&&J!==null&&(P=vt(J)),T=o.getDerivedStateFromProps,(J=typeof T=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(N!==ne||Y!==P)&&Pp(r,v,u,P),fi=!1,Y=r.memoizedState,v.state=Y,Ha(r,u,v,y),ja();var X=r.memoizedState;N!==ne||Y!==X||fi||n!==null&&n.dependencies!==null&&ss(n.dependencies)?(typeof T=="function"&&(nc(r,o,T,u),X=r.memoizedState),(Z=fi||Up(r,o,Z,u,Y,X,P)||n!==null&&n.dependencies!==null&&ss(n.dependencies))?(J||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,X,P),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,X,P)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||N===n.memoizedProps&&Y===n.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||N===n.memoizedProps&&Y===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),v.props=u,v.state=X,v.context=P,u=Z):(typeof v.componentDidUpdate!="function"||N===n.memoizedProps&&Y===n.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||N===n.memoizedProps&&Y===n.memoizedState||(r.flags|=1024),u=!1)}return v=u,Cs(n,r),u=(r.flags&128)!==0,v||u?(v=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,n!==null&&u?(r.child=Ki(r,n.child,null,y),r.child=Ki(r,null,o,y)):bt(n,r,o,y),r.memoizedState=v.state,n=r.child):n=Yn(n,r,y),n}function Zp(n,r,o,u){return Bi(),r.flags|=256,bt(n,r,o,u),r.child}var sc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lc(n){return{baseLanes:n,cachePool:Hh()}}function uc(n,r,o){return n=n!==null?n.childLanes&~o:0,r&&(n|=Qt),n}function Wp(n,r,o){var u=r.pendingProps,y=!1,v=(r.flags&128)!==0,N;if((N=v)||(N=n!==null&&n.memoizedState===null?!1:(rt.current&2)!==0),N&&(y=!0,r.flags&=-129),N=(r.flags&32)!==0,r.flags&=-33,n===null){if(De){if(y?mi(r):gi(),(n=Ze)?(n=sg(n,un),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:li!==null?{id:Cn,overflow:_n}:null,retryLane:536870912,hydrationErrors:null},o=Mh(n),o.return=r,r.child=o,xt=r,Ze=null)):n=null,n===null)throw ci(r);return Fc(n)?r.lanes=32:r.lanes=536870912,null}var T=u.children;return u=u.fallback,y?(gi(),y=r.mode,T=_s({mode:"hidden",children:T},y),u=zi(u,y,o,null),T.return=r,u.return=r,T.sibling=u,r.child=T,u=r.child,u.memoizedState=lc(o),u.childLanes=uc(n,N,o),r.memoizedState=sc,Ja(null,u)):(mi(r),cc(r,T))}var P=n.memoizedState;if(P!==null&&(T=P.dehydrated,T!==null)){if(v)r.flags&256?(mi(r),r.flags&=-257,r=dc(n,r,o)):r.memoizedState!==null?(gi(),r.child=n.child,r.flags|=128,r=null):(gi(),T=u.fallback,y=r.mode,u=_s({mode:"visible",children:u.children},y),T=zi(T,y,o,null),T.flags|=2,u.return=r,T.return=r,u.sibling=T,r.child=u,Ki(r,n.child,null,o),u=r.child,u.memoizedState=lc(o),u.childLanes=uc(n,N,o),r.memoizedState=sc,r=Ja(null,u));else if(mi(r),Fc(T)){if(N=T.nextSibling&&T.nextSibling.dataset,N)var J=N.dgst;N=J,u=Error(a(419)),u.stack="",u.digest=N,La({value:u,source:null,stack:null}),r=dc(n,r,o)}else if(ut||Rr(n,r,o,!1),N=(o&n.childLanes)!==0,ut||N){if(N=Ke,N!==null&&(u=Gf(N,o),u!==0&&u!==P.retryLane))throw P.retryLane=u,Hi(n,u),Vt(N,n,u),ac;Oc(T)||Us(),r=dc(n,r,o)}else Oc(T)?(r.flags|=192,r.child=n.child,r=null):(n=P.treeContext,Ze=dn(T.nextSibling),xt=r,De=!0,ui=null,un=!1,n!==null&&qh(r,n),r=cc(r,u.children),r.flags|=4096);return r}return y?(gi(),T=u.fallback,y=r.mode,P=n.child,J=P.sibling,u=Hn(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,J!==null?T=Hn(J,T):(T=zi(T,y,o,null),T.flags|=2),T.return=r,u.return=r,u.sibling=T,r.child=u,Ja(null,u),u=r.child,T=n.child.memoizedState,T===null?T=lc(o):(y=T.cachePool,y!==null?(P=st._currentValue,y=y.parent!==P?{parent:P,pool:P}:y):y=Hh(),T={baseLanes:T.baseLanes|o,cachePool:y}),u.memoizedState=T,u.childLanes=uc(n,N,o),r.memoizedState=sc,Ja(n.child,u)):(mi(r),o=n.child,n=o.sibling,o=Hn(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,n!==null&&(N=r.deletions,N===null?(r.deletions=[n],r.flags|=16):N.push(n)),r.child=o,r.memoizedState=null,o)}function cc(n,r){return r=_s({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function _s(n,r){return n=Jt(22,n,null,r),n.lanes=0,n}function dc(n,r,o){return Ki(r,n.child,null,o),n=cc(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function em(n,r,o){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),Cu(n.return,r,o)}function fc(n,r,o,u,y,v){var N=n.memoizedState;N===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:y,treeForkCount:v}:(N.isBackwards=r,N.rendering=null,N.renderingStartTime=0,N.last=u,N.tail=o,N.tailMode=y,N.treeForkCount=v)}function tm(n,r,o){var u=r.pendingProps,y=u.revealOrder,v=u.tail;u=u.children;var N=rt.current,T=(N&2)!==0;if(T?(N=N&1|2,r.flags|=128):N&=1,k(rt,N),bt(n,r,u,o),u=De?Da:0,!T&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&em(n,o,r);else if(n.tag===19)em(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(y){case"forwards":for(o=r.child,y=null;o!==null;)n=o.alternate,n!==null&&ms(n)===null&&(y=o),o=o.sibling;o=y,o===null?(y=r.child,r.child=null):(y=o.sibling,o.sibling=null),fc(r,!1,y,o,v,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,y=r.child,r.child=null;y!==null;){if(n=y.alternate,n!==null&&ms(n)===null){r.child=y;break}n=y.sibling,y.sibling=o,o=y,y=n}fc(r,!0,o,null,v,u);break;case"together":fc(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Yn(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),vi|=r.lanes,(o&r.childLanes)===0)if(n!==null){if(Rr(n,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(a(153));if(r.child!==null){for(n=r.child,o=Hn(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=Hn(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function hc(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&ss(n)))}function M1(n,r,o){switch(r.tag){case 3:Le(r,r.stateNode.containerInfo),di(r,st,n.memoizedState.cache),Bi();break;case 27:case 5:St(r);break;case 4:Le(r,r.stateNode.containerInfo);break;case 10:di(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Vu(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(mi(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Wp(n,r,o):(mi(r),n=Yn(n,r,o),n!==null?n.sibling:null);mi(r);break;case 19:var y=(n.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Rr(n,r,o,!1),u=(o&r.childLanes)!==0),y){if(u)return tm(n,r,o);r.flags|=128}if(y=r.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),k(rt,rt.current),u)break;return null;case 22:return r.lanes=0,Yp(n,r,o,r.pendingProps);case 24:di(r,st,n.memoizedState.cache)}return Yn(n,r,o)}function nm(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps)ut=!0;else{if(!hc(n,o)&&(r.flags&128)===0)return ut=!1,M1(n,r,o);ut=(n.flags&131072)!==0}else ut=!1,De&&(r.flags&1048576)!==0&&Lh(r,Da,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(n=Yi(r.elementType),r.type=n,typeof n=="function")xu(n)?(u=Xi(n,u),r.tag=1,r=Xp(null,r,n,u,o)):(r.tag=0,r=oc(null,r,n,u,o));else{if(n!=null){var y=n.$$typeof;if(y===M){r.tag=11,r=Op(null,r,n,u,o);break e}else if(y===U){r.tag=14,r=Fp(null,r,n,u,o);break e}}throw r=ie(n)||n,Error(a(306,r,""))}}return r;case 0:return oc(n,r,r.type,r.pendingProps,o);case 1:return u=r.type,y=Xi(u,r.pendingProps),Xp(n,r,u,y,o);case 3:e:{if(Le(r,r.stateNode.containerInfo),n===null)throw Error(a(387));u=r.pendingProps;var v=r.memoizedState;y=v.element,Du(n,r),Ha(r,u,null,o);var N=r.memoizedState;if(u=N.cache,di(r,st,u),u!==v.cache&&_u(r,[st],o,!0),ja(),u=N.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:N.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=Zp(n,r,u,o);break e}else if(u!==y){y=on(Error(a(424)),r),La(y),r=Zp(n,r,u,o);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ze=dn(n.firstChild),xt=r,De=!0,ui=null,un=!0,o=Yh(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Bi(),u===y){r=Yn(n,r,o);break e}bt(n,r,u,o)}r=r.child}return r;case 26:return Cs(n,r),n===null?(o=hg(r.type,null,r.pendingProps,null))?r.memoizedState=o:De||(o=r.type,n=r.pendingProps,u=Bs(he.current).createElement(o),u[yt]=r,u[Mt]=n,wt(u,o,n),mt(u),r.stateNode=u):r.memoizedState=hg(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return St(r),n===null&&De&&(u=r.stateNode=cg(r.type,r.pendingProps,he.current),xt=r,un=!0,y=Ze,Ei(r.type)?(Jc=y,Ze=dn(u.firstChild)):Ze=y),bt(n,r,r.pendingProps.children,o),Cs(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&De&&((y=u=Ze)&&(u=lw(u,r.type,r.pendingProps,un),u!==null?(r.stateNode=u,xt=r,Ze=dn(u.firstChild),un=!1,y=!0):y=!1),y||ci(r)),St(r),y=r.type,v=r.pendingProps,N=n!==null?n.memoizedProps:null,u=v.children,Hc(y,v)?u=null:N!==null&&Hc(y,N)&&(r.flags|=32),r.memoizedState!==null&&(y=ju(n,r,N1,null,null,o),so._currentValue=y),Cs(n,r),bt(n,r,u,o),r.child;case 6:return n===null&&De&&((n=o=Ze)&&(o=uw(o,r.pendingProps,un),o!==null?(r.stateNode=o,xt=r,Ze=null,n=!0):n=!1),n||ci(r)),null;case 13:return Wp(n,r,o);case 4:return Le(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=Ki(r,null,u,o):bt(n,r,u,o),r.child;case 11:return Op(n,r,r.type,r.pendingProps,o);case 7:return bt(n,r,r.pendingProps,o),r.child;case 8:return bt(n,r,r.pendingProps.children,o),r.child;case 12:return bt(n,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,di(r,r.type,u.value),bt(n,r,u.children,o),r.child;case 9:return y=r.type._context,u=r.pendingProps.children,Fi(r),y=vt(y),u=u(y),r.flags|=1,bt(n,r,u,o),r.child;case 14:return Fp(n,r,r.type,r.pendingProps,o);case 15:return Jp(n,r,r.type,r.pendingProps,o);case 19:return tm(n,r,o);case 31:return R1(n,r,o);case 22:return Yp(n,r,o,r.pendingProps);case 24:return Fi(r),u=vt(st),n===null?(y=Iu(),y===null&&(y=Ke,v=Au(),y.pooledCache=v,v.refCount++,v!==null&&(y.pooledCacheLanes|=o),y=v),r.memoizedState={parent:u,cache:y},Mu(r),di(r,st,y)):((n.lanes&o)!==0&&(Du(n,r),Ha(r,null,null,o),ja()),y=n.memoizedState,v=r.memoizedState,y.parent!==u?(y={parent:u,cache:u},r.memoizedState=y,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=y),di(r,st,u)):(u=v.cache,di(r,st,u),u!==y.cache&&_u(r,[st],o,!0))),bt(n,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function $n(n){n.flags|=4}function pc(n,r,o,u,y){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(y&335544128)===y)if(n.stateNode.complete)n.flags|=8192;else if(km())n.flags|=8192;else throw $i=ds,Ru}else n.flags&=-16777217}function im(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!xg(r))if(km())n.flags|=8192;else throw $i=ds,Ru}function As(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Uf():536870912,n.lanes|=r,Br|=r)}function Ya(n,r){if(!De)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function We(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(r)for(var y=n.child;y!==null;)o|=y.lanes|y.childLanes,u|=y.subtreeFlags&65011712,u|=y.flags&65011712,y.return=n,y=y.sibling;else for(y=n.child;y!==null;)o|=y.lanes|y.childLanes,u|=y.subtreeFlags,u|=y.flags,y.return=n,y=y.sibling;return n.subtreeFlags|=u,n.childLanes=o,r}function D1(n,r,o){var u=r.pendingProps;switch(Su(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(r),null;case 1:return We(r),null;case 3:return o=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),On(st),qe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Ir(r)?$n(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Eu())),We(r),null;case 26:var y=r.type,v=r.memoizedState;return n===null?($n(r),v!==null?(We(r),im(r,v)):(We(r),pc(r,y,null,u,o))):v?v!==n.memoizedState?($n(r),We(r),im(r,v)):(We(r),r.flags&=-16777217):(n=n.memoizedProps,n!==u&&$n(r),We(r),pc(r,y,n,u,o)),null;case 27:if(Tn(r),o=he.current,y=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&$n(r);else{if(!u){if(r.stateNode===null)throw Error(a(166));return We(r),null}n=ue.current,Ir(r)?Uh(r):(n=cg(y,u,o),r.stateNode=n,$n(r))}return We(r),null;case 5:if(Tn(r),y=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&$n(r);else{if(!u){if(r.stateNode===null)throw Error(a(166));return We(r),null}if(v=ue.current,Ir(r))Uh(r);else{var N=Bs(he.current);switch(v){case 1:v=N.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:v=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":v=N.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":v=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":v=N.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof u.is=="string"?N.createElement("select",{is:u.is}):N.createElement("select"),u.multiple?v.multiple=!0:u.size&&(v.size=u.size);break;default:v=typeof u.is=="string"?N.createElement(y,{is:u.is}):N.createElement(y)}}v[yt]=r,v[Mt]=u;e:for(N=r.child;N!==null;){if(N.tag===5||N.tag===6)v.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===r)break e;for(;N.sibling===null;){if(N.return===null||N.return===r)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}r.stateNode=v;e:switch(wt(v,y,u),y){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&$n(r)}}return We(r),pc(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,o),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&$n(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(a(166));if(n=he.current,Ir(r)){if(n=r.stateNode,o=r.memoizedProps,u=null,y=xt,y!==null)switch(y.tag){case 27:case 5:u=y.memoizedProps}n[yt]=r,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Wm(n.nodeValue,o)),n||ci(r,!0)}else n=Bs(n).createTextNode(u),n[yt]=r,r.stateNode=n}return We(r),null;case 31:if(o=r.memoizedState,n===null||n.memoizedState!==null){if(u=Ir(r),o!==null){if(n===null){if(!u)throw Error(a(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[yt]=r}else Bi(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;We(r),n=!1}else o=Eu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return r.flags&256?($t(r),r):($t(r),null);if((r.flags&128)!==0)throw Error(a(558))}return We(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(y=Ir(r),u!==null&&u.dehydrated!==null){if(n===null){if(!y)throw Error(a(318));if(y=r.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));y[yt]=r}else Bi(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;We(r),y=!1}else y=Eu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=y),y=!0;if(!y)return r.flags&256?($t(r),r):($t(r),null)}return $t(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=r.child,y=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(y=u.alternate.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==y&&(u.flags|=2048)),o!==n&&o&&(r.child.flags|=8192),As(r,r.updateQueue),We(r),null);case 4:return qe(),n===null&&Uc(r.stateNode.containerInfo),We(r),null;case 10:return On(r.type),We(r),null;case 19:if(O(rt),u=r.memoizedState,u===null)return We(r),null;if(y=(r.flags&128)!==0,v=u.rendering,v===null)if(y)Ya(u,!1);else{if(it!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(v=ms(n),v!==null){for(r.flags|=128,Ya(u,!1),n=v.updateQueue,r.updateQueue=n,As(r,n),r.subtreeFlags=0,n=o,o=r.child;o!==null;)Rh(o,n),o=o.sibling;return k(rt,rt.current&1|2),De&&zn(r,u.treeForkCount),r.child}n=n.sibling}u.tail!==null&&Ct()>Ds&&(r.flags|=128,y=!0,Ya(u,!1),r.lanes=4194304)}else{if(!y)if(n=ms(v),n!==null){if(r.flags|=128,y=!0,n=n.updateQueue,r.updateQueue=n,As(r,n),Ya(u,!0),u.tail===null&&u.tailMode==="hidden"&&!v.alternate&&!De)return We(r),null}else 2*Ct()-u.renderingStartTime>Ds&&o!==536870912&&(r.flags|=128,y=!0,Ya(u,!1),r.lanes=4194304);u.isBackwards?(v.sibling=r.child,r.child=v):(n=u.last,n!==null?n.sibling=v:r.child=v,u.last=v)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Ct(),n.sibling=null,o=rt.current,k(rt,y?o&1|2:o&1),De&&zn(r,u.treeForkCount),n):(We(r),null);case 22:case 23:return $t(r),Pu(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(We(r),r.subtreeFlags&6&&(r.flags|=8192)):We(r),o=r.updateQueue,o!==null&&As(r,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),n!==null&&O(Ji),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),On(st),We(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function L1(n,r){switch(Su(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return On(st),qe(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Tn(r),null;case 31:if(r.memoizedState!==null){if($t(r),r.alternate===null)throw Error(a(340));Bi()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if($t(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Bi()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return O(rt),null;case 4:return qe(),null;case 10:return On(r.type),null;case 22:case 23:return $t(r),Pu(),n!==null&&O(Ji),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return On(st),null;case 25:return null;default:return null}}function rm(n,r){switch(Su(r),r.tag){case 3:On(st),qe();break;case 26:case 27:case 5:Tn(r);break;case 4:qe();break;case 31:r.memoizedState!==null&&$t(r);break;case 13:$t(r);break;case 19:O(rt);break;case 10:On(r.type);break;case 22:case 23:$t(r),Pu(),n!==null&&O(Ji);break;case 24:On(st)}}function $a(n,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var y=u.next;o=y;do{if((o.tag&n)===n){u=void 0;var v=o.create,N=o.inst;u=v(),N.destroy=u}o=o.next}while(o!==y)}}catch(T){Oe(r,r.return,T)}}function yi(n,r,o){try{var u=r.updateQueue,y=u!==null?u.lastEffect:null;if(y!==null){var v=y.next;u=v;do{if((u.tag&n)===n){var N=u.inst,T=N.destroy;if(T!==void 0){N.destroy=void 0,y=r;var P=o,J=T;try{J()}catch(Z){Oe(y,P,Z)}}}u=u.next}while(u!==v)}}catch(Z){Oe(r,r.return,Z)}}function am(n){var r=n.updateQueue;if(r!==null){var o=n.stateNode;try{Kh(r,o)}catch(u){Oe(n,n.return,u)}}}function om(n,r,o){o.props=Xi(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){Oe(n,r,u)}}function Ka(n,r){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(y){Oe(n,r,y)}}function An(n,r){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(y){Oe(n,r,y)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(y){Oe(n,r,y)}else o.current=null}function sm(n){var r=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(y){Oe(n,n.return,y)}}function mc(n,r,o){try{var u=n.stateNode;nw(u,n.type,o,r),u[Mt]=r}catch(y){Oe(n,n.return,y)}}function lm(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ei(n.type)||n.tag===4}function gc(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||lm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ei(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function yc(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(n),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Gn));else if(u!==4&&(u===27&&Ei(n.type)&&(o=n.stateNode,r=null),n=n.child,n!==null))for(yc(n,r,o),n=n.sibling;n!==null;)yc(n,r,o),n=n.sibling}function ks(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(u!==4&&(u===27&&Ei(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(ks(n,r,o),n=n.sibling;n!==null;)ks(n,r,o),n=n.sibling}function um(n){var r=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,y=r.attributes;y.length;)r.removeAttributeNode(y[0]);wt(r,u,o),r[yt]=n,r[Mt]=o}catch(v){Oe(n,n.return,v)}}var Kn=!1,ct=!1,xc=!1,cm=typeof WeakSet=="function"?WeakSet:Set,gt=null;function q1(n,r){if(n=n.containerInfo,Gc=Qs,n=Sh(n),du(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var y=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var N=0,T=-1,P=-1,J=0,Z=0,ne=n,Y=null;t:for(;;){for(var X;ne!==o||y!==0&&ne.nodeType!==3||(T=N+y),ne!==v||u!==0&&ne.nodeType!==3||(P=N+u),ne.nodeType===3&&(N+=ne.nodeValue.length),(X=ne.firstChild)!==null;)Y=ne,ne=X;for(;;){if(ne===n)break t;if(Y===o&&++J===y&&(T=N),Y===v&&++Z===u&&(P=N),(X=ne.nextSibling)!==null)break;ne=Y,Y=ne.parentNode}ne=X}o=T===-1||P===-1?null:{start:T,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(jc={focusedElem:n,selectionRange:o},Qs=!1,gt=r;gt!==null;)if(r=gt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,gt=n;else for(;gt!==null;){switch(r=gt,v=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)y=n[o],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&v!==null){n=void 0,o=r,y=v.memoizedProps,v=v.memoizedState,u=o.stateNode;try{var de=Xi(o.type,y);n=u.getSnapshotBeforeUpdate(de,v),u.__reactInternalSnapshotBeforeUpdate=n}catch(xe){Oe(o,o.return,xe)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,o=n.nodeType,o===9)Bc(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Bc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=r.sibling,n!==null){n.return=r.return,gt=n;break}gt=r.return}}function dm(n,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Xn(n,o),u&4&&$a(5,o);break;case 1:if(Xn(n,o),u&4)if(n=o.stateNode,r===null)try{n.componentDidMount()}catch(N){Oe(o,o.return,N)}else{var y=Xi(o.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(y,r,n.__reactInternalSnapshotBeforeUpdate)}catch(N){Oe(o,o.return,N)}}u&64&&am(o),u&512&&Ka(o,o.return);break;case 3:if(Xn(n,o),u&64&&(n=o.updateQueue,n!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Kh(n,r)}catch(N){Oe(o,o.return,N)}}break;case 27:r===null&&u&4&&um(o);case 26:case 5:Xn(n,o),r===null&&u&4&&sm(o),u&512&&Ka(o,o.return);break;case 12:Xn(n,o);break;case 31:Xn(n,o),u&4&&pm(n,o);break;case 13:Xn(n,o),u&4&&mm(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=O1.bind(null,o),cw(n,o))));break;case 22:if(u=o.memoizedState!==null||Kn,!u){r=r!==null&&r.memoizedState!==null||ct,y=Kn;var v=ct;Kn=u,(ct=r)&&!v?Zn(n,o,(o.subtreeFlags&8772)!==0):Xn(n,o),Kn=y,ct=v}break;case 30:break;default:Xn(n,o)}}function fm(n){var r=n.alternate;r!==null&&(n.alternate=null,fm(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&$l(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var tt=null,Lt=!1;function Qn(n,r,o){for(o=o.child;o!==null;)hm(n,r,o),o=o.sibling}function hm(n,r,o){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(_t,o)}catch{}switch(o.tag){case 26:ct||An(o,r),Qn(n,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ct||An(o,r);var u=tt,y=Lt;Ei(o.type)&&(tt=o.stateNode,Lt=!1),Qn(n,r,o),ro(o.stateNode),tt=u,Lt=y;break;case 5:ct||An(o,r);case 6:if(u=tt,y=Lt,tt=null,Qn(n,r,o),tt=u,Lt=y,tt!==null)if(Lt)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(o.stateNode)}catch(v){Oe(o,r,v)}else try{tt.removeChild(o.stateNode)}catch(v){Oe(o,r,v)}break;case 18:tt!==null&&(Lt?(n=tt,ag(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Xr(n)):ag(tt,o.stateNode));break;case 4:u=tt,y=Lt,tt=o.stateNode.containerInfo,Lt=!0,Qn(n,r,o),tt=u,Lt=y;break;case 0:case 11:case 14:case 15:yi(2,o,r),ct||yi(4,o,r),Qn(n,r,o);break;case 1:ct||(An(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&om(o,r,u)),Qn(n,r,o);break;case 21:Qn(n,r,o);break;case 22:ct=(u=ct)||o.memoizedState!==null,Qn(n,r,o),ct=u;break;default:Qn(n,r,o)}}function pm(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Xr(n)}catch(o){Oe(r,r.return,o)}}}function mm(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Xr(n)}catch(o){Oe(r,r.return,o)}}function U1(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new cm),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new cm),r;default:throw Error(a(435,n.tag))}}function Is(n,r){var o=U1(n);r.forEach(function(u){if(!o.has(u)){o.add(u);var y=F1.bind(null,n,u);u.then(y,y)}})}function qt(n,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var y=o[u],v=n,N=r,T=N;e:for(;T!==null;){switch(T.tag){case 27:if(Ei(T.type)){tt=T.stateNode,Lt=!1;break e}break;case 5:tt=T.stateNode,Lt=!1;break e;case 3:case 4:tt=T.stateNode.containerInfo,Lt=!0;break e}T=T.return}if(tt===null)throw Error(a(160));hm(v,N,y),tt=null,Lt=!1,v=y.alternate,v!==null&&(v.return=null),y.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)gm(r,n),r=r.sibling}var vn=null;function gm(n,r){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:qt(r,n),Ut(n),u&4&&(yi(3,n,n.return),$a(3,n),yi(5,n,n.return));break;case 1:qt(r,n),Ut(n),u&512&&(ct||o===null||An(o,o.return)),u&64&&Kn&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var y=vn;if(qt(r,n),Ut(n),u&512&&(ct||o===null||An(o,o.return)),u&4){var v=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,y=y.ownerDocument||y;t:switch(u){case"title":v=y.getElementsByTagName("title")[0],(!v||v[Sa]||v[yt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=y.createElement(u),y.head.insertBefore(v,y.querySelector("head > title"))),wt(v,u,o),v[yt]=n,mt(v),u=v;break e;case"link":var N=gg("link","href",y).get(u+(o.href||""));if(N){for(var T=0;T<N.length;T++)if(v=N[T],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){N.splice(T,1);break t}}v=y.createElement(u),wt(v,u,o),y.head.appendChild(v);break;case"meta":if(N=gg("meta","content",y).get(u+(o.content||""))){for(T=0;T<N.length;T++)if(v=N[T],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){N.splice(T,1);break t}}v=y.createElement(u),wt(v,u,o),y.head.appendChild(v);break;default:throw Error(a(468,u))}v[yt]=n,mt(v),u=v}n.stateNode=u}else yg(y,n.type,n.stateNode);else n.stateNode=mg(y,u,n.memoizedProps);else v!==u?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,u===null?yg(y,n.type,n.stateNode):mg(y,u,n.memoizedProps)):u===null&&n.stateNode!==null&&mc(n,n.memoizedProps,o.memoizedProps)}break;case 27:qt(r,n),Ut(n),u&512&&(ct||o===null||An(o,o.return)),o!==null&&u&4&&mc(n,n.memoizedProps,o.memoizedProps);break;case 5:if(qt(r,n),Ut(n),u&512&&(ct||o===null||An(o,o.return)),n.flags&32){y=n.stateNode;try{br(y,"")}catch(de){Oe(n,n.return,de)}}u&4&&n.stateNode!=null&&(y=n.memoizedProps,mc(n,y,o!==null?o.memoizedProps:y)),u&1024&&(xc=!0);break;case 6:if(qt(r,n),Ut(n),u&4){if(n.stateNode===null)throw Error(a(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(de){Oe(n,n.return,de)}}break;case 3:if(Js=null,y=vn,vn=Os(r.containerInfo),qt(r,n),vn=y,Ut(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Xr(r.containerInfo)}catch(de){Oe(n,n.return,de)}xc&&(xc=!1,ym(n));break;case 4:u=vn,vn=Os(n.stateNode.containerInfo),qt(r,n),Ut(n),vn=u;break;case 12:qt(r,n),Ut(n);break;case 31:qt(r,n),Ut(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Is(n,u)));break;case 13:qt(r,n),Ut(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ms=Ct()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Is(n,u)));break;case 22:y=n.memoizedState!==null;var P=o!==null&&o.memoizedState!==null,J=Kn,Z=ct;if(Kn=J||y,ct=Z||P,qt(r,n),ct=Z,Kn=J,Ut(n),u&8192)e:for(r=n.stateNode,r._visibility=y?r._visibility&-2:r._visibility|1,y&&(o===null||P||Kn||ct||Zi(n)),o=null,r=n;;){if(r.tag===5||r.tag===26){if(o===null){P=o=r;try{if(v=P.stateNode,y)N=v.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{T=P.stateNode;var ne=P.memoizedProps.style,Y=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;T.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(de){Oe(P,P.return,de)}}}else if(r.tag===6){if(o===null){P=r;try{P.stateNode.nodeValue=y?"":P.memoizedProps}catch(de){Oe(P,P.return,de)}}}else if(r.tag===18){if(o===null){P=r;try{var X=P.stateNode;y?og(X,!0):og(P.stateNode,!1)}catch(de){Oe(P,P.return,de)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Is(n,o))));break;case 19:qt(r,n),Ut(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Is(n,u)));break;case 30:break;case 21:break;default:qt(r,n),Ut(n)}}function Ut(n){var r=n.flags;if(r&2){try{for(var o,u=n.return;u!==null;){if(lm(u)){o=u;break}u=u.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var y=o.stateNode,v=gc(n);ks(n,v,y);break;case 5:var N=o.stateNode;o.flags&32&&(br(N,""),o.flags&=-33);var T=gc(n);ks(n,T,N);break;case 3:case 4:var P=o.stateNode.containerInfo,J=gc(n);yc(n,J,P);break;default:throw Error(a(161))}}catch(Z){Oe(n,n.return,Z)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function ym(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;ym(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Xn(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)dm(n,r.alternate,r),r=r.sibling}function Zi(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:yi(4,r,r.return),Zi(r);break;case 1:An(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&om(r,r.return,o),Zi(r);break;case 27:ro(r.stateNode);case 26:case 5:An(r,r.return),Zi(r);break;case 22:r.memoizedState===null&&Zi(r);break;case 30:Zi(r);break;default:Zi(r)}n=n.sibling}}function Zn(n,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,y=n,v=r,N=v.flags;switch(v.tag){case 0:case 11:case 15:Zn(y,v,o),$a(4,v);break;case 1:if(Zn(y,v,o),u=v,y=u.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(J){Oe(u,u.return,J)}if(u=v,y=u.updateQueue,y!==null){var T=u.stateNode;try{var P=y.shared.hiddenCallbacks;if(P!==null)for(y.shared.hiddenCallbacks=null,y=0;y<P.length;y++)$h(P[y],T)}catch(J){Oe(u,u.return,J)}}o&&N&64&&am(v),Ka(v,v.return);break;case 27:um(v);case 26:case 5:Zn(y,v,o),o&&u===null&&N&4&&sm(v),Ka(v,v.return);break;case 12:Zn(y,v,o);break;case 31:Zn(y,v,o),o&&N&4&&pm(y,v);break;case 13:Zn(y,v,o),o&&N&4&&mm(y,v);break;case 22:v.memoizedState===null&&Zn(y,v,o),Ka(v,v.return);break;case 30:break;default:Zn(y,v,o)}r=r.sibling}}function vc(n,r){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&qa(o))}function bc(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&qa(n))}function bn(n,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)xm(n,r,o,u),r=r.sibling}function xm(n,r,o,u){var y=r.flags;switch(r.tag){case 0:case 11:case 15:bn(n,r,o,u),y&2048&&$a(9,r);break;case 1:bn(n,r,o,u);break;case 3:bn(n,r,o,u),y&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&qa(n)));break;case 12:if(y&2048){bn(n,r,o,u),n=r.stateNode;try{var v=r.memoizedProps,N=v.id,T=v.onPostCommit;typeof T=="function"&&T(N,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(P){Oe(r,r.return,P)}}else bn(n,r,o,u);break;case 31:bn(n,r,o,u);break;case 13:bn(n,r,o,u);break;case 23:break;case 22:v=r.stateNode,N=r.alternate,r.memoizedState!==null?v._visibility&2?bn(n,r,o,u):Qa(n,r):v._visibility&2?bn(n,r,o,u):(v._visibility|=2,jr(n,r,o,u,(r.subtreeFlags&10256)!==0||!1)),y&2048&&vc(N,r);break;case 24:bn(n,r,o,u),y&2048&&bc(r.alternate,r);break;default:bn(n,r,o,u)}}function jr(n,r,o,u,y){for(y=y&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var v=n,N=r,T=o,P=u,J=N.flags;switch(N.tag){case 0:case 11:case 15:jr(v,N,T,P,y),$a(8,N);break;case 23:break;case 22:var Z=N.stateNode;N.memoizedState!==null?Z._visibility&2?jr(v,N,T,P,y):Qa(v,N):(Z._visibility|=2,jr(v,N,T,P,y)),y&&J&2048&&vc(N.alternate,N);break;case 24:jr(v,N,T,P,y),y&&J&2048&&bc(N.alternate,N);break;default:jr(v,N,T,P,y)}r=r.sibling}}function Qa(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=n,u=r,y=u.flags;switch(u.tag){case 22:Qa(o,u),y&2048&&vc(u.alternate,u);break;case 24:Qa(o,u),y&2048&&bc(u.alternate,u);break;default:Qa(o,u)}r=r.sibling}}var Xa=8192;function Hr(n,r,o){if(n.subtreeFlags&Xa)for(n=n.child;n!==null;)vm(n,r,o),n=n.sibling}function vm(n,r,o){switch(n.tag){case 26:Hr(n,r,o),n.flags&Xa&&n.memoizedState!==null&&Sw(o,vn,n.memoizedState,n.memoizedProps);break;case 5:Hr(n,r,o);break;case 3:case 4:var u=vn;vn=Os(n.stateNode.containerInfo),Hr(n,r,o),vn=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=Xa,Xa=16777216,Hr(n,r,o),Xa=u):Hr(n,r,o));break;default:Hr(n,r,o)}}function bm(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Za(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];gt=u,Sm(u,n)}bm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wm(n),n=n.sibling}function wm(n){switch(n.tag){case 0:case 11:case 15:Za(n),n.flags&2048&&yi(9,n,n.return);break;case 3:Za(n);break;case 12:Za(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Rs(n)):Za(n);break;default:Za(n)}}function Rs(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];gt=u,Sm(u,n)}bm(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:yi(8,r,r.return),Rs(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Rs(r));break;default:Rs(r)}n=n.sibling}}function Sm(n,r){for(;gt!==null;){var o=gt;switch(o.tag){case 0:case 11:case 15:yi(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:qa(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,gt=u;else e:for(o=n;gt!==null;){u=gt;var y=u.sibling,v=u.return;if(fm(u),u===o){gt=null;break e}if(y!==null){y.return=v,gt=y;break e}gt=v}}}var P1={getCacheForType:function(n){var r=vt(st),o=r.data.get(n);return o===void 0&&(o=n(),r.data.set(n,o)),o},cacheSignal:function(){return vt(st).controller.signal}},V1=typeof WeakMap=="function"?WeakMap:Map,je=0,Ke=null,ke=null,Re=0,Be=0,Kt=null,xi=!1,zr=!1,wc=!1,Wn=0,it=0,vi=0,Wi=0,Sc=0,Qt=0,Br=0,Wa=null,Pt=null,Nc=!1,Ms=0,Nm=0,Ds=1/0,Ls=null,bi=null,pt=0,wi=null,Or=null,ei=0,Ec=0,Tc=null,Em=null,eo=0,Cc=null;function Xt(){return(je&2)!==0&&Re!==0?Re&-Re:B.T!==null?Mc():jf()}function Tm(){if(Qt===0)if((Re&536870912)===0||De){var n=zo;zo<<=1,(zo&3932160)===0&&(zo=262144),Qt=n}else Qt=536870912;return n=Yt.current,n!==null&&(n.flags|=32),Qt}function Vt(n,r,o){(n===Ke&&(Be===2||Be===9)||n.cancelPendingCommit!==null)&&(Fr(n,0),Si(n,Re,Qt,!1)),wa(n,o),((je&2)===0||n!==Ke)&&(n===Ke&&((je&2)===0&&(Wi|=o),it===4&&Si(n,Re,Qt,!1)),kn(n))}function Cm(n,r,o){if((je&6)!==0)throw Error(a(327));var u=!o&&(r&127)===0&&(r&n.expiredLanes)===0||ba(n,r),y=u?H1(n,r):Ac(n,r,!0),v=u;do{if(y===0){zr&&!u&&Si(n,r,0,!1);break}else{if(o=n.current.alternate,v&&!G1(o)){y=Ac(n,r,!1),v=!1;continue}if(y===2){if(v=r,n.errorRecoveryDisabledLanes&v)var N=0;else N=n.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){r=N;e:{var T=n;y=Wa;var P=T.current.memoizedState.isDehydrated;if(P&&(Fr(T,N).flags|=256),N=Ac(T,N,!1),N!==2){if(wc&&!P){T.errorRecoveryDisabledLanes|=v,Wi|=v,y=4;break e}v=Pt,Pt=y,v!==null&&(Pt===null?Pt=v:Pt.push.apply(Pt,v))}y=N}if(v=!1,y!==2)continue}}if(y===1){Fr(n,0),Si(n,r,0,!0);break}e:{switch(u=n,v=y,v){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Si(u,r,Qt,!xi);break e;case 2:Pt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(y=Ms+300-Ct(),10<y)){if(Si(u,r,Qt,!xi),Oo(u,0,!0)!==0)break e;ei=r,u.timeoutHandle=ig(_m.bind(null,u,o,Pt,Ls,Nc,r,Qt,Wi,Br,xi,v,"Throttled",-0,0),y);break e}_m(u,o,Pt,Ls,Nc,r,Qt,Wi,Br,xi,v,null,-0,0)}}break}while(!0);kn(n)}function _m(n,r,o,u,y,v,N,T,P,J,Z,ne,Y,X){if(n.timeoutHandle=-1,ne=r.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},vm(r,v,ne);var de=(v&62914560)===v?Ms-Ct():(v&4194048)===v?Nm-Ct():0;if(de=Nw(ne,de),de!==null){ei=v,n.cancelPendingCommit=de(qm.bind(null,n,r,v,o,u,y,N,T,P,Z,ne,null,Y,X)),Si(n,v,N,!J);return}}qm(n,r,v,o,u,y,N,T,P)}function G1(n){for(var r=n;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var y=o[u],v=y.getSnapshot;y=y.value;try{if(!Ft(v(),y))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Si(n,r,o,u){r&=~Sc,r&=~Wi,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var y=r;0<y;){var v=31-$e(y),N=1<<v;u[v]=-1,y&=~N}o!==0&&Pf(n,o,r)}function qs(){return(je&6)===0?(to(0),!1):!0}function _c(){if(ke!==null){if(Be===0)var n=ke.return;else n=ke,Bn=Oi=null,Bu(n),qr=null,Pa=0,n=ke;for(;n!==null;)rm(n.alternate,n),n=n.return;ke=null}}function Fr(n,r){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,aw(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),ei=0,_c(),Ke=n,ke=o=Hn(n.current,null),Re=r,Be=0,Kt=null,xi=!1,zr=ba(n,r),wc=!1,Br=Qt=Sc=Wi=vi=it=0,Pt=Wa=null,Nc=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var y=31-$e(u),v=1<<y;r|=n[y],u&=~v}return Wn=r,ns(),o}function Am(n,r){Ee=null,B.H=Fa,r===Lr||r===cs?(r=Oh(),Be=3):r===Ru?(r=Oh(),Be=4):Be=r===ac?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Kt=r,ke===null&&(it=1,Es(n,on(r,n.current)))}function km(){var n=Yt.current;return n===null?!0:(Re&4194048)===Re?cn===null:(Re&62914560)===Re||(Re&536870912)!==0?n===cn:!1}function Im(){var n=B.H;return B.H=Fa,n===null?Fa:n}function Rm(){var n=B.A;return B.A=P1,n}function Us(){it=4,xi||(Re&4194048)!==Re&&Yt.current!==null||(zr=!0),(vi&134217727)===0&&(Wi&134217727)===0||Ke===null||Si(Ke,Re,Qt,!1)}function Ac(n,r,o){var u=je;je|=2;var y=Im(),v=Rm();(Ke!==n||Re!==r)&&(Ls=null,Fr(n,r)),r=!1;var N=it;e:do try{if(Be!==0&&ke!==null){var T=ke,P=Kt;switch(Be){case 8:_c(),N=6;break e;case 3:case 2:case 9:case 6:Yt.current===null&&(r=!0);var J=Be;if(Be=0,Kt=null,Jr(n,T,P,J),o&&zr){N=0;break e}break;default:J=Be,Be=0,Kt=null,Jr(n,T,P,J)}}j1(),N=it;break}catch(Z){Am(n,Z)}while(!0);return r&&n.shellSuspendCounter++,Bn=Oi=null,je=u,B.H=y,B.A=v,ke===null&&(Ke=null,Re=0,ns()),N}function j1(){for(;ke!==null;)Mm(ke)}function H1(n,r){var o=je;je|=2;var u=Im(),y=Rm();Ke!==n||Re!==r?(Ls=null,Ds=Ct()+500,Fr(n,r)):zr=ba(n,r);e:do try{if(Be!==0&&ke!==null){r=ke;var v=Kt;t:switch(Be){case 1:Be=0,Kt=null,Jr(n,r,v,1);break;case 2:case 9:if(zh(v)){Be=0,Kt=null,Dm(r);break}r=function(){Be!==2&&Be!==9||Ke!==n||(Be=7),kn(n)},v.then(r,r);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:zh(v)?(Be=0,Kt=null,Dm(r)):(Be=0,Kt=null,Jr(n,r,v,7));break;case 5:var N=null;switch(ke.tag){case 26:N=ke.memoizedState;case 5:case 27:var T=ke;if(N?xg(N):T.stateNode.complete){Be=0,Kt=null;var P=T.sibling;if(P!==null)ke=P;else{var J=T.return;J!==null?(ke=J,Ps(J)):ke=null}break t}}Be=0,Kt=null,Jr(n,r,v,5);break;case 6:Be=0,Kt=null,Jr(n,r,v,6);break;case 8:_c(),it=6;break e;default:throw Error(a(462))}}z1();break}catch(Z){Am(n,Z)}while(!0);return Bn=Oi=null,B.H=u,B.A=y,je=o,ke!==null?0:(Ke=null,Re=0,ns(),it)}function z1(){for(;ke!==null&&!Hl();)Mm(ke)}function Mm(n){var r=nm(n.alternate,n,Wn);n.memoizedProps=n.pendingProps,r===null?Ps(n):ke=r}function Dm(n){var r=n,o=r.alternate;switch(r.tag){case 15:case 0:r=Qp(o,r,r.pendingProps,r.type,void 0,Re);break;case 11:r=Qp(o,r,r.pendingProps,r.type.render,r.ref,Re);break;case 5:Bu(r);default:rm(o,r),r=ke=Rh(r,Wn),r=nm(o,r,Wn)}n.memoizedProps=n.pendingProps,r===null?Ps(n):ke=r}function Jr(n,r,o,u){Bn=Oi=null,Bu(r),qr=null,Pa=0;var y=r.return;try{if(I1(n,y,r,o,Re)){it=1,Es(n,on(o,n.current)),ke=null;return}}catch(v){if(y!==null)throw ke=y,v;it=1,Es(n,on(o,n.current)),ke=null;return}r.flags&32768?(De||u===1?n=!0:zr||(Re&536870912)!==0?n=!1:(xi=n=!0,(u===2||u===9||u===3||u===6)&&(u=Yt.current,u!==null&&u.tag===13&&(u.flags|=16384))),Lm(r,n)):Ps(r)}function Ps(n){var r=n;do{if((r.flags&32768)!==0){Lm(r,xi);return}n=r.return;var o=D1(r.alternate,r,Wn);if(o!==null){ke=o;return}if(r=r.sibling,r!==null){ke=r;return}ke=r=n}while(r!==null);it===0&&(it=5)}function Lm(n,r){do{var o=L1(n.alternate,n);if(o!==null){o.flags&=32767,ke=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(n=n.sibling,n!==null)){ke=n;return}ke=n=o}while(n!==null);it=6,ke=null}function qm(n,r,o,u,y,v,N,T,P){n.cancelPendingCommit=null;do Vs();while(pt!==0);if((je&6)!==0)throw Error(a(327));if(r!==null){if(r===n.current)throw Error(a(177));if(v=r.lanes|r.childLanes,v|=gu,wb(n,o,v,N,T,P),n===Ke&&(ke=Ke=null,Re=0),Or=r,wi=n,ei=o,Ec=v,Tc=y,Em=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,J1(be,function(){return jm(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=B.T,B.T=null,y=ae.p,ae.p=2,N=je,je|=4;try{q1(n,r,o)}finally{je=N,ae.p=y,B.T=u}}pt=1,Um(),Pm(),Vm()}}function Um(){if(pt===1){pt=0;var n=wi,r=Or,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=B.T,B.T=null;var u=ae.p;ae.p=2;var y=je;je|=4;try{gm(r,n);var v=jc,N=Sh(n.containerInfo),T=v.focusedElem,P=v.selectionRange;if(N!==T&&T&&T.ownerDocument&&wh(T.ownerDocument.documentElement,T)){if(P!==null&&du(T)){var J=P.start,Z=P.end;if(Z===void 0&&(Z=J),"selectionStart"in T)T.selectionStart=J,T.selectionEnd=Math.min(Z,T.value.length);else{var ne=T.ownerDocument||document,Y=ne&&ne.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),de=T.textContent.length,xe=Math.min(P.start,de),Ye=P.end===void 0?xe:Math.min(P.end,de);!X.extend&&xe>Ye&&(N=Ye,Ye=xe,xe=N);var j=bh(T,xe),G=bh(T,Ye);if(j&&G&&(X.rangeCount!==1||X.anchorNode!==j.node||X.anchorOffset!==j.offset||X.focusNode!==G.node||X.focusOffset!==G.offset)){var F=ne.createRange();F.setStart(j.node,j.offset),X.removeAllRanges(),xe>Ye?(X.addRange(F),X.extend(G.node,G.offset)):(F.setEnd(G.node,G.offset),X.addRange(F))}}}}for(ne=[],X=T;X=X.parentNode;)X.nodeType===1&&ne.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ne.length;T++){var ee=ne[T];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Qs=!!Gc,jc=Gc=null}finally{je=y,ae.p=u,B.T=o}}n.current=r,pt=2}}function Pm(){if(pt===2){pt=0;var n=wi,r=Or,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=B.T,B.T=null;var u=ae.p;ae.p=2;var y=je;je|=4;try{dm(n,r.alternate,r)}finally{je=y,ae.p=u,B.T=o}}pt=3}}function Vm(){if(pt===4||pt===3){pt=0,zl();var n=wi,r=Or,o=ei,u=Em;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?pt=5:(pt=0,Or=wi=null,Gm(n,n.pendingLanes));var y=n.pendingLanes;if(y===0&&(bi=null),Jl(o),r=r.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(_t,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=B.T,y=ae.p,ae.p=2,B.T=null;try{for(var v=n.onRecoverableError,N=0;N<u.length;N++){var T=u[N];v(T.value,{componentStack:T.stack})}}finally{B.T=r,ae.p=y}}(ei&3)!==0&&Vs(),kn(n),y=n.pendingLanes,(o&261930)!==0&&(y&42)!==0?n===Cc?eo++:(eo=0,Cc=n):eo=0,to(0)}}function Gm(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,qa(r)))}function Vs(){return Um(),Pm(),Vm(),jm()}function jm(){if(pt!==5)return!1;var n=wi,r=Ec;Ec=0;var o=Jl(ei),u=B.T,y=ae.p;try{ae.p=32>o?32:o,B.T=null,o=Tc,Tc=null;var v=wi,N=ei;if(pt=0,Or=wi=null,ei=0,(je&6)!==0)throw Error(a(331));var T=je;if(je|=4,wm(v.current),xm(v,v.current,N,o),je=T,to(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(_t,v)}catch{}return!0}finally{ae.p=y,B.T=u,Gm(n,r)}}function Hm(n,r,o){r=on(o,r),r=rc(n.stateNode,r,2),n=pi(n,r,2),n!==null&&(wa(n,2),kn(n))}function Oe(n,r,o){if(n.tag===3)Hm(n,n,o);else for(;r!==null;){if(r.tag===3){Hm(r,n,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(bi===null||!bi.has(u))){n=on(o,n),o=zp(2),u=pi(r,o,2),u!==null&&(Bp(o,u,r,n),wa(u,2),kn(u));break}}r=r.return}}function kc(n,r,o){var u=n.pingCache;if(u===null){u=n.pingCache=new V1;var y=new Set;u.set(r,y)}else y=u.get(r),y===void 0&&(y=new Set,u.set(r,y));y.has(o)||(wc=!0,y.add(o),n=B1.bind(null,n,r,o),r.then(n,n))}function B1(n,r,o){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Ke===n&&(Re&o)===o&&(it===4||it===3&&(Re&62914560)===Re&&300>Ct()-Ms?(je&2)===0&&Fr(n,0):Sc|=o,Br===Re&&(Br=0)),kn(n)}function zm(n,r){r===0&&(r=Uf()),n=Hi(n,r),n!==null&&(wa(n,r),kn(n))}function O1(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),zm(n,o)}function F1(n,r){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,y=n.memoizedState;y!==null&&(o=y.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(r),zm(n,o)}function J1(n,r){return hr(n,r)}var Gs=null,Yr=null,Ic=!1,js=!1,Rc=!1,Ni=0;function kn(n){n!==Yr&&n.next===null&&(Yr===null?Gs=Yr=n:Yr=Yr.next=n),js=!0,Ic||(Ic=!0,$1())}function to(n,r){if(!Rc&&js){Rc=!0;do for(var o=!1,u=Gs;u!==null;){if(n!==0){var y=u.pendingLanes;if(y===0)var v=0;else{var N=u.suspendedLanes,T=u.pingedLanes;v=(1<<31-$e(42|n)+1)-1,v&=y&~(N&~T),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,Jm(u,v))}else v=Re,v=Oo(u,u===Ke?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||ba(u,v)||(o=!0,Jm(u,v));u=u.next}while(o);Rc=!1}}function Y1(){Bm()}function Bm(){js=Ic=!1;var n=0;Ni!==0&&rw()&&(n=Ni);for(var r=Ct(),o=null,u=Gs;u!==null;){var y=u.next,v=Om(u,r);v===0?(u.next=null,o===null?Gs=y:o.next=y,y===null&&(Yr=o)):(o=u,(n!==0||(v&3)!==0)&&(js=!0)),u=y}pt!==0&&pt!==5||to(n),Ni!==0&&(Ni=0)}function Om(n,r){for(var o=n.suspendedLanes,u=n.pingedLanes,y=n.expirationTimes,v=n.pendingLanes&-62914561;0<v;){var N=31-$e(v),T=1<<N,P=y[N];P===-1?((T&o)===0||(T&u)!==0)&&(y[N]=bb(T,r)):P<=r&&(n.expiredLanes|=T),v&=~T}if(r=Ke,o=Re,o=Oo(n,n===r?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===r&&(Be===2||Be===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&va(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||ba(n,o)){if(r=o&-o,r===n.callbackPriority)return r;switch(u!==null&&va(u),Jl(o)){case 2:case 8:o=le;break;case 32:o=be;break;case 268435456:o=ze;break;default:o=be}return u=Fm.bind(null,n),o=hr(o,u),n.callbackPriority=r,n.callbackNode=o,r}return u!==null&&u!==null&&va(u),n.callbackPriority=2,n.callbackNode=null,2}function Fm(n,r){if(pt!==0&&pt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Vs()&&n.callbackNode!==o)return null;var u=Re;return u=Oo(n,n===Ke?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Cm(n,u,r),Om(n,Ct()),n.callbackNode!=null&&n.callbackNode===o?Fm.bind(null,n):null)}function Jm(n,r){if(Vs())return null;Cm(n,r,!0)}function $1(){ow(function(){(je&6)!==0?hr(W,Y1):Bm()})}function Mc(){if(Ni===0){var n=Mr;n===0&&(n=Ho,Ho<<=1,(Ho&261888)===0&&(Ho=256)),Ni=n}return Ni}function Ym(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:$o(""+n)}function $m(n,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,n.id&&o.setAttribute("form",n.id),r.parentNode.insertBefore(o,r),n=new FormData(n),o.parentNode.removeChild(o),n}function K1(n,r,o,u,y){if(r==="submit"&&o&&o.stateNode===y){var v=Ym((y[Mt]||null).action),N=u.submitter;N&&(r=(r=N[Mt]||null)?Ym(r.formAction):N.getAttribute("formAction"),r!==null&&(v=r,N=null));var T=new Zo("action","action",null,u,y);n.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ni!==0){var P=N?$m(y,N):new FormData(y);Zu(o,{pending:!0,data:P,method:y.method,action:v},null,P)}}else typeof v=="function"&&(T.preventDefault(),P=N?$m(y,N):new FormData(y),Zu(o,{pending:!0,data:P,method:y.method,action:v},v,P))},currentTarget:y}]})}}for(var Dc=0;Dc<mu.length;Dc++){var Lc=mu[Dc],Q1=Lc.toLowerCase(),X1=Lc[0].toUpperCase()+Lc.slice(1);xn(Q1,"on"+X1)}xn(Th,"onAnimationEnd"),xn(Ch,"onAnimationIteration"),xn(_h,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(h1,"onTransitionRun"),xn(p1,"onTransitionStart"),xn(m1,"onTransitionCancel"),xn(Ah,"onTransitionEnd"),xr("onMouseEnter",["mouseout","mouseover"]),xr("onMouseLeave",["mouseout","mouseover"]),xr("onPointerEnter",["pointerout","pointerover"]),xr("onPointerLeave",["pointerout","pointerover"]),Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(no));function Km(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],y=u.event;u=u.listeners;e:{var v=void 0;if(r)for(var N=u.length-1;0<=N;N--){var T=u[N],P=T.instance,J=T.currentTarget;if(T=T.listener,P!==v&&y.isPropagationStopped())break e;v=T,y.currentTarget=J;try{v(y)}catch(Z){ts(Z)}y.currentTarget=null,v=P}else for(N=0;N<u.length;N++){if(T=u[N],P=T.instance,J=T.currentTarget,T=T.listener,P!==v&&y.isPropagationStopped())break e;v=T,y.currentTarget=J;try{v(y)}catch(Z){ts(Z)}y.currentTarget=null,v=P}}}}function Ie(n,r){var o=r[Yl];o===void 0&&(o=r[Yl]=new Set);var u=n+"__bubble";o.has(u)||(Qm(r,n,2,!1),o.add(u))}function qc(n,r,o){var u=0;r&&(u|=4),Qm(o,n,u,r)}var Hs="_reactListening"+Math.random().toString(36).slice(2);function Uc(n){if(!n[Hs]){n[Hs]=!0,Bf.forEach(function(o){o!=="selectionchange"&&(Z1.has(o)||qc(o,!1,n),qc(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Hs]||(r[Hs]=!0,qc("selectionchange",!1,r))}}function Qm(n,r,o,u){switch(Tg(r)){case 2:var y=Cw;break;case 8:y=_w;break;default:y=Xc}o=y.bind(null,r,o,n),y=void 0,!nu||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(y=!0),u?y!==void 0?n.addEventListener(r,o,{capture:!0,passive:y}):n.addEventListener(r,o,!0):y!==void 0?n.addEventListener(r,o,{passive:y}):n.addEventListener(r,o,!1)}function Pc(n,r,o,u,y){var v=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var N=u.tag;if(N===3||N===4){var T=u.stateNode.containerInfo;if(T===y)break;if(N===4)for(N=u.return;N!==null;){var P=N.tag;if((P===3||P===4)&&N.stateNode.containerInfo===y)return;N=N.return}for(;T!==null;){if(N=mr(T),N===null)return;if(P=N.tag,P===5||P===6||P===26||P===27){u=v=N;continue e}T=T.parentNode}}u=u.return}th(function(){var J=v,Z=eu(o),ne=[];e:{var Y=kh.get(n);if(Y!==void 0){var X=Zo,de=n;switch(n){case"keypress":if(Qo(o)===0)break e;case"keydown":case"keyup":X=Fb;break;case"focusin":de="focus",X=ou;break;case"focusout":de="blur",X=ou;break;case"beforeblur":case"afterblur":X=ou;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=rh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Db;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=$b;break;case Th:case Ch:case _h:X=Ub;break;case Ah:X=Qb;break;case"scroll":case"scrollend":X=Rb;break;case"wheel":X=Zb;break;case"copy":case"cut":case"paste":X=Vb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=oh;break;case"toggle":case"beforetoggle":X=e1}var xe=(r&4)!==0,Ye=!xe&&(n==="scroll"||n==="scrollend"),j=xe?Y!==null?Y+"Capture":null:Y;xe=[];for(var G=J,F;G!==null;){var ee=G;if(F=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||F===null||j===null||(ee=Ea(G,j),ee!=null&&xe.push(io(G,ee,F))),Ye)break;G=G.return}0<xe.length&&(Y=new X(Y,de,null,o,Z),ne.push({event:Y,listeners:xe}))}}if((r&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",Y&&o!==Wl&&(de=o.relatedTarget||o.fromElement)&&(mr(de)||de[pr]))break e;if((X||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(de=o.relatedTarget||o.toElement,X=J,de=de?mr(de):null,de!==null&&(Ye=l(de),xe=de.tag,de!==Ye||xe!==5&&xe!==27&&xe!==6)&&(de=null)):(X=null,de=J),X!==de)){if(xe=rh,ee="onMouseLeave",j="onMouseEnter",G="mouse",(n==="pointerout"||n==="pointerover")&&(xe=oh,ee="onPointerLeave",j="onPointerEnter",G="pointer"),Ye=X==null?Y:Na(X),F=de==null?Y:Na(de),Y=new xe(ee,G+"leave",X,o,Z),Y.target=Ye,Y.relatedTarget=F,ee=null,mr(Z)===J&&(xe=new xe(j,G+"enter",de,o,Z),xe.target=F,xe.relatedTarget=Ye,ee=xe),Ye=ee,X&&de)t:{for(xe=W1,j=X,G=de,F=0,ee=j;ee;ee=xe(ee))F++;ee=0;for(var ye=G;ye;ye=xe(ye))ee++;for(;0<F-ee;)j=xe(j),F--;for(;0<ee-F;)G=xe(G),ee--;for(;F--;){if(j===G||G!==null&&j===G.alternate){xe=j;break t}j=xe(j),G=xe(G)}xe=null}else xe=null;X!==null&&Xm(ne,Y,X,xe,!1),de!==null&&Ye!==null&&Xm(ne,Ye,de,xe,!0)}}e:{if(Y=J?Na(J):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var Ue=ph;else if(fh(Y))if(mh)Ue=c1;else{Ue=l1;var me=s1}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?J&&Zl(J.elementType)&&(Ue=ph):Ue=u1;if(Ue&&(Ue=Ue(n,J))){hh(ne,Ue,o,Z);break e}me&&me(n,Y,J),n==="focusout"&&J&&Y.type==="number"&&J.memoizedProps.value!=null&&Xl(Y,"number",Y.value)}switch(me=J?Na(J):window,n){case"focusin":(fh(me)||me.contentEditable==="true")&&(Er=me,fu=J,Ma=null);break;case"focusout":Ma=fu=Er=null;break;case"mousedown":hu=!0;break;case"contextmenu":case"mouseup":case"dragend":hu=!1,Nh(ne,o,Z);break;case"selectionchange":if(f1)break;case"keydown":case"keyup":Nh(ne,o,Z)}var Te;if(lu)e:{switch(n){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Nr?ch(n,o)&&(Me="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Me="onCompositionStart");Me&&(sh&&o.locale!=="ko"&&(Nr||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Nr&&(Te=nh()):(si=Z,iu="value"in si?si.value:si.textContent,Nr=!0)),me=zs(J,Me),0<me.length&&(Me=new ah(Me,n,null,o,Z),ne.push({event:Me,listeners:me}),Te?Me.data=Te:(Te=dh(o),Te!==null&&(Me.data=Te)))),(Te=n1?i1(n,o):r1(n,o))&&(Me=zs(J,"onBeforeInput"),0<Me.length&&(me=new ah("onBeforeInput","beforeinput",null,o,Z),ne.push({event:me,listeners:Me}),me.data=Te)),K1(ne,n,J,o,Z)}Km(ne,r)})}function io(n,r,o){return{instance:n,listener:r,currentTarget:o}}function zs(n,r){for(var o=r+"Capture",u=[];n!==null;){var y=n,v=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||v===null||(y=Ea(n,o),y!=null&&u.unshift(io(n,y,v)),y=Ea(n,r),y!=null&&u.push(io(n,y,v))),n.tag===3)return u;n=n.return}return[]}function W1(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Xm(n,r,o,u,y){for(var v=r._reactName,N=[];o!==null&&o!==u;){var T=o,P=T.alternate,J=T.stateNode;if(T=T.tag,P!==null&&P===u)break;T!==5&&T!==26&&T!==27||J===null||(P=J,y?(J=Ea(o,v),J!=null&&N.unshift(io(o,J,P))):y||(J=Ea(o,v),J!=null&&N.push(io(o,J,P)))),o=o.return}N.length!==0&&n.push({event:r,listeners:N})}var ew=/\r\n?/g,tw=/\u0000|\uFFFD/g;function Zm(n){return(typeof n=="string"?n:""+n).replace(ew,`
`).replace(tw,"")}function Wm(n,r){return r=Zm(r),Zm(n)===r}function Je(n,r,o,u,y,v){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||br(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&br(n,""+u);break;case"className":Jo(n,"class",u);break;case"tabIndex":Jo(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Jo(n,o,u);break;case"style":Wf(n,u,v);break;case"data":if(r!=="object"){Jo(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=$o(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(r!=="input"&&Je(n,r,"name",y.name,y,null),Je(n,r,"formEncType",y.formEncType,y,null),Je(n,r,"formMethod",y.formMethod,y,null),Je(n,r,"formTarget",y.formTarget,y,null)):(Je(n,r,"encType",y.encType,y,null),Je(n,r,"method",y.method,y,null),Je(n,r,"target",y.target,y,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=$o(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Gn);break;case"onScroll":u!=null&&Ie("scroll",n);break;case"onScrollEnd":u!=null&&Ie("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(y.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=$o(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Ie("beforetoggle",n),Ie("toggle",n),Fo(n,"popover",u);break;case"xlinkActuate":Vn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Vn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Vn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Vn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Vn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Vn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Vn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Vn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Vn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Fo(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=kb.get(o)||o,Fo(n,o,u))}}function Vc(n,r,o,u,y,v){switch(o){case"style":Wf(n,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(y.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"children":typeof u=="string"?br(n,u):(typeof u=="number"||typeof u=="bigint")&&br(n,""+u);break;case"onScroll":u!=null&&Ie("scroll",n);break;case"onScrollEnd":u!=null&&Ie("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Of.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(y=o.endsWith("Capture"),r=o.slice(2,y?o.length-7:void 0),v=n[Mt]||null,v=v!=null?v[o]:null,typeof v=="function"&&n.removeEventListener(r,v,y),typeof u=="function")){typeof v!="function"&&v!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(r,u,y);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Fo(n,o,u)}}}function wt(n,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",n),Ie("load",n);var u=!1,y=!1,v;for(v in o)if(o.hasOwnProperty(v)){var N=o[v];if(N!=null)switch(v){case"src":u=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Je(n,r,v,N,o,null)}}y&&Je(n,r,"srcSet",o.srcSet,o,null),u&&Je(n,r,"src",o.src,o,null);return;case"input":Ie("invalid",n);var T=v=N=y=null,P=null,J=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":y=Z;break;case"type":N=Z;break;case"checked":P=Z;break;case"defaultChecked":J=Z;break;case"value":v=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,r));break;default:Je(n,r,u,Z,o,null)}}Kf(n,v,T,P,J,N,y,!1);return;case"select":Ie("invalid",n),u=N=v=null;for(y in o)if(o.hasOwnProperty(y)&&(T=o[y],T!=null))switch(y){case"value":v=T;break;case"defaultValue":N=T;break;case"multiple":u=T;default:Je(n,r,y,T,o,null)}r=v,o=N,n.multiple=!!u,r!=null?vr(n,!!u,r,!1):o!=null&&vr(n,!!u,o,!0);return;case"textarea":Ie("invalid",n),v=y=u=null;for(N in o)if(o.hasOwnProperty(N)&&(T=o[N],T!=null))switch(N){case"value":u=T;break;case"defaultValue":y=T;break;case"children":v=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Je(n,r,N,T,o,null)}Xf(n,u,y,v);return;case"option":for(P in o)if(o.hasOwnProperty(P)&&(u=o[P],u!=null))switch(P){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Je(n,r,P,u,o,null)}return;case"dialog":Ie("beforetoggle",n),Ie("toggle",n),Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":Ie("load",n);break;case"video":case"audio":for(u=0;u<no.length;u++)Ie(no[u],n);break;case"image":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"embed":case"source":case"link":Ie("error",n),Ie("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in o)if(o.hasOwnProperty(J)&&(u=o[J],u!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Je(n,r,J,u,o,null)}return;default:if(Zl(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&Vc(n,r,Z,u,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(u=o[T],u!=null&&Je(n,r,T,u,o,null))}function nw(n,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,v=null,N=null,T=null,P=null,J=null,Z=null;for(X in o){var ne=o[X];if(o.hasOwnProperty(X)&&ne!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":P=ne;default:u.hasOwnProperty(X)||Je(n,r,X,null,u,ne)}}for(var Y in u){var X=u[Y];if(ne=o[Y],u.hasOwnProperty(Y)&&(X!=null||ne!=null))switch(Y){case"type":v=X;break;case"name":y=X;break;case"checked":J=X;break;case"defaultChecked":Z=X;break;case"value":N=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,r));break;default:X!==ne&&Je(n,r,Y,X,u,ne)}}Ql(n,N,T,P,J,Z,v,y);return;case"select":X=N=T=Y=null;for(v in o)if(P=o[v],o.hasOwnProperty(v)&&P!=null)switch(v){case"value":break;case"multiple":X=P;default:u.hasOwnProperty(v)||Je(n,r,v,null,u,P)}for(y in u)if(v=u[y],P=o[y],u.hasOwnProperty(y)&&(v!=null||P!=null))switch(y){case"value":Y=v;break;case"defaultValue":T=v;break;case"multiple":N=v;default:v!==P&&Je(n,r,y,v,u,P)}r=T,o=N,u=X,Y!=null?vr(n,!!o,Y,!1):!!u!=!!o&&(r!=null?vr(n,!!o,r,!0):vr(n,!!o,o?[]:"",!1));return;case"textarea":X=Y=null;for(T in o)if(y=o[T],o.hasOwnProperty(T)&&y!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(n,r,T,null,u,y)}for(N in u)if(y=u[N],v=o[N],u.hasOwnProperty(N)&&(y!=null||v!=null))switch(N){case"value":Y=y;break;case"defaultValue":X=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(a(91));break;default:y!==v&&Je(n,r,N,y,u,v)}Qf(n,Y,X);return;case"option":for(var de in o)if(Y=o[de],o.hasOwnProperty(de)&&Y!=null&&!u.hasOwnProperty(de))switch(de){case"selected":n.selected=!1;break;default:Je(n,r,de,null,u,Y)}for(P in u)if(Y=u[P],X=o[P],u.hasOwnProperty(P)&&Y!==X&&(Y!=null||X!=null))switch(P){case"selected":n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Je(n,r,P,Y,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in o)Y=o[xe],o.hasOwnProperty(xe)&&Y!=null&&!u.hasOwnProperty(xe)&&Je(n,r,xe,null,u,Y);for(J in u)if(Y=u[J],X=o[J],u.hasOwnProperty(J)&&Y!==X&&(Y!=null||X!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,r));break;default:Je(n,r,J,Y,u,X)}return;default:if(Zl(r)){for(var Ye in o)Y=o[Ye],o.hasOwnProperty(Ye)&&Y!==void 0&&!u.hasOwnProperty(Ye)&&Vc(n,r,Ye,void 0,u,Y);for(Z in u)Y=u[Z],X=o[Z],!u.hasOwnProperty(Z)||Y===X||Y===void 0&&X===void 0||Vc(n,r,Z,Y,u,X);return}}for(var j in o)Y=o[j],o.hasOwnProperty(j)&&Y!=null&&!u.hasOwnProperty(j)&&Je(n,r,j,null,u,Y);for(ne in u)Y=u[ne],X=o[ne],!u.hasOwnProperty(ne)||Y===X||Y==null&&X==null||Je(n,r,ne,Y,u,X)}function eg(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function iw(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var y=o[u],v=y.transferSize,N=y.initiatorType,T=y.duration;if(v&&T&&eg(N)){for(N=0,T=y.responseEnd,u+=1;u<o.length;u++){var P=o[u],J=P.startTime;if(J>T)break;var Z=P.transferSize,ne=P.initiatorType;Z&&eg(ne)&&(P=P.responseEnd,N+=Z*(P<T?1:(T-J)/(P-J)))}if(--u,r+=8*(v+N)/(y.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Gc=null,jc=null;function Bs(n){return n.nodeType===9?n:n.ownerDocument}function tg(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ng(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Hc(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var zc=null;function rw(){var n=window.event;return n&&n.type==="popstate"?n===zc?!1:(zc=n,!0):(zc=null,!1)}var ig=typeof setTimeout=="function"?setTimeout:void 0,aw=typeof clearTimeout=="function"?clearTimeout:void 0,rg=typeof Promise=="function"?Promise:void 0,ow=typeof queueMicrotask=="function"?queueMicrotask:typeof rg<"u"?function(n){return rg.resolve(null).then(n).catch(sw)}:ig;function sw(n){setTimeout(function(){throw n})}function Ei(n){return n==="head"}function ag(n,r){var o=r,u=0;do{var y=o.nextSibling;if(n.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(y),Xr(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")ro(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,ro(o);for(var v=o.firstChild;v;){var N=v.nextSibling,T=v.nodeName;v[Sa]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&v.rel.toLowerCase()==="stylesheet"||o.removeChild(v),v=N}}else o==="body"&&ro(n.ownerDocument.body);o=y}while(o);Xr(r)}function og(n,r){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function Bc(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Bc(o),$l(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function lw(n,r,o,u){for(;n.nodeType===1;){var y=o;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Sa])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(v=n.getAttribute("rel"),v==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(v!==y.rel||n.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||n.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||n.getAttribute("title")!==(y.title==null?null:y.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(v=n.getAttribute("src"),(v!==(y.src==null?null:y.src)||n.getAttribute("type")!==(y.type==null?null:y.type)||n.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&v&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var v=y.name==null?null:""+y.name;if(y.type==="hidden"&&n.getAttribute("name")===v)return n}else return n;if(n=dn(n.nextSibling),n===null)break}return null}function uw(n,r,o){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=dn(n.nextSibling),n===null))return null;return n}function sg(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=dn(n.nextSibling),n===null))return null;return n}function Oc(n){return n.data==="$?"||n.data==="$~"}function Fc(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function cw(n,r){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function dn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var Jc=null;function lg(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(r===0)return dn(n.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}n=n.nextSibling}return null}function ug(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return n;r--}else o!=="/$"&&o!=="/&"||r++}n=n.previousSibling}return null}function cg(n,r,o){switch(r=Bs(o),n){case"html":if(n=r.documentElement,!n)throw Error(a(452));return n;case"head":if(n=r.head,!n)throw Error(a(453));return n;case"body":if(n=r.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function ro(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);$l(n)}var fn=new Map,dg=new Set;function Os(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ti=ae.d;ae.d={f:dw,r:fw,D:hw,C:pw,L:mw,m:gw,X:xw,S:yw,M:vw};function dw(){var n=ti.f(),r=qs();return n||r}function fw(n){var r=gr(n);r!==null&&r.tag===5&&r.type==="form"?Ap(r):ti.r(n)}var $r=typeof document>"u"?null:document;function fg(n,r,o){var u=$r;if(u&&typeof r=="string"&&r){var y=rn(r);y='link[rel="'+n+'"][href="'+y+'"]',typeof o=="string"&&(y+='[crossorigin="'+o+'"]'),dg.has(y)||(dg.add(y),n={rel:n,crossOrigin:o,href:r},u.querySelector(y)===null&&(r=u.createElement("link"),wt(r,"link",n),mt(r),u.head.appendChild(r)))}}function hw(n){ti.D(n),fg("dns-prefetch",n,null)}function pw(n,r){ti.C(n,r),fg("preconnect",n,r)}function mw(n,r,o){ti.L(n,r,o);var u=$r;if(u&&n&&r){var y='link[rel="preload"][as="'+rn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(y+='[imagesrcset="'+rn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(y+='[imagesizes="'+rn(o.imageSizes)+'"]')):y+='[href="'+rn(n)+'"]';var v=y;switch(r){case"style":v=Kr(n);break;case"script":v=Qr(n)}fn.has(v)||(n=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:n,as:r},o),fn.set(v,n),u.querySelector(y)!==null||r==="style"&&u.querySelector(ao(v))||r==="script"&&u.querySelector(oo(v))||(r=u.createElement("link"),wt(r,"link",n),mt(r),u.head.appendChild(r)))}}function gw(n,r){ti.m(n,r);var o=$r;if(o&&n){var u=r&&typeof r.as=="string"?r.as:"script",y='link[rel="modulepreload"][as="'+rn(u)+'"][href="'+rn(n)+'"]',v=y;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Qr(n)}if(!fn.has(v)&&(n=b({rel:"modulepreload",href:n},r),fn.set(v,n),o.querySelector(y)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(oo(v)))return}u=o.createElement("link"),wt(u,"link",n),mt(u),o.head.appendChild(u)}}}function yw(n,r,o){ti.S(n,r,o);var u=$r;if(u&&n){var y=yr(u).hoistableStyles,v=Kr(n);r=r||"default";var N=y.get(v);if(!N){var T={loading:0,preload:null};if(N=u.querySelector(ao(v)))T.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":r},o),(o=fn.get(v))&&Yc(n,o);var P=N=u.createElement("link");mt(P),wt(P,"link",n),P._p=new Promise(function(J,Z){P.onload=J,P.onerror=Z}),P.addEventListener("load",function(){T.loading|=1}),P.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Fs(N,r,u)}N={type:"stylesheet",instance:N,count:1,state:T},y.set(v,N)}}}function xw(n,r){ti.X(n,r);var o=$r;if(o&&n){var u=yr(o).hoistableScripts,y=Qr(n),v=u.get(y);v||(v=o.querySelector(oo(y)),v||(n=b({src:n,async:!0},r),(r=fn.get(y))&&$c(n,r),v=o.createElement("script"),mt(v),wt(v,"link",n),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(y,v))}}function vw(n,r){ti.M(n,r);var o=$r;if(o&&n){var u=yr(o).hoistableScripts,y=Qr(n),v=u.get(y);v||(v=o.querySelector(oo(y)),v||(n=b({src:n,async:!0,type:"module"},r),(r=fn.get(y))&&$c(n,r),v=o.createElement("script"),mt(v),wt(v,"link",n),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(y,v))}}function hg(n,r,o,u){var y=(y=he.current)?Os(y):null;if(!y)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Kr(o.href),o=yr(y).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Kr(o.href);var v=yr(y).hoistableStyles,N=v.get(n);if(N||(y=y.ownerDocument||y,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(n,N),(v=y.querySelector(ao(n)))&&!v._p&&(N.instance=v,N.state.loading=5),fn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},fn.set(n,o),v||bw(y,n,o,N.state))),r&&u===null)throw Error(a(528,""));return N}if(r&&u!==null)throw Error(a(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Qr(o),o=yr(y).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function Kr(n){return'href="'+rn(n)+'"'}function ao(n){return'link[rel="stylesheet"]['+n+"]"}function pg(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function bw(n,r,o,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),wt(r,"link",o),mt(r),n.head.appendChild(r))}function Qr(n){return'[src="'+rn(n)+'"]'}function oo(n){return"script[async]"+n}function mg(n,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+rn(o.href)+'"]');if(u)return r.instance=u,mt(u),u;var y=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),mt(u),wt(u,"style",y),Fs(u,o.precedence,n),r.instance=u;case"stylesheet":y=Kr(o.href);var v=n.querySelector(ao(y));if(v)return r.state.loading|=4,r.instance=v,mt(v),v;u=pg(o),(y=fn.get(y))&&Yc(u,y),v=(n.ownerDocument||n).createElement("link"),mt(v);var N=v;return N._p=new Promise(function(T,P){N.onload=T,N.onerror=P}),wt(v,"link",u),r.state.loading|=4,Fs(v,o.precedence,n),r.instance=v;case"script":return v=Qr(o.src),(y=n.querySelector(oo(v)))?(r.instance=y,mt(y),y):(u=o,(y=fn.get(v))&&(u=b({},o),$c(u,y)),n=n.ownerDocument||n,y=n.createElement("script"),mt(y),wt(y,"link",u),n.head.appendChild(y),r.instance=y);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Fs(u,o.precedence,n));return r.instance}function Fs(n,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=u.length?u[u.length-1]:null,v=y,N=0;N<u.length;N++){var T=u[N];if(T.dataset.precedence===r)v=T;else if(v!==y)break}v?v.parentNode.insertBefore(n,v.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(n,r.firstChild))}function Yc(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function $c(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Js=null;function gg(n,r,o){if(Js===null){var u=new Map,y=Js=new Map;y.set(o,u)}else y=Js,u=y.get(o),u||(u=new Map,y.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),y=0;y<o.length;y++){var v=o[y];if(!(v[Sa]||v[yt]||n==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var N=v.getAttribute(r)||"";N=n+N;var T=u.get(N);T?T.push(v):u.set(N,[v])}}return u}function yg(n,r,o){n=n.ownerDocument||n,n.head.insertBefore(o,r==="title"?n.querySelector("head > title"):null)}function ww(n,r,o){if(o===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function xg(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function Sw(n,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=Kr(u.href),v=r.querySelector(ao(y));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=Ys.bind(n),r.then(n,n)),o.state.loading|=4,o.instance=v,mt(v);return}v=r.ownerDocument||r,u=pg(u),(y=fn.get(y))&&Yc(u,y),v=v.createElement("link"),mt(v);var N=v;N._p=new Promise(function(T,P){N.onload=T,N.onerror=P}),wt(v,"link",u),o.instance=v}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=Ys.bind(n),r.addEventListener("load",o),r.addEventListener("error",o))}}var Kc=0;function Nw(n,r){return n.stylesheets&&n.count===0&&Ks(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&Ks(n,n.stylesheets),n.unsuspend){var v=n.unsuspend;n.unsuspend=null,v()}},6e4+r);0<n.imgBytes&&Kc===0&&(Kc=62500*iw());var y=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Ks(n,n.stylesheets),n.unsuspend)){var v=n.unsuspend;n.unsuspend=null,v()}},(n.imgBytes>Kc?50:800)+r);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(y)}}:null}function Ys(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ks(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var $s=null;function Ks(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,$s=new Map,r.forEach(Ew,n),$s=null,Ys.call(n))}function Ew(n,r){if(!(r.state.loading&4)){var o=$s.get(n);if(o)var u=o.get(null);else{o=new Map,$s.set(n,o);for(var y=n.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<y.length;v++){var N=y[v];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(o.set(N.dataset.precedence,N),u=N)}u&&o.set(null,u)}y=r.instance,N=y.getAttribute("data-precedence"),v=o.get(N)||u,v===u&&o.set(null,y),o.set(N,y),this.count++,u=Ys.bind(this),y.addEventListener("load",u),y.addEventListener("error",u),v?v.parentNode.insertBefore(y,v.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(y,n.firstChild)),r.state.loading|=4}}var so={$$typeof:q,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function Tw(n,r,o,u,y,v,N,T,P){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ol(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ol(0),this.hiddenUpdates=Ol(null),this.identifierPrefix=u,this.onUncaughtError=y,this.onCaughtError=v,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function vg(n,r,o,u,y,v,N,T,P,J,Z,ne){return n=new Tw(n,r,o,N,P,J,Z,ne,T),r=1,v===!0&&(r|=24),v=Jt(3,null,null,r),n.current=v,v.stateNode=n,r=Au(),r.refCount++,n.pooledCache=r,r.refCount++,v.memoizedState={element:u,isDehydrated:o,cache:r},Mu(v),n}function bg(n){return n?(n=_r,n):_r}function wg(n,r,o,u,y,v){y=bg(y),u.context===null?u.context=y:u.pendingContext=y,u=hi(r),u.payload={element:o},v=v===void 0?null:v,v!==null&&(u.callback=v),o=pi(n,u,r),o!==null&&(Vt(o,n,r),Ga(o,n,r))}function Sg(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function Qc(n,r){Sg(n,r),(n=n.alternate)&&Sg(n,r)}function Ng(n){if(n.tag===13||n.tag===31){var r=Hi(n,67108864);r!==null&&Vt(r,n,67108864),Qc(n,67108864)}}function Eg(n){if(n.tag===13||n.tag===31){var r=Xt();r=Fl(r);var o=Hi(n,r);o!==null&&Vt(o,n,r),Qc(n,r)}}var Qs=!0;function Cw(n,r,o,u){var y=B.T;B.T=null;var v=ae.p;try{ae.p=2,Xc(n,r,o,u)}finally{ae.p=v,B.T=y}}function _w(n,r,o,u){var y=B.T;B.T=null;var v=ae.p;try{ae.p=8,Xc(n,r,o,u)}finally{ae.p=v,B.T=y}}function Xc(n,r,o,u){if(Qs){var y=Zc(u);if(y===null)Pc(n,r,u,Xs,o),Cg(n,u);else if(kw(y,n,r,o,u))u.stopPropagation();else if(Cg(n,u),r&4&&-1<Aw.indexOf(n)){for(;y!==null;){var v=gr(y);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var N=Ui(v.pendingLanes);if(N!==0){var T=v;for(T.pendingLanes|=2,T.entangledLanes|=2;N;){var P=1<<31-$e(N);T.entanglements[1]|=P,N&=~P}kn(v),(je&6)===0&&(Ds=Ct()+500,to(0))}}break;case 31:case 13:T=Hi(v,2),T!==null&&Vt(T,v,2),qs(),Qc(v,2)}if(v=Zc(u),v===null&&Pc(n,r,u,Xs,o),v===y)break;y=v}y!==null&&u.stopPropagation()}else Pc(n,r,u,null,o)}}function Zc(n){return n=eu(n),Wc(n)}var Xs=null;function Wc(n){if(Xs=null,n=mr(n),n!==null){var r=l(n);if(r===null)n=null;else{var o=r.tag;if(o===13){if(n=c(r),n!==null)return n;n=null}else if(o===31){if(n=f(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Xs=n,null}function Tg(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bl()){case W:return 2;case le:return 8;case be:case Ae:return 32;case ze:return 268435456;default:return 32}default:return 32}}var ed=!1,Ti=null,Ci=null,_i=null,lo=new Map,uo=new Map,Ai=[],Aw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cg(n,r){switch(n){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":lo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(r.pointerId)}}function co(n,r,o,u,y,v){return n===null||n.nativeEvent!==v?(n={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:v,targetContainers:[y]},r!==null&&(r=gr(r),r!==null&&Ng(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,y!==null&&r.indexOf(y)===-1&&r.push(y),n)}function kw(n,r,o,u,y){switch(r){case"focusin":return Ti=co(Ti,n,r,o,u,y),!0;case"dragenter":return Ci=co(Ci,n,r,o,u,y),!0;case"mouseover":return _i=co(_i,n,r,o,u,y),!0;case"pointerover":var v=y.pointerId;return lo.set(v,co(lo.get(v)||null,n,r,o,u,y)),!0;case"gotpointercapture":return v=y.pointerId,uo.set(v,co(uo.get(v)||null,n,r,o,u,y)),!0}return!1}function _g(n){var r=mr(n.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){n.blockedOn=r,Hf(n.priority,function(){Eg(o)});return}}else if(r===31){if(r=f(o),r!==null){n.blockedOn=r,Hf(n.priority,function(){Eg(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Zs(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=Zc(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Wl=u,o.target.dispatchEvent(u),Wl=null}else return r=gr(o),r!==null&&Ng(r),n.blockedOn=o,!1;r.shift()}return!0}function Ag(n,r,o){Zs(n)&&o.delete(r)}function Iw(){ed=!1,Ti!==null&&Zs(Ti)&&(Ti=null),Ci!==null&&Zs(Ci)&&(Ci=null),_i!==null&&Zs(_i)&&(_i=null),lo.forEach(Ag),uo.forEach(Ag)}function Ws(n,r){n.blockedOn===r&&(n.blockedOn=null,ed||(ed=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Iw)))}var el=null;function kg(n){el!==n&&(el=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){el===n&&(el=null);for(var r=0;r<n.length;r+=3){var o=n[r],u=n[r+1],y=n[r+2];if(typeof u!="function"){if(Wc(u||o)===null)continue;break}var v=gr(o);v!==null&&(n.splice(r,3),r-=3,Zu(v,{pending:!0,data:y,method:o.method,action:u},u,y))}}))}function Xr(n){function r(P){return Ws(P,n)}Ti!==null&&Ws(Ti,n),Ci!==null&&Ws(Ci,n),_i!==null&&Ws(_i,n),lo.forEach(r),uo.forEach(r);for(var o=0;o<Ai.length;o++){var u=Ai[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Ai.length&&(o=Ai[0],o.blockedOn===null);)_g(o),o.blockedOn===null&&Ai.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var y=o[u],v=o[u+1],N=y[Mt]||null;if(typeof v=="function")N||kg(o);else if(N){var T=null;if(v&&v.hasAttribute("formAction")){if(y=v,N=v[Mt]||null)T=N.formAction;else if(Wc(y)!==null)continue}else T=N.action;typeof T=="function"?o[u+1]=T:(o.splice(u,3),u-=3),kg(o)}}}function Ig(){function n(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(N){return y=N})},focusReset:"manual",scroll:"manual"})}function r(){y!==null&&(y(),y=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,y=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),y!==null&&(y(),y=null)}}}function td(n){this._internalRoot=n}tl.prototype.render=td.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(a(409));var o=r.current,u=Xt();wg(o,u,n,r,null,null)},tl.prototype.unmount=td.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;wg(n.current,2,null,n,null,null),qs(),r[pr]=null}};function tl(n){this._internalRoot=n}tl.prototype.unstable_scheduleHydration=function(n){if(n){var r=jf();n={blockedOn:null,target:n,priority:r};for(var o=0;o<Ai.length&&r!==0&&r<Ai[o].priority;o++);Ai.splice(o,0,n),o===0&&_g(n)}};var Rg=t.version;if(Rg!=="19.2.0")throw Error(a(527,Rg,"19.2.0"));ae.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=h(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var Rw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nl.isDisabled&&nl.supportsFiber)try{_t=nl.inject(Rw),ht=nl}catch{}}return ho.createRoot=function(n,r){if(!s(n))throw Error(a(299));var o=!1,u="",y=Vp,v=Gp,N=jp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(N=r.onRecoverableError)),r=vg(n,1,!1,null,null,o,u,null,y,v,N,Ig),n[pr]=r.current,Uc(n),new td(r)},ho.hydrateRoot=function(n,r,o){if(!s(n))throw Error(a(299));var u=!1,y="",v=Vp,N=Gp,T=jp,P=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(y=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.formState!==void 0&&(P=o.formState)),r=vg(n,1,!0,r,o??null,u,y,P,v,N,T,Ig),r.context=bg(null),o=r.current,u=Xt(),u=Fl(u),y=hi(u),y.callback=null,pi(o,y,u),o=u,r.current.lanes=o,wa(r,o),kn(r),n[pr]=r.current,Uc(n),new tl(r)},ho.version="19.2.0",ho}var Hg;function zw(){if(Hg)return rd.exports;Hg=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),rd.exports=Hw(),rd.exports}var Bw=zw();const Ow=kl(Bw),Fw=({aiEngine:e,onShowAdmin:t})=>d.jsx("header",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-gray-700/50 shadow-lg sticky top-0 z-50",children:d.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[d.jsx("div",{className:"w-1/4",children:d.jsx("input",{id:"searchWidgetTrigger",placeholder:"搜尋聖經資源...",className:"bg-gray-700/80 border border-gray-600 rounded-md px-3 py-1.5 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition placeholder-gray-400 w-full max-w-xs"})}),d.jsx("div",{className:"flex-1 flex justify-center",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("h1",{className:"text-3xl font-bold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-indigo-600",children:"數位講壇"}),d.jsxs("p",{className:"text-xs text-gray-400 font-medium tracking-wider mt-1",children:["由 ",e," 驅動"]})]})}),d.jsx("div",{className:"w-1/4 flex justify-end",children:d.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-full transition-colors","aria-label":"開啟 AI 角色設定",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})})]})});var Ve=(e=>(e.LANDING="LANDING",e.INPUT="INPUT",e.LOADING="LOADING",e.RESULT="RESULT",e.ERROR="ERROR",e.SAVED="SAVED",e.ADMIN="ADMIN",e.BIBLE="BIBLE",e.THEOLOGY_SEARCH="THEOLOGY_SEARCH",e.JAPANESE_BIBLICAL="JAPANESE_BIBLICAL",e.BIBLICAL_LANGUAGE="BIBLICAL_LANGUAGE",e.THEOLOGICAL_JOURNEY="THEOLOGICAL_JOURNEY",e))(Ve||{}),jt=(e=>(e.GEMINI="Google Gemini",e.LOCAL_LLM="Local LLM",e))(jt||{}),ia=(e=>(e.BIBLICAL_STUDY="聖經研究",e.CHURCH_HISTORY="教會歷史",e.SYSTEMATIC_THEOLOGY="系統神學",e))(ia||{});const Jw=[3,5,10],gl={personaEnabled:!0,ethics:"principled",politicalStand:"neutral",powerfulness:"direct",sentiment:"optimistic",personality:"An insightful and engaging AI assistant, expert in theology and communication.",empathy:"medium"};var Nx=(e=>(e.NIV="NIV",e.ESV="ESV",e.KJV="KJV",e))(Nx||{}),wn=(e=>(e.THEOLOGY_CHAT="Theology Chat",e.READING_QA="Reading Q&A",e.ASSIGNMENT_ASSISTANT="Assignment Assistant",e.RESOURCE_SEARCH="Resource Search",e))(wn||{}),In=(e=>(e.INPUT="input",e.PLANNING="planning",e.DRAFTING="drafting",e.CRITIQUING="critiquing",e.REVISING="revising",e))(In||{}),ea=(e=>(e.UNDERGRADUATE="undergraduate",e.GRADUATE="graduate",e.DOCTORAL="doctoral",e.GENERAL="general",e))(ea||{});const il=[{id:"gpt-oss:120b",name:"GPT-OSS 120B Cloud ☁️",size:"Cloud (120B)",description:"最大雲端模型，適合複雜的神學分析和深入講道"},{id:"deepseek-v3.1:671b",name:"DeepSeek V3.1 671B Cloud ☁️",size:"Cloud (671B)",description:"超大規模模型，頂級推理能力，適合高難度神學論證"},{id:"qwen3-coder:480b",name:"Qwen3 Coder 480B Cloud ☁️",size:"Cloud (480B)",description:"超大規模編碼模型，適合結構化講道內容生成"},{id:"gpt-oss:20b",name:"GPT-OSS 20B Cloud ☁️",size:"Cloud (20B)",description:"雲端模型，平衡效能和速度，適合一般講道生成"},{id:"kimi-k2:1t",name:"Kimi K2 1T Cloud ☁️",size:"Cloud (1T)",description:"超大參數模型，極致的理解和生成能力"},{id:"qwen2.5vl:32b",name:"Qwen 2.5 VL 32B (本地)",size:"32 GB",description:"中英雙語視覺語言模型，適合繁體中文講道",hasVision:!0},{id:"llama4:scout",name:"Llama 4 Scout (本地)",size:"67 GB",description:"最新版本，適合深度神學分析和複雜講道結構"},{id:"mistral-small:24b",name:"Mistral Small 24B (本地)",size:"14 GB",description:"高效率小型模型，快速生成講道內容"},{id:"llama3.3:latest",name:"Llama 3.3 (本地)",size:"42 GB",description:"高性能通用模型，平衡質量與效率"},{id:"llava:34b",name:"LLaVA 34B (本地)",size:"20 GB",description:"多模態模型，支援視覺分析，適合包含圖像的講道內容",hasVision:!0},{id:"deepseek-r1:32b",name:"DeepSeek R1 32B (本地)",size:"19 GB",description:"推理能力強，適合邏輯性神學論證和釋經"},{id:"llama3.2-vision:latest",name:"Llama 3.2 Vision (本地)",size:"7.9 GB",description:"輕量級視覺模型，快速處理視覺內容",hasVision:!0}];/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$w=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),zg=e=>{const t=$w(e);return t.charAt(0).toUpperCase()+t.slice(1)},Ex=(...e)=>e.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),Kw=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=H.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:s="",children:l,iconNode:c,...f},p)=>H.createElement("svg",{ref:p,...Qw,width:t,height:t,stroke:e,strokeWidth:a?Number(i)*24/Number(t):i,className:Ex("lucide",s),...!l&&!Kw(f)&&{"aria-hidden":"true"},...f},[...c.map(([h,g])=>H.createElement(h,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=(e,t)=>{const i=H.forwardRef(({className:a,...s},l)=>H.createElement(Xw,{ref:l,iconNode:t,className:Ex(`lucide-${Yw(zg(e))}`,`lucide-${e}`,a),...s}));return i.displayName=zg(e),i};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ha=ft("arrow-left",Zw);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],af=ft("book-open",Ww);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],tS=ft("book",eS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Bg=ft("circle-check-big",nS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rS=ft("compass",iS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ld=ft("file-text",aS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Tx=ft("funnel",oS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],lS=ft("gamepad-2",sS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],cS=ft("graduation-cap",uS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],kd=ft("info",dS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],hS=ft("languages",fS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],mS=ft("message-circle",pS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],yS=ft("mic-off",gS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Cx=ft("mic",xS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],bS=ft("pen-line",vS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],SS=ft("save",wS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Eo=ft("search",NS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Og=ft("send",ES);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],CS=ft("upload",TS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],ra=ft("volume-2",_S);function AS(e={}){const{lang:t="zh-TW",continuous:i=!1,interimResults:a=!0,onResult:s,onError:l}=e,[c,f]=H.useState(!1),[p,h]=H.useState(""),[g,b]=H.useState(null),w=H.useRef(null),S=typeof window<"u"&&("SpeechRecognition"in window||"webkitSpeechRecognition"in window);H.useEffect(()=>{if(!S)return;const A=window.SpeechRecognition||window.webkitSpeechRecognition,D=new A;return D.lang=t,D.continuous=i,D.interimResults=a,D.onstart=()=>{f(!0),b(null)},D.onresult=q=>{let M="";for(let V=q.resultIndex;V<q.results.length;V++){const I=q.results[V];(I.isFinal||a)&&(M+=I[0].transcript)}h(V=>V+M),s&&M&&s(M)},D.onerror=q=>{const M=`語音識別錯誤: ${q.error}`;b(M),f(!1),l&&l(M)},D.onend=()=>{f(!1)},w.current=D,()=>{w.current&&w.current.abort()}},[t,i,a,S,s,l]);const C=H.useCallback(()=>{if(!(!w.current||c))try{w.current.start()}catch(A){console.error("Error starting speech recognition:",A),b("無法啟動語音識別")}},[c]),E=H.useCallback(()=>{if(!(!w.current||!c))try{w.current.stop()}catch(A){console.error("Error stopping speech recognition:",A)}},[c]),R=H.useCallback(()=>{h(""),b(null)},[]);return{isListening:c,isSupported:S,transcript:p,startListening:C,stopListening:E,resetTranscript:R,error:g}}const er=({value:e,onChange:t,onKeyPress:i,placeholder:a,className:s="",disabled:l=!1,multiline:c=!1,rows:f=3,lang:p="zh-TW",maxLength:h,type:g="text"})=>{const{isListening:b,isSupported:w,transcript:S,startListening:C,stopListening:E,resetTranscript:R,error:A}=AS({lang:p,continuous:!1,interimResults:!0,onResult:M=>{t(e+M)}});H.useEffect(()=>{!b&&S&&R()},[b,S,R]);const D=()=>{b?E():C()},q=`flex-1 px-4 py-2 pr-12 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-indigo-500 text-white ${s}`;return d.jsxs("div",{className:"relative flex-1",children:[c?d.jsx("textarea",{value:e,onChange:M=>t(M.target.value),onKeyPress:i,placeholder:a,className:`${q} resize-none`,disabled:l||b,rows:f,maxLength:h}):d.jsx("input",{type:g,value:e,onChange:M=>t(M.target.value),onKeyPress:i,placeholder:a,className:q,disabled:l||b,maxLength:h}),w&&d.jsx("button",{type:"button",onClick:D,disabled:l,className:`absolute right-2 ${c?"top-2":"top-1/2 -translate-y-1/2"} p-2 rounded-lg transition-colors ${b?"bg-red-600 hover:bg-red-700 text-white animate-pulse":"bg-gray-600 hover:bg-gray-500 text-gray-300"} disabled:opacity-50 disabled:cursor-not-allowed`,title:b?"停止語音輸入":"開始語音輸入",children:b?d.jsx(yS,{className:"w-4 h-4"}):d.jsx(Cx,{className:"w-4 h-4"})}),b&&d.jsx("div",{className:"absolute -bottom-6 left-0 text-xs text-blue-400 animate-pulse",children:"🎤 正在聆聽..."}),A&&!b&&d.jsx("div",{className:"absolute -bottom-6 left-0 text-xs text-red-400",children:A})]})},kS=({value:e,onChange:t,onRemove:i,isFirst:a})=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(er,{value:e,onChange:t,placeholder:"輸入鑰節或要點...",className:"w-full",lang:"zh-TW"}),!a&&d.jsx("button",{type:"button",onClick:i,className:"p-2 text-gray-400 hover:text-red-500 transition-colors flex-shrink-0","aria-label":"移除要點",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]}),IS=({onGenerate:e,selectedEngine:t,onEngineChange:i,onShowSaved:a,onBackToLanding:s,hasSavedPresentations:l})=>{var K,te;const[c,f]=H.useState(""),[p,h]=H.useState([""]),[g,b]=H.useState(ia.BIBLICAL_STUDY),[w,S]=H.useState(5),[C,E]=H.useState(!1),[R,A]=H.useState(il[0].id),[D,q]=H.useState(.7),[M,V]=H.useState(.9),I=()=>{p.length<5&&h([...p,""])},U=z=>{const re=p.filter((ie,se)=>se!==z);h(re)},Q=(z,re)=>{const ie=[...p];ie[z]=re,h(ie)},$=z=>{if(z.preventDefault(),c.trim()){E(!0);const re=t===jt.LOCAL_LLM?{model:R,temperature:D,topP:M}:void 0;e(c,p.filter(ie=>ie.trim()!==""),g,w,re)}};return d.jsxs("div",{className:"w-full max-w-2xl bg-gray-800/50 rounded-lg shadow-2xl p-8 border border-gray-700",children:[d.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:"撰寫您的 AI 講道"}),d.jsx("p",{className:"text-center text-gray-400 mb-6",children:"輸入主題，選擇基礎，讓 AI 為您構建講道。"}),d.jsxs("form",{onSubmit:$,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"AI 引擎"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 rounded-lg bg-gray-700 p-1",children:[d.jsx("button",{type:"button",disabled:!1,onClick:()=>i(jt.GEMINI),className:`w-full rounded-md px-3 py-2 text-sm font-medium transition ${t===jt.GEMINI?"bg-indigo-600 text-white shadow":"text-gray-300 hover:bg-gray-600/50"} disabled:opacity-50 disabled:cursor-not-allowed`,"aria-pressed":t===jt.GEMINI,children:jt.GEMINI}),d.jsx("button",{type:"button",onClick:()=>i(jt.LOCAL_LLM),className:`w-full rounded-md px-3 py-2 text-sm font-medium transition ${t===jt.LOCAL_LLM?"bg-indigo-600 text-white shadow":"text-gray-300 hover:bg-gray-600/50"}`,"aria-pressed":t===jt.LOCAL_LLM,children:jt.LOCAL_LLM})]}),!1]}),t===jt.LOCAL_LLM&&d.jsxs("div",{className:"space-y-4 bg-gray-800/50 rounded-lg p-4 border border-gray-600",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-200",children:"本地 LLM 配置"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"選擇模型"}),d.jsx("select",{value:R,onChange:z=>A(z.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-indigo-500 text-white",children:il.map(z=>d.jsxs("option",{value:z.id,children:[z.name," (",z.size,")",z.hasVision?" 🎨":""]},z.id))}),d.jsxs("div",{className:"mt-2 p-3 bg-gray-700/50 rounded-lg",children:[d.jsx("p",{className:"text-xs text-gray-300",children:(K=il.find(z=>z.id===R))==null?void 0:K.description}),((te=il.find(z=>z.id===R))==null?void 0:te.hasVision)&&d.jsx("span",{className:"text-xs text-yellow-400 mt-1 block",children:"🎨 支援視覺分析功能"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["創造性程度: ",D]}),d.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:D,onChange:z=>q(parseFloat(z.target.value)),className:"w-full"}),d.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[d.jsx("span",{children:"保守"}),d.jsx("span",{children:"創新"})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["回答多樣性: ",M]}),d.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:M,onChange:z=>V(parseFloat(z.target.value)),className:"w-full"}),d.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[d.jsx("span",{children:"聚焦"}),d.jsx("span",{children:"多元"})]})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"講道基礎"}),d.jsx("div",{className:"grid grid-cols-3 gap-2 rounded-lg bg-gray-700 p-1",children:Object.values(ia).map(z=>d.jsx("button",{type:"button",onClick:()=>b(z),className:`w-full rounded-md px-3 py-2 text-sm font-medium transition ${g===z?"bg-indigo-600 text-white shadow":"text-gray-300 hover:bg-gray-600/50"}`,"aria-pressed":g===z,children:z},z))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"講道時長"}),d.jsx("div",{className:"grid grid-cols-3 gap-2 rounded-lg bg-gray-700 p-1",children:Jw.map(z=>d.jsxs("button",{type:"button",onClick:()=>S(z),className:`w-full rounded-md px-3 py-2 text-sm font-medium transition ${w===z?"bg-indigo-600 text-white shadow":"text-gray-300 hover:bg-gray-600/50"}`,"aria-pressed":w===z,children:[z," 分鐘"]},z))})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"topic",className:"block text-sm font-medium text-gray-300 mb-2",children:"主題"}),d.jsx(er,{value:c,onChange:f,placeholder:"例如：撒種的比喻（馬太福音 13 章）",className:"w-full text-lg",lang:"zh-TW"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"鑰節或要點"}),d.jsx("div",{className:"space-y-3",children:p.map((z,re)=>d.jsx(kS,{value:z,onChange:ie=>Q(re,ie),onRemove:()=>U(re),isFirst:re===0},re))}),p.length<5&&d.jsx("button",{type:"button",onClick:I,className:"mt-3 text-sm text-indigo-400 hover:text-indigo-300 font-medium transition-colors",children:"+ 新增另一要點"})]}),d.jsxs("div",{className:"pt-2 space-y-3",children:[d.jsx("button",{type:"submit",disabled:!c.trim()||C,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-lg font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 focus:ring-offset-gray-900 disabled:bg-indigo-900/50 disabled:cursor-not-allowed transition-all",children:C?"生成中...":"生成講道"}),l&&d.jsx("button",{type:"button",onClick:a,className:"w-full flex justify-center py-2 px-4 border border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-300 bg-gray-700 hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 focus:ring-offset-gray-900 transition-colors",children:"載入已儲存的講道"}),d.jsx("button",{type:"button",onClick:s,className:"w-full flex justify-center py-2 px-4 border border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-400 bg-gray-800 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 focus:ring-offset-gray-900 transition-colors",children:"返回主頁"})]})]})]})},RS=({message:e})=>d.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-8",children:[d.jsx("div",{className:"w-16 h-16 border-4 border-dashed rounded-full animate-spin border-indigo-500"}),d.jsx("h2",{className:"text-2xl font-bold mt-6 mb-2 text-gray-200",children:"AI 已登台"}),d.jsx("p",{className:"text-gray-400",children:e})]}),MS=({slide:e,speakerImageUrl:t,audienceImageUrl:i,isActive:a,onUpdate:s})=>{const l=(c,f,p)=>{let h={...e};if(c==="title")h.title=f;else if(c==="talkingPoint"&&p!==void 0){const g=[...e.talkingPoints];g[p]=f,h.talkingPoints=g}s(h)};return d.jsx("div",{className:`absolute inset-0 transition-opacity duration-1000 ${a?"opacity-100":"opacity-0"}`,children:d.jsxs("div",{className:"relative w-full h-full rounded-lg overflow-hidden shadow-2xl border border-gray-700 bg-black",children:[d.jsx("img",{src:e.backgroundUrl,alt:"Slide background",className:"absolute inset-0 w-full h-full object-cover blur-sm scale-110"}),d.jsx("div",{className:"absolute inset-0 bg-black/60"}),d.jsx("img",{src:i,alt:"Audience silhouette",className:"absolute bottom-0 left-0 w-full h-1/3 object-cover opacity-30 pointer-events-none"}),d.jsxs("div",{className:"relative z-10 p-8 md:p-12 h-full flex flex-col justify-between text-white",children:[d.jsxs("div",{className:"flex-grow",children:[d.jsx("h3",{contentEditable:!0,suppressContentEditableWarning:!0,onBlur:c=>l("title",c.currentTarget.innerText),className:"text-3xl md:text-4xl font-bold mb-6 text-shadow focus:outline-none focus:ring-2 focus:ring-indigo-400 rounded-sm p-1 -m-1",children:e.title}),d.jsx("ul",{className:"space-y-3 list-disc list-inside",children:e.talkingPoints.map((c,f)=>d.jsx("li",{contentEditable:!0,suppressContentEditableWarning:!0,onBlur:p=>l("talkingPoint",p.currentTarget.innerText,f),className:"text-lg md:text-xl text-gray-200 text-shadow focus:outline-none focus:ring-2 focus:ring-indigo-400 rounded-sm p-1 -m-1",children:c},f))})]}),d.jsx("div",{className:"absolute right-8 bottom-8 md:right-12 md:bottom-12 w-24 h-24 md:w-32 md:h-32 rounded-full overflow-hidden border-4 border-indigo-500/50 shadow-lg",children:d.jsx("img",{src:t,alt:"AI Speaker",className:"w-full h-full object-cover"})})]})]})})},DS=()=>{const e=(t,i=null)=>{document.execCommand(t,!1,i)};return d.jsxs("div",{className:"flex items-center gap-1 p-2 bg-gray-700 rounded-t-md border-b border-gray-600",children:[d.jsx("button",{onClick:()=>e("bold"),className:"p-2 rounded hover:bg-gray-600",title:"加粗",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:d.jsx("path",{d:"M5.75 3a.75.75 0 000 1.5h1.597c.54 0 .979.412 1.026.953l.23 2.766c-.226-.061-.465-.094-.712-.094C6.23 8.125 5 9.355 5 10.944v.211c0 1.59 1.23 2.819 2.841 2.819 1.43 0 2.61-1.07 2.818-2.473H13.5a.75.75 0 000-1.5h-2.91c-.052-.249-.126-.489-.22-.723a.75.75 0 00-1.342-.495A3.001 3.001 0 007.559 11l-.23-2.766A2.525 2.525 0 019.826 5.5H11.5a.75.75 0 000-1.5H9.826C8.618 4 7.643 4.935 7.523 6.12L7.292 8.9H7.25a.75.75 0 000 1.5h.073a4.502 4.502 0 01-1.468 2.555.75.75 0 101.13 1.009A2.988 2.988 0 007.84 13.9c.074.45.19.882.343 1.288a.75.75 0 001.4-.476 3.002 3.002 0 01-.32-1.212c1.23-.2 2.158-1.28 2.158-2.527v-.211c0-1.28-1.018-2.35-2.291-2.433l-.23-2.766A2.5 2.5 0 019.826 4.5h1.674a.75.75 0 000-1.5H5.75z"})})}),d.jsx("button",{onClick:()=>e("italic"),className:"p-2 rounded hover:bg-gray-600",title:"斜體",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:d.jsx("path",{d:"M7.75 3a.75.75 0 000 1.5h1.259l-2.34 9.363A.75.75 0 007.5 15.5h3.75a.75.75 0 000-1.5H9.991l2.34-9.363A.75.75 0 0011.5 3H7.75z"})})}),d.jsx("button",{onClick:()=>e("insertUnorderedList"),className:"p-2 rounded hover:bg-gray-600",title:"項目符號列表",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:d.jsx("path",{fillRule:"evenodd",d:"M2 5.75A.75.75 0 012.75 5h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 5.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10zm0 4.25a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75z",clipRule:"evenodd"})})}),d.jsxs("select",{onChange:t=>e("fontSize",t.target.value),defaultValue:"3",className:"bg-gray-800 text-white rounded p-1.5 text-sm focus:ring-1 focus:ring-indigo-500 focus:outline-none",title:"字體大小",children:[d.jsx("option",{value:"2",children:"小"}),d.jsx("option",{value:"3",children:"正常"}),d.jsx("option",{value:"5",children:"大"})]})]})},LS=({presentation:e,topic:t,onReset:i,onSave:a,isSaved:s})=>{const[l,c]=H.useState(0),[f,p]=H.useState(""),[h,g]=H.useState(e),[b,w]=H.useState(!1),[S,C]=H.useState(1),[E,R]=H.useState(!1),A=I=>new DOMParser().parseFromString(I,"text/html").body.textContent||"";H.useEffect(()=>{try{const I=localStorage.getItem("sermon-speech-volume");I!==null&&C(parseFloat(I))}catch(I){console.error("Could not load volume from local storage",I)}},[]),H.useEffect(()=>{try{localStorage.setItem("sermon-speech-volume",String(S))}catch(I){console.error("Could not save volume to local storage",I)}},[S]),H.useEffect(()=>()=>{window.speechSynthesis&&window.speechSynthesis.speaking&&window.speechSynthesis.cancel()},[]);const D=H.useCallback(()=>{const I=A(f);if(I.trim())if(b)window.speechSynthesis.cancel(),w(!1);else if("speechSynthesis"in window){window.speechSynthesis.cancel();const U=new SpeechSynthesisUtterance(I);U.lang="zh-TW",U.volume=S,U.onend=()=>{w(!1)},U.onerror=Q=>{console.error("Speech synthesis error:",Q),w(!1)},window.speechSynthesis.speak(U),w(!0)}else alert("抱歉，您的瀏覽器不支援語音合成功能。")},[b,f,S]);H.useEffect(()=>{if(g(e),/<[a-z][\s\S]*>/i.test(e.fullScript))p(e.fullScript);else{const U=e.fullScript.split(`
`).filter(Q=>Q.trim()!=="").map(Q=>`<p>${Q}</p>`).join("");p(U)}},[e]),H.useEffect(()=>{const U=setInterval(()=>{c(Q=>(Q+1)%h.slides.length)},1e4);return()=>clearInterval(U)},[h.slides.length]);const q=(I,U)=>{const Q=[...h.slides];Q[U]=I,g($=>({...$,slides:Q}))},M=I=>{b&&(window.speechSynthesis.cancel(),w(!1));const U={...h,fullScript:I},{id:Q,topic:$,savedAt:K,...te}=U;a(te)},V=async()=>{R(!0);try{const{jsPDF:I}=window.jspdf,U=window.html2canvas,Q=document.createElement("div");Q.style.position="absolute",Q.style.left="-9999px",Q.style.width="800px",Q.style.padding="40px",Q.style.fontFamily="Inter, sans-serif",Q.style.color="#111827",Q.style.background="white",Q.innerHTML=`
              <style>
                p { margin-bottom: 1em; line-height: 1.6; }
                ul { list-style-position: inside; padding-left: 1em; }
                li { margin-bottom: 0.5em; }
                b, strong { font-weight: bold; }
                i, em { font-style: italic; }
              </style>
              <h1 style="font-size: 28px; font-weight: bold; margin-bottom: 24px; border-bottom: 2px solid #ddd; padding-bottom: 8px;">${t}</h1>
              <div style="background-color: #f3f4f6; border-left: 4px solid #6366f1; padding: 16px; margin-bottom: 24px; border-radius: 4px;">
                  <h2 style="font-size: 18px; font-weight: 600; margin: 0 0 8px 0;">講道摘要</h2>
                  <p style="font-size: 14px; font-style: italic; color: #4b5563; margin: 0;">${h.summary}</p>
              </div>
              <h2 style="font-size: 20px; font-weight: bold; margin-bottom: 16px;">講道手稿</h2>
              <div>${f}</div>
          `,document.body.appendChild(Q);const $=await U(Q,{scale:2});document.body.removeChild(Q);const K=$.toDataURL("image/png"),te=new I("p","mm","a4"),z=te.internal.pageSize.getWidth(),re=$.width,ie=$.height,se=re/ie,B=z/se;let ae=B,ce=0;for(te.addImage(K,"PNG",0,ce,z,B),ae-=te.internal.pageSize.getHeight();ae>0;)ce-=te.internal.pageSize.getHeight(),te.addPage(),te.addImage(K,"PNG",0,ce,z,B),ae-=te.internal.pageSize.getHeight();te.save(`sermon-${t.replace(/\s+/g,"_").toLowerCase()}.pdf`)}catch(I){console.error("Failed to export PDF:",I),alert("無法匯出 PDF。請檢查主控台是否有錯誤。")}finally{R(!1)}};return d.jsx("div",{className:"w-full max-w-7xl mx-auto animate-fade-in",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[d.jsxs("div",{className:"lg:col-span-3",children:[d.jsx("div",{className:"relative aspect-video",children:h.slides.map((I,U)=>d.jsx(MS,{slide:I,speakerImageUrl:h.speakerImageUrl,audienceImageUrl:h.audienceImageUrl,isActive:U===l,onUpdate:Q=>q(Q,U)},U))}),d.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5 mt-4",children:d.jsx("div",{className:"bg-indigo-600 h-2.5 rounded-full transition-all duration-500 ease-linear",style:{width:`${(l+1)/h.slides.length*100}%`}})})]}),d.jsxs("div",{className:"lg:col-span-2 bg-gray-800/50 rounded-lg border border-gray-700 flex flex-col",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-gray-600 p-6 pb-3 gap-2",children:[d.jsx("h3",{className:"text-2xl font-bold",children:"講道手稿"}),d.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 text-gray-400",children:[d.jsx("path",{d:"M8.25 3.75L6 6H4.5A1.5 1.5 0 003 7.5v5A1.5 1.5 0 004.5 14H6l2.25 2.25a.75.75 0 001.25-.53V4.28a.75.75 0 00-1.25-.53z"}),d.jsx("path",{d:"M11.5 6.162a.75.75 0 011.5 0v7.676a.75.75 0 01-1.5 0V6.162zm2.501.334a.75.75 0 011.498-.058l.002.058v7.084l-.001.058a.75.75 0 01-1.498-.058l-.002-.058V6.496z"})]}),d.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:S,onChange:I=>C(parseFloat(I.target.value)),className:"w-20 md:w-24 h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-indigo-500","aria-label":"調整音量"})]}),d.jsx("button",{onClick:D,className:"flex items-center space-x-2 px-3 py-1.5 text-sm bg-gray-700 hover:bg-gray-600 rounded-md font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-live":"polite",disabled:!A(f).trim(),"aria-label":b?"停止朗讀":"朗讀手稿",children:b?d.jsxs(d.Fragment,{children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:d.jsx("path",{d:"M5.25 3A2.25 2.25 0 003 5.25v9.5A2.25 2.25 0 005.25 17h9.5A2.25 2.25 0 0017 14.75v-9.5A2.25 2.25 0 0014.75 3h-9.5z"})}),d.jsx("span",{className:"hidden md:inline",children:"停止"})]}):d.jsxs(d.Fragment,{children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:d.jsx("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})}),d.jsx("span",{className:"hidden md:inline",children:"朗讀"})]})})]})]}),d.jsxs("div",{className:"mx-6 mb-4 p-4 bg-gray-900/50 border-l-4 border-indigo-500 rounded-r-lg",children:[d.jsx("h4",{className:"font-semibold text-gray-200 mb-1",children:"講道摘要"}),d.jsx("p",{className:"text-sm text-gray-400 italic",children:h.summary})]}),d.jsxs("div",{className:"flex-grow flex flex-col mx-6",style:{minHeight:"340px"},children:[d.jsx(DS,{}),d.jsx("div",{contentEditable:!0,onInput:I=>p(I.currentTarget.innerHTML),dangerouslySetInnerHTML:{__html:f},className:"w-full flex-grow bg-gray-900/50 text-gray-300 leading-relaxed focus:outline-none focus:ring-1 focus:ring-indigo-500 rounded-b-md p-3 overflow-y-auto","aria-label":"講道手稿編輯區",style:{minHeight:"280px"}})]}),d.jsxs("div",{className:"mt-6 p-6 pt-6 border-t border-gray-600 flex flex-col space-y-3",children:[!s&&d.jsx("button",{onClick:()=>M(f),className:"w-full py-3 px-4 border border-transparent rounded-md shadow-sm text-lg font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 focus:ring-offset-gray-900 transition-colors",children:"儲存講道"}),d.jsxs("button",{onClick:V,disabled:E,className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-gray-600 rounded-md shadow-sm text-lg font-medium text-gray-300 bg-gray-700 hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 focus:ring-offset-gray-900 transition-colors disabled:opacity-50",children:[E?d.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 9.707a1 1 0 011.414 0L9 11.001V3a1 1 0 112 0v8.001l1.293-1.294a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),E?"匯出中...":"匯出為 PDF"]}),d.jsx("button",{onClick:i,className:"w-full py-3 px-4 border border-transparent rounded-md shadow-sm text-lg font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 focus:ring-offset-gray-900 transition-colors",children:"建立另一篇講道"})]})]})]})})},qS=({presentations:e,onLoad:t,onDelete:i,onBack:a})=>d.jsxs("div",{className:"w-full max-w-3xl bg-gray-800/50 rounded-lg shadow-2xl p-8 border border-gray-700",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-700",children:[d.jsx("h2",{className:"text-2xl font-bold",children:"已儲存的講道"}),d.jsx("button",{onClick:a,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 rounded-md font-semibold transition-colors",children:"← 返回建立"})]}),e.length===0?d.jsx("p",{className:"text-center text-gray-400 py-8",children:"您沒有已儲存的講道。"}):d.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:e.sort((s,l)=>new Date(l.savedAt).getTime()-new Date(s.savedAt).getTime()).map(s=>d.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-lg flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-lg",children:s.topic}),d.jsxs("p",{className:"text-xs text-gray-400",children:["儲存於： ",new Date(s.savedAt).toLocaleString()]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("button",{onClick:()=>t(s),className:"px-4 py-2 text-sm bg-indigo-600 hover:bg-indigo-700 rounded-md font-semibold transition-colors",children:"載入"}),d.jsx("button",{onClick:()=>{confirm("您確定要刪除這篇講道嗎？")&&i(s.id)},className:"p-2 text-gray-400 hover:text-red-500 transition-colors","aria-label":"刪除講道",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},s.id))})]}),Fg={ethics:["principled","pragmatic","neutral"],politicalStand:["neutral","centrist","left-leaning","right-leaning"],powerfulness:["subtle","direct","authoritative"],sentiment:["optimistic","neutral","realistic","pessimistic"],empathy:["low","medium","high"]},Ri={personaEnabled:"啟用 AI 角色",ethics:"道德框架",politicalStand:"政治立場",powerfulness:"語氣力度",sentiment:"情緒",personality:"個性",empathy:"同理心",principled:"有原則的",pragmatic:"務實的",neutral:"中立的",centrist:"中間派","left-leaning":"左傾","right-leaning":"右傾",subtle:"含蓄的",direct:"直接的",authoritative:"權威的",optimistic:"樂觀的",realistic:"現實的",pessimistic:"悲觀的",low:"低",medium:"中",high:"高"},ud={personaEnabled:Ri.personaEnabled,ethics:Ri.ethics,politicalStand:Ri.politicalStand,powerfulness:Ri.powerfulness,sentiment:Ri.sentiment,personality:Ri.personality,empathy:Ri.empathy},US=({label:e,value:t,options:i,onChange:a})=>d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 rounded-lg bg-gray-700 p-1",children:i.map(s=>d.jsx("button",{type:"button",onClick:()=>a(s),className:`w-full rounded-md px-3 py-2 text-sm font-medium transition capitalize ${t===s?"bg-indigo-600 text-white shadow":"text-gray-300 hover:bg-gray-600/50"}`,children:Ri[s]||s},s))})]}),PS=({config:e,onSave:t,onBack:i})=>{const[a,s]=H.useState(e),l=()=>{t(a)},c=()=>{s(gl)},f=(p,h)=>{s(g=>({...g,[p]:h}))};return d.jsxs("div",{className:"w-full max-w-3xl bg-gray-800/50 rounded-lg shadow-2xl p-8 border border-gray-700 animate-fade-in",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-700",children:[d.jsx("h2",{className:"text-2xl font-bold",children:"AI 神學家角色"}),d.jsx("button",{onClick:i,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 rounded-md font-semibold transition-colors",children:"← 返回建立"})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-700/50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-white",children:ud.personaEnabled}),d.jsx("p",{className:"text-sm text-gray-400",children:"自訂 AI 的個性與回應風格。"})]}),d.jsx("button",{type:"button",onClick:()=>f("personaEnabled",!a.personaEnabled),className:`${a.personaEnabled?"bg-indigo-600":"bg-gray-600"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-800`,"aria-pressed":a.personaEnabled,children:d.jsx("span",{className:`${a.personaEnabled?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]}),d.jsxs("fieldset",{disabled:!a.personaEnabled,className:"space-y-6 transition-opacity duration-300 disabled:opacity-50",children:[Object.keys(Fg).map(p=>d.jsx(US,{label:ud[p],value:a[p],options:Fg[p],onChange:h=>f(p,h)},p)),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"personality",className:"block text-sm font-medium text-gray-300 mb-2",children:ud.personality}),d.jsx("textarea",{id:"personality",value:a.personality,onChange:p=>f("personality",p.target.value),rows:3,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition disabled:bg-gray-700/50",placeholder:"描述 AI 的個性..."})]})]}),d.jsxs("div",{className:"pt-4 border-t border-gray-700 flex flex-col sm:flex-row-reverse gap-3",children:[d.jsx("button",{onClick:l,className:"w-full sm:w-auto px-6 py-2 bg-indigo-600 hover:bg-indigo-700 rounded-md font-semibold transition-colors",children:"儲存變更"}),d.jsx("button",{onClick:c,className:"w-full sm:w-auto px-6 py-2 bg-gray-600 hover:bg-gray-500 rounded-md font-semibold transition-colors",children:"重設為預設值"})]})]})]})},VS=({onNavigate:e})=>{const t=[{id:"bible-game",title:"聖經探索",subtitle:"Bible Interactive Game",description:"通過互動遊戲探索聖經故事和故事知識，與AI邊玩邊學習",icon:lS,color:"from-purple-500 to-purple-700",hoverColor:"hover:from-purple-600 hover:to-purple-800"},{id:"biblical-language",title:"原文學習",subtitle:"Biblical Textual Learning",description:"學習聖經原文語言：希伯來文和希臘文發音練習與AI對話",icon:hS,color:"from-amber-500 to-amber-700",hoverColor:"hover:from-amber-600 hover:to-amber-800"},{id:"theology-search",title:"研究助手",subtitle:"Theology Explore Assistant",description:"全方位神學研究平台：AI互動、文檔分析、作業輔導和資源搜尋",icon:Eo,color:"from-green-500 to-green-700",hoverColor:"hover:from-green-600 hover:to-green-800"},{id:"sermon",title:"講道初階",subtitle:"Sermon Generator",description:"使用 AI 快速生成完整的講道初稿，包含簡報、講稿和視覺素材",icon:af,color:"from-blue-500 to-blue-700",hoverColor:"hover:from-blue-600 hover:to-blue-800"},{id:"theological-journey",title:"神學家記誌",subtitle:"Theologian's Journal",description:"引導你的神學思考旅程：從概念到啟示，透過互動探索信仰深度，記錄思維進程",icon:rS,color:"from-rose-500 to-rose-700",hoverColor:"hover:from-rose-600 hover:to-rose-800"}];return d.jsxs("div",{className:"w-full max-w-6xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h1",{className:"text-5xl font-bold mb-4 bg-gradient-to-r from-indigo-400 to-purple-400 bg-clip-text text-transparent",children:"AI Christian Theology Platform"}),d.jsx("p",{className:"text-xl text-gray-300",children:"基督教神學 AI 工具平台 - 探索信仰，深化學習"})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6 px-4",children:t.map(i=>{const a=i.icon;return d.jsxs("button",{onClick:()=>e(i.id),className:`group relative overflow-hidden rounded-2xl bg-gradient-to-br ${i.color} ${i.hoverColor} p-8 transition-all duration-300 transform hover:scale-105 hover:shadow-2xl`,children:[d.jsxs("div",{className:"relative z-10",children:[d.jsx("div",{className:"mb-6 flex justify-center",children:d.jsx("div",{className:"p-4 bg-white/20 rounded-full backdrop-blur-sm",children:d.jsx(a,{className:"w-12 h-12 text-white"})})}),d.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:i.title}),d.jsx("p",{className:"text-sm text-white/80 mb-4 font-medium",children:i.subtitle}),d.jsx("p",{className:"text-white/90 leading-relaxed",children:i.description})]}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]},i.id)})}),d.jsxs("div",{className:"mt-16 text-center text-gray-400 text-sm",children:[d.jsx("p",{children:"選擇一個功能開始您的信仰探索之旅"}),d.jsx("p",{className:"mt-2",children:"Choose a feature to begin your faith exploration journey"})]})]})},_x=[{id:"q1",character:"亞伯拉罕",characterImage:"https://picsum.photos/seed/abraham/100",question:"上帝與我立約，並以一個特定的記號為標誌。這個約主要是關於什麼？",options:["一個新船的承諾。","土地、後裔和祝福的承諾。","建造金字塔的合約。","只吃蔬菜的法令。"],correctAnswerIndex:1,explanation:"亞伯拉罕之約（創世記 12, 15, 17章）是上帝一個基礎性的應許。這個約的記號是割禮，一個象徵分別為聖的身體標記。這個「分別為聖」的主題是洗禮概念的前身。",journalPrompt:{title:"亞伯拉罕之約",content:"約是神聖的承諾。上帝應許亞伯拉罕土地、無數的後裔，並且萬國都將因他得福。這為上帝與人類持續的關係奠定了基礎。"},deepDive:{title:"聖約神學",content:'在希伯來文中，約是 "berit"。它不僅僅是一份合約；它是一個將兩方連結在一起的莊嚴誓言。古代的約通常包含一個儀式或記號，就像割禮一樣。這種具有約束力的關係性承諾的概念，對於理解後來的聖經主題，包括耶穌所立的新約，至關重要。',sources:[{text:"創世記 17:1-14 (NIV)",url:"https://www.biblegateway.com/passage/?search=Genesis+17&version=NIV"},{text:"早期教父論聖約",url:"#"}]}},{id:"q2",character:"摩西",characterImage:"https://picsum.photos/seed/moses/100",question:"在西奈山，我為以色列領受了律法，其中包含許多涉及水的潔淨禮儀。這些禮儀的主要目的是什麼？",options:["在沙漠的炎熱中降溫。","為年度游泳比賽做準備。","潔淨禮儀上的不潔，以恢復親近上帝的機會。","在節期前洗衣服。"],correctAnswerIndex:2,explanation:"利未記的律法（利未記 11-15章）規定用水洗滌，以潔淨個人的禮儀不潔（例如，接觸屍體或患有皮膚病後）。這不是關於身體的骯髒，而是關於處於聖潔的狀態，以便親近聖潔的上帝。水成為了屬靈潔淨的有力象徵。",journalPrompt:{title:"以水潔淨",content:"賜給摩西的律法教導說，上帝是聖潔的，人們需要被潔淨才能親近祂。水是這種禮儀潔淨的主要方式，象徵著從不潔狀態到潔淨狀態的轉變。"},deepDive:{title:"禮儀潔淨與道德潔淨",content:"區分禮儀上的不潔與罪是很重要的。一個人可能在沒有犯罪的情況下變得禮儀上不潔。這些律法教導以色列一個深刻的功課：親近上帝需要聖潔。後來的先知會強調，內心真正的潔淨比外在的儀式更重要，這是施洗約翰和耶穌將會進一步發展的主題。",sources:[{text:"利未記 15:31 (ESV)",url:"https://www.biblegateway.com/passage/?search=Leviticus+15:31&version=ESV"},{text:"希伯來書 9:13-14 (KJV)",url:"https://www.biblegateway.com/passage/?search=Hebrews+9:13-14&version=KJV"}]}},{id:"q5",character:"以西結",characterImage:"https://picsum.photos/seed/ezekiel/100",question:"在流亡巴比倫期間，我傳達了上帝的一個應許，要賜給祂的子民一顆「新心」和一個「新靈」。這個應許主要意味著什麼？",options:["身體上的心臟移植。","對新音樂風格的欣賞。","一種內在的、屬靈的轉變，使人能夠順服上帝。","學習新語言的能力。"],correctAnswerIndex:2,explanation:"以西結書 36:25-27 是一個關鍵的舊約段落，預言了上帝將要進行的內在潔淨和更新工作。上帝應許要用清水潔淨祂的子民，除去他們的「石心」（硬心），並賜給他們一顆「肉心」（軟心），將祂的靈放在他們裡面。這直接預示了基督教洗禮中所象徵的重生和聖靈的內住。",journalPrompt:{title:"新心的應許",content:"先知以西結預言了一個超越外在儀式的新約。上帝應許要從內心深處改變祂的子民，潔淨他們，並賜給他們祂的靈，使他們能夠遵行祂的道。"},deepDive:{title:"舊約中的重生",content:"雖然「重生」一詞是新約的概念，但其根源深植於舊約的應許中。像以西結書 36 章和耶利米書 31:31-34（關於刻在心版上的新約）這樣的段落，都指向了上帝有一天會對人心進行根本性的工作。這不再僅僅是遵守外在的律法，而是擁有一顆被改變的、渴望順服上帝的心。基督教的洗禮正是這個應許實現的標誌。",sources:[{text:"以西結書 36:25-27 (NIV)",url:"https://www.biblegateway.com/passage/?search=Ezekiel+36:25-27&version=NIV"},{text:"耶利米書 31:31-34 (ESV)",url:"https://www.biblegateway.com/passage/?search=Jeremiah+31:31-34&version=ESV"}]}},{id:"q3",character:"施洗約翰",characterImage:"https://picsum.photos/seed/john/100",question:"我在約旦河為人們施洗。我的洗禮是...",options:["悔改的洗，使罪得赦。","加入當地的釣魚俱樂部。","加入羅馬軍隊的入會儀式。","一個沒有意義的文化傳統。"],correctAnswerIndex:0,explanation:"約翰的洗禮是一個強有力的公開宣告。人們承認自己的罪，並歸向神，為即將到來的彌賽亞做準備。它將舊約中水的潔淨主題與個人悔改的迫切呼籲聯繫起來。",journalPrompt:{title:"悔改的洗禮",content:"施洗約翰是舊約與新約之間的橋樑。他在約旦河的洗禮象徵著遠離罪惡，並為迎接彌賽亞耶穌的到來預備心靈。"},deepDive:{title:"浸禮池（Mikveh）與約翰的洗禮",content:"猶太傳統中已有在「浸禮池」中進行禮儀性浸泡以求潔淨的作法。約翰的洗禮在形式上相似，但其信息卻是激進的，將此儀式應用於全以色列，作為全國悔改的標誌。他宣稱，一位比他更偉大的將要來臨，祂不僅用水施洗，還要用聖靈與火施洗。",sources:[{text:"馬可福音 1:4-8 (NIV)",url:"https://www.biblegateway.com/passage/?search=Mark+1:4-8&version=NIV"},{text:"馬太福音 3:11 (ESV)",url:"https://www.biblegateway.com/passage/?search=Matthew+3:11&version=ESV"}]}},{id:"q4",character:"使徒彼得",characterImage:"https://picsum.photos/seed/peter/100",question:"在五旬節那天，我告訴眾人要「悔改，並受洗」，目的是什麼？",options:["為了得到一頓免費的餐點。","為了在耶路撒冷的陽光下降溫。","為了使你們的罪得赦，並領受所賜的聖靈。","為了登記新社區的人口普查。"],correctAnswerIndex:2,explanation:"彼得在使徒行傳第二章的講道標誌著基督教會的誕生。洗禮現在明確地與信靠耶穌基督、藉祂的死與復活赦免罪惡，以及聖靈的內住聯繫在一起。這是進入新約群體的入會儀式。",journalPrompt:{title:"新約的洗禮",content:"基督教的洗禮，如彼得所傳講的，是救贖歷史的高潮。它結合了聖約（加入神的子民）、潔淨（罪得赦免）和新生命（領受聖靈）的主題。"},deepDive:{title:"洗禮：與基督聯合的象徵",content:"使徒保羅後來解釋說，洗禮是在靈性上與耶穌同死、同埋葬、同復活（羅馬書 6:3-4）。當一個人浸入水中時，象徵著舊我罪性的死亡。從水中出來則象徵著在基督裡復活，得著新生命。這是福音本身一個深刻的畫面。",sources:[{text:"使徒行傳 2:38-39 (KJV)",url:"https://www.biblegateway.com/passage/?search=Acts+2:38-39&version=KJV"},{text:"羅馬書 6:3-4 (NIV)",url:"https://www.biblegateway.com/passage/?search=Romans+6:3-4&version=NIV"},{text:"十二使徒遺訓論洗禮（早期教會文獻）",url:"#"}]}},{id:"q6",character:"使徒保羅",characterImage:"https://picsum.photos/seed/paul/100",question:"我在寫給加拉太教會的信中提到，凡受洗歸入基督的，都是「披戴基督」了。這句話的屬靈含義是什麼？",options:["穿上印有基督形象的特殊服裝。","在上帝眼中，我們的身份完全被基督的義所覆蓋。","加入一個名為「基督」的時尚俱樂部。","在洗禮時得到一件新斗篷。"],correctAnswerIndex:1,explanation:"「披戴基督」（加拉太書 3:27）是一個強有力的比喻。它意味著當我們藉著信靠和洗禮與基督聯合時，上帝看我們就不再是看我們有罪的舊我，而是看到基督的完美和公義。我們的身份從根本上被改變了。我們現在是「在基督裡」，有了一個新的地位和家庭。",journalPrompt:{title:"披戴基督",content:"洗禮不僅是洗去罪惡，也是穿上一個新的身份。使徒保羅教導說，在洗禮中，我們披戴了基督自己。我們的舊身份已經過去，我們現在以上帝兒女的身份活在基督的義中。"},deepDive:{title:"在基督裡的身份",content:"保羅神學的核心是「在基督裡」這個概念。這是一種深刻的屬靈聯合。洗禮是這種聯合的外在標誌。正如羅馬書 6 章所解釋的，我們與基督同死、同埋葬、同復活；正如加拉太書所說，我們披戴了祂。這意味著基督的勝利成為我們的勝利，祂的義成為我們的義，祂與父的關係也成為我們的關係。這徹底改變了基督徒看待自己和生活的方式。",sources:[{text:"加拉太書 3:26-27 (NIV)",url:"https://www.biblegateway.com/passage/?search=Galatians+3:26-27&version=NIV"},{text:"歌羅西書 2:12 (ESV)",url:"https://www.biblegateway.com/passage/?search=Colossians+2:12&version=ESV"}]}},{id:"q7",character:"約書亞",characterImage:"https://picsum.photos/seed/joshua/100",question:"當以色列人過約旦河進入應許之地時，我設立了十二塊石頭作為紀念。這個紀念碑的目的是什麼？",options:["為了建造一個游泳池。","作為後代詢問時的見證，紀念上帝使河水乾涸的神蹟。","為了練習舉重運動。","用來建造約書亞的新房子。"],correctAnswerIndex:1,explanation:"約書亞記4:6-7記載，這十二塊石頭是為了讓後代子孫詢問其意義時，父母可以向他們講述上帝如何停住約旦河水，使以色列人得以過河。這顯示了紀念上帝作為和傳承信仰故事的重要性。",journalPrompt:{title:"紀念石的意義",content:"約書亞設立的紀念石提醒我們，信仰需要被記念和傳承。每一個見證上帝作為的標記，都成為向下一代述說神恩的機會。"},deepDive:{title:"記憶與信仰傳承",content:"舊約中充滿了設立紀念碑的例子，從雅各在伯特利立石，到撒母耳的以便以謝石。這些不僅是歷史記錄，更是信仰教育的工具。它們提醒我們上帝的信實，並為下一代提供詢問和學習的機會。基督教的聖餐也是這種紀念傳統的延續。",sources:[{text:"約書亞記 4:1-9 (NIV)",url:"https://www.biblegateway.com/passage/?search=Joshua+4:1-9&version=NIV"},{text:"申命記 6:20-25 (ESV)",url:"https://www.biblegateway.com/passage/?search=Deuteronomy+6:20-25&version=ESV"}]}},{id:"q8",character:"大衛王",characterImage:"https://picsum.photos/seed/david/100",question:"我在詩篇中寫道：「你當將你的重擔卸給耶和華」。這句話在面對人生困難時給我們什麼啟示？",options:["我們應該把所有的行李都扔掉。","我們可以將憂慮和困難交託給上帝，相信祂會扶持我們。","我們應該搬到別的城市。","我們需要聘請更多的助手。"],correctAnswerIndex:1,explanation:"詩篇55:22教導我們，當面對重壓和困難時，我們可以將這些負擔交託給上帝。大衛作為君王經歷了許多挑戰，他學會了依靠上帝的力量而非自己的能力。這是信靠與交託的功課。",journalPrompt:{title:"交託的智慧",content:"大衛的詩篇教導我們，真正的力量來自於學會交託。當我們將重擔卸給上帝時，我們不是在逃避責任，而是在承認上帝的主權和愛護。"},deepDive:{title:"詩篇中的信靠神學",content:"大衛的詩篇不僅是個人情感的表達，更是深刻的神學反思。從詩篇23篇的牧人形象，到詩篇51篇的悔改，再到詩篇139篇對上帝全知的讚嘆，這些詩篇教導我們如何在各種人生境遇中與上帝建立關係。交託不是被動的放棄，而是主動的信靠。",sources:[{text:"詩篇 55:22 (KJV)",url:"https://www.biblegateway.com/passage/?search=Psalm+55:22&version=KJV"},{text:"彼得前書 5:7 (NIV)",url:"https://www.biblegateway.com/passage/?search=1+Peter+5:7&version=NIV"}]}},{id:"q9",character:"所羅門王",characterImage:"https://picsum.photos/seed/solomon/100",question:"當上帝問我想要什麼時，我沒有求財富或長壽，而是求什麼？",options:["一座更大的宮殿。","智慧來治理神的百姓。","打敗所有敵人的能力。","成為世界上最富有的人。"],correctAnswerIndex:1,explanation:"列王紀上3:9記載，所羅門求上帝賜給他智慧，使他能夠分辨善惡，好治理神的百姓。這個無私的請求讓上帝喜悅，不僅賜給他智慧，也賜給他財富和尊榮。這教導我們優先次序的重要性。",journalPrompt:{title:"智慧的價值",content:"所羅門的選擇提醒我們，真正的智慧比任何物質財富都更寶貴。當我們尋求上帝的智慧時，我們是在尋求按照神的心意生活的能力。"},deepDive:{title:"智慧文學的貢獻",content:"所羅門不僅以智慧統治以色列，他也為我們留下了豐富的智慧文學，包括箴言、傳道書和部分詩篇。這些書卷教導實用的生活智慧，從人際關係到工作倫理，從言語的力量到財富的適當使用。然而，傳道書也提醒我們，即使是最智慧的人也會發現，離開上帝的人生終究是虛空的。",sources:[{text:"列王紀上 3:5-14 (NIV)",url:"https://www.biblegateway.com/passage/?search=1+Kings+3:5-14&version=NIV"},{text:"箴言 9:10 (ESV)",url:"https://www.biblegateway.com/passage/?search=Proverbs+9:10&version=ESV"}]}},{id:"q10",character:"先知以賽亞",characterImage:"https://picsum.photos/seed/isaiah/100",question:"我預言了一位「受苦的僕人」，他將「為我們的過犯受害，為我們的罪孽壓傷」。這個預言指向誰？",options:["巴比倫王尼布甲尼撒。","波斯王居魯士。","彌賽亞耶穌基督。","亞述王撒珥根。"],correctAnswerIndex:2,explanation:"以賽亞書53章是舊約中最明確的彌賽亞預言之一。這位「受苦的僕人」的描述完美地預言了耶穌基督的生平、受死和復活。新約多次引用這段經文來說明耶穌就是應許的彌賽亞。",journalPrompt:{title:"受苦僕人的預言",content:"以賽亞的預言向我們顯示，上帝的救贖計劃從古時就已經確定。彌賽亞不是以征服者的身份來臨，而是以受苦僕人的身份，透過犧牲來拯救世人。"},deepDive:{title:"彌賽亞預言的應驗",content:"以賽亞書53章被稱為「舊約的福音」，因為它如此詳細地預言了彌賽亞的受苦、死亡和勝利。從「他誠然擔當我們的憂患」到「因他受的刑罰我們得平安」，每一個細節都在耶穌身上得到應驗。這種跨越數百年的預言應驗，是聖經神聖啟示的有力證據，也讓我們看見上帝救贖計劃的深度和廣度。",sources:[{text:"以賽亞書 53:3-12 (NIV)",url:"https://www.biblegateway.com/passage/?search=Isaiah+53:3-12&version=NIV"},{text:"使徒行傳 8:32-35 (ESV)",url:"https://www.biblegateway.com/passage/?search=Acts+8:32-35&version=ESV"}]}},{id:"q11",character:"但以理",characterImage:"https://picsum.photos/seed/daniel/100",question:"在巴比倫的宮廷中，我和我的朋友決定不吃王的膳和王所飲的酒。我們這樣做的主要原因是什麼？",options:["因為我們正在節食減肥。","因為食物味道不好。","為了持守我們對上帝的信仰和律法的要求。","因為我們想要與眾不同。"],correctAnswerIndex:2,explanation:"但以理書1:8記載，但以理立志不以王的膳和王所飲的酒玷污自己。這可能涉及食物是否潔淨、是否獻給偶像等律法問題。但以理在異邦環境中持守信仰，展現了在壓力下保持屬靈忠誠的勇氣。",journalPrompt:{title:"在異地持守信仰",content:"但以理的故事提醒我們，無論在什麼環境中，我們都可以選擇忠於上帝。即使在不友善的環境中，堅持正確的原則往往會得到意想不到的祝福。"},deepDive:{title:"流亡中的見證",content:"但以理和他朋友們的故事展示了如何在世俗環境中活出信仰。他們沒有逃避世界，而是在世界中成為光鹽。從拒食王膳到火窯中的拯救，從夢的解釋到獅子坑的神蹟，這些故事都說明了一個原則：當我們忠於上帝時，上帝必定忠於我們。他們的見證影響了外邦君王，展現了信仰的轉化力量。",sources:[{text:"但以理書 1:8-16 (NIV)",url:"https://www.biblegateway.com/passage/?search=Daniel+1:8-16&version=NIV"},{text:"但以理書 3:16-18 (ESV)",url:"https://www.biblegateway.com/passage/?search=Daniel+3:16-18&version=ESV"}]}},{id:"q12",character:"耶穌基督",characterImage:"https://picsum.photos/seed/jesus/100",question:"我在登山寶訓中說：「虛心的人有福了」。這裡的「虛心」指的是什麼？",options:["心情不好的人。","沒有自信的人。","認識自己靈性貧乏，需要上帝的人。","很少說話的人。"],correctAnswerIndex:2,explanation:"馬太福音5:3中的「虛心」在原文中是「靈裡貧窮」的意思。這不是指物質的貧窮，而是指認識到自己在屬靈上的需要，承認離開上帝就一無所有。這種謙卑的態度是天國子民的第一個特質。",journalPrompt:{title:"靈裡的貧窮",content:"耶穌的八福始於靈裡的貧窮，這提醒我們，進入天國的第一步是認識自己的需要。當我們承認自己的有限和罪性時，我們就為接受上帝的恩典預備了心。"},deepDive:{title:"天國的價值觀",content:"登山寶訓中的八福完全顛覆了世界的價值觀。世界說強者有福，耶穌說虛心的人有福；世界說富足的人有福，耶穌說哀慟的人有福。這些教導不是消極的人生哲學，而是天國的積極價值觀。它們描述了一種新的生活方式，這種生活方式建立在對上帝的信靠和對他人的愛上。",sources:[{text:"馬太福音 5:3-12 (NIV)",url:"https://www.biblegateway.com/passage/?search=Matthew+5:3-12&version=NIV"},{text:"路加福音 6:20-26 (ESV)",url:"https://www.biblegateway.com/passage/?search=Luke+6:20-26&version=ESV"}]}},{id:"q13",character:"稅吏撒該",characterImage:"https://picsum.photos/seed/zacchaeus/100",question:"當耶穌來到我家後，我做了什麼來表示真正的悔改？",options:["我辭去了稅吏的工作。","我把財產的一半給窮人，並四倍償還我所虧欠的。","我搬到了另一個城市。","我建造了一座新的會堂。"],correctAnswerIndex:1,explanation:"路加福音19:8記載，撒該對主說：「主啊，我把所有的一半給窮人；我若訛詐了誰，就還他四倍。」這不僅是口頭的悔改，更是實際的行動，顯示了真正悔改會帶來生活方式的改變。",journalPrompt:{title:"悔改的果子",content:"撒該的故事告訴我們，真正的悔改不只是內心的改變，還會表現在外在的行動上。當我們真正遇見耶穌時，我們的價值觀和行為都會被轉化。"},deepDive:{title:"救恩與社會公義",content:"撒該的故事美妙地結合了個人救恩與社會公義。他沒有只是獲得心靈的平安就滿足了，而是主動去修復他過去的錯誤行為對他人造成的傷害。這顯示真正的福音是整全的，它不僅拯救靈魂，也轉化我們對財富、權力和關係的態度。撒該的行動回應了舊約中關於公義和憐憫的教導。",sources:[{text:"路加福音 19:1-10 (NIV)",url:"https://www.biblegateway.com/passage/?search=Luke+19:1-10&version=NIV"},{text:"以西結書 33:14-16 (ESV)",url:"https://www.biblegateway.com/passage/?search=Ezekiel+33:14-16&version=ESV"}]}},{id:"q14",character:"使徒約翰",characterImage:"https://picsum.photos/seed/johnapostle/100",question:"我在約翰福音中記錄了耶穌說的「我就是道路、真理、生命」。這句話的核心信息是什麼？",options:["耶穌是一位偉大的哲學老師。","耶穌是通往父神的唯一道路。","耶穌是最好的旅行嚮導。","耶穌知道很多道理。"],correctAnswerIndex:1,explanation:"約翰福音14:6完整地記錄了耶穌的話：「我就是道路、真理、生命；若不藉著我，沒有人能到父那裡去。」這是基督教信仰的核心宣告，說明耶穌不只是眾多宗教領袖中的一位，而是神與人之間唯一的中保。",journalPrompt:{title:"基督的獨特性",content:"約翰記錄的這句話挑戰我們思考耶穌的身份。祂不是說祂知道道路，而是說祂就是道路。這種排他性的宣告要求我們做出回應：接受或拒絕。"},deepDive:{title:"約翰福音中的「我是」宣告",content:"約翰福音記錄了耶穌的七個「我是」宣告：生命的糧、世界的光、羊的門、好牧人、復活和生命、道路真理生命、真葡萄樹。這些宣告都使用了舊約中上帝自我啟示的「我是」格式（如出埃及記3:14），暗示耶穌的神性。每個宣告都不只是比喻，而是關於耶穌本質的深刻神學陳述。",sources:[{text:"約翰福音 14:6 (NIV)",url:"https://www.biblegateway.com/passage/?search=John+14:6&version=NIV"},{text:"使徒行傳 4:12 (ESV)",url:"https://www.biblegateway.com/passage/?search=Acts+4:12&version=ESV"}]}},{id:"q15",character:"馬大",characterImage:"https://picsum.photos/seed/martha/100",question:"當我忙於服事而抱怨妹妹馬利亞時，耶穌對我說了什麼？",options:["妳應該雇用更多的僕人。","馬利亞選擇了那上好的福分，是不能奪去的。","妳們兩個都應該去廚房幫忙。","不用準備這麼豐盛的餐點。"],correctAnswerIndex:1,explanation:"路加福音10:42記錄了耶穌的回答：「但是不可少的只有一件；馬利亞已經選擇那上好的福分，是不能奪去的。」耶穌不是批評服事，而是強調靈性追求的優先性和聆聽神話語的重要性。",journalPrompt:{title:"服事與敬拜的平衡",content:"馬大的故事提醒我們，即使是為主做工，也不能取代與主親近的時間。服事很重要，但如果失去了敬拜和聆聽的心，服事也會成為空虛的忙碌。"},deepDive:{title:"行動與默想的整合",content:"馬大和馬利亞的故事常被解讀為行動與默想、服事與敬拜之間的對比。然而，更深層的信息是關於動機和優先次序。馬大的服事本身是好的，但當她讓焦慮和怨恨進入心中時，服事就失去了愛的本質。真正的基督徒生活需要整合馬利亞的聆聽心和馬大的服事手，但都必須源於對基督的愛。",sources:[{text:"路加福音 10:38-42 (NIV)",url:"https://www.biblegateway.com/passage/?search=Luke+10:38-42&version=NIV"},{text:"詩篇 46:10 (ESV)",url:"https://www.biblegateway.com/passage/?search=Psalm+46:10&version=ESV"}]}},{id:"q16",character:"夏娃",characterImage:"https://picsum.photos/seed/eve/100",question:"在伊甸園中，蛇引誘我吃分別善惡樹的果子時，用了什麼論點？",options:["果子看起來很美味。","吃了就能像神一樣知道善惡。","所有動物都在吃這個果子。","上帝只是在開玩笑。"],correctAnswerIndex:1,explanation:"創世記3:5記載，蛇對夏娃說：「因為神知道，你們吃的日子眼睛就明亮了，你們便如神能知道善惡。」這個試探的核心是要人類追求獨立於上帝的知識和判斷力，想要「像神一樣」。",journalPrompt:{title:"第一次試探",content:"夏娃面對的試探揭示了罪的本質：不相信上帝的良善，渴望自主權，想要成為自己的神。這個模式在人類歷史中不斷重複。"},deepDive:{title:"罪的起源與本質",content:"蛇的試探包含三個元素：懷疑神的話（「神豈是真說...？」）、否認後果（「你們不一定死」）、和應許錯誤的好處（「像神一樣」）。這種試探模式在整本聖經中反覆出現，甚至耶穌在曠野受試探時也面對類似的模式。理解罪的本質幫助我們識別和抵擋現代的試探。",sources:[{text:"創世記 3:1-6 (NIV)",url:"https://www.biblegateway.com/passage/?search=Genesis+3:1-6&version=NIV"},{text:"約翰一書 2:16 (ESV)",url:"https://www.biblegateway.com/passage/?search=1+John+2:16&version=ESV"}]}},{id:"q17",character:"挪亞",characterImage:"https://picsum.photos/seed/noah/100",question:"當上帝吩咐我建造方舟時，洪水還要多久才來臨？",options:["立即就來。","大約120年後。","一個月後。","明天。"],correctAnswerIndex:1,explanation:"根據創世記6:3和後續經文的推算，從上帝宣告審判到洪水來臨，大約經過了120年。在這段漫長的時間裡，挪亞一邊建造方舟，一邊向世人傳講悔改的信息。",journalPrompt:{title:"忍耐的信心",content:"挪亞花了超過一個世紀建造方舟，在這期間必定經歷許多嘲笑和質疑。他的故事教導我們，真實的信心需要長期的堅持和順服。"},deepDive:{title:"上帝的忍耐與人的回應",content:"120年的準備期顯示了上帝極大的忍耐和給人悔改機會的心意。彼得後書2:5稱挪亞為「傳義道的人」，表明他不只是默默建造方舟，更積極呼籲人悔改。然而，只有他的家人回應了。這提醒我們，即使面對長期的拒絕，我們仍要忠心傳講真理。",sources:[{text:"創世記 6:3-22 (NIV)",url:"https://www.biblegateway.com/passage/?search=Genesis+6:3-22&version=NIV"},{text:"彼得後書 2:5 (ESV)",url:"https://www.biblegateway.com/passage/?search=2+Peter+2:5&version=ESV"}]}},{id:"q18",character:"約瑟",characterImage:"https://picsum.photos/seed/joseph/100",question:"當我在埃及成為宰相後，我對賣我為奴的哥哥們說了什麼？",options:["你們要為此付出代價！","從前你們的意思是要害我，但神的意思原是好的。","我再也不想見到你們。","這都是你們應得的。"],correctAnswerIndex:1,explanation:"創世記50:20記載，約瑟對哥哥們說：「從前你們的意思是要害我，但神的意思原是好的，要保全許多人的性命，成就今日的光景。」這顯示了約瑟對神主權的信心和寬恕的心。",journalPrompt:{title:"神的主權與人的選擇",content:"約瑟的故事展現了一個深刻的真理：人的惡意無法阻擋神的美意。神能使用甚至是不公義的事件來成就祂更大的計劃。"},deepDive:{title:"苦難中的信心",content:"約瑟經歷了被兄弟出賣、被誣告下監、被遺忘等一連串的不公。但他從未放棄對神的信心。他的故事預表了基督：被自己人拒絕，經歷苦難，最終成為拯救者。約瑟的寬恕也教導我們，真正的饒恕來自於認識到神的主權和計劃。",sources:[{text:"創世記 50:15-21 (NIV)",url:"https://www.biblegateway.com/passage/?search=Genesis+50:15-21&version=NIV"},{text:"羅馬書 8:28 (ESV)",url:"https://www.biblegateway.com/passage/?search=Romans+8:28&version=ESV"}]}},{id:"q19",character:"米利暗",characterImage:"https://picsum.photos/seed/miriam/100",question:"當以色列人過紅海後，我做了什麼來慶祝？",options:["準備了一場盛宴。","拿著鼓跳舞唱歌讚美神。","立刻倒頭就睡。","開始抱怨食物不足。"],correctAnswerIndex:1,explanation:"出埃及記15:20-21記載，女先知米利暗拿著鼓，眾婦女也跟著出去拿鼓跳舞。她唱道：「你們要歌頌耶和華，因他大大戰勝，將馬和騎馬的投在海中。」這是聖經中最早記載的敬拜讚美場景之一。",journalPrompt:{title:"喜樂的敬拜",content:"米利暗帶領婦女們用音樂、舞蹈和歌聲讚美神，展現了敬拜可以是充滿喜樂和表達力的。當神行奇事時，我們的回應應該是真誠的讚美。"},deepDive:{title:"女性在聖經中的領導角色",content:"米利暗被稱為「女先知」，與摩西和亞倫一起被列為以色列的領袖（彌迦書6:4）。她在敬拜中的領導顯示了女性在神國度工作中的重要角色。然而，她後來因為驕傲而受到管教（民數記12章），提醒我們領導權柄來自神，必須謙卑使用。",sources:[{text:"出埃及記 15:20-21 (NIV)",url:"https://www.biblegateway.com/passage/?search=Exodus+15:20-21&version=NIV"},{text:"彌迦書 6:4 (ESV)",url:"https://www.biblegateway.com/passage/?search=Micah+6:4&version=ESV"}]}},{id:"q20",character:"迦勒",characterImage:"https://picsum.photos/seed/caleb/100",question:"當十二個探子窺探迦南地回來後，我和約書亞說了什麼？",options:["那地的人太強大了，我們無法征服。","我們立刻上去得那地吧！我們足能得勝。","我們應該回埃及。","讓我們先訓練軍隊十年。"],correctAnswerIndex:1,explanation:"民數記13:30記載，迦勒在摩西面前安撫百姓說：「我們立刻上去得那地吧！我們足能得勝。」雖然其他十個探子報惡信，只有迦勒和約書亞相信神的應許。",journalPrompt:{title:"信心勝過恐懼",content:"迦勒看到了與其他探子相同的巨人和堅固城牆，但他的信心使他看見更大的真理：神與他們同在。真實的信心不是否認困難，而是相信神比困難更大。"},deepDive:{title:"專心跟從神",content:"聖經多次描述迦勒「專心跟從耶和華」（民數記32:12）。即使在85歲高齡，他仍然充滿活力和信心，要求得那有巨人居住的希伯崙山地（約書亞記14:10-12）。迦勒的一生教導我們，忠心跟從神會帶來長久的祝福，而信心不因年齡而減退。",sources:[{text:"民數記 13:26-33; 14:6-9 (NIV)",url:"https://www.biblegateway.com/passage/?search=Numbers+13:26-33;14:6-9&version=NIV"},{text:"約書亞記 14:6-15 (ESV)",url:"https://www.biblegateway.com/passage/?search=Joshua+14:6-15&version=ESV"}]}},{id:"q21",character:"路得",characterImage:"https://picsum.photos/seed/ruth/100",question:"當我的婆婆拿俄米要我回摩押老家時，我對她說了什麼？",options:["好的，我現在就走。","妳往哪裡去，我也往那裡去；妳的神就是我的神。","讓我考慮一下。","我需要先回去看看我的家人。"],correctAnswerIndex:1,explanation:"路得記1:16-17記錄了路得美麗的承諾：「妳往哪裡去，我也往那裡去；妳在哪裡住宿，我也在那裡住宿；妳的國就是我的國，妳的神就是我的神。妳在哪裡死，我也在那裡死，也葬在那裡。」",journalPrompt:{title:"忠誠的愛",content:"路得對拿俄米的忠誠，以及她對以色列神的委身，展現了真實的愛與信心。她選擇離開自己的家鄉和神明，跟隨看似沒有前途的婆婆和未知的神。"},deepDive:{title:"外邦人與救贖",content:"路得是摩押人，按照律法本不應該進入以色列會眾。但她的信心和忠誠使她不僅被接納，更成為大衛王的曾祖母，進入了彌賽亞的家譜。她的故事預示了福音將臨到萬國，以及外邦人因信得救的真理。路得記也展現了「救贖者」（goel）的概念，預表基督的救贖工作。",sources:[{text:"路得記 1:16-18 (NIV)",url:"https://www.biblegateway.com/passage/?search=Ruth+1:16-18&version=NIV"},{text:"馬太福音 1:5 (ESV)",url:"https://www.biblegateway.com/passage/?search=Matthew+1:5&version=ESV"}]}},{id:"q22",character:"撒母耳",characterImage:"https://picsum.photos/seed/samuel/100",question:"當我還是小孩子在會幕服事時，夜裡聽見有聲音叫我的名字。那是誰？",options:["祭司以利。","我的母親哈拿。","耶和華神。","我在做夢。"],correctAnswerIndex:2,explanation:"撒母耳記上3章記載，神三次呼喚小撒母耳的名字。起初他以為是以利叫他，但以利指示他說：「你去睡吧，若再呼喚你，你就說：『耶和華啊，請說，僕人敬聽！』」這是撒母耳第一次聽見神的聲音。",journalPrompt:{title:"聆聽神的聲音",content:"撒母耳學會了如何辨認和回應神的聲音。他的態度「請說，僕人敬聽」成為我們與神關係的典範：願意聆聽，準備順服。"},deepDive:{title:"先知的呼召",content:"撒母耳的呼召發生在「耶和華的言語稀少，不常有默示」的時代（撒上3:1）。這提醒我們，即使在屬靈荒涼的時期，神仍在尋找願意聆聽和順服的人。撒母耳後來成為以色列歷史上最偉大的先知之一，膏立了掃羅和大衛兩位王。他的一生展現了忠心聆聽神話語的重要性。",sources:[{text:"撒母耳記上 3:1-21 (NIV)",url:"https://www.biblegateway.com/passage/?search=1+Samuel+3:1-21&version=NIV"},{text:"希伯來書 3:7-8 (ESV)",url:"https://www.biblegateway.com/passage/?search=Hebrews+3:7-8&version=ESV"}]}},{id:"q23",character:"拔示巴",characterImage:"https://picsum.photos/seed/bathsheba/100",question:"我的兒子所羅門能繼承大衛的王位，主要是因為什麼？",options:["他是長子。","他在武術比賽中獲勝。","上帝應許他要作王，大衛也確認了這應許。","他賄賂了所有的大臣。"],correctAnswerIndex:2,explanation:"列王紀上1章記載，當大衛年老時，拔示巴提醒大衛曾指著神起誓說所羅門必接續他作王。先知拿單也證實了這事。這是神的揀選，而非人為的安排。",journalPrompt:{title:"從罪到救贖",content:"拔示巴的故事以大衛的罪開始，但神的恩典使她成為所羅門的母親，甚至進入彌賽亞的家譜。這顯示神能使用破碎的生命成就祂的計劃。"},deepDive:{title:"恩典與主權",content:"拔示巴在馬太福音家譜中被特別提及，這是不尋常的。她的包含提醒我們，神的恩典超越人的過犯。雖然大衛與拔示巴的關係始於罪，但神仍然揀選他們的兒子所羅門繼承王位。這不是縱容罪，而是展現神能在人的軟弱中彰顯祂的憐憫和主權。",sources:[{text:"列王紀上 1:11-31 (NIV)",url:"https://www.biblegateway.com/passage/?search=1+Kings+1:11-31&version=NIV"},{text:"馬太福音 1:6 (ESV)",url:"https://www.biblegateway.com/passage/?search=Matthew+1:6&version=ESV"}]}},{id:"q24",character:"以利亞",characterImage:"https://picsum.photos/seed/elijah/100",question:"在迦密山上，我與巴力的先知對決。我向神禱告後發生了什麼？",options:["下了三天三夜的雨。","火從天降，燒盡了祭物、木柴、石頭和水。","巴力的先知自願認輸。","什麼都沒發生。"],correctAnswerIndex:1,explanation:"列王紀上18:38記載：「於是耶和華降下火來，燒盡燔祭、木柴、石頭、塵土，又燒乾溝裡的水。」這個神蹟證明了耶和華是真神，導致百姓俯伏敬拜說：「耶和華是神！耶和華是神！」",journalPrompt:{title:"單獨面對眾人",content:"以利亞一人對抗450個巴力先知和400個亞舍拉先知，展現了對真神的堅定信心。有時候，忠於神的道路是孤獨的，但神必定顯明真理。"},deepDive:{title:"屬靈爭戰的真實性",content:"迦密山的對決不只是先知之間的比賽，而是真假神明之間的較量。以利亞甚至在祭壇周圍挖溝，三次倒水，使神蹟更加明顯。這個事件後，以利亞卻因耶洗別的威脅而逃跑，顯示即使是屬靈偉人也會經歷軟弱。神在何烈山以微小的聲音對他說話，教導我們神的同在不總是在戲劇性的事件中。",sources:[{text:"列王紀上 18:20-40 (NIV)",url:"https://www.biblegateway.com/passage/?search=1+Kings+18:20-40&version=NIV"},{text:"列王紀上 19:11-13 (ESV)",url:"https://www.biblegateway.com/passage/?search=1+Kings+19:11-13&version=ESV"}]}},{id:"q25",character:"以利沙",characterImage:"https://picsum.photos/seed/elisha/100",question:"當敘利亞元帥乃縵來找我治療大痲瘋時，我叫他做什麼？",options:["支付大筆金錢。","在約旦河沐浴七次。","獻上一百隻羊。","回家等三天。"],correctAnswerIndex:1,explanation:"列王紀下5:10記載，以利沙打發一個使者對乃縵說：「你去在約旦河中沐浴七回，你的肉就必復原，而得潔淨。」起初乃縵因為這個簡單的命令而生氣，但當他順服時，就得了醫治。",journalPrompt:{title:"謙卑的順服",content:"乃縵必須放下身為大元帥的驕傲，接受看似簡單甚至侮辱的醫治方法。神的道路有時與我們的期待不同，但順服就帶來祝福。"},deepDive:{title:"得救在乎歸回安息",content:"乃縵期待先知會出來行大事，但以利沙連面都不露，只給了一個簡單的指示。這挑戰了乃縵的驕傲和對神蹟的期待。同樣，許多人期待複雜的宗教儀式或偉大的善行才能得救，但福音的呼召是簡單的：相信和悔改。乃縵的醫治也預表外邦人將藉信心得救（路加福音4:27）。",sources:[{text:"列王紀下 5:1-19 (NIV)",url:"https://www.biblegateway.com/passage/?search=2+Kings+5:1-19&version=NIV"},{text:"路加福音 4:27 (ESV)",url:"https://www.biblegateway.com/passage/?search=Luke+4:27&version=ESV"}]}},{id:"q26",character:"約伯",characterImage:"https://picsum.photos/seed/job/100",question:"在失去一切之後，我對神的回應是什麼？",options:["我詛咒神並離棄祂。","賞賜的是耶和華，收取的也是耶和華，耶和華的名是應當稱頌的。","我要找律師控告神。","從此再也不相信神。"],correctAnswerIndex:1,explanation:"約伯記1:21-22記載，約伯失去所有財產和兒女後，說：「我赤身出於母胎，也必赤身歸回。賞賜的是耶和華，收取的也是耶和華，耶和華的名是應當稱頌的。」在這一切的事上，約伯並不犯罪，也不以神為愚妄。",journalPrompt:{title:"苦難中的信心",content:"約伯的故事挑戰我們：當生命崩潰時，我們如何回應？約伯展現了即使在極度痛苦中，仍能持守對神的信心和敬拜。"},deepDive:{title:"苦難的奧秘",content:"約伯記探討了一個深刻的問題：為什麼義人受苦？約伯的朋友們試圖用「報應神學」解釋，認為苦難必定是罪的結果。但神最後顯明，祂的道路高過人的道路。苦難不總能被簡單解釋，但神仍是主權者。約伯最終看見神自己，這比得到答案更重要（約伯記42:5）。",sources:[{text:"約伯記 1:13-22 (NIV)",url:"https://www.biblegateway.com/passage/?search=Job+1:13-22&version=NIV"},{text:"約伯記 42:1-6 (ESV)",url:"https://www.biblegateway.com/passage/?search=Job+42:1-6&version=ESV"}]}},{id:"q27",character:"耶利米",characterImage:"https://picsum.photos/seed/jeremiah/100",question:"神呼召我作先知時，我的回應是什麼？",options:["我立刻答應。","主啊，我不知怎樣說，因為我是年幼的。","我去找別人來做這工作。","我要求先考慮三天。"],correctAnswerIndex:1,explanation:"耶利米書1:6記載，耶利米對神說：「主耶和華啊，我不知怎樣說，因為我是年幼的。」但神回應說：「你不要說我是年幼的，因為我差遣你到誰那裡去，你都要去；我吩咐你說什麼話，你都要說。」",journalPrompt:{title:"不足感與神的呼召",content:"耶利米感到自己不夠資格，但神的呼召不是基於我們的能力，而是基於祂的揀選和同在。神應許：「我與你同在，要拯救你。」"},deepDive:{title:"流淚的先知",content:"耶利米被稱為「流淚的先知」，因為他預言耶路撒冷將被毀，但百姓不聽。他經歷了監禁、嘲笑和孤立，但仍忠心傳講神的話語。耶利米的事工提醒我們，成功的事奉不是以世人的回應來衡量，而是以對神的忠心來衡量。他的痛苦也預表了基督，為耶路撒冷哀哭。",sources:[{text:"耶利米書 1:4-10 (NIV)",url:"https://www.biblegateway.com/passage/?search=Jeremiah+1:4-10&version=NIV"},{text:"耶利米書 20:7-9 (ESV)",url:"https://www.biblegateway.com/passage/?search=Jeremiah+20:7-9&version=ESV"}]}},{id:"q28",character:"尼希米",characterImage:"https://picsum.photos/seed/nehemiah/100",question:"當我聽說耶路撒冷城牆破損、城門被火焚燒時，我做了什麼？",options:["我忽視這個消息。","我坐下哭泣、禁食禱告神。","我立刻辭職回耶路撒冷。","我寫信責備那些住在耶路撒冷的人。"],correctAnswerIndex:1,explanation:"尼希米記1:4記載：「我聽見這話，就坐下哭泣，悲哀幾日，在天上的神面前禁食祈禱。」尼希米的第一反應不是立即行動，而是帶著破碎的心轉向神。",journalPrompt:{title:"禱告與行動",content:"尼希米的例子展示了禱告與行動的完美結合。他先在神面前傾心吐意，然後在神的引導下採取大膽的行動，最終帶領百姓在52天內重建城牆。"},deepDive:{title:"屬靈復興與物質重建",content:"尼希米不僅重建了城牆，更重要的是他與以斯拉一起帶領屬靈復興。城牆的重建是外在的，但真正的目標是恢復百姓與神的關係。尼希米面對內外的反對，但他的禱告、勇氣和組織能力使這不可能的任務成為可能。他展現了敬虔的領導如何影響整個社群。",sources:[{text:"尼希米記 1:1-11 (NIV)",url:"https://www.biblegateway.com/passage/?search=Nehemiah+1:1-11&version=NIV"},{text:"尼希米記 6:15-16 (ESV)",url:"https://www.biblegateway.com/passage/?search=Nehemiah+6:15-16&version=ESV"}]}},{id:"q29",character:"以斯帖",characterImage:"https://picsum.photos/seed/esther/100",question:"當我需要違背律法去見王以拯救猶太人時，我說了什麼？",options:["這太危險了，我不能做。","我要等到王主動召見我。","我若死就死吧！","讓末底改自己去處理。"],correctAnswerIndex:2,explanation:"以斯帖記4:16記載，以斯帖請求末底改招聚所有猶太人為她禁食三天，然後說：「我若死就死吧！」她願意冒生命危險去拯救她的百姓。",journalPrompt:{title:"為此時而生",content:"末底改對以斯帖說：「焉知你得了王后的位分，不是為現今的機會嗎？」神將我們放在特定的位置，是為了祂的目的。勇氣就是即使害怕，仍然選擇正確的行動。"},deepDive:{title:"隱藏的護理",content:"以斯帖記是聖經中唯一沒有直接提到神名字的書卷，但神的作為卻清晰可見。從以斯帖被選為王后，到王失眠讀歷史，到哈曼的計謀被揭露，每個「巧合」都顯示神在背後的護理。這教導我們，即使在神似乎缺席的時候，祂仍在掌權。以斯帖的故事也啟發了猶太人的普珥節。",sources:[{text:"以斯帖記 4:12-17 (NIV)",url:"https://www.biblegateway.com/passage/?search=Esther+4:12-17&version=NIV"},{text:"以斯帖記 6:1-11 (ESV)",url:"https://www.biblegateway.com/passage/?search=Esther+6:1-11&version=ESV"}]}},{id:"q30",character:"施洗約翰的母親以利沙伯",characterImage:"https://picsum.photos/seed/elizabeth/100",question:"當馬利亞來探訪我時，發生了什麼事？",options:["我們一起做飯。","我腹中的胎兒跳動，我被聖靈充滿。","我們討論天氣。","什麼特別的事都沒發生。"],correctAnswerIndex:1,explanation:"路加福音1:41記載：「以利沙伯一聽馬利亞問安，所懷的胎就在腹裡跳動。以利沙伯且被聖靈充滿。」她大聲喊著說：「你在婦女中是有福的，你所懷的胎也是有福的！」",journalPrompt:{title:"認出救主",content:"甚至在約翰出生前，他就在母腹中因彌賽亞的臨在而跳動。以利沙伯被聖靈充滿，認出馬利亞所懷的是主。真實的屬靈敏銳使我們能認出神的工作。"},deepDive:{title:"兩個奇蹟的誕生",content:"以利沙伯和撒迦利亞年老無子，如同亞伯拉罕和撒拉。約翰的出生本身就是神蹟，預備人心迎接更大的神蹟——基督的降生。以利沙伯稱馬利亞為「我主的母親」，這是新約中第一次有人認出耶穌的神性。兩個女人的對話和馬利亞的頌歌（尊主頌）充滿了舊約的引用，顯示神如何成就祂古老的應許。",sources:[{text:"路加福音 1:39-45 (NIV)",url:"https://www.biblegateway.com/passage/?search=Luke+1:39-45&version=NIV"},{text:"路加福音 1:46-55 (ESV)",url:"https://www.biblegateway.com/passage/?search=Luke+1:46-55&version=ESV"}]}},{id:"q31",character:"智慧人（東方博士）",characterImage:"https://picsum.photos/seed/wisemen/100",question:"我們從東方來到耶路撒冷尋找新生王時，獻上了什麼禮物？",options:["金、銀、寶石。","黃金、乳香、沒藥。","食物、衣服、玩具。","書籍、地圖、武器。"],correctAnswerIndex:1,explanation:"馬太福音2:11記載：「進了房子，看見小孩子和他母親馬利亞，就俯伏拜那小孩子，揭開寶盒，拿黃金、乳香、沒藥為禮物獻給他。」這三樣禮物都有深刻的象徵意義。",journalPrompt:{title:"尋求並敬拜",content:"智慧人不辭辛勞地尋找新生王，並獻上最珍貴的禮物。真正的敬拜需要尋求、付出代價，並獻上我們最好的。"},deepDive:{title:"禮物的象徵意義",content:"傳統上，這三樣禮物被賦予象徵意義：黃金代表王權，乳香代表神性（用於敬拜），沒藥代表受苦和死亡（用於安葬）。這些外邦的智慧人認出了猶太人的王，預示福音將傳給萬邦。希律王和耶路撒冷全城的驚慌，對比智慧人的喜樂，顯示人們對彌賽亞的不同反應。",sources:[{text:"馬太福音 2:1-12 (NIV)",url:"https://www.biblegateway.com/passage/?search=Matthew+2:1-12&version=NIV"},{text:"詩篇 72:10-11 (ESV)",url:"https://www.biblegateway.com/passage/?search=Psalm+72:10-11&version=ESV"}]}},{id:"q32",character:"尼哥底母",characterImage:"https://picsum.photos/seed/nicodemus/100",question:"我夜裡來見耶穌時，祂對我說必須怎樣才能見神的國？",options:["必須嚴格遵守所有律法。","必須重生。","必須奉獻所有財產。","必須成為法利賽人。"],correctAnswerIndex:1,explanation:"約翰福音3:3記載，耶穌回答說：「我實實在在地告訴你，人若不重生，就不能見神的國。」這個宣告震撼了尼哥底母，引發了關於屬靈重生的深刻對話。",journalPrompt:{title:"重生的必要",content:"耶穌告訴這位宗教領袖，他需要的不是更多的宗教知識或更好的行為，而是全新的屬靈生命。重生不是我們能做的，而是聖靈的工作。"},deepDive:{title:"從黑夜到光明",content:"尼哥底母「夜裡」來見耶穌，可能是害怕被人看見，但也象徵他屬靈的黑暗。約翰福音三次提到尼哥底母：夜裡的造訪、在公會中為耶穌辯護、以及在耶穌死後與約瑟一起埋葬耶穌。這個進程顯示他從隱密的尋求者變為公開的跟隨者。重生的教導是福音的核心：不是靠行為，而是靠聖靈的更新。",sources:[{text:"約翰福音 3:1-21 (NIV)",url:"https://www.biblegateway.com/passage/?search=John+3:1-21&version=NIV"},{text:"約翰福音 19:38-42 (ESV)",url:"https://www.biblegateway.com/passage/?search=John+19:38-42&version=ESV"}]}},{id:"q33",character:"撒瑪利亞婦人",characterImage:"https://picsum.photos/seed/samaritan/100",question:"當耶穌在井邊向我要水喝時，祂說祂能給我什麼？",options:["一口新井。","活水，使人永遠不渴。","一個新水罐。","往耶路撒冷的地圖。"],correctAnswerIndex:1,explanation:"約翰福音4:13-14記載，耶穌回答說：「凡喝這水的還要再渴；人若喝我所賜的水就永遠不渴。我所賜的水要在他裡頭成為泉源，直湧到永生。」",journalPrompt:{title:"永生的泉源",content:"我們都在尋找能滿足心靈乾渴的東西。耶穌提供的不是暫時的滿足，而是永恆的生命之水。只有祂能真正滿足人心最深的渴望。"},deepDive:{title:"跨越文化的福音",content:"這個對話打破了多重界限：耶穌與撒瑪利亞人對話（猶太人所輕視的）、與女人單獨對話（不符合當時習俗）、與有道德問題的人對話（她有五個丈夫）。耶穌不僅沒有迴避她，反而向她啟示祂是彌賽亞。這個婦人成為第一位撒瑪利亞的宣教士，全城的人因她的見證來信耶穌。這顯示福音超越所有社會和文化障礙。",sources:[{text:"約翰福音 4:4-42 (NIV)",url:"https://www.biblegateway.com/passage/?search=John+4:4-42&version=NIV"},{text:"以賽亞書 55:1 (ESV)",url:"https://www.biblegateway.com/passage/?search=Isaiah+55:1&version=ESV"}]}},{id:"q34",character:"百夫長",characterImage:"https://picsum.photos/seed/centurion/100",question:"當耶穌要到我家醫治我的僕人時，我對祂說了什麼？",options:["請立刻到我家來。","我不敢當，只要你說一句話，我的僕人就必好了。","我需要你來按手在他身上。","我要先支付醫療費用。"],correctAnswerIndex:1,explanation:"馬太福音8:8記載，百夫長回答說：「主啊，你到我舍下，我不敢當；只要你說一句話，我的僕人就必好了。」耶穌聽見就希奇，說：「我實在告訴你們，這麼大的信心，就是在以色列中，我也沒有遇見過。」",journalPrompt:{title:"權柄的認識",content:"百夫長認識權柄的運作，因此明白耶穌的話語本身就帶有醫治的能力。真實的信心不是看見才信，而是相信神的話語必定成就。"},deepDive:{title:"外邦人的信心",content:"這位羅馬軍官展現了超越許多猶太人的信心。他不僅關心他的僕人（在當時文化中不尋常），更認出耶穌超自然的權柄。耶穌用這個例子預言外邦人將進入天國，而許多本國的子民卻要被趕出去。這個事件預示了福音將傳給萬國，以及信心比種族血統更重要。",sources:[{text:"馬太福音 8:5-13 (NIV)",url:"https://www.biblegateway.com/passage/?search=Matthew+8:5-13&version=NIV"},{text:"路加福音 7:1-10 (ESV)",url:"https://www.biblegateway.com/passage/?search=Luke+7:1-10&version=ESV"}]}},{id:"q35",character:"抹大拉的馬利亞",characterImage:"https://picsum.photos/seed/marymagdalene/100",question:"復活的主日早晨，我是第一個看見什麼的人？",options:["空的墳墓和復活的耶穌。","守墓的羅馬兵丁。","門徒們聚集。","大祭司。"],correctAnswerIndex:0,explanation:"約翰福音20章記載，抹大拉的馬利亞清早到墳墓那裡，看見石頭從墳墓挪開了。她成為第一個看見空墳墓，以及第一個見到復活基督的人。耶穌託付她去告訴門徒這好消息。",journalPrompt:{title:"第一個見證人",content:"神選擇一位女性作為復活的第一個見證人，這在當時的文化中是革命性的。馬利亞的忠心愛慕使她最先經歷復活的喜樂。"},deepDive:{title:"從黑暗到光明",content:"抹大拉的馬利亞曾被七個鬼附著，耶穌釋放了她（路加福音8:2）。她從深深的綑綁中得釋放，成為最忠心的跟隨者之一，甚至在十字架下和空墳墓前都有她的身影。她的生命轉變和對基督的委身，使她有資格成為復活的第一個見證人。在當時女性見證不被法庭接受的文化中，這更顯示神對女性的重視和祂國度價值觀的顛覆性。",sources:[{text:"約翰福音 20:1-18 (NIV)",url:"https://www.biblegateway.com/passage/?search=John+20:1-18&version=NIV"},{text:"路加福音 8:1-3 (ESV)",url:"https://www.biblegateway.com/passage/?search=Luke+8:1-3&version=ESV"}]}},{id:"q36",character:"多馬",characterImage:"https://picsum.photos/seed/thomas/100",question:"當其他門徒告訴我他們見到復活的主時，我說了什麼？",options:["我完全相信你們。","我非看見他手上的釘痕，不能信。","這太不可思議了！","我們去慶祝吧！"],correctAnswerIndex:1,explanation:"約翰福音20:25記載，多馬說：「我非看見他手上的釘痕，用指頭探入那釘痕，又用手探入他的肋旁，我總不信。」八天後，耶穌向他顯現，邀請他觸摸祂的傷痕。",journalPrompt:{title:"疑惑到相信",content:"耶穌沒有責備多馬的疑惑，反而滿足了他的需要。但耶穌也說：「你因看見了我才信；那沒有看見就信的有福了。」信心不需要所有的證據，但神願意在我們的軟弱中遇見我們。"},deepDive:{title:"誠實的懷疑",content:"多馬常被稱為「疑惑的多馬」，但他的懷疑是誠實的，而不是頑固的不信。當他看見主時，他做出了福音書中最偉大的認信之一：「我的主！我的神！」（約20:28）。這是第一次有門徒直接稱呼耶穌為神。傳統認為多馬後來成為宣教士，將福音傳到印度，最終為信仰殉道。他從疑惑者變為殉道者的旅程，鼓勵我們帶著誠實的問題來到神面前。",sources:[{text:"約翰福音 20:24-29 (NIV)",url:"https://www.biblegateway.com/passage/?search=John+20:24-29&version=NIV"},{text:"約翰福音 11:16 (ESV)",url:"https://www.biblegateway.com/passage/?search=John+11:16&version=ESV"}]}},{id:"q37",character:"呂底亞",characterImage:"https://picsum.photos/seed/lydia/100",question:"在腓立比，當保羅傳道時，發生了什麼事？",options:["沒有人願意聽。","主開導我的心，使我留心聽保羅所講的話。","眾人趕走保羅。","會堂被關閉。"],correctAnswerIndex:1,explanation:"使徒行傳16:14記載：「有一個賣紫色布匹的婦人，名叫呂底亞，是推雅推喇城的人，素來敬拜神。她聽見了，主就開導她的心，叫她留心聽保羅所講的話。」她和她一家都受了洗。",journalPrompt:{title:"心門的開啟",content:"呂底亞已經是敬拜神的人，但她需要主開導她的心才能真正明白福音。得救不僅是人的決定，更是神的工作。她的家成為保羅在歐洲的第一個宣教基地。"},deepDive:{title:"歐洲的第一位信徒",content:"呂底亞是歐洲第一位基督徒，她的歸信標誌著福音從亞洲傳到歐洲的歷史性時刻。作為成功的女商人（賣紫色布匹是高級生意），她運用自己的資源和影響力支持保羅的事工。她的家成為腓立比教會的聚會地點。腓立比書是保羅寫給這教會的信，充滿了喜樂和感恩，部分原因可能是呂底亞和其他信徒的慷慨支持。",sources:[{text:"使徒行傳 16:11-15 (NIV)",url:"https://www.biblegateway.com/passage/?search=Acts+16:11-15&version=NIV"},{text:"腓立比書 1:3-7 (ESV)",url:"https://www.biblegateway.com/passage/?search=Philippians+1:3-7&version=ESV"}]}},{id:"q38",character:"亞居拉和百基拉",characterImage:"https://picsum.photos/seed/aquila/100",question:"當我們遇見年輕傳道人亞波羅時，我們做了什麼？",options:["公開批評他的教導。","私下將神的道給他講解更加詳細。","把他趕出會堂。","忽視他的存在。"],correctAnswerIndex:1,explanation:"使徒行傳18:26記載：「他在會堂裡放膽講道，百基拉、亞居拉聽見，就接他來，將神的道給他講解更加詳細。」這對夫婦以智慧和愛心幫助亞波羅成長。",journalPrompt:{title:"謙卑的服事",content:"這對製作帳棚的夫婦展現了如何以恩慈和智慧造就他人。他們沒有公開糾正亞波羅，而是私下幫助他，使他成為更有效的神國工人。"},deepDive:{title:"平信徒的影響力",content:"亞居拉和百基拉是保羅同工的平信徒夫婦，他們以製作帳棚為生，同時積極參與宣教工作。保羅在多處書信中提到他們，稱他們為同工，甚至說他們「為我的命將自己的頸項置之度外」（羅馬書16:3-4）。他們的家成為教會聚會的地方。這對夫婦展示了平信徒如何在神的國度中發揮重大影響力，不需要全職事奉才能有效服事神。",sources:[{text:"使徒行傳 18:24-28 (NIV)",url:"https://www.biblegateway.com/passage/?search=Acts+18:24-28&version=NIV"},{text:"羅馬書 16:3-5 (ESV)",url:"https://www.biblegateway.com/passage/?search=Romans+16:3-5&version=ESV"}]}},{id:"q39",character:"腓利門",characterImage:"https://picsum.photos/seed/philemon/100",question:"保羅寫信給我，請求我如何對待逃跑的奴隸阿尼西母？",options:["嚴厲懲罰他。","把他送回羅馬。","接納他，不再當奴僕，乃是高過奴僕，當作親愛的兄弟。","賣掉他。"],correctAnswerIndex:2,explanation:"腓利門書16節記載，保羅請求腓利門接納阿尼西母，「不再是奴僕，乃是高過奴僕，當作親愛的兄弟」。這封信展現了福音如何轉化社會關係。",journalPrompt:{title:"福音的轉化力量",content:"基督信仰沒有立即廢除奴隸制度，但它從內部轉化了這種關係。在基督裡，主人和奴隸都是弟兄。這種革命性的平等觀最終導致奴隸制的廢除。"},deepDive:{title:"饒恕與和解",content:"這封寫給腓利門的私人信件被包含在聖經中，因為它展現了福音如何處理人際衝突和社會不公。阿尼西母可能偷了主人的東西後逃跑，遇見保羅並成為基督徒。保羅沒有命令腓利門釋放阿尼西母，但他暗示這應該是結果。這種溫和但堅定的勸說方式，教導我們如何在權力不平等的情況下促進和解與公義。",sources:[{text:"腓利門書 1:8-21 (NIV)",url:"https://www.biblegateway.com/passage/?search=Philemon+1:8-21&version=NIV"},{text:"加拉太書 3:28 (ESV)",url:"https://www.biblegateway.com/passage/?search=Galatians+3:28&version=ESV"}]}},{id:"q40",character:"提摩太",characterImage:"https://picsum.photos/seed/timothy/100",question:"保羅寫信提醒我，不可因為什麼而叫人小看我？",options:["我的財富不多。","我年輕。","我沒有受過高等教育。","我不是猶太人。"],correctAnswerIndex:1,explanation:"提摩太前書4:12記載：「不可叫人小看你年輕，總要在言語、行為、愛心、信心、清潔上，都作信徒的榜樣。」保羅鼓勵年輕的提摩太不要因年齡而自卑。",journalPrompt:{title:"忠心勝過年齡",content:"提摩太雖然年輕，卻被委以重任牧養以弗所教會。神不看外貌或年齡，祂看重的是忠心和品格。年輕人可以在信仰上成為榜樣。"},deepDive:{title:"屬靈父子",content:"保羅與提摩太的關係展現了屬靈導師的美好典範。保羅稱提摩太為「我親愛的兒子」、「因信主作我真兒子的」。提摩太從小被敬虔的外祖母羅以和母親友尼基教導聖經（提後1:5，3:15）。他後來成為保羅最信任的同工之一。保羅寫給他的兩封書信充滿了實用的牧會建議和深情的關懷，是跨代門徒訓練的經典範例。",sources:[{text:"提摩太前書 4:12-16 (NIV)",url:"https://www.biblegateway.com/passage/?search=1+Timothy+4:12-16&version=NIV"},{text:"提摩太後書 1:3-7 (ESV)",url:"https://www.biblegateway.com/passage/?search=2+Timothy+1:3-7&version=ESV"}]}},{id:"q41",character:"雅各（主的兄弟）",characterImage:"https://picsum.photos/seed/jamesbrother/100",question:"在我的書信中，我如何描述真實的信心？",options:["信心只要存在心裡就夠了。","沒有行為的信心是死的。","信心不需要任何證明。","信心是私人的事，不需要表現出來。"],correctAnswerIndex:1,explanation:"雅各書2:26寫道：「身體沒有靈魂是死的，信心沒有行為也是死的。」雅各強調真實的信心必然會在生活中結出行為的果子。",journalPrompt:{title:"活潑的信心",content:"雅各的教導不是與保羅的因信稱義矛盾，而是補充。保羅強調我們是因信得救，不是靠行為；雅各強調真實的信心必然產生行為。兩者都是真理。"},deepDive:{title:"從懷疑到領袖",content:"雅各是耶穌的親弟弟，但在耶穌傳道期間，他並不相信耶穌（約7:5）。復活後的顯現改變了他（林前15:7），他成為耶路撒冷教會的領袖。優西比烏記載他被稱為「公義的雅各」，因為他的敬虔生活。他最終為信仰殉道。雅各書是最實用的新約書信之一，強調信心與生活的結合，特別關注社會公義、馴服舌頭、和禱告的力量。",sources:[{text:"雅各書 2:14-26 (NIV)",url:"https://www.biblegateway.com/passage/?search=James+2:14-26&version=NIV"},{text:"加拉太書 2:9 (ESV)",url:"https://www.biblegateway.com/passage/?search=Galatians+2:9&version=ESV"}]}},{id:"q42",character:"西拉",characterImage:"https://picsum.photos/seed/silas/100",question:"當我和保羅在腓立比監獄中被毒打並關押時，我們做了什麼？",options:["大聲抱怨不公。","約在半夜，我們禱告唱詩讚美神。","計畫逃獄。","放棄了信仰。"],correctAnswerIndex:1,explanation:"使徒行傳16:25記載：「約在半夜，保羅和西拉禱告唱詩讚美神，眾囚犯也側耳而聽。」忽然地大震動，監門全開，眾囚犯的鎖鍊也都鬆開了。禁卒和他全家因此信主。",journalPrompt:{title:"患難中的讚美",content:"保羅和西拉在極端痛苦中選擇讚美神。他們的見證不只感動了獄卒，也成為歷代信徒在患難中的榜樣。真實的信心在逆境中更加閃耀。"},deepDive:{title:"同工的力量",content:"西拉（又名西拉斯）是耶路撒冷教會的領袖，被選為將使徒會議決定帶給外邦教會的使者。當保羅和巴拿巴分開後，西拉成為保羅第二次宣教旅程的夥伴。他不只是助手，更是同等的同工，被稱為先知。他與保羅一起經歷了腓立比的監獄、帖撒羅尼迦的暴亂、和庇哩亞的歡迎。後來他協助彼得寫信（彼前5:12）。他的事工展示了忠心同工的重要性。",sources:[{text:"使徒行傳 16:16-34 (NIV)",url:"https://www.biblegateway.com/passage/?search=Acts+16:16-34&version=NIV"},{text:"帖撒羅尼迦前書 1:1 (ESV)",url:"https://www.biblegateway.com/passage/?search=1+Thessalonians+1:1&version=ESV"}]}},{id:"q43",character:"亞波羅",characterImage:"https://picsum.photos/seed/apollos/100",question:"當我在以弗所傳道時，我對舊約聖經的知識如何？",options:["我完全不懂聖經。","最有學問，最能講解聖經，但只曉得約翰的洗禮。","我只讀過新約。","我從不引用聖經。"],correctAnswerIndex:1,explanation:"使徒行傳18:24-25形容亞波羅「是有學問的，最能講解聖經。這人已經在主的道上受了教訓，心裡火熱，將耶穌的事詳細講論教訓人；只是他單曉得約翰的洗禮。」",journalPrompt:{title:"持續的學習",content:"亞波羅雖然有學問、熱心，但仍需要更完全的認識。他謙卑地接受百基拉和亞居拉的指導，成為更有效的工人。我們都需要持續學習和成長。"},deepDive:{title:"恩賜與合一",content:"亞波羅後來在哥林多大有能力，公開駁倒猶太人，引聖經證明耶穌是基督（徒18:28）。但哥林多教會有人說「我是屬亞波羅的」，引起分黨（林前1:12）。保羅在林前3:5-9澄清：他栽種，亞波羅澆灌，但使植物生長的是神。他們都是神的同工。這教導我們，不同的恩賜和角色應該互補，而非競爭。保羅甚至勸亞波羅去哥林多（林前16:12），顯示他們之間的合一。",sources:[{text:"使徒行傳 18:24-28 (NIV)",url:"https://www.biblegateway.com/passage/?search=Acts+18:24-28&version=NIV"},{text:"哥林多前書 3:4-9 (ESV)",url:"https://www.biblegateway.com/passage/?search=1+Corinthians+3:4-9&version=ESV"}]}},{id:"q44",character:"腓利（執事）",characterImage:"https://picsum.photos/seed/philipdeacon/100",question:"當聖靈引導我去曠野的路上時，我遇見了誰？",options:["一位羅馬將軍。","一位埃提阿伯的太監，正在讀以賽亞書。","一群盜賊。","耶路撒冷的祭司。"],correctAnswerIndex:1,explanation:"使徒行傳8:27-35記載，腓利遇見一位埃提阿伯太監，正在讀以賽亞書53章。腓利向他講解這段經文指向耶穌，太監立刻要求受洗，成為非洲第一位基督徒。",journalPrompt:{title:"聖靈的引導",content:"腓利順服聖靈的引導，離開撒馬利亞的復興，去曠野只向一個人傳福音。神看重每一個靈魂。我們需要敏銳於聖靈的帶領，即使看似不合邏輯。"},deepDive:{title:"從管飯食到傳福音",content:"腓利原本被選為七位執事之一，管理飯食服事寡婦（徒6:1-6）。但他不滿足於此，成為強有力的佈道家。司提反殉道後，他將福音帶到撒馬利亞，帶領許多人歸主，甚至行神蹟。與太監的相遇後，他又被聖靈提去，在沿海一帶傳道。多年後，保羅訪問他在該撒利亞的家，他有四個女兒都作先知（徒21:8-9）。腓利的一生展示忠心從小事開始，但可以發展成偉大的事工。",sources:[{text:"使徒行傳 8:26-40 (NIV)",url:"https://www.biblegateway.com/passage/?search=Acts+8:26-40&version=NIV"},{text:"使徒行傳 21:8-9 (ESV)",url:"https://www.biblegateway.com/passage/?search=Acts+21:8-9&version=ESV"}]}},{id:"q45",character:"哥尼流",characterImage:"https://picsum.photos/seed/cornelius/100",question:"作為外邦人，神用什麼方式告訴我要邀請彼得來我家？",options:["透過夢。","天使在異象中向我顯現。","我在聖殿聽見聲音。","保羅來拜訪我。"],correctAnswerIndex:1,explanation:"使徒行傳10:3-6記載：「有一天，約在申初，他在異象中明明看見神的一個使者進去，到他那裡，說：哥尼流。」天使指示他派人到約帕去請彼得來。同時，神也給彼得異象，預備他打破猶太傳統去外邦人家。",journalPrompt:{title:"福音跨越藩籬",content:"哥尼流是敬畏神的外邦人，但直到彼得來傳講耶穌，他才完全明白福音。神同時預備了尋求者和傳道者。福音是為萬民預備的。"},deepDive:{title:"教會歷史的轉捩點",content:"哥尼流是羅馬百夫長，卻虔誠敬拜以色列的神。他樂善好施，常常禱告。他的歸信標誌著教會歷史的重大轉變：外邦人可以不經過猶太律法直接成為基督徒。當聖靈降在哥尼流和他家人身上時，彼得驚奇地說：「這些人既受了聖靈，與我們一樣，誰能禁止用水給他們施洗呢？」（徒10:47）。這個事件成為後來耶路撒冷會議的關鍵先例（徒15章）。",sources:[{text:"使徒行傳 10:1-48 (NIV)",url:"https://www.biblegateway.com/passage/?search=Acts+10:1-48&version=NIV"},{text:"使徒行傳 11:1-18 (ESV)",url:"https://www.biblegateway.com/passage/?search=Acts+11:1-18&version=ESV"}]}},{id:"q46",character:"巴拿巴",characterImage:"https://picsum.photos/seed/barnabas/100",question:"我的名字「巴拿巴」是什麼意思？",options:["大力士","勸慰子","智慧者","勇士"],correctAnswerIndex:1,explanation:"使徒行傳4:36記載：「有一個利未人，生在居比路，名叫約瑟，使徒稱他為巴拿巴（巴拿巴翻出來就是勸慰子）。」他的名字完美描述了他的恩賜和性格。",journalPrompt:{title:"鼓勵者的恩賜",content:"巴拿巴看見別人的潛力，願意給人第二次機會。他引薦保羅給使徒，給馬可第二次服事的機會。教會需要更多像巴拿巴這樣的鼓勵者。"},deepDive:{title:"好人與犧牲",content:"聖經形容巴拿巴是「好人，被聖靈充滿，大有信心」（徒11:24）。他賣了田產，將錢財帶來放在使徒腳前。當保羅歸主後沒人敢接納他時，巴拿巴勇敢為他擔保。他邀請保羅一起在安提阿服事，甚至主動讓保羅成為主要的講道者。後來他們因馬可的事分開，巴拿巴選擇給馬可第二次機會。保羅後來承認馬可對他有益處（提後4:11），證明巴拿巴的眼光是對的。",sources:[{text:"使徒行傳 4:36-37 (NIV)",url:"https://www.biblegateway.com/passage/?search=Acts+4:36-37&version=NIV"},{text:"使徒行傳 15:36-41 (ESV)",url:"https://www.biblegateway.com/passage/?search=Acts+15:36-41&version=ESV"}]}},{id:"q47",character:"以巴弗",characterImage:"https://picsum.photos/seed/epaphras/100",question:"保羅如何描述我為歌羅西教會的禱告？",options:["偶爾為他們禱告。","常常竭力為你們祈求，願你們在神一切的旨意上得以完全。","從不為他們禱告。","只在主日為他們禱告。"],correctAnswerIndex:1,explanation:"歌羅西書4:12記載，保羅說：「有你們那裡的人，作基督耶穌僕人的以巴弗問你們安。他在禱告之間，常為你們竭力的祈求，願你們在神一切的旨意上得以完全，信心充足，能站立得穩。」",journalPrompt:{title:"代禱的事工",content:"以巴弗可能建立了歌羅西教會，但他最大的事工是恆切的代禱。有時神呼召我們的事工不在前線，而是在禱告的密室中。忠心的代禱是有永恆價值的服事。"},deepDive:{title:"無名英雄",content:"以巴弗的名字在新約中只出現兩次，但每次都與禱告有關。保羅稱他為「親愛的同工」和「我一同坐監的」（門1:23）。他可能因福音的緣故與保羅同時被監禁。雖然他沒有像保羅那樣寫書信或建立眾多教會，但他忠心的代禱和服事卻被記錄在聖經中。教會需要更多像以巴弗這樣願意在背後竭力禱告的無名英雄。",sources:[{text:"歌羅西書 4:12-13 (NIV)",url:"https://www.biblegateway.com/passage/?search=Colossians+4:12-13&version=NIV"},{text:"歌羅西書 1:7-8 (ESV)",url:"https://www.biblegateway.com/passage/?search=Colossians+1:7-8&version=ESV"}]}},{id:"q48",character:"非比",characterImage:"https://picsum.photos/seed/phoebe/100",question:"保羅如何介紹我給羅馬教會？",options:["普通信徒。","堅革哩教會的女執事，素來幫助許多人。","我的學生。","一位訪客。"],correctAnswerIndex:1,explanation:"羅馬書16:1-2記載：「我對你們舉薦我們的姊妹非比，她是堅革哩教會中的女執事。請你們為主接待她，合乎聖徒的體統。她在何事上要你們幫助，你們就幫助她，因她素來幫助許多人，也幫助了我。」",journalPrompt:{title:"服事的榜樣",content:"非比很可能是帶著羅馬書信去羅馬的人。她被稱為執事，是教會中有職分的服事者，也是許多人的幫助者。女性在早期教會擔任重要角色。"},deepDive:{title:"女性在教會中的角色",content:"非比被稱為「執事」（diakonos），與提摩太前書3:8-13中執事的資格用的是同一個詞。她也被稱為「幫助者」（prostatis），這個詞有領袖、庇護人的意思。她可能是富有的商人，資助保羅和其他工人。羅馬書16章提到多位女性同工：百基拉（保羅稱她為同工）、馬利亞（為你們多受勞苦）、土非拿氏和土富撒氏（在主裡勞碌）。早期教會中，女性積極參與各種服事。",sources:[{text:"羅馬書 16:1-2 (NIV)",url:"https://www.biblegateway.com/passage/?search=Romans+16:1-2&version=NIV"},{text:"羅馬書 16:3-16 (ESV)",url:"https://www.biblegateway.com/passage/?search=Romans+16:3-16&version=ESV"}]}},{id:"q49",character:"馬可（約翰馬可）",characterImage:"https://picsum.photos/seed/mark/100",question:"在第一次宣教旅程中，我做了什麼導致保羅不再信任我？",options:["我偷了奉獻。","我在旁非利亞離開他們，回耶路撒冷去了。","我公開批評保羅。","我從未跟他們一起去。"],correctAnswerIndex:1,explanation:"使徒行傳13:13記載：「保羅和他的同人從帕弗開船，來到旁非利亞的別加，約翰就離開他們，回耶路撒冷去。」這導致保羅在第二次旅程時拒絕帶馬可同行，引發他與巴拿巴的分歧。",journalPrompt:{title:"失敗後的恢復",content:"馬可的早期失敗沒有定義他的一生。巴拿巴給他第二次機會，最終連保羅都承認他的價值。我們都會失敗，但神能恢復和使用願意成長的人。"},deepDive:{title:"從失敗到福音作者",content:"馬可的母親馬利亞家中是早期教會的聚會地點（徒12:12）。他曾服事保羅、巴拿巴和彼得。雖然他在第一次宣教旅程中退出，但後來他成長成熟。保羅在晚年寫信給提摩太時說：「你來的時候，要把馬可帶來，因為他在傳道的事上於我有益處」（提後4:11）。彼得稱他為「我兒子馬可」（彼前5:13）。最重要的是，神使用他寫下馬可福音，成為四福音中最早寫成的。",sources:[{text:"使徒行傳 15:36-41 (NIV)",url:"https://www.biblegateway.com/passage/?search=Acts+15:36-41&version=NIV"},{text:"提摩太後書 4:11 (ESV)",url:"https://www.biblegateway.com/passage/?search=2+Timothy+4:11&version=ESV"}]}},{id:"q50",character:"老底嘉教會",characterImage:"https://picsum.photos/seed/laodicea/100",question:"在啟示錄中，主對我們教會最嚴厲的責備是什麼？",options:["你們太窮了。","你們被迫害。","你們也不冷也不熱，我必從我口中把你吐出去。","你們太熱心了。"],correctAnswerIndex:2,explanation:"啟示錄3:16記載，主說：「你既如溫水，也不冷也不熱，所以我必從我口中把你吐出去。」老底嘉教會的問題是自滿和屬靈的不冷不熱。",journalPrompt:{title:"危險的不冷不熱",content:"老底嘉教會自以為富足，卻不知道自己在屬靈上是「困苦、可憐、貧窮、瞎眼、赤身的」。自滿是屬靈生命最危險的敵人。主呼籲：「我勸你向我買火煉的金子，叫你富足。」"},deepDive:{title:"七個教會的最後警告",content:"老底嘉是啟示錄七個教會中最後一個，也是唯一沒有受到任何稱讚的。這城市以銀行業、羊毛工業和眼藥聞名，導致屬靈的驕傲。它的水源是溫的，既不像希拉波立的熱水有療效，也不像歌羅西的冷水可解渴。主站在門外叩門（啟3:20），顯示祂已被排除在教會活動之外。這封信對今天富裕但屬靈冷淡的教會是嚴厲的警告。",sources:[{text:"啟示錄 3:14-22 (NIV)",url:"https://www.biblegateway.com/passage/?search=Revelation+3:14-22&version=NIV"},{text:"何西阿書 12:8 (ESV)",url:"https://www.biblegateway.com/passage/?search=Hosea+12:8&version=ESV"}]}},{id:"q51",character:"希伯來聖經學者",characterImage:"https://picsum.photos/seed/hebrew-scholar/100",question:"希伯來聖經（Tanakh）的三個主要部分是什麼？",options:["摩西五經、先知書、智慧文學","律法書（Torah）、先知書（Nevi'im）、聖卷（Ketuvim）","創世記、出埃及記、詩篇","歷史書、詩歌書、預言書"],correctAnswerIndex:1,explanation:"希伯來聖經（Tanakh）分為三個主要部分：Torah（תּוֹרָה，律法書，五經）、Nevi'im（נְבִיאִים，先知書）和Ketuvim（כְּתוּבִים，聖卷）。Tanakh這個名稱就是由這三個部分的首字母組成的縮寫（T-N-K）。",journalPrompt:{title:"希伯來聖經的結構",content:"Tanakh的三重結構反映了猶太教對聖經不同部分的權威等級理解。Torah是最核心的，包含神的律法；Nevi'im記載先知的教導；Ketuvim包含詩歌、智慧文學和其他著作。"},deepDive:{title:"希伯來聖經的正典形成",content:"希伯來聖經的正典化是一個漫長的過程。Torah在公元前5世紀已被普遍接受；先知書在公元前3世紀基本確定；聖卷的正典地位在公元90年左右的雅麥尼亞會議（Council of Jamnia）後才最終確立。這個三重結構也影響了基督教舊約的編排方式，雖然順序有所不同。",sources:[{text:"路加福音 24:44 (NIV)",url:"https://www.biblegateway.com/passage/?search=Luke+24:44&version=NIV"},{text:"Hebrew Bible Structure",url:"https://www.jewishvirtuallibrary.org/the-tanakh"}]}},{id:"q52",character:"文本批評學者",characterImage:"https://picsum.photos/seed/textual-critic/100",question:"馬索拉文本（Masoretic Text）在希伯來聖經研究中的重要性是什麼？",options:["它是最早的希伯來文手抄本","它是標準的希伯來聖經文本，包含母音符號和註釋系統","它是希伯來聖經的希臘文翻譯","它是死海古卷的另一個名稱"],correctAnswerIndex:1,explanation:"馬索拉文本（MT）是公元7-10世紀由馬索拉學者（Masoretes）精心編纂的希伯來聖經標準文本。他們添加了母音符號（nikkud）、音調記號（ta'amim）和邊註，確保正確讀音和詮釋，成為現代希伯來聖經研究和翻譯的主要依據。",journalPrompt:{title:"聖經文本的傳承",content:"馬索拉學者對聖經文本的細緻保存工作展現了對神話語的敬畏。他們不僅抄寫文字，還發展出複雜的計數和檢查系統，確保每一個字母都準確無誤。"},deepDive:{title:"文本批判與聖經可靠性",content:"馬索拉文本的發現和研究，特別是與死海古卷（公元前3世紀至公元1世紀）的對比，證明了希伯來聖經傳抄的驚人準確性。雖然存在一些異文（textual variants），但絕大多數是拼寫差異，核心內容保持一致。這為聖經的可靠性提供了強有力的證據。列寧格勒抄本（Leningrad Codex, 1008 CE）是現存最古老的完整馬索拉文本，也是《希伯來聖經》（BHS）的底本。",sources:[{text:"以賽亞書 40:8 (ESV)",url:"https://www.biblegateway.com/passage/?search=Isaiah+40:8&version=ESV"},{text:"Masoretic Text Overview",url:"https://www.britannica.com/topic/Masoretic-text"}]}},{id:"q53",character:"語言學家",characterImage:"https://picsum.photos/seed/linguist/100",question:"希伯來聖經中使用的主要語言是什麼？有哪些例外？",options:["全部用希伯來文書寫","希伯來文為主，但但以理書和以斯拉記部分用亞蘭文","希伯來文和希臘文混合","亞蘭文為主，少部分希伯來文"],correctAnswerIndex:1,explanation:"希伯來聖經主要用古希伯來文書寫，但有重要例外：但以理書2:4-7:28和以斯拉記4:8-6:18、7:12-26用帝國亞蘭文（Imperial Aramaic）書寫。亞蘭文在波斯帝國時期成為近東的通用語言，反映了猶太人在被擄時期的語言環境變化。",journalPrompt:{title:"語言與歷史背景",content:"聖經使用不同語言反映了以色列民族的歷史變遷。希伯來文代表早期民族身份，亞蘭文顯示被擄時期的文化影響，這些語言選擇本身就講述著神子民的故事。"},deepDive:{title:"閃族語言與聖經研究",content:"希伯來文和亞蘭文都屬於閃族語系的西北支。理解這些語言的特點對解經至關重要：1) 它們是子音文字，母音後來才添加；2) 詞根系統（通常是三個子音）表達核心意義；3) 動詞時態表達完成/未完成狀態而非時間；4) 豐富的並行體（parallelism）用於詩歌。此外，耶利米書10:11有一節完全用亞蘭文，創世記31:47也有亞蘭文地名。",sources:[{text:"但以理書 2:4 (NIV)",url:"https://www.biblegateway.com/passage/?search=Daniel+2:4&version=NIV"},{text:"Biblical Languages",url:"https://www.britannica.com/topic/biblical-literature"}]}},{id:"q54",character:"文學批評學者",characterImage:"https://picsum.photos/seed/literary-critic/100",question:"希伯來詩歌的主要文學特徵是什麼？",options:["押韻和格律","平行體（Parallelism）和意象","十四行詩結構","無韻自由詩"],correctAnswerIndex:1,explanation:"希伯來詩歌的核心特徵是平行體（Parallelism），而非押韻。主要類型包括：同義平行（synonymous，重複相同意思）、反義平行（antithetical，對比相反意思）、綜合平行（synthetic，擴展前句意思）。詩篇、箴言、約伯記和先知書廣泛使用這種結構。",journalPrompt:{title:"聖經詩歌的美學",content:"平行體不僅是文學技巧，更是神學表達方式。透過重複、對比和擴展，希伯來詩歌幫助讀者深入默想真理，讓神的話語在心中迴響。"},deepDive:{title:"希伯來詩歌的多層結構",content:"除了平行體，希伯來詩歌還包含其他特徵：1) 字母離合詩（acrostic），如詩篇119篇每段以希伯來字母順序開頭；2) 交錯配列法（chiasm），如詩篇51:1-2的ABBA結構；3) 包孕法（inclusio），首尾呼應；4) 豐富的隱喻和擬人化。理解這些特徵幫助我們欣賞聖經詩歌的深度和美感，也避免過度字面化解釋詩意表達。",sources:[{text:"詩篇 19:1-2 (ESV)",url:"https://www.biblegateway.com/passage/?search=Psalm+19:1-2&version=ESV"},{text:"Hebrew Poetry Characteristics",url:"https://www.britannica.com/art/biblical-literature/Poetry"}]}},{id:"q55",character:"舊約學者",characterImage:"https://picsum.photos/seed/ot-scholar/100",question:"舊約聖經與希伯來聖經的主要差異是什麼？",options:["內容完全不同","書卷順序和分類方式不同","舊約比希伯來聖經多了新約","語言翻譯不同但內容相同"],correctAnswerIndex:1,explanation:"基督教舊約和猶太教Tanakh包含相同的書卷（新教版本），但順序不同。舊約按歷史、詩歌、先知排列，以瑪拉基書結束，指向彌賽亞；Tanakh按Torah、Nevi'im、Ketuvim排列，以歷代志結束，強調回歸與重建。天主教和東正教舊約還包含次經（Deuterocanonical books）。",journalPrompt:{title:"正典與神學視角",content:"同樣的經文，不同的編排順序反映不同的神學強調。基督教舊約的編排突顯了對彌賽亞的期盼，為新約預備道路。"},deepDive:{title:"七十士譯本與正典差異",content:"舊約編排差異部分源於七十士譯本（LXX，公元前3-2世紀希臘文翻譯）。早期教會主要使用LXX，它包含次經並重新編排書卷。新教改教者回歸希伯來正典（39卷），但保留LXX順序；天主教保留次經（46卷舊約書）；東正教包含更多書卷（50卷）。這些差異涉及「誰有權定義正典」的深層神學問題。",sources:[{text:"瑪拉基書 4:5-6 (NIV)",url:"https://www.biblegateway.com/passage/?search=Malachi+4:5-6&version=NIV"},{text:"Old Testament Canon",url:"https://www.britannica.com/topic/biblical-literature/The-Christian-canon"}]}},{id:"q56",character:"考古學家",characterImage:"https://picsum.photos/seed/archaeologist/100",question:"哪一個考古發現對舊約研究最具革命性影響？",options:["羅塞塔石碑","死海古卷","圖坦卡門墓","特洛伊遺址"],correctAnswerIndex:1,explanation:"1947年在昆蘭洞穴發現的死海古卷（Dead Sea Scrolls）是20世紀最重要的考古發現。它包含公元前3世紀至公元1世紀的約900份手抄本，證明聖經文本傳抄的準確性，並提供了第二聖殿時期猶太教的珍貴資料。",journalPrompt:{title:"考古學與信仰",content:"死海古卷的發現不僅證實聖經的可靠性，也讓我們一窺耶穌時代的猶太社群（如愛色尼派）如何理解和實踐信仰。"},deepDive:{title:"死海古卷的重要性",content:"死海古卷包含：1) 除以斯帖記外所有舊約書卷的片段或完整抄本；2) 以賽亞書完整卷軸，與馬索拉文本相差僅1000年但高度一致；3) 昆蘭社群的規章和註釋；4) 次經和偽經。這些發現幫助學者：理解經文異文、研究猶太教派別、追溯彌賽亞觀念發展、了解新約背景。例如，《哈巴谷書註釋》顯示昆蘭社群如何將先知書應用於當代。",sources:[{text:"以賽亞書 40:8 (ESV)",url:"https://www.biblegateway.com/passage/?search=Isaiah+40:8&version=ESV"},{text:"Dead Sea Scrolls",url:"https://www.deadseascrolls.org.il/"}]}},{id:"q57",character:"文獻假說學者",characterImage:"https://picsum.photos/seed/documentary/100",question:"「文獻假說」（Documentary Hypothesis）主要論述什麼？",options:["摩西五經由單一作者一次寫成","摩西五經是由多個文獻來源（J、E、D、P）編輯而成","舊約全是後期偽造的","所有舊約書卷都失傳了"],correctAnswerIndex:1,explanation:"文獻假說（又稱JEDP理論）由Julius Wellhausen在19世紀提出，認為摩西五經由四個主要來源編輯而成：J（耶和華文獻）、E（以羅欣文獻）、D（申命記文獻）、P（祭司文獻）。這個理論引發了關於摩西五經作者和成書過程的廣泛學術討論。",journalPrompt:{title:"批判學術與信仰",content:"文獻假說提醒我們聖經成書過程的複雜性。無論接受與否，這個理論促使信徒更深入思考聖靈如何引導人類作者，以及默示的本質。"},deepDive:{title:"文獻假說的評估",content:"文獻假說基於：1) 神的不同名稱（YHWH vs. Elohim）；2) 重複敘事（如兩個創造故事）；3) 語言和風格差異；4) 神學觀點變化。批評者指出：1) 古代近東文學常用多個神名；2) 重複可能是文學技巧；3) 摩西可能使用早期資料；4) 考古證據支持早期成書。現代學者發展出補充假說、片段假說等替代理論。保守學者維護摩西實質作者權，但承認後期編輯。",sources:[{text:"申命記 31:24-26 (NIV)",url:"https://www.biblegateway.com/passage/?search=Deuteronomy+31:24-26&version=NIV"},{text:"Documentary Hypothesis",url:"https://www.britannica.com/topic/documentary-hypothesis"}]}},{id:"q58",character:"神學家",characterImage:"https://picsum.photos/seed/theologian1/100",question:"「約」（Covenant）在舊約神學中的核心地位體現在哪裡？",options:["約只是次要主題","約是理解神與人關係的核心框架","約只出現在新約","約等同於律法"],correctAnswerIndex:1,explanation:"約（berit）是舊約的核心神學概念，結構化了神與人的關係。主要的約包括：挪亞之約（創9）、亞伯拉罕之約（創15,17）、西奈之約（出19-24）、大衛之約（撒下7）。這些約逐步揭示神的救贖計劃，最終指向耶利米預言的新約（耶31:31-34）。",journalPrompt:{title:"約的神學",content:"聖約顯示神是主動、信實的一位。祂不是遙不可及的哲學概念，而是與人立約、建立關係的神。每個約都揭示祂救贖計劃的一個層面。"},deepDive:{title:"約的類型與結構",content:"舊約的約借鑑了古代近東宗主條約（Suzerain-Vassal Treaty）的形式：1) 序言（確認立約者）；2) 歷史序言（回顧關係）；3) 條款（義務）；4) 見證人；5) 祝福與咒詛。申命記完美體現這個結構。但聖經的約超越政治條約：亞伯拉罕之約是無條件的恩典之約；西奈之約是條件性的；大衛之約是永恆的王權應許。新約（New Covenant）在基督裡應驗所有舊約，寫在人心版上（耶31:33；來8:10）。",sources:[{text:"耶利米書 31:31-34 (ESV)",url:"https://www.biblegateway.com/passage/?search=Jeremiah+31:31-34&version=ESV"},{text:"Covenant Theology",url:"https://www.britannica.com/topic/covenant-theology"}]}},{id:"q59",character:"新約學者",characterImage:"https://picsum.photos/seed/nt-scholar/100",question:"新約的27卷書主要用什麼語言寫成？",options:["希伯來文","亞蘭文","通用希臘文（Koine Greek）","拉丁文"],correctAnswerIndex:2,explanation:"新約全部用通用希臘文（Koine Greek）寫成，這是公元前3世紀至公元6世紀地中海世界的通用語言。雖然耶穌和使徒可能說亞蘭文，但他們選擇用希臘文記錄福音，使信息能傳遍羅馬帝國。",journalPrompt:{title:"神的時機與工具",content:"神使用希臘文作為新約語言不是偶然。亞歷山大大帝的征服建立了希臘化世界，羅馬的道路系統便利旅行，通用希臘文讓福音迅速傳播——「時候滿足」（加4:4）。"},deepDive:{title:"Koine希臘文的特點",content:"Koine（κοινή，意為「通用的」）是簡化的希臘文，不同於古典希臘文。特點：1) 簡化語法；2) 減少虛擬語氣；3) 大量外來語（如希伯來文、亞蘭文）；4) 更接近口語。19世紀紙草文獻的發現證明新約用的是普通人的語言，而非宗教術語。這反映了福音的平民性——不是精英哲學，而是給萬人的好消息。馬太福音可能有希伯來文或亞蘭文版本，但現存只有希臘文。",sources:[{text:"使徒行傳 21:37-40 (NIV)",url:"https://www.biblegateway.com/passage/?search=Acts+21:37-40&version=NIV"},{text:"Koine Greek",url:"https://www.britannica.com/topic/Koine"}]}},{id:"q60",character:"正典研究學者",characterImage:"https://picsum.photos/seed/canon-scholar/100",question:"新約正典的27卷書何時最終確立？",options:["使徒保羅時代立即確定","第一世紀結束前","第四世紀（如公元367年亞他那修的復活節書信）","宗教改革時期"],correctAnswerIndex:2,explanation:"新約正典的確立是漸進過程。公元367年，亞歷山大主教亞他那修（Athanasius）在復活節書信中首次列出今天的27卷新約書目。公元397年迦太基會議（Council of Carthage）正式確認這個正典，但教會實質上在更早就廣泛接受這些書卷。",journalPrompt:{title:"正典的形成",content:"正典不是由會議「創造」的，而是教會「承認」聖靈已在信徒群體中見證為真的書卷。標準包括：使徒性、正統性、大公性（普遍接受）、默示性。"},deepDive:{title:"正典形成的標準與爭議",content:"早期教會用四個標準判斷正典：1) 使徒性（apostolic）——由使徒或使徒同工寫作；2) 正統性（orthodoxy）——符合使徒教導；3) 大公性（catholicity）——被眾教會廣泛使用；4) 默示性（inspiration）——聖靈見證。有爭議的書卷（Antilegomena）包括：希伯來書、雅各書、彼得後書、約翰二三書、猶大書、啟示錄。偽經如《多馬福音》因缺乏使徒性和正統性被拒。穆拉多利殘卷（Muratorian Fragment, ~170 AD）是最早的新約正典清單。",sources:[{text:"啟示錄 22:18-19 (ESV)",url:"https://www.biblegateway.com/passage/?search=Revelation+22:18-19&version=ESV"},{text:"New Testament Canon",url:"https://www.britannica.com/topic/biblical-literature/New-Testament-canon"}]}},{id:"q61",character:"福音書研究專家",characterImage:"https://picsum.photos/seed/gospel-scholar/100",question:"「符類福音問題」（Synoptic Problem）探討什麼議題？",options:["為什麼只有三本福音書","馬太、馬可、路加三福音之間的文學關係","福音書的歷史可靠性","約翰福音為何不同"],correctAnswerIndex:1,explanation:"符類福音問題探討馬太、馬可、路加（稱為符類福音，因可並排比較）之間的相似性和差異性。主流理論是「馬可優先說」（Marcan Priority）加「Q來源」假說：馬可最早，馬太和路加使用馬可加上共同來源Q（德文Quelle，意為「來源」）。",journalPrompt:{title:"多元見證的價值",content:"四福音提供四個視角看同一位基督。馬可強調耶穌的行動（僕人），馬太強調教導（君王），路加強調憐憫（完全的人），約翰強調神性（神的兒子）。這豐富我們對基督的認識。"},deepDive:{title:"符類福音理論",content:"主要理論：1) 馬可優先說（Marcan Priority）：馬可最早（~65-70 AD），馬太和路加獨立使用馬可；2) Q來源假說：馬太和路加共享約250節馬可沒有的內容，推測來自失傳的語錄來源Q；3) M和L來源：馬太和路加各自獨特的材料。替代理論包括：Griesbach假說（馬太最早）、Farrer假說（無需Q，路加用馬太）。這些討論幫助我們理解福音書作者如何在聖靈引導下選擇、編排材料，為不同讀者呈現基督。",sources:[{text:"路加福音 1:1-4 (NIV)",url:"https://www.biblegateway.com/passage/?search=Luke+1:1-4&version=NIV"},{text:"Synoptic Problem",url:"https://www.britannica.com/topic/Synoptic-Problem"}]}},{id:"q62",character:"保羅書信專家",characterImage:"https://picsum.photos/seed/paul-scholar/100",question:"保羅書信中哪些被普遍認為是無可爭議的真保羅書信？",options:["全部13封保羅書信","羅馬書、哥林多前後書、加拉太書、腓立比書、帖撒羅尼迦前書、腓利門書（7封）","只有羅馬書和加拉太書","全部都有爭議"],correctAnswerIndex:1,explanation:"學者們普遍接受7封為無可爭議的保羅真作（Undisputed Paulines）：羅馬書、哥林多前後書、加拉太書、腓立比書、帖撒羅尼迦前書、腓利門書。教牧書信（提摩太前後書、提多書）和以弗所書、歌羅西書的作者身份仍有學術爭議，但傳統教會普遍接受為保羅所寫。",journalPrompt:{title:"保羅的神學遺產",content:"即使在學術爭議中，保羅書信的神學價值不變。因信稱義、在基督裡的新創造、教會作為基督身體——這些真理塑造了基督教神學。"},deepDive:{title:"保羅書信的分類與爭議",content:"分類：1) 無爭議書信（7封）；2) 教牧書信（提前後、多）——風格和神學差異引發爭議；3) 監獄書信（弗、腓、西、門）——腓和門無爭議，弗和西有爭議；4) 希伯來書——早期教會有些歸於保羅,但現代學者幾乎一致認為非保羅所寫。爭議基於：詞彙差異、神學發展、教會組織成熟度。保守學者辯護：秘書協助、處境不同、神學發展。無論作者，正典地位基於使徒性和默示性。",sources:[{text:"加拉太書 1:11-12 (ESV)",url:"https://www.biblegateway.com/passage/?search=Galatians+1:11-12&version=ESV"},{text:"Pauline Epistles Authorship",url:"https://www.britannica.com/biography/Saint-Paul-the-Apostle/The-Pauline-letters"}]}},{id:"q63",character:"文獻學家",characterImage:"https://picsum.photos/seed/manuscript-scholar/100",question:"現存最早的完整新約手抄本是哪一份？",options:["西奈抄本（Codex Sinaiticus）","死海古卷","穆拉多利殘卷","武加大譯本"],correctAnswerIndex:0,explanation:"西奈抄本（Codex Sinaiticus，約公元330-360年）是現存最早的完整新約手抄本之一，也包含部分舊約。它與梵蒂岡抄本（Codex Vaticanus，約公元300-325年）一起，是新約文本批判最重要的見證。",journalPrompt:{title:"手抄本的見證",content:"神奇妙地保存了數千份新約手抄本（超過5800份希臘文手抄本），遠超任何古代文獻。這些手抄本的數量和一致性證明新約的可靠傳承。"},deepDive:{title:"新約手抄本的分類",content:"新約手抄本分為：1) 紙草抄本（Papyri）——最早（如P52，約125 AD，含約翰福音片段）；2) 安色爾字體抄本（Uncials）——大寫字母，4-8世紀（如א西奈抄本、B梵蒂岡抄本、A亞歷山大抄本、D貝撒抄本）；3) 小楷字體抄本（Minuscules）——小寫字母，9世紀後，數量最多；4) 經課集（Lectionaries）——禮拜用經文選集。文本批判學者比較這些手抄本，重建最接近原文的經文。雖有異文（variants），但99%是拼寫差異，無一影響核心教義。",sources:[{text:"彼得前書 1:24-25 (NIV)",url:"https://www.biblegateway.com/passage/?search=1+Peter+1:24-25&version=NIV"},{text:"Codex Sinaiticus",url:"https://www.codexsinaiticus.org/"}]}},{id:"q64",character:"翻譯史學者",characterImage:"https://picsum.photos/seed/translation-scholar/100",question:"七十士譯本（Septuagint，LXX）對早期基督教有何重要性？",options:["它是新約的希臘文版本","它是舊約的希臘文翻譯，被新約作者廣泛引用","它是死海古卷的翻譯","它是拉丁文聖經"],correctAnswerIndex:1,explanation:"七十士譯本是公元前3-2世紀在亞歷山大完成的希伯來聖經希臘文翻譯，傳說由70位（或72位）學者翻譯而得名。新約作者引用舊約時，約有三分之二使用LXX。它也是早期教會（特別是講希臘語的外邦信徒）的主要舊約版本。",journalPrompt:{title:"跨文化的福音",content:"LXX為福音預備道路。當猶太僑民散居各地，他們需要希臘文聖經；當外邦人歸主，他們能用熟悉的語言讀舊約。神在各個層面預備福音的傳播。"},deepDive:{title:"七十士譯本的影響",content:"LXX的重要性：1) 新約引用——如以賽亞書7:14的「童女」（parthenos）概念來自LXX；2) 神學詞彙——如「logos」（道）、「kyrios」（主）等新約核心詞彙源於LXX；3) 正典範圍——LXX包含次經，影響天主教和東正教正典；4) 教父使用——早期教父如俄利根、奧古斯丁主要用LXX。亞歷山大草紙信（Letter of Aristeas）記載翻譯傳說。LXX與馬索拉文本有些差異，死海古卷顯示有些希伯來文底本確實不同。",sources:[{text:"使徒行傳 8:32-35 (ESV)",url:"https://www.biblegateway.com/passage/?search=Acts+8:32-35&version=ESV"},{text:"Septuagint",url:"https://www.britannica.com/topic/Septuagint"}]}},{id:"q65",character:"次經研究者",characterImage:"https://picsum.photos/seed/apocrypha-scholar/100",question:"舊約次經（Apocrypha/Deuterocanonical Books）包含哪些書卷？",options:["新約偽經","馬加比書、多比傳、猶滴傳等不在希伯來正典但在LXX中的書卷","死海古卷","諾斯底福音書"],correctAnswerIndex:1,explanation:"次經（天主教稱「第二正典」）包括：多比傳、猶滴傳、所羅門智訓、便西拉智訓、巴錄書、馬加比一二書、以斯帖記補編、但以理書補編等。這些書在七十士譯本中，天主教和東正教接受為正典，但新教視為有益但非正典的著作。",journalPrompt:{title:"正典的界線",content:"次經的地位反映基督徒對「什麼是神的話語」有不同理解。無論如何，這些書提供兩約之間時期的歷史和屬靈洞見。"},deepDive:{title:"次經的歷史與神學爭議",content:"次經爭議源於：1) 希伯來正典不包含這些書（猶太教拉比在雅麥尼亞會議後確認）；2) 新約從未直接引用次經（雖有典故）；3) 早期教父意見分歧（耶柔米反對，奧古斯丁接受）。宗教改革時，路德將次經放在兩約之間，稱其「有益閱讀」；天特會議（Council of Trent, 1546）回應新教,正式確認次經為正典。次經包含：馬加比革命歷史、煉獄教義（馬加比下書12:43-45）、施捨贖罪（多比傳12:9）等。新教拒絕次經基於：唯獨聖經原則和希伯來正典權威。",sources:[{text:"啟示錄 22:18-19 (NIV)",url:"https://www.biblegateway.com/passage/?search=Revelation+22:18-19&version=NIV"},{text:"Biblical Apocrypha",url:"https://www.britannica.com/topic/biblical-literature/Apocrypha-and-Pseudepigrapha"}]}},{id:"q66",character:"古代譯本專家",characterImage:"https://picsum.photos/seed/versions-scholar/100",question:"武加大譯本（Vulgate）在教會歷史中的角色是什麼？",options:["最早的希臘文新約","耶柔米翻譯的拉丁文聖經，成為天主教會的標準版本","英文聖經的第一個翻譯","希伯來文舊約的註釋"],correctAnswerIndex:1,explanation:"武加大譯本是教父耶柔米（Jerome）在公元382-405年翻譯的拉丁文聖經。他從希伯來文翻譯舊約（而非依賴LXX），修訂了新約拉丁文翻譯。武加大成為天主教會一千多年的官方聖經版本，直到梵二大公會議後才鼓勵使用本地語言。",journalPrompt:{title:"神話語的可及性",content:"耶柔米將聖經翻譯成當時的通用語言拉丁文，使更多人能讀神的話。每個時代都需要忠實、清晰的翻譯，讓人能在自己的語言中遇見神。"},deepDive:{title:"武加大的歷史影響",content:"武加大的特點：1) 從希伯來文翻譯舊約，而非依賴LXX（耶柔米在伯利恆學習希伯來文）；2) 包含次經；3) 影響西方神學詞彙（如「sacramentum」=聖禮）。天特會議（1546）宣佈武加大為官方版本，回應新教改教者的希臘文/希伯來文原文運動。武加大影響：中世紀所有神學和禮拜；英語詞彙（許多KJV翻譯源於武加大）；藝術和文學（但丁、米爾頓）。1979年新武加大（Nova Vulgata）成為天主教禮拜用版本。",sources:[{text:"詩篇 119:105 (Vulgate: Lucerna pedibus meis)",url:"https://www.biblegateway.com/passage/?search=Psalm+119:105&version=NIV"},{text:"Vulgate",url:"https://www.britannica.com/topic/Vulgate"}]}},{id:"q67",character:"歷史學家",characterImage:"https://picsum.photos/seed/historian1/100",question:"兩約之間時期（公元前400-公元1年）對理解新約有何重要性？",options:["這段時期無關緊要","這段時期見證猶太教派別（法利賽人、撒都該人、愛色尼派）的形成和希臘化影響","這段時期聖經仍在書寫","這段時期以色列獨立無外來影響"],correctAnswerIndex:1,explanation:"兩約之間時期（又稱「沉默的400年」）經歷波斯、希臘（亞歷山大及其繼承者）、羅馬統治。這段時期形成新約提及的猶太教派別、會堂制度、文士傳統、彌賽亞期盼加劇，以及希臘化文化影響。理解這個背景對解讀福音書至關重要。",journalPrompt:{title:"神在歷史中的作為",content:"即使沒有先知話語，神在兩約之間仍作工——預備語言（希臘文）、道路（羅馬）、期盼（彌賽亞）。歷史不是偶然，而是神救贖計劃的舞台。"},deepDive:{title:"兩約之間的關鍵事件",content:"重要發展：1) 政治：波斯→亞歷山大→托勒密王朝（埃及）→塞琉古王朝（敘利亞）→哈斯摩尼王朝（馬加比革命後，167-63 BC）→羅馬（63 BC起）；2) 宗教：會堂興起、口傳律法發展、法利賽人（強調律法和傳統）、撒都該人（祭司貴族，只接受摩西五經）、愛色尼派（昆蘭社群，禁慾主義）、奮銳黨（反羅馬激進派）形成；3) 文化：希臘化（Hellenization）影響猶太思想、LXX翻譯、智慧文學發展；4) 神學：彌賽亞觀念發展、復活和天使論爭論。安提阿哥四世褻瀆聖殿（167 BC）引發馬加比革命。",sources:[{text:"但以理書 11章 (預言)",url:"https://www.biblegateway.com/passage/?search=Daniel+11&version=NIV"},{text:"Intertestamental Period",url:"https://www.britannica.com/event/Intertestamental-period"}]}},{id:"q68",character:"猶太文化專家",characterImage:"https://picsum.photos/seed/jewish-culture/100",question:"第一世紀猶太教的會堂（Synagogue）有何功能？",options:["只是社交聚會場所","取代聖殿的獻祭中心","讀經、禱告、教導的敬拜和社群中心","政府行政辦公室"],correctAnswerIndex:2,explanation:"會堂在被擄後發展，成為猶太社群的宗教和社會中心。功能包括：安息日讀經和教導（路4:16-21）、禱告、教育兒童、社群集會、慈善工作。耶穌和保羅都在會堂傳道（徒17:1-2）。會堂不獻祭（獻祭只在耶路撒冷聖殿進行），而是研讀和教導律法的地方。",journalPrompt:{title:"會堂與早期教會",content:"早期基督教會的敬拜模式受會堂影響：讀經、講道、禱告。會堂也成為保羅宣教的起點——先向猶太人，後向外邦人（羅1:16）。"},deepDive:{title:"會堂的結構與禮拜",content:"會堂組織：1) 會堂主管（如睚魯，可5:22）負責禮拜秩序；2) 管理委員會處理社群事務；3) 收藏Torah卷軸的約櫃；4) 面向耶路撒冷的方向。安息日禮拜程序：示瑪（Shema，申6:4-9）、禱告（Amidah，18祝福）、Torah讀經、先知書讀經（Haftarah）、講解（Midrash）、祝福。任何成年男性可被邀請讀經和教導（路4:16；徒13:15）。會堂需至少10個成年男性（minyan）。公元70年聖殿被毀後，會堂成為猶太教的中心。",sources:[{text:"路加福音 4:16-21 (ESV)",url:"https://www.biblegateway.com/passage/?search=Luke+4:16-21&version=ESV"},{text:"Ancient Synagogues",url:"https://www.britannica.com/topic/synagogue"}]}},{id:"q69",character:"羅馬文化學者",characterImage:"https://picsum.photos/seed/roman-culture/100",question:"羅馬帝國對新約時期基督教傳播有何影響？",options:["羅馬完全壓制基督教","羅馬的和平（Pax Romana）、道路系統、通用語言促進福音傳播","羅馬對基督教毫無影響","羅馬皇帝支持基督教"],correctAnswerIndex:1,explanation:"羅馬帝國在神的護理中為福音傳播預備條件：1) 羅馬和平（Pax Romana）提供穩定和安全；2) 優秀的道路系統便利旅行；3) 通用希臘文跨越語言障礙；4) 猶太僑民散居各地建立會堂。保羅利用羅馬公民身份（徒22:25-29）和道路網絡進行宣教旅程。",journalPrompt:{title:"神主權的工具",content:"神甚至使用異教帝國成就祂的旨意。羅馬無意中為福音預備道路，正如居里扭的戶口令促使耶穌在伯利恆降生（路2:1-7），應驗彌迦書5:2。"},deepDive:{title:"羅馬帝國的宗教與政治背景",content:"羅馬帝國特點：1) 宗教多元主義——容忍各種宗教,只要效忠皇帝；2) 皇帝崇拜——奧古斯都後被神化，要求獻香稱「主」（kyrios），與基督教「耶穌是主」衝突；3) 法律系統——保羅上訴於凱撒（徒25:11）；4) 社會階層——公民vs.非公民、自由人vs.奴隸，基督教超越階級（加3:28）；5) 道路——羅馬軍團建造的道路網絡連接帝國；6) 希臘化——雖羅馬統治,但東部仍主要說希臘語。逼迫：尼祿（64 AD）、多米田（90s AD）、圖拉真（110s AD）、戴克里先（303 AD）。君士坦丁（313 AD）頒佈米蘭敕令,終止逼迫。",sources:[{text:"路加福音 2:1-7 (NIV)",url:"https://www.biblegateway.com/passage/?search=Luke+2:1-7&version=NIV"},{text:"Roman Empire and Christianity",url:"https://www.britannica.com/topic/Christianity/The-history-of-Christianity"}]}},{id:"q70",character:"古代近東專家",characterImage:"https://picsum.photos/seed/ancient-near-east/100",question:"古代近東文學（如吉爾伽美什史詩、埃努瑪·埃利什創世詩）與創世記的關係是什麼？",options:["創世記抄襲這些神話","創世記與這些文學有相似主題但提供獨特的一神論視角","兩者毫無關係","這些神話比創世記更可靠"],correctAnswerIndex:1,explanation:"創世記與古代近東文學（如巴比倫創世詩埃努瑪·埃利什、吉爾伽美什洪水敘事）有相似主題：創造、洪水、英雄。但創世記提供根本不同的神學：一位創造主（非多神）、有序創造（非神祇爭鬥）、人有神的形像（非神的奴隸）。創世記在相同文化語境中傳達獨特啟示。",journalPrompt:{title:"啟示與文化",content:"神在特定文化背景中啟示祂自己。創世記使用古代近東讀者熟悉的文學形式，但顛覆異教神學，彰顯獨一真神的榮耀和人的尊貴。"},deepDive:{title:"創世記與古代近東文學的對比",content:"相似性：1) 洪水敘事（吉爾伽美什史詩第11塊泥板：方舟、動物、烏鴉/鴿子、山頂停靠、獻祭）；2) 創造主題（埃努瑪·埃利什：原始水、光的創造、人的形成）；3) 宗主條約結構（赫人條約與盟約）。關鍵差異：1) 一神論vs.多神論；2) 有序創造vs.神祇暴力爭鬥；3) 人有神形像vs.人是神的奴隸；4) 道德洪水審判vs.神厭煩人的噪音；5) 慈愛創造主vs.反覆無常的神。這些比較不貶低聖經權威，反而突顯其獨特啟示性。",sources:[{text:"創世記 1:1-2 (ESV)",url:"https://www.biblegateway.com/passage/?search=Genesis+1:1-2&version=ESV"},{text:"Ancient Near Eastern Literature",url:"https://www.britannica.com/topic/ancient-Near-Eastern-literature"}]}},{id:"q71",character:"社會史學者",characterImage:"https://picsum.photos/seed/social-historian/100",question:"第一世紀地中海世界的榮辱文化（Honor-Shame Culture）如何影響新約的理解？",options:["榮辱觀念不重要","理解榮辱文化幫助解釋耶穌的比喻、保羅的修辭和早期信徒的行為","只有罪疚文化影響新約","新約完全拒絕榮辱觀念"],correctAnswerIndex:1,explanation:"第一世紀是榮辱文化（集體主義，重視公眾評價），而非現代西方的罪疚文化（個人主義，重視內在良知）。理解這點幫助解釋：耶穌的「虛心」和「為義受逼迫」（太5:3,10）、十字架的「羞辱」（來12:2）、保羅的「誇口」修辭（林後10-12章）、彼此順服的勸勉（弗5:21）。",journalPrompt:{title:"福音顛覆文化",content:"福音轉化榮辱價值觀：在基督裡,羞辱變為榮耀（腓3:7-8）；軟弱成為能力（林後12:9-10）；末後的在先（太20:16）。神的國有不同的榮辱標準。"},deepDive:{title:"榮辱文化與新約詮釋",content:"榮辱文化特徵：1) 集體身份（家族/群體榮辱）；2) 公眾名聲至關重要；3) 挑戰-回應模式（如法利賽人挑戰耶穌）；4) 恩主-受恩者關係（patronage）；5) 有限財富觀（零和遊戲，他人的得是我的失）。新約例子：浪子比喻（路15,小兒子使家族蒙羞）；撒該（路19,稅吏職業羞恥）；十字架（申21:23,被掛者是可咒詛的）；婦女見證人（約20,在榮辱文化中婦女證詞不被重視,但神揀選她們）。福音重新定義榮耀：以神的認可為至高榮耀（約5:44；12:43）。",sources:[{text:"希伯來書 12:2 (NIV)",url:"https://www.biblegateway.com/passage/?search=Hebrews+12:2&version=NIV"},{text:"Honor-Shame Culture",url:"https://www.missiologymatters.com/honor-and-shame"}]}},{id:"q72",character:"詮釋學學者",characterImage:"https://picsum.photos/seed/hermeneutics/100",question:"「形式批判」（Form Criticism）在聖經研究中探討什麼？",options:["聖經的文字格式","聖經經文在成書前的口傳形式和生活情境（Sitz im Leben）","聖經的文學美感","聖經的印刷歷史"],correctAnswerIndex:1,explanation:"形式批判由德國學者如馬丁·狄貝流斯（Martin Dibelius）和魯道夫·布爾特曼（Rudolf Bultmann）發展，研究聖經材料在被寫下之前的口傳階段。它識別不同文學形式（如神蹟故事、比喻、教導）並探討其在早期社群中的功能（Sitz im Leben，生活情境）。",journalPrompt:{title:"口傳與書面傳統",content:"早期教會在書寫福音前,透過口傳保存耶穌的教導和事蹟。這個過程不是隨意的,而是在聖靈引導下,社群忠實傳承的過程。"},deepDive:{title:"形式批判的方法與評估",content:"形式批判步驟：1) 識別文學形式（Gattungen）——神蹟故事、衝突故事、比喻、格言、受難敘事等；2) 分析形式的結構特徵；3) 重建「生活情境」（Sitz im Leben）——這個形式在早期教會哪種場合使用（敬拜、教導、宣教、爭論）；4) 追溯傳統的發展。貢獻：幫助理解福音書材料的多樣性和早期教會處境。批評：1) 過度懷疑歷史可靠性；2) 假設社群創造而非保存傳統；3) 忽視目擊者的角色。保守學者如理查德·鮑克漢（Richard Bauckham）強調目擊者證詞和使徒權威。",sources:[{text:"路加福音 1:1-4 (ESV)",url:"https://www.biblegateway.com/passage/?search=Luke+1:1-4&version=ESV"},{text:"Form Criticism",url:"https://www.britannica.com/topic/form-criticism"}]}},{id:"q73",character:"編修批判學者",characterImage:"https://picsum.photos/seed/redaction-critic/100",question:"「編修批判」（Redaction Criticism）與「形式批判」有何不同？",options:["編修批判研究編輯者如何選擇和編排材料以傳達神學訊息","兩者完全相同","編修批判只關心文法錯誤","編修批判證明聖經都是虛構的"],correctAnswerIndex:0,explanation:"編修批判（20世紀中期發展）研究福音書作者作為神學家和編輯的角色。它關注作者如何選擇、編排、修改材料來服事其神學目的和讀者需要。例如,馬太如何編排耶穌的教導成五大講論,或路加如何強調耶穌對邊緣人的關懷。",journalPrompt:{title:"默示的作者",content:"編修批判提醒我們,福音書作者不是機械抄寫員,而是在聖靈引導下,有意識地為特定讀者塑造信息的神學家。默示不抹殺人的個性。"},deepDive:{title:"編修批判的應用",content:"編修批判方法：1) 比較符類福音的平行段落；2) 分析作者的增添、省略、編排；3) 識別作者的神學主題和強調。例子：1) 馬太的五大講論（5-7章、10章、13章、18章、24-25章）呼應摩西五經,顯示耶穌為新摩西；2) 路加-使徒行傳的旅程主題（路9:51「定意向耶路撒冷去」，徒1:8「直到地極」）；3) 約翰的「我是」宣告和「相信」動詞（約20:30-31）。貢獻：欣賞每位福音書作者的獨特神學視角。限制：不應假設編輯=捏造,作者仍受歷史事件約束。",sources:[{text:"約翰福音 20:30-31 (NIV)",url:"https://www.biblegateway.com/passage/?search=John+20:30-31&version=NIV"},{text:"Redaction Criticism",url:"https://www.britannica.com/topic/redaction-criticism"}]}},{id:"q74",character:"女性主義神學家",characterImage:"https://picsum.photos/seed/feminist-theologian/100",question:"女性主義聖經批判（Feminist Biblical Criticism）的主要關切是什麼？",options:["拒絕整本聖經","檢視聖經文本和詮釋中的性別偏見,恢復女性聲音和經驗","證明聖經反對女性","只研究女性作者的經文"],correctAnswerIndex:1,explanation:"女性主義聖經批判（20世紀後期發展）關注：1) 揭露父權詮釋傳統；2) 重新閱讀被邊緣化的女性故事（如哈拿、路得、以斯帖、馬利亞、抹大拉的馬利亞）；3) 挑戰壓迫性的經文應用；4) 提倡公義和平等的詮釋。目的不是拒絕聖經,而是更忠實地閱讀。",journalPrompt:{title:"聖經中的女性",content:"聖經記載許多有信心的女性：底波拉領導以色列、路得展現堅貞、以斯帖拯救族人、馬利亞孕育救主、抹大拉的馬利亞是復活首位見證人。神重視女性。"},deepDive:{title:"女性主義詮釋的方法與爭議",content:"女性主義詮釋方法：1) 解構性閱讀——揭露父權意識形態；2) 重建性閱讀——恢復女性歷史和貢獻；3) 創造性閱讀——想像女性角色的未述故事；4) 規範性閱讀——建立解放和公義的詮釋原則。關注經文：創2-3（夏娃）、士4-5（底波拉）、箴31（才德婦人）、路1-2（馬利亞和以利沙伯）、羅16（女執事非比）、林前11和14（女性在教會）、加3:28（在基督裡合一）、弗5（夫妻關係）、提前2（女性教導）。爭議：激進派視聖經為父權文獻需批判；福音派女性主義者視聖經為解放文獻被誤用。",sources:[{text:"加拉太書 3:28 (ESV)",url:"https://www.biblegateway.com/passage/?search=Galatians+3:28&version=ESV"},{text:"Feminist Biblical Interpretation",url:"https://www.britannica.com/topic/biblical-literature/Feminist-criticism"}]}},{id:"q75",character:"後殖民批判學者",characterImage:"https://picsum.photos/seed/postcolonial-scholar/100",question:"後殖民聖經批判（Postcolonial Biblical Criticism）探討什麼議題？",options:["只研究古代殖民歷史","檢視聖經文本中的帝國權力動態,以及聖經如何被用於殖民和解殖","拒絕所有西方神學","證明聖經支持殖民主義"],correctAnswerIndex:1,explanation:"後殖民批判（20世紀末發展）探討：1) 聖經文本中的帝國（埃及、亞述、巴比倫、波斯、羅馬）；2) 征服迦南的倫理問題；3) 聖經如何被殖民者用來合理化壓迫；4) 被殖民者如何重新閱讀聖經尋求解放（如拉丁美洲解放神學）。目標是去殖民化詮釋,讓邊緣聲音被聽見。",journalPrompt:{title:"邊緣的聲音",content:"聖經本身是被壓迫者的文學：希伯來奴隸逃離埃及、被擄者在巴比倫哀歌、受逼迫的教會在羅馬帝國。神站在弱者一邊。"},deepDive:{title:"後殖民詮釋的視角",content:"後殖民批判關注：1) 聖經中的帝國批判——出埃及對法老的批判、但以理書對巴比倫/波斯的批判、啟示錄對羅馬（「大巴比倫」）的批判；2) 問題經文——征服迦南（書1-12）、「滅絕令」（herem）的倫理；3) 殖民歷史——西方宣教士如何用聖經支持殖民（「文明使命」）,同時也帶來教育和醫療；4) 解殖詮釋——非洲、亞洲、拉丁美洲神學家如何從本土處境閱讀聖經。貢獻：揭示詮釋的文化和權力因素。挑戰：避免簡化（聖經既有帝國批判也有神授權征服迦南的敘事）；平衡特殊啟示和普世公義。",sources:[{text:"啟示錄 18章 (巴比倫的傾倒)",url:"https://www.biblegateway.com/passage/?search=Revelation+18&version=NIV"},{text:"Postcolonial Biblical Criticism",url:"https://www.oxfordbibliographies.com/view/document/obo-9780195393361/obo-9780195393361-0240.xml"}]}}],yl=[{id:"l1",name:"迦勒底的吾珥",era:"先祖時期",position:{top:"75%",left:"70%"},questId:"q1"},{id:"l2",name:"西奈山",era:"出埃及時期",position:{top:"55%",left:"45%"},questId:"q2",dependency:"l1"},{id:"l7",name:"約旦河東岸",era:"征服時期",position:{top:"45%",left:"52%"},questId:"q7",dependency:"l2"},{id:"l8",name:"耶路撒冷宮殿",era:"王國時期",position:{top:"42%",left:"48%"},questId:"q8",dependency:"l7"},{id:"l9",name:"基遍",era:"王國鼎盛期",position:{top:"40%",left:"47%"},questId:"q9",dependency:"l8"},{id:"l10",name:"耶路撒冷聖殿",era:"先知時期",position:{top:"43%",left:"49%"},questId:"q10",dependency:"l9"},{id:"l5",name:"巴比倫",era:"流亡時期",position:{top:"60%",left:"65%"},questId:"q5",dependency:"l10"},{id:"l11",name:"巴比倫宮殿",era:"流亡時期",position:{top:"62%",left:"67%"},questId:"q11",dependency:"l5"},{id:"l3",name:"約旦河",era:"新約先驅",position:{top:"40%",left:"50%"},questId:"q3",dependency:"l11"},{id:"l12",name:"加利利山上",era:"耶穌時期",position:{top:"35%",left:"49%"},questId:"q12",dependency:"l3"},{id:"l13",name:"耶利哥",era:"耶穌時期",position:{top:"44%",left:"50%"},questId:"q13",dependency:"l12"},{id:"l4",name:"耶路撒冷",era:"使徒時期",position:{top:"42%",left:"48%"},questId:"q4",dependency:"l13"},{id:"l14",name:"以弗所",era:"使徒時期",position:{top:"32%",left:"38%"},questId:"q14",dependency:"l4"},{id:"l15",name:"伯大尼",era:"耶穌時期",position:{top:"43%",left:"51%"},questId:"q15",dependency:"l14"},{id:"l6",name:"哥林多",era:"教會時期",position:{top:"30%",left:"35%"},questId:"q6",dependency:"l15"},{id:"l16",name:"伊甸園",era:"創世時期",position:{top:"80%",left:"68%"},questId:"q16",dependency:"l6"},{id:"l17",name:"亞拉臘山",era:"洪水時期",position:{top:"70%",left:"55%"},questId:"q17",dependency:"l16"},{id:"l18",name:"埃及",era:"先祖時期",position:{top:"65%",left:"42%"},questId:"q18",dependency:"l17"},{id:"l19",name:"紅海邊",era:"出埃及時期",position:{top:"58%",left:"46%"},questId:"q19",dependency:"l18"},{id:"l20",name:"加低斯巴尼亞",era:"曠野時期",position:{top:"52%",left:"47%"},questId:"q20",dependency:"l19"},{id:"l21",name:"伯利恆",era:"士師時期",position:{top:"43%",left:"49%"},questId:"q21",dependency:"l20"},{id:"l22",name:"示羅",era:"士師時期",position:{top:"41%",left:"48%"},questId:"q22",dependency:"l21"},{id:"l23",name:"大衛城",era:"王國時期",position:{top:"42%",left:"49%"},questId:"q23",dependency:"l22"},{id:"l24",name:"迦密山",era:"王國分裂期",position:{top:"38%",left:"47%"},questId:"q24",dependency:"l23"},{id:"l25",name:"撒瑪利亞",era:"王國分裂期",position:{top:"40%",left:"48%"},questId:"q25",dependency:"l24"},{id:"l26",name:"烏斯地",era:"先祖傳說期",position:{top:"72%",left:"58%"},questId:"q26",dependency:"l25"},{id:"l27",name:"耶利米之井",era:"王國末期",position:{top:"43%",left:"48%"},questId:"q27",dependency:"l26"},{id:"l28",name:"波斯書珊城",era:"回歸時期",position:{top:"55%",left:"73%"},questId:"q28",dependency:"l27"},{id:"l29",name:"波斯帝國",era:"回歸時期",position:{top:"58%",left:"70%"},questId:"q29",dependency:"l28"},{id:"l30",name:"猶大山地",era:"耶穌降生前",position:{top:"44%",left:"50%"},questId:"q30",dependency:"l29"},{id:"l31",name:"伯利恆野地",era:"耶穌降生",position:{top:"43%",left:"49%"},questId:"q31",dependency:"l30"},{id:"l32",name:"耶路撒冷城內",era:"耶穌時期",position:{top:"42%",left:"48%"},questId:"q32",dependency:"l31"},{id:"l33",name:"敘加城",era:"耶穌時期",position:{top:"39%",left:"48%"},questId:"q33",dependency:"l32"},{id:"l34",name:"迦百農",era:"耶穌時期",position:{top:"36%",left:"49%"},questId:"q34",dependency:"l33"},{id:"l35",name:"墓園",era:"復活時期",position:{top:"42%",left:"48%"},questId:"q35",dependency:"l34"},{id:"l36",name:"馬可樓",era:"復活後",position:{top:"42%",left:"49%"},questId:"q36",dependency:"l35"},{id:"l37",name:"推雅推喇",era:"使徒時期",position:{top:"33%",left:"40%"},questId:"q37",dependency:"l36"},{id:"l38",name:"哥林多",era:"使徒時期",position:{top:"30%",left:"35%"},questId:"q38",dependency:"l37"},{id:"l39",name:"歌羅西",era:"使徒時期",position:{top:"32%",left:"41%"},questId:"q39",dependency:"l38"},{id:"l40",name:"小亞細亞",era:"使徒時期",position:{top:"34%",left:"39%"},questId:"q40",dependency:"l39"},{id:"l41",name:"耶路撒冷議會",era:"使徒時期",position:{top:"42%",left:"48%"},questId:"q41",dependency:"l40"},{id:"l42",name:"該撒利亞",era:"使徒時期",position:{top:"37%",left:"47%"},questId:"q42",dependency:"l41"},{id:"l43",name:"安提阿",era:"使徒時期",position:{top:"28%",left:"52%"},questId:"q43",dependency:"l42"},{id:"l44",name:"腓立比",era:"使徒時期",position:{top:"25%",left:"36%"},questId:"q44",dependency:"l43"},{id:"l45",name:"以弗所教會",era:"使徒時期",position:{top:"32%",left:"38%"},questId:"q45",dependency:"l44"},{id:"l46",name:"堅革哩",era:"使徒時期",position:{top:"31%",left:"35%"},questId:"q46",dependency:"l45"},{id:"l47",name:"亞歷山大",era:"使徒時期",position:{top:"50%",left:"40%"},questId:"q47",dependency:"l46"},{id:"l48",name:"凱撒利亞",era:"使徒時期",position:{top:"37%",left:"47%"},questId:"q48",dependency:"l47"},{id:"l49",name:"羅馬",era:"使徒時期",position:{top:"22%",left:"20%"},questId:"q49",dependency:"l48"},{id:"l50",name:"老底嘉",era:"啟示錄時期",position:{top:"33%",left:"41%"},questId:"q50",dependency:"l49"},{id:"l51",name:"希伯來文學研究中心",era:"學術研究",position:{top:"15%",left:"75%"},questId:"q51",dependency:"l50"},{id:"l52",name:"馬索拉文本研究所",era:"學術研究",position:{top:"18%",left:"73%"},questId:"q52",dependency:"l51"},{id:"l53",name:"古代語言學院",era:"學術研究",position:{top:"16%",left:"78%"},questId:"q53",dependency:"l52"},{id:"l54",name:"詩歌文學研究室",era:"學術研究",position:{top:"19%",left:"76%"},questId:"q54",dependency:"l53"},{id:"l55",name:"舊約正典研究中心",era:"學術研究",position:{top:"12%",left:"68%"},questId:"q55",dependency:"l54"},{id:"l56",name:"考古學研究所",era:"學術研究",position:{top:"14%",left:"65%"},questId:"q56",dependency:"l55"},{id:"l57",name:"文獻批判學院",era:"學術研究",position:{top:"17%",left:"70%"},questId:"q57",dependency:"l56"},{id:"l58",name:"聖約神學研究室",era:"學術研究",position:{top:"15%",left:"72%"},questId:"q58",dependency:"l57"},{id:"l59",name:"新約語言研究中心",era:"學術研究",position:{top:"20%",left:"55%"},questId:"q59",dependency:"l58"},{id:"l60",name:"正典形成研究所",era:"學術研究",position:{top:"22%",left:"58%"},questId:"q60",dependency:"l59"},{id:"l61",name:"符類福音研究室",era:"學術研究",position:{top:"18%",left:"60%"},questId:"q61",dependency:"l60"},{id:"l62",name:"保羅書信研究中心",era:"學術研究",position:{top:"21%",left:"62%"},questId:"q62",dependency:"l61"},{id:"l63",name:"古代手抄本研究所",era:"學術研究",position:{top:"10%",left:"50%"},questId:"q63",dependency:"l62"},{id:"l64",name:"七十士譯本研究中心",era:"學術研究",position:{top:"12%",left:"53%"},questId:"q64",dependency:"l63"},{id:"l65",name:"次經研究室",era:"學術研究",position:{top:"14%",left:"48%"},questId:"q65",dependency:"l64"},{id:"l66",name:"古代譯本研究所",era:"學術研究",position:{top:"11%",left:"56%"},questId:"q66",dependency:"l65"},{id:"l67",name:"兩約歷史研究中心",era:"學術研究",position:{top:"25%",left:"45%"},questId:"q67",dependency:"l66"},{id:"l68",name:"猶太文化研究所",era:"學術研究",position:{top:"23%",left:"48%"},questId:"q68",dependency:"l67"},{id:"l69",name:"羅馬文化研究室",era:"學術研究",position:{top:"27%",left:"42%"},questId:"q69",dependency:"l68"},{id:"l70",name:"古代近東研究中心",era:"學術研究",position:{top:"24%",left:"50%"},questId:"q70",dependency:"l69"},{id:"l71",name:"社會文化研究所",era:"學術研究",position:{top:"26%",left:"47%"},questId:"q71",dependency:"l70"},{id:"l72",name:"形式批判研究中心",era:"學術研究",position:{top:"8%",left:"38%"},questId:"q72",dependency:"l71"},{id:"l73",name:"編修批判研究所",era:"學術研究",position:{top:"10%",left:"42%"},questId:"q73",dependency:"l72"},{id:"l74",name:"女性主義詮釋研究室",era:"學術研究",position:{top:"12%",left:"35%"},questId:"q74",dependency:"l73"},{id:"l75",name:"後殖民批判研究中心",era:"學術研究",position:{top:"9%",left:"45%"},questId:"q75",dependency:"l74"}],Jg=[{id:"level1",name:"信仰的根基",locationIds:["l1","l2","l7"],discussionPrompts:["「聖約」的概念如何改變您對與上帝關係的看法？","為什麼身體上的潔淨在舊約中如此重要，它如何指向更深層次的屬靈現實？","約書亞設立紀念石的做法對今天的信仰傳承有何啟示？"]},{id:"level2",name:"王國的智慧",locationIds:["l8","l9","l10"],discussionPrompts:["大衛在詩篇中表達的信靠與交託，如何幫助我們面對現代生活的壓力？","所羅門選擇智慧而非財富的故事，對我們的人生優先次序有何挑戰？","以賽亞的「受苦僕人」預言如何幫助我們理解救贖的本質？"]},{id:"level3",name:"流亡與盼望",locationIds:["l5","l11"],discussionPrompts:["以西結關於「新心」的應許如何為耶穌的教導和基督教洗禮鋪路？","但以理在異邦環境中持守信仰的經歷，對現代基督徒有何實用意義？"]},{id:"level4",name:"彌賽亞的來臨",locationIds:["l3","l12","l13","l15"],discussionPrompts:["悔改在施洗約翰的事工中扮演什麼角色？它與我們今天對洗禮的理解有何關聯？","耶穌的「八福」如何挑戰世俗的價值觀？","撒該的悔改行動如何示範真正的生命改變？","馬大和馬利亞的故事如何幫助我們平衡服事與靈修？"]},{id:"level5",name:"教會的建立",locationIds:["l4","l14","l6"],discussionPrompts:["根據彼得在五旬節的講道，洗禮與領受聖靈之間有什麼關係？","約翰記錄的「我是道路、真理、生命」如何確立基督信仰的獨特性？","「披戴基督」對基督徒的日常生活有何實際意義？"]},{id:"level6",name:"創造與洪水",locationIds:["l16","l17","l18"],discussionPrompts:["夏娃面對試探的經歷如何幫助我們理解罪的本質和抵擋試探的方法？","挪亞的順服和忍耐對我們在不信的世代中持守信仰有何啟示？","約瑟從被賣到成為宰相的經歷如何展現神的主權和護理？"]},{id:"level7",name:"出埃及與曠野",locationIds:["l19","l20","l21"],discussionPrompts:["米利暗的讚美和領導力對今天的教會女性事奉有何啟發？","迦勒的信心和堅持如何激勵我們面對人生的挑戰？","路得對拿俄米的忠誠如何展現盟約關係的美好？"]},{id:"level8",name:"士師與王國初期",locationIds:["l22","l23","l24"],discussionPrompts:["撒母耳如何成為士師與君王制度之間的橋樑？","拔示巴的故事如何提醒我們罪的後果和神的憐憫？","以利亞對抗巴力的經歷對今天面對屬靈爭戰有何教導？"]},{id:"level9",name:"先知與苦難",locationIds:["l25","l26","l27"],discussionPrompts:["以利沙的神蹟事工如何延續以利亞的使命？","約伯的苦難和信心對我們理解苦難神學有何貢獻？","耶利米在艱難時期的忠心如何鼓勵我們在逆境中堅持？"]},{id:"level10",name:"回歸與重建",locationIds:["l28","l29","l30"],discussionPrompts:["尼希米的領導和組織能力對今天的教會建造有何啟示？","以斯帖的勇氣如何教導我們「為這樣的時刻而生」的使命感？","以利沙伯與馬利亞的相遇如何展現舊新約之間的連結？"]},{id:"level11",name:"耶穌的事工",locationIds:["l31","l32","l33","l34"],discussionPrompts:["東方智慧人尋找耶穌的旅程對我們尋求神有何啟發？","尼哥底母「重生」的對話如何幫助我們理解救恩的本質？","撒瑪利亞婦人與耶穌的對話如何打破文化和宗教的障礙？","百夫長的信心如何超越猶太人的理解？"]},{id:"level12",name:"復活與見證",locationIds:["l35","l36","l37","l38"],discussionPrompts:["抹大拉的馬利亞作為第一位復活見證人有何重要性？","多馬的懷疑和相信如何幫助我們處理信仰中的疑惑？","呂底亞成為第一位歐洲信徒的故事有何宣教意義？","亞居拉和百基拉夫婦的配搭事奉如何示範家庭宣教？"]},{id:"level13",name:"早期教會",locationIds:["l39","l40","l41","l42"],discussionPrompts:["腓利門書如何處理基督教倫理與當時社會制度的張力？","保羅對提摩太的栽培如何展現屬靈導師的重要性？","雅各書如何平衡信心與行為的教導？","西拉與保羅的宣教夥伴關係有何啟發？"]},{id:"level14",name:"使徒擴展",locationIds:["l43","l44","l45","l46"],discussionPrompts:["亞波羅被百基拉和亞居拉指教的故事對謙卑學習有何啟示？","腓利向埃提阿伯太監傳福音的經歷如何示範聖靈引導的宣教？","哥尼流的故事如何標誌福音向外邦人開放的轉折點？","巴拿巴的鼓勵恩賜如何建造早期教會？"]},{id:"level15",name:"教會的完全",locationIds:["l47","l48","l49","l50"],discussionPrompts:["以巴弗為歌羅西教會的竭力禱告對我們的代禱事工有何教導？","非比被保羅稱為「執事」和「幫助者」對女性事奉有何意義？","馬可從失敗到恢復的經歷如何鼓勵我們在事奉中重新得力？","老底嘉教會的不冷不熱對今天的教會有何警醒？"]},{id:"level16",name:"希伯來聖經導論",locationIds:["l51","l52","l53","l54"],discussionPrompts:["Tanakh的三重結構（Torah、Nevi'im、Ketuvim）如何影響我們理解舊約的權威和神學？","馬索拉文本的精確傳承工作對我們今天敬畏神話語有何啟示？","希伯來文和亞蘭文作為聖經語言的特性如何影響我們的解經方法？","希伯來詩歌的平行體結構如何幫助我們更深入默想神的話語？"]},{id:"level17",name:"舊約研究進階",locationIds:["l55","l56","l57","l58"],discussionPrompts:["基督教舊約與猶太教Tanakh的編排差異反映了哪些神學視角的不同？","死海古卷的發現如何加強我們對聖經傳抄可靠性的信心？","文獻假說等批判理論如何挑戰並深化我們對聖經默示的理解？","「約」作為舊約核心主題如何貫穿整個救贖歷史？"]},{id:"level18",name:"新約研究基礎",locationIds:["l59","l60","l61","l62"],discussionPrompts:["通用希臘文（Koine）作為新約語言如何體現神的時機和普世宣教的心意？","新約正典形成的漸進過程如何顯示聖靈在教會歷史中的引導？","符類福音問題的研究如何豐富我們對四福音多元見證的理解？","保羅書信的真偽爭議提醒我們在學術誠實和信仰委身之間如何平衡？"]},{id:"level19",name:"聖經文獻與譯本",locationIds:["l63","l64","l65","l66"],discussionPrompts:["數千份新約手抄本的保存如何見證神護理祂話語的大能？","七十士譯本（LXX）如何為福音傳向外邦世界預備道路？","次經的正典地位爭議如何幫助我們思考「什麼是神的話語」這個核心問題？","武加大譯本等古代譯本的歷史如何提醒我們翻譯工作的重要性？"]},{id:"level20",name:"歷史文化背景",locationIds:["l67","l68","l69","l70","l71"],discussionPrompts:["兩約之間時期的歷史發展如何顯示神在「沉默的400年」中仍在作工？","會堂制度和猶太教派別的形成如何幫助我們理解耶穌和使徒的事工背景？","羅馬帝國的和平、道路和語言如何成為神傳播福音的工具？","古代近東文學與創世記的比較如何突顯聖經獨特的一神論啟示？","榮辱文化的理解如何幫助我們更深刻地體會福音對文化價值的顛覆與轉化？"]},{id:"level21",name:"聖經批判研究",locationIds:["l72","l73","l74","l75"],discussionPrompts:["形式批判對口傳傳統的研究如何幫助我們欣賞早期教會保存耶穌教導的忠實性？","編修批判如何提醒我們福音書作者在聖靈引導下的神學創造力？","女性主義聖經詮釋如何挑戰我們重新發現聖經中被邊緣化的女性聲音？","後殖民批判如何幫助我們反思聖經詮釋中的權力動態和文化處境？"]}],Ax=H.createContext(void 0),GS=({children:e})=>{const[t,i]=H.useState(()=>{const w=localStorage.getItem("bible-game-completed-quests");if(w)try{return new Set(JSON.parse(w))}catch{return new Set}return new Set}),[a,s]=H.useState(()=>{const w=localStorage.getItem("bible-game-journal-entries");if(w)try{return JSON.parse(w)}catch{return[]}return[]}),[l,c]=H.useState(Nx.NIV),[f,p]=H.useState(!1);H.useEffect(()=>{localStorage.setItem("bible-game-completed-quests",JSON.stringify(Array.from(t)))},[t]),H.useEffect(()=>{localStorage.setItem("bible-game-journal-entries",JSON.stringify(a))},[a]);const h=H.useMemo(()=>{const w=new Set;return yl.forEach(S=>{var C;if(!S.dependency)w.add(S.id);else{const E=(C=yl.find(R=>R.id===S.dependency))==null?void 0:C.questId;E&&t.has(E)&&w.add(S.id)}}),w},[t]),g=H.useCallback((w,S)=>{i(C=>new Set(C).add(w)),s(C=>[...C,{...S,id:w}])},[]),b=H.useMemo(()=>({completedQuests:t,unlockedLocations:h,journalEntries:a,bibleVersion:l,isFreeChoiceMode:f,completeQuest:g,setBibleVersion:c,setIsFreeChoiceMode:p}),[t,h,a,l,f,g]);return d.jsx(Ax.Provider,{value:b,children:e})},ar=()=>{const e=H.useContext(Ax);if(e===void 0)throw new Error("useGame must be used within a GameProvider");return e};var kx=(e=>(e.NIV="NIV",e.ESV="ESV",e.KJV="KJV",e))(kx||{});const jS={"book-open":d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),x:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),check:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),lightbulb:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 001.5-11.25H10.5a6.01 6.01 0 001.5 11.25v.25m0 0h.01M12 18v-5.25m0 0a6.01 6.01 0 00-1.5-11.25H10.5a6.01 6.01 0 00-1.5 11.25v.25m0 0h.01M12 18v-5.25m0 0a6.01 6.01 0 011.5-11.25H10.5a6.01 6.01 0 01-1.5 11.25v.25m0 0h.01"})}),unlock:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75M10.5 13.5V18c0 .414.336.75.75.75h3c.414 0 .75-.336.75-.75v-4.5M10.5 13.5h3.75"})}),lock:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})}),sparkles:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.572L16.5 21.75l-.398-1.178a3.375 3.375 0 00-2.456-2.456L12.5 18l1.178-.398a3.375 3.375 0 002.456-2.456L16.5 14.25l.398 1.178a3.375 3.375 0 002.456 2.456L20.5 18l-1.178.398a3.375 3.375 0 00-2.456 2.456z"})}),list:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),loader:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})})},ot=({name:e,className:t="w-6 h-6"})=>d.jsx("div",{className:t,children:jS[e]}),HS=[{id:"gen",nameChinese:"創世記",nameEnglish:"Genesis",chapters:50,testament:"OT"},{id:"exo",nameChinese:"出埃及記",nameEnglish:"Exodus",chapters:40,testament:"OT"},{id:"lev",nameChinese:"利未記",nameEnglish:"Leviticus",chapters:27,testament:"OT"},{id:"num",nameChinese:"民數記",nameEnglish:"Numbers",chapters:36,testament:"OT"},{id:"deu",nameChinese:"申命記",nameEnglish:"Deuteronomy",chapters:34,testament:"OT"},{id:"jos",nameChinese:"約書亞記",nameEnglish:"Joshua",chapters:24,testament:"OT"},{id:"jdg",nameChinese:"士師記",nameEnglish:"Judges",chapters:21,testament:"OT"},{id:"rut",nameChinese:"路得記",nameEnglish:"Ruth",chapters:4,testament:"OT"},{id:"1sa",nameChinese:"撒母耳記上",nameEnglish:"1 Samuel",chapters:31,testament:"OT"},{id:"2sa",nameChinese:"撒母耳記下",nameEnglish:"2 Samuel",chapters:24,testament:"OT"},{id:"1ki",nameChinese:"列王紀上",nameEnglish:"1 Kings",chapters:22,testament:"OT"},{id:"2ki",nameChinese:"列王紀下",nameEnglish:"2 Kings",chapters:25,testament:"OT"},{id:"1ch",nameChinese:"歷代志上",nameEnglish:"1 Chronicles",chapters:29,testament:"OT"},{id:"2ch",nameChinese:"歷代志下",nameEnglish:"2 Chronicles",chapters:36,testament:"OT"},{id:"ezr",nameChinese:"以斯拉記",nameEnglish:"Ezra",chapters:10,testament:"OT"},{id:"neh",nameChinese:"尼希米記",nameEnglish:"Nehemiah",chapters:13,testament:"OT"},{id:"est",nameChinese:"以斯帖記",nameEnglish:"Esther",chapters:10,testament:"OT"},{id:"job",nameChinese:"約伯記",nameEnglish:"Job",chapters:42,testament:"OT"},{id:"psa",nameChinese:"詩篇",nameEnglish:"Psalms",chapters:150,testament:"OT"},{id:"pro",nameChinese:"箴言",nameEnglish:"Proverbs",chapters:31,testament:"OT"},{id:"ecc",nameChinese:"傳道書",nameEnglish:"Ecclesiastes",chapters:12,testament:"OT"},{id:"sng",nameChinese:"雅歌",nameEnglish:"Song of Solomon",chapters:8,testament:"OT"},{id:"isa",nameChinese:"以賽亞書",nameEnglish:"Isaiah",chapters:66,testament:"OT"},{id:"jer",nameChinese:"耶利米書",nameEnglish:"Jeremiah",chapters:52,testament:"OT"},{id:"lam",nameChinese:"耶利米哀歌",nameEnglish:"Lamentations",chapters:5,testament:"OT"},{id:"ezk",nameChinese:"以西結書",nameEnglish:"Ezekiel",chapters:48,testament:"OT"},{id:"dan",nameChinese:"但以理書",nameEnglish:"Daniel",chapters:12,testament:"OT"},{id:"hos",nameChinese:"何西阿書",nameEnglish:"Hosea",chapters:14,testament:"OT"},{id:"jol",nameChinese:"約珥書",nameEnglish:"Joel",chapters:3,testament:"OT"},{id:"amo",nameChinese:"阿摩司書",nameEnglish:"Amos",chapters:9,testament:"OT"},{id:"oba",nameChinese:"俄巴底亞書",nameEnglish:"Obadiah",chapters:1,testament:"OT"},{id:"jon",nameChinese:"約拿書",nameEnglish:"Jonah",chapters:4,testament:"OT"},{id:"mic",nameChinese:"彌迦書",nameEnglish:"Micah",chapters:7,testament:"OT"},{id:"nam",nameChinese:"那鴻書",nameEnglish:"Nahum",chapters:3,testament:"OT"},{id:"hab",nameChinese:"哈巴谷書",nameEnglish:"Habakkuk",chapters:3,testament:"OT"},{id:"zep",nameChinese:"西番雅書",nameEnglish:"Zephaniah",chapters:3,testament:"OT"},{id:"hag",nameChinese:"哈該書",nameEnglish:"Haggai",chapters:2,testament:"OT"},{id:"zec",nameChinese:"撒迦利亞書",nameEnglish:"Zechariah",chapters:14,testament:"OT"},{id:"mal",nameChinese:"瑪拉基書",nameEnglish:"Malachi",chapters:4,testament:"OT"}],zS=[{id:"mat",nameChinese:"馬太福音",nameEnglish:"Matthew",chapters:28,testament:"NT"},{id:"mrk",nameChinese:"馬可福音",nameEnglish:"Mark",chapters:16,testament:"NT"},{id:"luk",nameChinese:"路加福音",nameEnglish:"Luke",chapters:24,testament:"NT"},{id:"jhn",nameChinese:"約翰福音",nameEnglish:"John",chapters:21,testament:"NT"},{id:"act",nameChinese:"使徒行傳",nameEnglish:"Acts",chapters:28,testament:"NT"},{id:"rom",nameChinese:"羅馬書",nameEnglish:"Romans",chapters:16,testament:"NT"},{id:"1co",nameChinese:"哥林多前書",nameEnglish:"1 Corinthians",chapters:16,testament:"NT"},{id:"2co",nameChinese:"哥林多後書",nameEnglish:"2 Corinthians",chapters:13,testament:"NT"},{id:"gal",nameChinese:"加拉太書",nameEnglish:"Galatians",chapters:6,testament:"NT"},{id:"eph",nameChinese:"以弗所書",nameEnglish:"Ephesians",chapters:6,testament:"NT"},{id:"php",nameChinese:"腓立比書",nameEnglish:"Philippians",chapters:4,testament:"NT"},{id:"col",nameChinese:"歌羅西書",nameEnglish:"Colossians",chapters:4,testament:"NT"},{id:"1th",nameChinese:"帖撒羅尼迦前書",nameEnglish:"1 Thessalonians",chapters:5,testament:"NT"},{id:"2th",nameChinese:"帖撒羅尼迦後書",nameEnglish:"2 Thessalonians",chapters:3,testament:"NT"},{id:"1ti",nameChinese:"提摩太前書",nameEnglish:"1 Timothy",chapters:6,testament:"NT"},{id:"2ti",nameChinese:"提摩太後書",nameEnglish:"2 Timothy",chapters:4,testament:"NT"},{id:"tit",nameChinese:"提多書",nameEnglish:"Titus",chapters:3,testament:"NT"},{id:"phm",nameChinese:"腓利門書",nameEnglish:"Philemon",chapters:1,testament:"NT"},{id:"heb",nameChinese:"希伯來書",nameEnglish:"Hebrews",chapters:13,testament:"NT"},{id:"jas",nameChinese:"雅各書",nameEnglish:"James",chapters:5,testament:"NT"},{id:"1pe",nameChinese:"彼得前書",nameEnglish:"1 Peter",chapters:5,testament:"NT"},{id:"2pe",nameChinese:"彼得後書",nameEnglish:"2 Peter",chapters:3,testament:"NT"},{id:"1jn",nameChinese:"約翰一書",nameEnglish:"1 John",chapters:5,testament:"NT"},{id:"2jn",nameChinese:"約翰二書",nameEnglish:"2 John",chapters:1,testament:"NT"},{id:"3jn",nameChinese:"約翰三書",nameEnglish:"3 John",chapters:1,testament:"NT"},{id:"jud",nameChinese:"猶大書",nameEnglish:"Jude",chapters:1,testament:"NT"},{id:"rev",nameChinese:"啟示錄",nameEnglish:"Revelation",chapters:22,testament:"NT"}],BS=(e,t,i="CUVMPT")=>{const a=`${e.nameEnglish}+${t}`;return`https://www.biblegateway.com/passage/?search=${encodeURIComponent(a)}&version=${i}`},OS=()=>{const{bibleVersion:e}=ar(),[t,i]=H.useState("NT"),[a,s]=H.useState(null),[l,c]=H.useState(1),f=t==="OT"?HS:zS,p=g=>{s(g),c(1)},h=()=>{if(a){const g=BS(a,l,e);window.open(g,"_blank","noopener,noreferrer")}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex gap-4 justify-center",children:[d.jsx("button",{onClick:()=>{i("OT"),s(null)},className:`px-6 py-3 rounded-lg font-bold transition-all ${t==="OT"?"bg-amber-800 text-white shadow-lg":"bg-amber-100 text-amber-900 hover:bg-amber-200"}`,children:"舊約聖經 (39卷)"}),d.jsx("button",{onClick:()=>{i("NT"),s(null)},className:`px-6 py-3 rounded-lg font-bold transition-all ${t==="NT"?"bg-amber-800 text-white shadow-lg":"bg-amber-100 text-amber-900 hover:bg-amber-200"}`,children:"新約聖經 (27卷)"})]}),!a&&d.jsxs("div",{children:[d.jsxs("h3",{className:"text-xl font-bold text-amber-900 mb-4",children:["選擇書卷 (",t==="OT"?"舊約":"新約",")"]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 max-h-96 overflow-y-auto",children:f.map(g=>d.jsxs("button",{onClick:()=>p(g),className:"p-3 bg-amber-50 hover:bg-amber-100 border-2 border-amber-300 rounded-lg text-left transition-all hover:shadow-md",children:[d.jsx("div",{className:"font-bold text-amber-900",children:g.nameChinese}),d.jsx("div",{className:"text-xs text-amber-700 mt-1",children:g.nameEnglish}),d.jsxs("div",{className:"text-xs text-amber-600 mt-1",children:[g.chapters," 章"]})]},g.id))})]}),a&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("button",{onClick:()=>s(null),className:"text-amber-800 hover:text-amber-900 font-semibold text-sm",children:"← 返回書卷選擇"}),d.jsxs("div",{className:"bg-amber-100 p-4 rounded-lg border-2 border-amber-300",children:[d.jsx("h3",{className:"text-2xl font-bold text-amber-900",children:a.nameChinese}),d.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:[a.nameEnglish," · 共 ",a.chapters," 章"]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"選擇章節："}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("select",{value:l,onChange:g=>c(parseInt(g.target.value)),className:"flex-1 bg-white border-2 border-amber-300 text-amber-900 rounded-lg px-4 py-2 font-semibold focus:ring-2 focus:ring-amber-500 focus:border-amber-500",children:Array.from({length:a.chapters},(g,b)=>b+1).map(g=>d.jsxs("option",{value:g,children:["第 ",g," 章"]},g))}),d.jsx("button",{onClick:h,className:"px-6 py-2 bg-amber-800 hover:bg-amber-700 text-white font-bold rounded-lg transition-all shadow-md hover:shadow-lg",children:"閱讀經文"})]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-amber-900 mb-2",children:"快速跳轉："}),d.jsx("div",{className:"grid grid-cols-10 gap-2 max-h-64 overflow-y-auto",children:Array.from({length:a.chapters},(g,b)=>b+1).map(g=>d.jsx("button",{onClick:()=>c(g),className:`p-2 rounded font-semibold transition-all ${l===g?"bg-amber-800 text-white":"bg-amber-100 text-amber-900 hover:bg-amber-200"}`,children:g},g))})]}),d.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-600 p-4 rounded-r-lg",children:d.jsxs("p",{className:"text-sm text-amber-900",children:[d.jsx("strong",{children:"提示："}),"點擊「閱讀經文」按鈕將在新視窗中打開 Bible Gateway， 使用 ",e," 版本閱讀 ",a.nameChinese," 第 ",l," 章。"]})})]})]})},FS=({onClose:e})=>{const{journalEntries:t}=ar(),[i,a]=H.useState("journal");return d.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50 animate-fade-in",role:"dialog","aria-modal":"true","aria-labelledby":"journal-title",children:d.jsxs("div",{className:"bg-cover bg-center rounded-lg shadow-2xl w-full max-w-4xl border-4 border-amber-900 text-stone-900 p-6 relative max-h-[90vh] flex flex-col",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/old-paper.png')"},children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsx("h2",{id:"journal-title",className:"text-4xl font-bold text-amber-900",style:{fontFamily:"'Trajan Pro', serif"},children:"智慧卷軸"}),d.jsx("button",{onClick:e,className:"text-stone-600 hover:text-stone-900 transition-colors rounded-full focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-amber-500 focus-visible:ring-offset-amber-100","aria-label":"關閉日誌",children:d.jsx(ot,{name:"x",className:"w-8 h-8"})})]}),d.jsxs("div",{className:"flex gap-2 mb-6 border-b-2 border-amber-300",children:[d.jsxs("button",{onClick:()=>a("journal"),className:`px-6 py-3 font-bold transition-all relative ${i==="journal"?"text-amber-900 bg-amber-100/70":"text-amber-700 hover:text-amber-900 hover:bg-amber-50/50"}`,children:["📖 任務日誌",i==="journal"&&d.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-amber-800"})]}),d.jsxs("button",{onClick:()=>a("bible"),className:`px-6 py-3 font-bold transition-all relative ${i==="bible"?"text-amber-900 bg-amber-100/70":"text-amber-700 hover:text-amber-900 hover:bg-amber-50/50"}`,children:["📜 聖經閱讀",i==="bible"&&d.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-amber-800"})]})]}),d.jsxs("div",{className:"overflow-y-auto flex-grow pr-2",children:[i==="journal"&&d.jsx("div",{children:t.length===0?d.jsx("p",{className:"text-center text-stone-700 mt-8",children:"您的日誌是空的。完成任務以收集智慧。"}):d.jsx("div",{className:"space-y-4",children:t.map(s=>d.jsxs("div",{className:"p-4 bg-amber-50/50 border-l-4 border-amber-800 rounded-r-lg",children:[d.jsx("h3",{className:"font-bold text-xl text-amber-900",children:s.title}),d.jsx("p",{className:"mt-1 text-stone-800",children:s.content})]},s.id))})}),i==="bible"&&d.jsx(OS,{})]})]})})},JS=()=>{const{bibleVersion:e,setBibleVersion:t,journalEntries:i}=ar(),[a,s]=H.useState(!1),[l,c]=H.useState(!1),f=()=>{i.length===0?c(!0):s(!0)};return d.jsxs(d.Fragment,{children:[d.jsxs("header",{className:"p-4 bg-stone-900 bg-opacity-40 text-white shadow-lg flex items-center justify-between flex-wrap gap-4",children:[d.jsx("h1",{className:"text-xl md:text-3xl font-extrabold",style:{fontFamily:"'Trajan Pro', serif"},children:"聖言之旅: 探索『唯獨聖經』認證的信仰"}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("label",{htmlFor:"bible-version",className:"text-sm font-semibold",children:"版本："}),d.jsx("select",{id:"bible-version",value:e,onChange:p=>t(p.target.value),className:"bg-stone-700 border border-stone-600 text-white text-sm rounded-lg focus:ring-amber-500 focus:border-amber-500 block p-2",children:Object.values(kx).map(p=>d.jsx("option",{value:p,children:p},p))})]}),d.jsxs("button",{onClick:f,className:"flex items-center gap-2 bg-amber-800 hover:bg-amber-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300 transform hover:scale-105","aria-label":"開啟智慧卷軸",children:[d.jsx(ot,{name:"book-open",className:"w-5 h-5"}),d.jsx("span",{className:"hidden sm:inline",children:"日誌"})]})]})]}),l&&d.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50 animate-fade-in",onClick:()=>c(!1),children:d.jsxs("div",{className:"bg-cover bg-center rounded-lg shadow-2xl w-full max-w-2xl border-4 border-amber-900 text-stone-900 p-8 relative",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/old-paper.png')"},onClick:p=>p.stopPropagation(),children:[d.jsxs("div",{className:"flex justify-between items-start mb-6",children:[d.jsx("h2",{className:"text-3xl font-bold text-amber-900",style:{fontFamily:"'Trajan Pro', serif"},children:"📜 如何開始您的旅程"}),d.jsx("button",{onClick:()=>c(!1),className:"text-stone-600 hover:text-stone-900 transition-colors","aria-label":"關閉",children:d.jsx(ot,{name:"x",className:"w-8 h-8"})})]}),d.jsxs("div",{className:"space-y-4 text-stone-800",children:[d.jsx("p",{className:"text-lg font-semibold",children:"歡迎來到聖言之旅！您的智慧卷軸目前是空的。"}),d.jsxs("div",{className:"bg-amber-50/70 border-l-4 border-amber-600 p-4 rounded-r-lg",children:[d.jsx("h3",{className:"font-bold text-amber-900 mb-2",children:"📖 任務日誌功能："}),d.jsx("p",{className:"mb-2",children:"完成地圖上的任務以解鎖智慧內容。每完成一個任務，您將獲得："}),d.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[d.jsx("li",{children:"聖經知識與洞見"}),d.jsx("li",{children:"神學智慧的記錄"}),d.jsx("li",{children:"屬靈成長的里程碑"})]})]}),d.jsxs("div",{className:"bg-amber-50/70 border-l-4 border-amber-600 p-4 rounded-r-lg",children:[d.jsx("h3",{className:"font-bold text-amber-900 mb-2",children:"📜 聖經閱讀功能："}),d.jsx("p",{children:"即使沒有完成任務，您也可以使用「聖經閱讀」標籤："}),d.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[d.jsx("li",{children:"瀏覽舊約39卷、新約27卷"}),d.jsx("li",{children:"選擇任何書卷和章節"}),d.jsx("li",{children:"在 Bible Gateway 閱讀經文"})]})]}),d.jsxs("div",{className:"mt-6 pt-4 border-t border-amber-300 flex gap-3",children:[d.jsx("button",{onClick:()=>c(!1),className:"flex-1 px-6 py-3 bg-stone-600 hover:bg-stone-700 text-white font-bold rounded-lg transition-all",children:"開始探索地圖"}),d.jsx("button",{onClick:()=>{c(!1),s(!0)},className:"flex-1 px-6 py-3 bg-amber-800 hover:bg-amber-700 text-white font-bold rounded-lg transition-all",children:"直接閱讀聖經 →"})]})]})]})}),a&&d.jsx(FS,{onClose:()=>s(!1)})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let YS,$S;function KS(){return{geminiUrl:YS,vertexUrl:$S}}function QS(e,t,i,a){var s,l;if(!(e!=null&&e.baseUrl)){const c=KS();return t?(s=c.vertexUrl)!==null&&s!==void 0?s:i:(l=c.geminiUrl)!==null&&l!==void 0?l:a}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class or{}function fe(e,t){const i=/\{([^}]+)\}/g;return e.replace(i,(a,s)=>{if(Object.prototype.hasOwnProperty.call(t,s)){const l=t[s];return l!=null?String(l):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function x(e,t,i){for(let l=0;l<t.length-1;l++){const c=t[l];if(c.endsWith("[]")){const f=c.slice(0,-2);if(!(f in e))if(Array.isArray(i))e[f]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(e[f])){const p=e[f];if(Array.isArray(i))for(let h=0;h<p.length;h++){const g=p[h];x(g,t.slice(l+1),i[h])}else for(const h of p)x(h,t.slice(l+1),i)}return}else if(c.endsWith("[0]")){const f=c.slice(0,-3);f in e||(e[f]=[{}]);const p=e[f];x(p[0],t.slice(l+1),i);return}(!e[c]||typeof e[c]!="object")&&(e[c]={}),e=e[c]}const a=t[t.length-1],s=e[a];if(s!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===s)return;if(typeof s=="object"&&typeof i=="object"&&s!==null&&i!==null)Object.assign(s,i);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(e,i):e[a]=i}function m(e,t,i=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let a=0;a<t.length;a++){if(typeof e!="object"||e===null)return i;const s=t[a];if(s.endsWith("[]")){const l=s.slice(0,-2);if(l in e){const c=e[l];return Array.isArray(c)?c.map(f=>m(f,t.slice(a+1),i)):i}else return i}else e=e[s]}return e}catch(a){if(a instanceof TypeError)return i;throw a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function of(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XS(e){const t={},i=m(e,["operationName"]);i!=null&&x(t,["operationName"],i);const a=m(e,["resourceName"]);return a!=null&&x(t,["_url","resourceName"],a),t}function ZS(e){const t={},i=m(e,["name"]);i!=null&&x(t,["name"],i);const a=m(e,["metadata"]);a!=null&&x(t,["metadata"],a);const s=m(e,["done"]);s!=null&&x(t,["done"],s);const l=m(e,["error"]);l!=null&&x(t,["error"],l);const c=m(e,["response","generateVideoResponse"]);return c!=null&&x(t,["response"],e2(c)),t}function WS(e){const t={},i=m(e,["name"]);i!=null&&x(t,["name"],i);const a=m(e,["metadata"]);a!=null&&x(t,["metadata"],a);const s=m(e,["done"]);s!=null&&x(t,["done"],s);const l=m(e,["error"]);l!=null&&x(t,["error"],l);const c=m(e,["response"]);return c!=null&&x(t,["response"],t2(c)),t}function e2(e){const t={},i=m(e,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>n2(c))),x(t,["generatedVideos"],l)}const a=m(e,["raiMediaFilteredCount"]);a!=null&&x(t,["raiMediaFilteredCount"],a);const s=m(e,["raiMediaFilteredReasons"]);return s!=null&&x(t,["raiMediaFilteredReasons"],s),t}function t2(e){const t={},i=m(e,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>i2(c))),x(t,["generatedVideos"],l)}const a=m(e,["raiMediaFilteredCount"]);a!=null&&x(t,["raiMediaFilteredCount"],a);const s=m(e,["raiMediaFilteredReasons"]);return s!=null&&x(t,["raiMediaFilteredReasons"],s),t}function n2(e){const t={},i=m(e,["_self"]);return i!=null&&x(t,["video"],o2(i)),t}function i2(e){const t={},i=m(e,["_self"]);return i!=null&&x(t,["video"],s2(i)),t}function r2(e){const t={},i=m(e,["operationName"]);return i!=null&&x(t,["_url","operationName"],i),t}function a2(e){const t={},i=m(e,["operationName"]);return i!=null&&x(t,["_url","operationName"],i),t}function o2(e){const t={},i=m(e,["video","uri"]);i!=null&&x(t,["uri"],i);const a=m(e,["video","encodedVideo"]);a!=null&&x(t,["videoBytes"],of(a));const s=m(e,["encoding"]);return s!=null&&x(t,["mimeType"],s),t}function s2(e){const t={},i=m(e,["gcsUri"]);i!=null&&x(t,["uri"],i);const a=m(e,["bytesBase64Encoded"]);a!=null&&x(t,["videoBytes"],of(a));const s=m(e,["mimeType"]);return s!=null&&x(t,["mimeType"],s),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Yg;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Yg||(Yg={}));var $g;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})($g||($g={}));var Ne;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Ne||(Ne={}));var Kg;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Kg||(Kg={}));var Qg;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Qg||(Qg={}));var Xg;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(Xg||(Xg={}));var Zg;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Zg||(Zg={}));var Wg;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(Wg||(Wg={}));var e0;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(e0||(e0={}));var t0;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(t0||(t0={}));var n0;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(n0||(n0={}));var i0;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(i0||(i0={}));var r0;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(r0||(r0={}));var a0;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY"})(a0||(a0={}));var o0;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(o0||(o0={}));var xl;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(xl||(xl={}));var s0;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(s0||(s0={}));var Id;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Id||(Id={}));var l0;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(l0||(l0={}));var u0;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(u0||(u0={}));var c0;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V"})(c0||(c0={}));var d0;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(d0||(d0={}));var f0;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(f0||(f0={}));var h0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(h0||(h0={}));var p0;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(p0||(p0={}));var m0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(m0||(m0={}));var g0;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(g0||(g0={}));var y0;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(y0||(y0={}));var x0;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(x0||(x0={}));var v0;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(v0||(v0={}));var b0;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(b0||(b0={}));var w0;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(w0||(w0={}));var S0;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(S0||(S0={}));var N0;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(N0||(N0={}));var E0;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(E0||(E0={}));var T0;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(T0||(T0={}));var C0;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(C0||(C0={}));var _0;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(_0||(_0={}));var A0;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(A0||(A0={}));var k0;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(k0||(k0={}));var I0;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(I0||(I0={}));var R0;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(R0||(R0={}));var M0;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(M0||(M0={}));var D0;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(D0||(D0={}));var L0;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(L0||(L0={}));var q0;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(q0||(q0={}));var U0;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(U0||(U0={}));var P0;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(P0||(P0={}));var ta;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(ta||(ta={}));class Rd{constructor(t){const i={};for(const a of t.headers.entries())i[a[0]]=a[1];this.headers=i,this.responseInternal=t}json(){return this.responseInternal.json()}}class po{get text(){var t,i,a,s,l,c,f,p;if(((s=(a=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",g=!1;const b=[];for(const w of(p=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[S,C]of Object.entries(w))S!=="text"&&S!=="thought"&&(C!==null||C!==void 0)&&b.push(S);if(typeof w.text=="string"){if(typeof w.thought=="boolean"&&w.thought)continue;g=!0,h+=w.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),g?h:void 0}get data(){var t,i,a,s,l,c,f,p;if(((s=(a=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const g=[];for(const b of(p=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[w,S]of Object.entries(b))w!=="inlineData"&&(S!==null||S!==void 0)&&g.push(w);b.inlineData&&typeof b.inlineData.data=="string"&&(h+=atob(b.inlineData.data))}return g.length>0&&console.warn(`there are non-data parts ${g} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,i,a,s,l,c,f,p;if(((s=(a=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(p=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(g=>g.functionCall).map(g=>g.functionCall).filter(g=>g!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,i,a,s,l,c,f,p,h;if(((s=(a=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const g=(p=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((g==null?void 0:g.length)!==0)return(h=g==null?void 0:g[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,i,a,s,l,c,f,p,h;if(((s=(a=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const g=(p=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((g==null?void 0:g.length)!==0)return(h=g==null?void 0:g[0])===null||h===void 0?void 0:h.output}}class V0{}class G0{}class l2{}class u2{}class c2{}class d2{}class j0{}class H0{}class z0{}class f2{}class vl{_fromAPIResponse({apiResponse:t,isVertexAI:i}){const a=new vl;let s;const l=t;return i?s=WS(l):s=ZS(l),Object.assign(a,s),a}}class B0{}class O0{}class F0{}class h2{}class p2{}class m2{}class J0{}class g2{get text(){var t,i,a;let s="",l=!1;const c=[];for(const f of(a=(i=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&a!==void 0?a:[]){for(const[p,h]of Object.entries(f))p!=="text"&&p!=="thought"&&h!==null&&c.push(p);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;l=!0,s+=f.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?s:void 0}get data(){var t,i,a;let s="";const l=[];for(const c of(a=(i=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&a!==void 0?a:[]){for(const[f,p]of Object.entries(c))f!=="inlineData"&&p!==null&&l.push(f);c.inlineData&&typeof c.inlineData.data=="string"&&(s+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class y2{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ge(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const i=t.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Ix(e,t){const i=Ge(e,t);return i?i.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${i}`:i.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${i}`:i:""}function Rx(e){return Array.isArray(e)?e.map(t=>bl(t)):[bl(e)]}function bl(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function Mx(e){const t=bl(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Dx(e){const t=bl(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Y0(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function Lx(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>Y0(t)):[Y0(e)]}function Md(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function $0(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function K0(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Et(e){if(e==null)throw new Error("ContentUnion is required");return Md(e)?e:{role:"user",parts:Lx(e)}}function sf(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(i=>{const a=Et(i);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(e.isVertexAI()){const i=Et(t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(t)?t.map(i=>Et(i)):[Et(t)]}function mn(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if($0(e)||K0(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Et(e)]}const t=[],i=[],a=Md(e[0]);for(const s of e){const l=Md(s);if(l!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)t.push(s);else{if($0(s)||K0(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(s)}}return a||t.push({role:"user",parts:Lx(i)}),t}function x2(e,t){e.includes("null")&&(t.nullable=!0);const i=e.filter(a=>a!=="null");if(i.length===1)t.type=Object.values(Ne).includes(i[0].toUpperCase())?i[0].toUpperCase():Ne.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of i)t.anyOf.push({type:Object.values(Ne).includes(a.toUpperCase())?a.toUpperCase():Ne.TYPE_UNSPECIFIED})}}function aa(e){const t={},i=["items"],a=["anyOf"],s=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=e.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(t.nullable=!0,e=l[1]):l[1].type==="null"&&(t.nullable=!0,e=l[0])),e.type instanceof Array&&x2(e.type,t);for(const[c,f]of Object.entries(e))if(f!=null)if(c=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;t.type=Object.values(Ne).includes(f.toUpperCase())?f.toUpperCase():Ne.TYPE_UNSPECIFIED}else if(i.includes(c))t[c]=aa(f);else if(a.includes(c)){const p=[];for(const h of f){if(h.type=="null"){t.nullable=!0;continue}p.push(aa(h))}t[c]=p}else if(s.includes(c)){const p={};for(const[h,g]of Object.entries(f))p[h]=aa(g);t[c]=p}else{if(c==="additionalProperties")continue;t[c]=f}return t}function lf(e){return aa(e)}function uf(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function cf(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function pa(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=aa(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=aa(t.response));return e}function ma(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const i of e)t.push(i);return t}function v2(e,t,i,a=1){const s=!t.startsWith(`${i}/`)&&t.split("/").length===a;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${i}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:s?`projects/${e.getProject()}/locations/${e.getLocation()}/${i}/${t}`:t:s?`${i}/${t}`:t}function ri(e,t){if(typeof t!="string")throw new Error("name must be a string");return v2(e,t,"cachedContents")}function qx(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Di(e){return of(e)}function b2(e){return e!=null&&typeof e=="object"&&"name"in e}function w2(e){return e!=null&&typeof e=="object"&&"video"in e}function S2(e){return e!=null&&typeof e=="object"&&"uri"in e}function Ux(e){var t;let i;if(b2(e)&&(i=e.name),!(S2(e)&&(i=e.uri,i===void 0))&&!(w2(e)&&(i=(t=e.video)===null||t===void 0?void 0:t.uri,i===void 0))){if(typeof e=="string"&&(i=e),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const s=i.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${i}`);i=s[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function Px(e,t){let i;return e.isVertexAI()?i=t?"publishers/google/models":"models":i=t?"models":"tunedModels",i}function Vx(e){for(const t of["models","tunedModels","publisherModels"])if(N2(e,t))return e[t];return[]}function N2(e,t){return e!==null&&typeof e=="object"&&t in e}function E2(e,t={}){const i=e,a={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(a.responseJsonSchema=i.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function T2(e,t={}){const i=[],a=new Set;for(const s of e){const l=s.name;if(a.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);a.add(l);const c=E2(s,t);c.functionDeclarations&&i.push(...c.functionDeclarations)}return{functionDeclarations:i}}function Gx(e,t){let i;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))i={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))i={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))i={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:t}}else i=t;const a=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,s=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(e.isVertexAI()){if(s>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function C2(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function jx(e){if(typeof e!="object"||e===null)return{};const t=e,i=t.inlinedResponses;if(typeof i!="object"||i===null)return e;const s=i.inlinedResponses;if(!Array.isArray(s)||s.length===0)return e;let l=!1;for(const c of s){if(typeof c!="object"||c===null)continue;const p=c.response;if(typeof p!="object"||p===null)continue;if(p.embedding!==void 0){l=!0;break}}return l&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function ga(e,t){const i=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function Hx(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _2(e){const t={},i=m(e,["responsesFile"]);i!=null&&x(t,["fileName"],i);const a=m(e,["inlinedResponses","inlinedResponses"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>nN(c))),x(t,["inlinedResponses"],l)}const s=m(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),x(t,["inlinedEmbedContentResponses"],l)}return t}function A2(e){const t={},i=m(e,["predictionsFormat"]);i!=null&&x(t,["format"],i);const a=m(e,["gcsDestination","outputUriPrefix"]);a!=null&&x(t,["gcsUri"],a);const s=m(e,["bigqueryDestination","outputUri"]);return s!=null&&x(t,["bigqueryUri"],s),t}function k2(e){const t={},i=m(e,["format"]);i!=null&&x(t,["predictionsFormat"],i);const a=m(e,["gcsUri"]);a!=null&&x(t,["gcsDestination","outputUriPrefix"],a);const s=m(e,["bigqueryUri"]);if(s!=null&&x(t,["bigqueryDestination","outputUri"],s),m(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(m(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function bo(e){const t={},i=m(e,["name"]);i!=null&&x(t,["name"],i);const a=m(e,["metadata","displayName"]);a!=null&&x(t,["displayName"],a);const s=m(e,["metadata","state"]);s!=null&&x(t,["state"],Hx(s));const l=m(e,["metadata","createTime"]);l!=null&&x(t,["createTime"],l);const c=m(e,["metadata","endTime"]);c!=null&&x(t,["endTime"],c);const f=m(e,["metadata","updateTime"]);f!=null&&x(t,["updateTime"],f);const p=m(e,["metadata","model"]);p!=null&&x(t,["model"],p);const h=m(e,["metadata","output"]);return h!=null&&x(t,["dest"],_2(jx(h))),t}function Dd(e){const t={},i=m(e,["name"]);i!=null&&x(t,["name"],i);const a=m(e,["displayName"]);a!=null&&x(t,["displayName"],a);const s=m(e,["state"]);s!=null&&x(t,["state"],Hx(s));const l=m(e,["error"]);l!=null&&x(t,["error"],l);const c=m(e,["createTime"]);c!=null&&x(t,["createTime"],c);const f=m(e,["startTime"]);f!=null&&x(t,["startTime"],f);const p=m(e,["endTime"]);p!=null&&x(t,["endTime"],p);const h=m(e,["updateTime"]);h!=null&&x(t,["updateTime"],h);const g=m(e,["model"]);g!=null&&x(t,["model"],g);const b=m(e,["inputConfig"]);b!=null&&x(t,["src"],I2(b));const w=m(e,["outputConfig"]);return w!=null&&x(t,["dest"],A2(jx(w))),t}function I2(e){const t={},i=m(e,["instancesFormat"]);i!=null&&x(t,["format"],i);const a=m(e,["gcsSource","uris"]);a!=null&&x(t,["gcsUri"],a);const s=m(e,["bigquerySource","inputUri"]);return s!=null&&x(t,["bigqueryUri"],s),t}function R2(e,t){const i={};if(m(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=m(t,["fileName"]);a!=null&&x(i,["fileName"],a);const s=m(t,["inlinedRequests"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>tN(e,c))),x(i,["requests","requests"],l)}return i}function M2(e){const t={},i=m(e,["format"]);i!=null&&x(t,["instancesFormat"],i);const a=m(e,["gcsUri"]);a!=null&&x(t,["gcsSource","uris"],a);const s=m(e,["bigqueryUri"]);if(s!=null&&x(t,["bigquerySource","inputUri"],s),m(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function D2(e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["data"]);i!=null&&x(t,["data"],i);const a=m(e,["mimeType"]);return a!=null&&x(t,["mimeType"],a),t}function L2(e,t){const i={},a=m(t,["name"]);return a!=null&&x(i,["_url","name"],ga(e,a)),i}function q2(e,t){const i={},a=m(t,["name"]);return a!=null&&x(i,["_url","name"],ga(e,a)),i}function U2(e){const t={},i=m(e,["content"]);i!=null&&x(t,["content"],i);const a=m(e,["citationMetadata"]);a!=null&&x(t,["citationMetadata"],P2(a));const s=m(e,["tokenCount"]);s!=null&&x(t,["tokenCount"],s);const l=m(e,["finishReason"]);l!=null&&x(t,["finishReason"],l);const c=m(e,["urlContextMetadata"]);c!=null&&x(t,["urlContextMetadata"],c);const f=m(e,["avgLogprobs"]);f!=null&&x(t,["avgLogprobs"],f);const p=m(e,["groundingMetadata"]);p!=null&&x(t,["groundingMetadata"],p);const h=m(e,["index"]);h!=null&&x(t,["index"],h);const g=m(e,["logprobsResult"]);g!=null&&x(t,["logprobsResult"],g);const b=m(e,["safetyRatings"]);if(b!=null){let w=b;Array.isArray(w)&&(w=w.map(S=>S)),x(t,["safetyRatings"],w)}return t}function P2(e){const t={},i=m(e,["citationSources"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),x(t,["citations"],a)}return t}function zx(e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>uN(l))),x(t,["parts"],s)}const a=m(e,["role"]);return a!=null&&x(t,["role"],a),t}function V2(e,t){const i={},a=m(e,["displayName"]);if(t!==void 0&&a!=null&&x(t,["batch","displayName"],a),m(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function G2(e,t){const i={},a=m(e,["displayName"]);t!==void 0&&a!=null&&x(t,["displayName"],a);const s=m(e,["dest"]);return t!==void 0&&s!=null&&x(t,["outputConfig"],k2(C2(s))),i}function Q0(e,t){const i={},a=m(t,["model"]);a!=null&&x(i,["_url","model"],Ge(e,a));const s=m(t,["src"]);s!=null&&x(i,["batch","inputConfig"],R2(e,Gx(e,s)));const l=m(t,["config"]);return l!=null&&V2(l,i),i}function j2(e,t){const i={},a=m(t,["model"]);a!=null&&x(i,["model"],Ge(e,a));const s=m(t,["src"]);s!=null&&x(i,["inputConfig"],M2(Gx(e,s)));const l=m(t,["config"]);return l!=null&&G2(l,i),i}function H2(e,t){const i={},a=m(e,["displayName"]);return t!==void 0&&a!=null&&x(t,["batch","displayName"],a),i}function cd(e,t){const i={},a=m(t,["model"]);a!=null&&x(i,["_url","model"],Ge(e,a));const s=m(t,["src"]);s!=null&&x(i,["batch","inputConfig"],$2(e,s));const l=m(t,["config"]);return l!=null&&H2(l,i),i}function z2(e,t){const i={},a=m(t,["name"]);return a!=null&&x(i,["_url","name"],ga(e,a)),i}function B2(e,t){const i={},a=m(t,["name"]);return a!=null&&x(i,["_url","name"],ga(e,a)),i}function O2(e){const t={},i=m(e,["sdkHttpResponse"]);i!=null&&x(t,["sdkHttpResponse"],i);const a=m(e,["name"]);a!=null&&x(t,["name"],a);const s=m(e,["done"]);s!=null&&x(t,["done"],s);const l=m(e,["error"]);return l!=null&&x(t,["error"],l),t}function F2(e){const t={},i=m(e,["sdkHttpResponse"]);i!=null&&x(t,["sdkHttpResponse"],i);const a=m(e,["name"]);a!=null&&x(t,["name"],a);const s=m(e,["done"]);s!=null&&x(t,["done"],s);const l=m(e,["error"]);return l!=null&&x(t,["error"],l),t}function J2(e,t){const i={},a=m(t,["contents"]);if(a!=null){let l=sf(e,a);Array.isArray(l)&&(l=l.map(c=>c)),x(i,["requests[]","request","content"],l)}const s=m(t,["config"]);return s!=null&&x(i,["_self"],Y2(s,i)),i}function Y2(e,t){const i={},a=m(e,["taskType"]);t!==void 0&&a!=null&&x(t,["requests[]","taskType"],a);const s=m(e,["title"]);t!==void 0&&s!=null&&x(t,["requests[]","title"],s);const l=m(e,["outputDimensionality"]);if(t!==void 0&&l!=null&&x(t,["requests[]","outputDimensionality"],l),m(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function $2(e,t){const i={},a=m(t,["fileName"]);a!=null&&x(i,["file_name"],a);const s=m(t,["inlinedRequests"]);return s!=null&&x(i,["requests"],J2(e,s)),i}function K2(e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["fileUri"]);i!=null&&x(t,["fileUri"],i);const a=m(e,["mimeType"]);return a!=null&&x(t,["mimeType"],a),t}function Q2(e,t,i){const a={},s=m(t,["systemInstruction"]);i!==void 0&&s!=null&&x(i,["systemInstruction"],zx(Et(s)));const l=m(t,["temperature"]);l!=null&&x(a,["temperature"],l);const c=m(t,["topP"]);c!=null&&x(a,["topP"],c);const f=m(t,["topK"]);f!=null&&x(a,["topK"],f);const p=m(t,["candidateCount"]);p!=null&&x(a,["candidateCount"],p);const h=m(t,["maxOutputTokens"]);h!=null&&x(a,["maxOutputTokens"],h);const g=m(t,["stopSequences"]);g!=null&&x(a,["stopSequences"],g);const b=m(t,["responseLogprobs"]);b!=null&&x(a,["responseLogprobs"],b);const w=m(t,["logprobs"]);w!=null&&x(a,["logprobs"],w);const S=m(t,["presencePenalty"]);S!=null&&x(a,["presencePenalty"],S);const C=m(t,["frequencyPenalty"]);C!=null&&x(a,["frequencyPenalty"],C);const E=m(t,["seed"]);E!=null&&x(a,["seed"],E);const R=m(t,["responseMimeType"]);R!=null&&x(a,["responseMimeType"],R);const A=m(t,["responseSchema"]);A!=null&&x(a,["responseSchema"],lf(A));const D=m(t,["responseJsonSchema"]);if(D!=null&&x(a,["responseJsonSchema"],D),m(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const q=m(t,["safetySettings"]);if(i!==void 0&&q!=null){let z=q;Array.isArray(z)&&(z=z.map(re=>cN(re))),x(i,["safetySettings"],z)}const M=m(t,["tools"]);if(i!==void 0&&M!=null){let z=ma(M);Array.isArray(z)&&(z=z.map(re=>dN(pa(re)))),x(i,["tools"],z)}const V=m(t,["toolConfig"]);if(i!==void 0&&V!=null&&x(i,["toolConfig"],V),m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=m(t,["cachedContent"]);i!==void 0&&I!=null&&x(i,["cachedContent"],ri(e,I));const U=m(t,["responseModalities"]);U!=null&&x(a,["responseModalities"],U);const Q=m(t,["mediaResolution"]);Q!=null&&x(a,["mediaResolution"],Q);const $=m(t,["speechConfig"]);if($!=null&&x(a,["speechConfig"],uf($)),m(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=m(t,["thinkingConfig"]);K!=null&&x(a,["thinkingConfig"],K);const te=m(t,["imageConfig"]);return te!=null&&x(a,["imageConfig"],te),a}function X2(e){const t={},i=m(e,["sdkHttpResponse"]);i!=null&&x(t,["sdkHttpResponse"],i);const a=m(e,["candidates"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(h=>U2(h))),x(t,["candidates"],p)}const s=m(e,["modelVersion"]);s!=null&&x(t,["modelVersion"],s);const l=m(e,["promptFeedback"]);l!=null&&x(t,["promptFeedback"],l);const c=m(e,["responseId"]);c!=null&&x(t,["responseId"],c);const f=m(e,["usageMetadata"]);return f!=null&&x(t,["usageMetadata"],f),t}function Z2(e,t){const i={},a=m(t,["name"]);return a!=null&&x(i,["_url","name"],ga(e,a)),i}function W2(e,t){const i={},a=m(t,["name"]);return a!=null&&x(i,["_url","name"],ga(e,a)),i}function eN(e){const t={},i=m(e,["timeRangeFilter"]);if(i!=null&&x(t,["timeRangeFilter"],i),m(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function tN(e,t){const i={},a=m(t,["model"]);a!=null&&x(i,["request","model"],Ge(e,a));const s=m(t,["contents"]);if(s!=null){let c=mn(s);Array.isArray(c)&&(c=c.map(f=>zx(f))),x(i,["request","contents"],c)}const l=m(t,["config"]);return l!=null&&x(i,["request","generationConfig"],Q2(e,l,m(i,["request"],{}))),i}function nN(e){const t={},i=m(e,["response"]);i!=null&&x(t,["response"],X2(i));const a=m(e,["error"]);return a!=null&&x(t,["error"],a),t}function iN(e,t){const i={},a=m(e,["pageSize"]);t!==void 0&&a!=null&&x(t,["_query","pageSize"],a);const s=m(e,["pageToken"]);if(t!==void 0&&s!=null&&x(t,["_query","pageToken"],s),m(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function rN(e,t){const i={},a=m(e,["pageSize"]);t!==void 0&&a!=null&&x(t,["_query","pageSize"],a);const s=m(e,["pageToken"]);t!==void 0&&s!=null&&x(t,["_query","pageToken"],s);const l=m(e,["filter"]);return t!==void 0&&l!=null&&x(t,["_query","filter"],l),i}function aN(e){const t={},i=m(e,["config"]);return i!=null&&iN(i,t),t}function oN(e){const t={},i=m(e,["config"]);return i!=null&&rN(i,t),t}function sN(e){const t={},i=m(e,["sdkHttpResponse"]);i!=null&&x(t,["sdkHttpResponse"],i);const a=m(e,["nextPageToken"]);a!=null&&x(t,["nextPageToken"],a);const s=m(e,["operations"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>bo(c))),x(t,["batchJobs"],l)}return t}function lN(e){const t={},i=m(e,["sdkHttpResponse"]);i!=null&&x(t,["sdkHttpResponse"],i);const a=m(e,["nextPageToken"]);a!=null&&x(t,["nextPageToken"],a);const s=m(e,["batchPredictionJobs"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>Dd(c))),x(t,["batchJobs"],l)}return t}function uN(e){const t={},i=m(e,["videoMetadata"]);i!=null&&x(t,["videoMetadata"],i);const a=m(e,["thought"]);a!=null&&x(t,["thought"],a);const s=m(e,["inlineData"]);s!=null&&x(t,["inlineData"],D2(s));const l=m(e,["fileData"]);l!=null&&x(t,["fileData"],K2(l));const c=m(e,["thoughtSignature"]);c!=null&&x(t,["thoughtSignature"],c);const f=m(e,["functionCall"]);f!=null&&x(t,["functionCall"],f);const p=m(e,["codeExecutionResult"]);p!=null&&x(t,["codeExecutionResult"],p);const h=m(e,["executableCode"]);h!=null&&x(t,["executableCode"],h);const g=m(e,["functionResponse"]);g!=null&&x(t,["functionResponse"],g);const b=m(e,["text"]);return b!=null&&x(t,["text"],b),t}function cN(e){const t={};if(m(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=m(e,["category"]);i!=null&&x(t,["category"],i);const a=m(e,["threshold"]);return a!=null&&x(t,["threshold"],a),t}function dN(e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(h=>h)),x(t,["functionDeclarations"],p)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=m(e,["googleSearch"]);a!=null&&x(t,["googleSearch"],eN(a));const s=m(e,["googleSearchRetrieval"]);if(s!=null&&x(t,["googleSearchRetrieval"],s),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const l=m(e,["urlContext"]);l!=null&&x(t,["urlContext"],l);const c=m(e,["computerUse"]);c!=null&&x(t,["computerUse"],c);const f=m(e,["codeExecution"]);return f!=null&&x(t,["codeExecution"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ir;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ir||(ir={}));class Lo{constructor(t,i,a,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(t,a,s)}init(t,i,a){var s,l;this.nameInternal=t,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!a||Object.keys(a).length===0?c={config:{}}:typeof a=="object"?c=Object.assign({},a):c=a,c.config&&(c.config.pageToken=i.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(s=c.config)===null||s===void 0?void 0:s.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fN extends or{constructor(t){super(),this.apiClient=t,this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{var a,s;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(i.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(i);const f=this.createInlinedEmbedContentRequest(i),p=f.path,h=f.body,g=cd(this.apiClient,i)._query||{};return this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=i.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=i.config)===null||s===void 0?void 0:s.abortSignal}).then(w=>w.json()).then(w=>bo(w))},this.list=async(i={})=>new Lo(ir.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(i),i)}createInlinedGenerateContentRequest(t){const i=Q0(this.apiClient,t),a=i._url,s=fe("{model}:batchGenerateContent",a),f=i.batch.inputConfig.requests,p=f.requests,h=[];for(const g of p){const b=Object.assign({},g);if(b.systemInstruction){const w=b.systemInstruction;delete b.systemInstruction;const S=b.request;S.systemInstruction=w,b.request=S}h.push(b)}return f.requests=h,delete i.config,delete i._url,delete i._query,{path:s,body:i}}createInlinedEmbedContentRequest(t){const i=cd(this.apiClient,t),a=i._url,s=fe("{model}:asyncBatchEmbedContent",a),f=i.batch.inputConfig.requests,p=f.requests,h=[];delete f.config;for(const g of p){const b=Object.assign({},g),w=b.request;for(const S in b)S!=="request"&&(w[S]=b[S],delete b[S]);h.push(b)}return f.requests=h,delete i.config,delete i._url,delete i._query,{path:s,body:i}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,i){const a=i?Object.assign({},i):{},s=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${s}`),a.dest===void 0){const l=this.getGcsUri(t),c=this.getBigqueryUri(t);if(l)l.endsWith(".jsonl")?a.dest=`${l.slice(0,-6)}/dest`:a.dest=`${l}_dest_${s}`;else if(c)a.dest=`${c}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var i,a,s,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=j2(this.apiClient,t);return f=fe("batchPredictionJobs",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>Dd(g))}else{const h=Q0(this.apiClient,t);return f=fe("{model}:batchGenerateContent",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),c.then(g=>bo(g))}}async createEmbeddingsInternal(t){var i,a;let s,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=cd(this.apiClient,t);return l=fe("{model}:asyncBatchEmbedContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),s.then(p=>bo(p))}}async get(t){var i,a,s,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=W2(this.apiClient,t);return f=fe("batchPredictionJobs/{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>Dd(g))}else{const h=Z2(this.apiClient,t);return f=fe("batches/{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),c.then(g=>bo(g))}}async cancel(t){var i,a,s,l;let c="",f={};if(this.apiClient.isVertexAI()){const p=q2(this.apiClient,t);c=fe("batchPredictionJobs/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const p=L2(this.apiClient,t);c=fe("batches/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(t){var i,a,s,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=oN(t);return f=fe("batchPredictionJobs",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:g.headers},w})),c.then(g=>{const b=lN(g),w=new J0;return Object.assign(w,b),w})}else{const h=aN(t);return f=fe("batches",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:g.headers},w})),c.then(g=>{const b=sN(g),w=new J0;return Object.assign(w,b),w})}}async delete(t){var i,a,s,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=B2(this.apiClient,t);return f=fe("batchPredictionJobs/{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:g.headers},w})),c.then(g=>F2(g))}else{const h=z2(this.apiClient,t);return f=fe("batches/{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:g.headers},w})),c.then(g=>O2(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hN(e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["data"]);i!=null&&x(t,["data"],i);const a=m(e,["mimeType"]);return a!=null&&x(t,["mimeType"],a),t}function X0(e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>DN(l))),x(t,["parts"],s)}const a=m(e,["role"]);return a!=null&&x(t,["role"],a),t}function pN(e,t){const i={},a=m(e,["ttl"]);t!==void 0&&a!=null&&x(t,["ttl"],a);const s=m(e,["expireTime"]);t!==void 0&&s!=null&&x(t,["expireTime"],s);const l=m(e,["displayName"]);t!==void 0&&l!=null&&x(t,["displayName"],l);const c=m(e,["contents"]);if(t!==void 0&&c!=null){let g=mn(c);Array.isArray(g)&&(g=g.map(b=>X0(b))),x(t,["contents"],g)}const f=m(e,["systemInstruction"]);t!==void 0&&f!=null&&x(t,["systemInstruction"],X0(Et(f)));const p=m(e,["tools"]);if(t!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(b=>LN(b))),x(t,["tools"],g)}const h=m(e,["toolConfig"]);if(t!==void 0&&h!=null&&x(t,["toolConfig"],h),m(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function mN(e,t){const i={},a=m(e,["ttl"]);t!==void 0&&a!=null&&x(t,["ttl"],a);const s=m(e,["expireTime"]);t!==void 0&&s!=null&&x(t,["expireTime"],s);const l=m(e,["displayName"]);t!==void 0&&l!=null&&x(t,["displayName"],l);const c=m(e,["contents"]);if(t!==void 0&&c!=null){let b=mn(c);Array.isArray(b)&&(b=b.map(w=>w)),x(t,["contents"],b)}const f=m(e,["systemInstruction"]);t!==void 0&&f!=null&&x(t,["systemInstruction"],Et(f));const p=m(e,["tools"]);if(t!==void 0&&p!=null){let b=p;Array.isArray(b)&&(b=b.map(w=>qN(w))),x(t,["tools"],b)}const h=m(e,["toolConfig"]);t!==void 0&&h!=null&&x(t,["toolConfig"],h);const g=m(e,["kmsKeyName"]);return t!==void 0&&g!=null&&x(t,["encryption_spec","kmsKeyName"],g),i}function gN(e,t){const i={},a=m(t,["model"]);a!=null&&x(i,["model"],Ix(e,a));const s=m(t,["config"]);return s!=null&&pN(s,i),i}function yN(e,t){const i={},a=m(t,["model"]);a!=null&&x(i,["model"],Ix(e,a));const s=m(t,["config"]);return s!=null&&mN(s,i),i}function xN(e,t){const i={},a=m(t,["name"]);return a!=null&&x(i,["_url","name"],ri(e,a)),i}function vN(e,t){const i={},a=m(t,["name"]);return a!=null&&x(i,["_url","name"],ri(e,a)),i}function bN(e){const t={},i=m(e,["sdkHttpResponse"]);return i!=null&&x(t,["sdkHttpResponse"],i),t}function wN(e){const t={},i=m(e,["sdkHttpResponse"]);return i!=null&&x(t,["sdkHttpResponse"],i),t}function SN(e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["fileUri"]);i!=null&&x(t,["fileUri"],i);const a=m(e,["mimeType"]);return a!=null&&x(t,["mimeType"],a),t}function NN(e){const t={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=m(e,["description"]);i!=null&&x(t,["description"],i);const a=m(e,["name"]);a!=null&&x(t,["name"],a);const s=m(e,["parameters"]);s!=null&&x(t,["parameters"],s);const l=m(e,["parametersJsonSchema"]);l!=null&&x(t,["parametersJsonSchema"],l);const c=m(e,["response"]);c!=null&&x(t,["response"],c);const f=m(e,["responseJsonSchema"]);return f!=null&&x(t,["responseJsonSchema"],f),t}function EN(e,t){const i={},a=m(t,["name"]);return a!=null&&x(i,["_url","name"],ri(e,a)),i}function TN(e,t){const i={},a=m(t,["name"]);return a!=null&&x(i,["_url","name"],ri(e,a)),i}function CN(e){const t={},i=m(e,["timeRangeFilter"]);if(i!=null&&x(t,["timeRangeFilter"],i),m(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function _N(e,t){const i={},a=m(e,["pageSize"]);t!==void 0&&a!=null&&x(t,["_query","pageSize"],a);const s=m(e,["pageToken"]);return t!==void 0&&s!=null&&x(t,["_query","pageToken"],s),i}function AN(e,t){const i={},a=m(e,["pageSize"]);t!==void 0&&a!=null&&x(t,["_query","pageSize"],a);const s=m(e,["pageToken"]);return t!==void 0&&s!=null&&x(t,["_query","pageToken"],s),i}function kN(e){const t={},i=m(e,["config"]);return i!=null&&_N(i,t),t}function IN(e){const t={},i=m(e,["config"]);return i!=null&&AN(i,t),t}function RN(e){const t={},i=m(e,["sdkHttpResponse"]);i!=null&&x(t,["sdkHttpResponse"],i);const a=m(e,["nextPageToken"]);a!=null&&x(t,["nextPageToken"],a);const s=m(e,["cachedContents"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),x(t,["cachedContents"],l)}return t}function MN(e){const t={},i=m(e,["sdkHttpResponse"]);i!=null&&x(t,["sdkHttpResponse"],i);const a=m(e,["nextPageToken"]);a!=null&&x(t,["nextPageToken"],a);const s=m(e,["cachedContents"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),x(t,["cachedContents"],l)}return t}function DN(e){const t={},i=m(e,["videoMetadata"]);i!=null&&x(t,["videoMetadata"],i);const a=m(e,["thought"]);a!=null&&x(t,["thought"],a);const s=m(e,["inlineData"]);s!=null&&x(t,["inlineData"],hN(s));const l=m(e,["fileData"]);l!=null&&x(t,["fileData"],SN(l));const c=m(e,["thoughtSignature"]);c!=null&&x(t,["thoughtSignature"],c);const f=m(e,["functionCall"]);f!=null&&x(t,["functionCall"],f);const p=m(e,["codeExecutionResult"]);p!=null&&x(t,["codeExecutionResult"],p);const h=m(e,["executableCode"]);h!=null&&x(t,["executableCode"],h);const g=m(e,["functionResponse"]);g!=null&&x(t,["functionResponse"],g);const b=m(e,["text"]);return b!=null&&x(t,["text"],b),t}function LN(e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(h=>h)),x(t,["functionDeclarations"],p)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=m(e,["googleSearch"]);a!=null&&x(t,["googleSearch"],CN(a));const s=m(e,["googleSearchRetrieval"]);if(s!=null&&x(t,["googleSearchRetrieval"],s),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const l=m(e,["urlContext"]);l!=null&&x(t,["urlContext"],l);const c=m(e,["computerUse"]);c!=null&&x(t,["computerUse"],c);const f=m(e,["codeExecution"]);return f!=null&&x(t,["codeExecution"],f),t}function qN(e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(w=>NN(w))),x(t,["functionDeclarations"],b)}const a=m(e,["retrieval"]);a!=null&&x(t,["retrieval"],a);const s=m(e,["googleSearch"]);s!=null&&x(t,["googleSearch"],s);const l=m(e,["googleSearchRetrieval"]);l!=null&&x(t,["googleSearchRetrieval"],l);const c=m(e,["enterpriseWebSearch"]);c!=null&&x(t,["enterpriseWebSearch"],c);const f=m(e,["googleMaps"]);f!=null&&x(t,["googleMaps"],f);const p=m(e,["urlContext"]);p!=null&&x(t,["urlContext"],p);const h=m(e,["computerUse"]);h!=null&&x(t,["computerUse"],h);const g=m(e,["codeExecution"]);return g!=null&&x(t,["codeExecution"],g),t}function UN(e,t){const i={},a=m(e,["ttl"]);t!==void 0&&a!=null&&x(t,["ttl"],a);const s=m(e,["expireTime"]);return t!==void 0&&s!=null&&x(t,["expireTime"],s),i}function PN(e,t){const i={},a=m(e,["ttl"]);t!==void 0&&a!=null&&x(t,["ttl"],a);const s=m(e,["expireTime"]);return t!==void 0&&s!=null&&x(t,["expireTime"],s),i}function VN(e,t){const i={},a=m(t,["name"]);a!=null&&x(i,["_url","name"],ri(e,a));const s=m(t,["config"]);return s!=null&&UN(s,i),i}function GN(e,t){const i={},a=m(t,["name"]);a!=null&&x(i,["_url","name"],ri(e,a));const s=m(t,["config"]);return s!=null&&PN(s,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jN extends or{constructor(t){super(),this.apiClient=t,this.list=async(i={})=>new Lo(ir.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(i),i)}async create(t){var i,a,s,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=yN(this.apiClient,t);return f=fe("cachedContents",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>g)}else{const h=gN(this.apiClient,t);return f=fe("cachedContents",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),c.then(g=>g)}}async get(t){var i,a,s,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=TN(this.apiClient,t);return f=fe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>g)}else{const h=EN(this.apiClient,t);return f=fe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),c.then(g=>g)}}async delete(t){var i,a,s,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=vN(this.apiClient,t);return f=fe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:g.headers},w})),c.then(g=>{const b=wN(g),w=new O0;return Object.assign(w,b),w})}else{const h=xN(this.apiClient,t);return f=fe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:g.headers},w})),c.then(g=>{const b=bN(g),w=new O0;return Object.assign(w,b),w})}}async update(t){var i,a,s,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=GN(this.apiClient,t);return f=fe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>g)}else{const h=VN(this.apiClient,t);return f=fe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),c.then(g=>g)}}async listInternal(t){var i,a,s,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=IN(t);return f=fe("cachedContents",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:g.headers},w})),c.then(g=>{const b=MN(g),w=new F0;return Object.assign(w,b),w})}else{const h=kN(t);return f=fe("cachedContents",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:g.headers},w})),c.then(g=>{const b=RN(g),w=new F0;return Object.assign(w,b),w})}}}function Z0(e){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&e[t],a=0;if(i)return i.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function et(e){return this instanceof et?(this.v=e,this):new et(e)}function oa(e,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i.apply(e,t||[]),s,l=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),s[Symbol.asyncIterator]=function(){return this},s;function c(S){return function(C){return Promise.resolve(C).then(S,b)}}function f(S,C){a[S]&&(s[S]=function(E){return new Promise(function(R,A){l.push([S,E,R,A])>1||p(S,E)})},C&&(s[S]=C(s[S])))}function p(S,C){try{h(a[S](C))}catch(E){w(l[0][3],E)}}function h(S){S.value instanceof et?Promise.resolve(S.value.v).then(g,b):w(l[0][2],S)}function g(S){p("next",S)}function b(S){p("throw",S)}function w(S,C){S(C),l.shift(),l.length&&p(l[0][0],l[0][1])}}function To(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],i;return t?t.call(e):(e=typeof Z0=="function"?Z0(e):e[Symbol.iterator](),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(l){i[l]=e[l]&&function(c){return new Promise(function(f,p){c=e[l](c),s(f,p,c.done,c.value)})}}function s(l,c,f,p){Promise.resolve(p).then(function(h){l({value:h,done:f})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HN(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const i=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return i===void 0?!1:Bx(i)}function Bx(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function zN(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function W0(e){if(e===void 0||e.length===0)return[];const t=[],i=e.length;let a=0;for(;a<i;)if(e[a].role==="user")t.push(e[a]),a++;else{const s=[];let l=!0;for(;a<i&&e[a].role==="model";)s.push(e[a]),l&&!Bx(e[a])&&(l=!1),a++;l?t.push(...s):t.pop()}return t}class BN{constructor(t,i){this.modelsModule=t,this.apiClient=i}create(t){return new ON(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class ON{constructor(t,i,a,s={},l=[]){this.apiClient=t,this.modelsModule=i,this.model=a,this.config=s,this.history=l,this.sendPromise=Promise.resolve(),zN(l)}async sendMessage(t){var i;await this.sendPromise;const a=Et(t.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(i=t.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var l,c,f;const p=await s,h=(c=(l=p.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,g=p.automaticFunctionCallingHistory,b=this.getHistory(!0).length;let w=[];g!=null&&(w=(f=g.slice(b))!==null&&f!==void 0?f:[]);const S=h?[h]:[];this.recordHistory(a,S,w)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(t){var i;await this.sendPromise;const a=Et(t.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(i=t.config)!==null&&i!==void 0?i:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const l=await s;return this.processStreamResponse(l,a)}getHistory(t=!1){const i=t?W0(this.history):this.history;return structuredClone(i)}processStreamResponse(t,i){var a,s;return oa(this,arguments,function*(){var c,f,p,h;const g=[];try{for(var b=!0,w=To(t),S;S=yield et(w.next()),c=S.done,!c;b=!0){h=S.value,b=!1;const C=h;if(HN(C)){const E=(s=(a=C.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content;E!==void 0&&g.push(E)}yield yield et(C)}}catch(C){f={error:C}}finally{try{!b&&!c&&(p=w.return)&&(yield et(p.call(w)))}finally{if(f)throw f.error}}this.recordHistory(i,g)})}recordHistory(t,i,a){let s=[];i.length>0&&i.every(l=>l.role!==void 0)?s=i:s.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...W0(a)):this.history.push(t),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Il extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Il.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FN(e){const t={},i=m(e,["file"]);return i!=null&&x(t,["file"],i),t}function JN(e){const t={},i=m(e,["sdkHttpResponse"]);return i!=null&&x(t,["sdkHttpResponse"],i),t}function YN(e){const t={},i=m(e,["name"]);return i!=null&&x(t,["_url","file"],Ux(i)),t}function $N(e){const t={},i=m(e,["sdkHttpResponse"]);return i!=null&&x(t,["sdkHttpResponse"],i),t}function KN(e){const t={},i=m(e,["name"]);return i!=null&&x(t,["_url","file"],Ux(i)),t}function QN(e,t){const i={},a=m(e,["pageSize"]);t!==void 0&&a!=null&&x(t,["_query","pageSize"],a);const s=m(e,["pageToken"]);return t!==void 0&&s!=null&&x(t,["_query","pageToken"],s),i}function XN(e){const t={},i=m(e,["config"]);return i!=null&&QN(i,t),t}function ZN(e){const t={},i=m(e,["sdkHttpResponse"]);i!=null&&x(t,["sdkHttpResponse"],i);const a=m(e,["nextPageToken"]);a!=null&&x(t,["nextPageToken"],a);const s=m(e,["files"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),x(t,["files"],l)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WN extends or{constructor(t){super(),this.apiClient=t,this.list=async(i={})=>new Lo(ir.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(i),i)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(i=>i)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var i,a;let s,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=XN(t);return l=fe("files",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),s.then(p=>{const h=ZN(p),g=new h2;return Object.assign(g,h),g})}}async createInternal(t){var i,a;let s,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=FN(t);return l=fe("upload/v1beta/files",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),s.then(p=>{const h=JN(p),g=new p2;return Object.assign(g,h),g})}}async get(t){var i,a;let s,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=KN(t);return l=fe("files/{file}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),s.then(p=>p)}}async delete(t){var i,a;let s,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=YN(t);return l=fe("files/{file}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),s.then(p=>{const h=$N(p),g=new m2;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dl(e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["data"]);i!=null&&x(t,["data"],i);const a=m(e,["mimeType"]);return a!=null&&x(t,["mimeType"],a),t}function eE(e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>pE(l))),x(t,["parts"],s)}const a=m(e,["role"]);return a!=null&&x(t,["role"],a),t}function tE(e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["fileUri"]);i!=null&&x(t,["fileUri"],i);const a=m(e,["mimeType"]);return a!=null&&x(t,["mimeType"],a),t}function nE(e){const t={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=m(e,["description"]);i!=null&&x(t,["description"],i);const a=m(e,["name"]);a!=null&&x(t,["name"],a);const s=m(e,["parameters"]);s!=null&&x(t,["parameters"],s);const l=m(e,["parametersJsonSchema"]);l!=null&&x(t,["parametersJsonSchema"],l);const c=m(e,["response"]);c!=null&&x(t,["response"],c);const f=m(e,["responseJsonSchema"]);return f!=null&&x(t,["responseJsonSchema"],f),t}function iE(e){const t={},i=m(e,["modelSelectionConfig"]);i!=null&&x(t,["modelConfig"],i);const a=m(e,["audioTimestamp"]);a!=null&&x(t,["audioTimestamp"],a);const s=m(e,["candidateCount"]);s!=null&&x(t,["candidateCount"],s);const l=m(e,["enableAffectiveDialog"]);l!=null&&x(t,["enableAffectiveDialog"],l);const c=m(e,["frequencyPenalty"]);c!=null&&x(t,["frequencyPenalty"],c);const f=m(e,["logprobs"]);f!=null&&x(t,["logprobs"],f);const p=m(e,["maxOutputTokens"]);p!=null&&x(t,["maxOutputTokens"],p);const h=m(e,["mediaResolution"]);h!=null&&x(t,["mediaResolution"],h);const g=m(e,["presencePenalty"]);g!=null&&x(t,["presencePenalty"],g);const b=m(e,["responseJsonSchema"]);b!=null&&x(t,["responseJsonSchema"],b);const w=m(e,["responseLogprobs"]);w!=null&&x(t,["responseLogprobs"],w);const S=m(e,["responseMimeType"]);S!=null&&x(t,["responseMimeType"],S);const C=m(e,["responseModalities"]);C!=null&&x(t,["responseModalities"],C);const E=m(e,["responseSchema"]);E!=null&&x(t,["responseSchema"],E);const R=m(e,["routingConfig"]);R!=null&&x(t,["routingConfig"],R);const A=m(e,["seed"]);A!=null&&x(t,["seed"],A);const D=m(e,["speechConfig"]);D!=null&&x(t,["speechConfig"],Ox(D));const q=m(e,["stopSequences"]);q!=null&&x(t,["stopSequences"],q);const M=m(e,["temperature"]);M!=null&&x(t,["temperature"],M);const V=m(e,["thinkingConfig"]);V!=null&&x(t,["thinkingConfig"],V);const I=m(e,["topK"]);I!=null&&x(t,["topK"],I);const U=m(e,["topP"]);return U!=null&&x(t,["topP"],U),t}function rE(e){const t={},i=m(e,["timeRangeFilter"]);if(i!=null&&x(t,["timeRangeFilter"],i),m(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function aE(e,t){const i={},a=m(e,["generationConfig"]);t!==void 0&&a!=null&&x(t,["setup","generationConfig"],a);const s=m(e,["responseModalities"]);t!==void 0&&s!=null&&x(t,["setup","generationConfig","responseModalities"],s);const l=m(e,["temperature"]);t!==void 0&&l!=null&&x(t,["setup","generationConfig","temperature"],l);const c=m(e,["topP"]);t!==void 0&&c!=null&&x(t,["setup","generationConfig","topP"],c);const f=m(e,["topK"]);t!==void 0&&f!=null&&x(t,["setup","generationConfig","topK"],f);const p=m(e,["maxOutputTokens"]);t!==void 0&&p!=null&&x(t,["setup","generationConfig","maxOutputTokens"],p);const h=m(e,["mediaResolution"]);t!==void 0&&h!=null&&x(t,["setup","generationConfig","mediaResolution"],h);const g=m(e,["seed"]);t!==void 0&&g!=null&&x(t,["setup","generationConfig","seed"],g);const b=m(e,["speechConfig"]);t!==void 0&&b!=null&&x(t,["setup","generationConfig","speechConfig"],cf(b));const w=m(e,["thinkingConfig"]);t!==void 0&&w!=null&&x(t,["setup","generationConfig","thinkingConfig"],w);const S=m(e,["enableAffectiveDialog"]);t!==void 0&&S!=null&&x(t,["setup","generationConfig","enableAffectiveDialog"],S);const C=m(e,["systemInstruction"]);t!==void 0&&C!=null&&x(t,["setup","systemInstruction"],eE(Et(C)));const E=m(e,["tools"]);if(t!==void 0&&E!=null){let I=ma(E);Array.isArray(I)&&(I=I.map(U=>gE(pa(U)))),x(t,["setup","tools"],I)}const R=m(e,["sessionResumption"]);t!==void 0&&R!=null&&x(t,["setup","sessionResumption"],mE(R));const A=m(e,["inputAudioTranscription"]);t!==void 0&&A!=null&&x(t,["setup","inputAudioTranscription"],A);const D=m(e,["outputAudioTranscription"]);t!==void 0&&D!=null&&x(t,["setup","outputAudioTranscription"],D);const q=m(e,["realtimeInputConfig"]);t!==void 0&&q!=null&&x(t,["setup","realtimeInputConfig"],q);const M=m(e,["contextWindowCompression"]);t!==void 0&&M!=null&&x(t,["setup","contextWindowCompression"],M);const V=m(e,["proactivity"]);return t!==void 0&&V!=null&&x(t,["setup","proactivity"],V),i}function oE(e,t){const i={},a=m(e,["generationConfig"]);t!==void 0&&a!=null&&x(t,["setup","generationConfig"],iE(a));const s=m(e,["responseModalities"]);t!==void 0&&s!=null&&x(t,["setup","generationConfig","responseModalities"],s);const l=m(e,["temperature"]);t!==void 0&&l!=null&&x(t,["setup","generationConfig","temperature"],l);const c=m(e,["topP"]);t!==void 0&&c!=null&&x(t,["setup","generationConfig","topP"],c);const f=m(e,["topK"]);t!==void 0&&f!=null&&x(t,["setup","generationConfig","topK"],f);const p=m(e,["maxOutputTokens"]);t!==void 0&&p!=null&&x(t,["setup","generationConfig","maxOutputTokens"],p);const h=m(e,["mediaResolution"]);t!==void 0&&h!=null&&x(t,["setup","generationConfig","mediaResolution"],h);const g=m(e,["seed"]);t!==void 0&&g!=null&&x(t,["setup","generationConfig","seed"],g);const b=m(e,["speechConfig"]);t!==void 0&&b!=null&&x(t,["setup","generationConfig","speechConfig"],Ox(cf(b)));const w=m(e,["thinkingConfig"]);t!==void 0&&w!=null&&x(t,["setup","generationConfig","thinkingConfig"],w);const S=m(e,["enableAffectiveDialog"]);t!==void 0&&S!=null&&x(t,["setup","generationConfig","enableAffectiveDialog"],S);const C=m(e,["systemInstruction"]);t!==void 0&&C!=null&&x(t,["setup","systemInstruction"],Et(C));const E=m(e,["tools"]);if(t!==void 0&&E!=null){let I=ma(E);Array.isArray(I)&&(I=I.map(U=>yE(pa(U)))),x(t,["setup","tools"],I)}const R=m(e,["sessionResumption"]);t!==void 0&&R!=null&&x(t,["setup","sessionResumption"],R);const A=m(e,["inputAudioTranscription"]);t!==void 0&&A!=null&&x(t,["setup","inputAudioTranscription"],A);const D=m(e,["outputAudioTranscription"]);t!==void 0&&D!=null&&x(t,["setup","outputAudioTranscription"],D);const q=m(e,["realtimeInputConfig"]);t!==void 0&&q!=null&&x(t,["setup","realtimeInputConfig"],q);const M=m(e,["contextWindowCompression"]);t!==void 0&&M!=null&&x(t,["setup","contextWindowCompression"],M);const V=m(e,["proactivity"]);return t!==void 0&&V!=null&&x(t,["setup","proactivity"],V),i}function sE(e,t){const i={},a=m(t,["model"]);a!=null&&x(i,["setup","model"],Ge(e,a));const s=m(t,["config"]);return s!=null&&x(i,["config"],aE(s,i)),i}function lE(e,t){const i={},a=m(t,["model"]);a!=null&&x(i,["setup","model"],Ge(e,a));const s=m(t,["config"]);return s!=null&&x(i,["config"],oE(s,i)),i}function uE(e){const t={},i=m(e,["musicGenerationConfig"]);return i!=null&&x(t,["musicGenerationConfig"],i),t}function cE(e){const t={},i=m(e,["weightedPrompts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),x(t,["weightedPrompts"],a)}return t}function dE(e){const t={},i=m(e,["media"]);if(i!=null){let h=Rx(i);Array.isArray(h)&&(h=h.map(g=>dl(g))),x(t,["mediaChunks"],h)}const a=m(e,["audio"]);a!=null&&x(t,["audio"],dl(Dx(a)));const s=m(e,["audioStreamEnd"]);s!=null&&x(t,["audioStreamEnd"],s);const l=m(e,["video"]);l!=null&&x(t,["video"],dl(Mx(l)));const c=m(e,["text"]);c!=null&&x(t,["text"],c);const f=m(e,["activityStart"]);f!=null&&x(t,["activityStart"],f);const p=m(e,["activityEnd"]);return p!=null&&x(t,["activityEnd"],p),t}function fE(e){const t={},i=m(e,["media"]);if(i!=null){let h=Rx(i);Array.isArray(h)&&(h=h.map(g=>g)),x(t,["mediaChunks"],h)}const a=m(e,["audio"]);a!=null&&x(t,["audio"],Dx(a));const s=m(e,["audioStreamEnd"]);s!=null&&x(t,["audioStreamEnd"],s);const l=m(e,["video"]);l!=null&&x(t,["video"],Mx(l));const c=m(e,["text"]);c!=null&&x(t,["text"],c);const f=m(e,["activityStart"]);f!=null&&x(t,["activityStart"],f);const p=m(e,["activityEnd"]);return p!=null&&x(t,["activityEnd"],p),t}function hE(e){const t={},i=m(e,["setupComplete"]);i!=null&&x(t,["setupComplete"],i);const a=m(e,["serverContent"]);a!=null&&x(t,["serverContent"],a);const s=m(e,["toolCall"]);s!=null&&x(t,["toolCall"],s);const l=m(e,["toolCallCancellation"]);l!=null&&x(t,["toolCallCancellation"],l);const c=m(e,["usageMetadata"]);c!=null&&x(t,["usageMetadata"],xE(c));const f=m(e,["goAway"]);f!=null&&x(t,["goAway"],f);const p=m(e,["sessionResumptionUpdate"]);return p!=null&&x(t,["sessionResumptionUpdate"],p),t}function pE(e){const t={},i=m(e,["videoMetadata"]);i!=null&&x(t,["videoMetadata"],i);const a=m(e,["thought"]);a!=null&&x(t,["thought"],a);const s=m(e,["inlineData"]);s!=null&&x(t,["inlineData"],dl(s));const l=m(e,["fileData"]);l!=null&&x(t,["fileData"],tE(l));const c=m(e,["thoughtSignature"]);c!=null&&x(t,["thoughtSignature"],c);const f=m(e,["functionCall"]);f!=null&&x(t,["functionCall"],f);const p=m(e,["codeExecutionResult"]);p!=null&&x(t,["codeExecutionResult"],p);const h=m(e,["executableCode"]);h!=null&&x(t,["executableCode"],h);const g=m(e,["functionResponse"]);g!=null&&x(t,["functionResponse"],g);const b=m(e,["text"]);return b!=null&&x(t,["text"],b),t}function mE(e){const t={},i=m(e,["handle"]);if(i!=null&&x(t,["handle"],i),m(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Ox(e){const t={},i=m(e,["voiceConfig"]);if(i!=null&&x(t,["voiceConfig"],i),m(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=m(e,["languageCode"]);return a!=null&&x(t,["languageCode"],a),t}function gE(e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(h=>h)),x(t,["functionDeclarations"],p)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=m(e,["googleSearch"]);a!=null&&x(t,["googleSearch"],rE(a));const s=m(e,["googleSearchRetrieval"]);if(s!=null&&x(t,["googleSearchRetrieval"],s),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const l=m(e,["urlContext"]);l!=null&&x(t,["urlContext"],l);const c=m(e,["computerUse"]);c!=null&&x(t,["computerUse"],c);const f=m(e,["codeExecution"]);return f!=null&&x(t,["codeExecution"],f),t}function yE(e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(w=>nE(w))),x(t,["functionDeclarations"],b)}const a=m(e,["retrieval"]);a!=null&&x(t,["retrieval"],a);const s=m(e,["googleSearch"]);s!=null&&x(t,["googleSearch"],s);const l=m(e,["googleSearchRetrieval"]);l!=null&&x(t,["googleSearchRetrieval"],l);const c=m(e,["enterpriseWebSearch"]);c!=null&&x(t,["enterpriseWebSearch"],c);const f=m(e,["googleMaps"]);f!=null&&x(t,["googleMaps"],f);const p=m(e,["urlContext"]);p!=null&&x(t,["urlContext"],p);const h=m(e,["computerUse"]);h!=null&&x(t,["computerUse"],h);const g=m(e,["codeExecution"]);return g!=null&&x(t,["codeExecution"],g),t}function xE(e){const t={},i=m(e,["promptTokenCount"]);i!=null&&x(t,["promptTokenCount"],i);const a=m(e,["cachedContentTokenCount"]);a!=null&&x(t,["cachedContentTokenCount"],a);const s=m(e,["candidatesTokenCount"]);s!=null&&x(t,["responseTokenCount"],s);const l=m(e,["toolUsePromptTokenCount"]);l!=null&&x(t,["toolUsePromptTokenCount"],l);const c=m(e,["thoughtsTokenCount"]);c!=null&&x(t,["thoughtsTokenCount"],c);const f=m(e,["totalTokenCount"]);f!=null&&x(t,["totalTokenCount"],f);const p=m(e,["promptTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(C=>C)),x(t,["promptTokensDetails"],S)}const h=m(e,["cacheTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(C=>C)),x(t,["cacheTokensDetails"],S)}const g=m(e,["candidatesTokensDetails"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(C=>C)),x(t,["responseTokensDetails"],S)}const b=m(e,["toolUsePromptTokensDetails"]);if(b!=null){let S=b;Array.isArray(S)&&(S=S.map(C=>C)),x(t,["toolUsePromptTokensDetails"],S)}const w=m(e,["trafficType"]);return w!=null&&x(t,["trafficType"],w),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vE(e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["data"]);i!=null&&x(t,["data"],i);const a=m(e,["mimeType"]);return a!=null&&x(t,["mimeType"],a),t}function bE(e){const t={},i=m(e,["content"]);i!=null&&x(t,["content"],i);const a=m(e,["citationMetadata"]);a!=null&&x(t,["citationMetadata"],wE(a));const s=m(e,["tokenCount"]);s!=null&&x(t,["tokenCount"],s);const l=m(e,["finishReason"]);l!=null&&x(t,["finishReason"],l);const c=m(e,["urlContextMetadata"]);c!=null&&x(t,["urlContextMetadata"],c);const f=m(e,["avgLogprobs"]);f!=null&&x(t,["avgLogprobs"],f);const p=m(e,["groundingMetadata"]);p!=null&&x(t,["groundingMetadata"],p);const h=m(e,["index"]);h!=null&&x(t,["index"],h);const g=m(e,["logprobsResult"]);g!=null&&x(t,["logprobsResult"],g);const b=m(e,["safetyRatings"]);if(b!=null){let w=b;Array.isArray(w)&&(w=w.map(S=>S)),x(t,["safetyRatings"],w)}return t}function wE(e){const t={},i=m(e,["citationSources"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),x(t,["citations"],a)}return t}function SE(e,t){const i={},a=m(t,["model"]);a!=null&&x(i,["_url","model"],Ge(e,a));const s=m(t,["contents"]);if(s!=null){let l=mn(s);Array.isArray(l)&&(l=l.map(c=>c)),x(i,["contents"],l)}return i}function NE(e){const t={},i=m(e,["sdkHttpResponse"]);i!=null&&x(t,["sdkHttpResponse"],i);const a=m(e,["tokensInfo"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>l)),x(t,["tokensInfo"],s)}return t}function EE(e){const t={},i=m(e,["values"]);i!=null&&x(t,["values"],i);const a=m(e,["statistics"]);return a!=null&&x(t,["statistics"],TE(a)),t}function TE(e){const t={},i=m(e,["truncated"]);i!=null&&x(t,["truncated"],i);const a=m(e,["token_count"]);return a!=null&&x(t,["tokenCount"],a),t}function Rl(e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>kT(l))),x(t,["parts"],s)}const a=m(e,["role"]);return a!=null&&x(t,["role"],a),t}function CE(e){const t={},i=m(e,["controlType"]);i!=null&&x(t,["controlType"],i);const a=m(e,["enableControlImageComputation"]);return a!=null&&x(t,["computeControl"],a),t}function _E(e){const t={};if(m(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function AE(e,t){const i={},a=m(e,["systemInstruction"]);t!==void 0&&a!=null&&x(t,["systemInstruction"],Et(a));const s=m(e,["tools"]);if(t!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>Kx(f))),x(t,["tools"],c)}const l=m(e,["generationConfig"]);return t!==void 0&&l!=null&&x(t,["generationConfig"],yT(l)),i}function kE(e,t){const i={},a=m(t,["model"]);a!=null&&x(i,["_url","model"],Ge(e,a));const s=m(t,["contents"]);if(s!=null){let c=mn(s);Array.isArray(c)&&(c=c.map(f=>Rl(f))),x(i,["contents"],c)}const l=m(t,["config"]);return l!=null&&_E(l),i}function IE(e,t){const i={},a=m(t,["model"]);a!=null&&x(i,["_url","model"],Ge(e,a));const s=m(t,["contents"]);if(s!=null){let c=mn(s);Array.isArray(c)&&(c=c.map(f=>f)),x(i,["contents"],c)}const l=m(t,["config"]);return l!=null&&AE(l,i),i}function RE(e){const t={},i=m(e,["sdkHttpResponse"]);i!=null&&x(t,["sdkHttpResponse"],i);const a=m(e,["totalTokens"]);a!=null&&x(t,["totalTokens"],a);const s=m(e,["cachedContentTokenCount"]);return s!=null&&x(t,["cachedContentTokenCount"],s),t}function ME(e){const t={},i=m(e,["sdkHttpResponse"]);i!=null&&x(t,["sdkHttpResponse"],i);const a=m(e,["totalTokens"]);return a!=null&&x(t,["totalTokens"],a),t}function DE(e,t){const i={},a=m(t,["model"]);return a!=null&&x(i,["_url","name"],Ge(e,a)),i}function LE(e,t){const i={},a=m(t,["model"]);return a!=null&&x(i,["_url","name"],Ge(e,a)),i}function qE(e){const t={},i=m(e,["sdkHttpResponse"]);return i!=null&&x(t,["sdkHttpResponse"],i),t}function UE(e){const t={},i=m(e,["sdkHttpResponse"]);return i!=null&&x(t,["sdkHttpResponse"],i),t}function PE(e,t){const i={},a=m(e,["outputGcsUri"]);t!==void 0&&a!=null&&x(t,["parameters","storageUri"],a);const s=m(e,["negativePrompt"]);t!==void 0&&s!=null&&x(t,["parameters","negativePrompt"],s);const l=m(e,["numberOfImages"]);t!==void 0&&l!=null&&x(t,["parameters","sampleCount"],l);const c=m(e,["aspectRatio"]);t!==void 0&&c!=null&&x(t,["parameters","aspectRatio"],c);const f=m(e,["guidanceScale"]);t!==void 0&&f!=null&&x(t,["parameters","guidanceScale"],f);const p=m(e,["seed"]);t!==void 0&&p!=null&&x(t,["parameters","seed"],p);const h=m(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&x(t,["parameters","safetySetting"],h);const g=m(e,["personGeneration"]);t!==void 0&&g!=null&&x(t,["parameters","personGeneration"],g);const b=m(e,["includeSafetyAttributes"]);t!==void 0&&b!=null&&x(t,["parameters","includeSafetyAttributes"],b);const w=m(e,["includeRaiReason"]);t!==void 0&&w!=null&&x(t,["parameters","includeRaiReason"],w);const S=m(e,["language"]);t!==void 0&&S!=null&&x(t,["parameters","language"],S);const C=m(e,["outputMimeType"]);t!==void 0&&C!=null&&x(t,["parameters","outputOptions","mimeType"],C);const E=m(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&x(t,["parameters","outputOptions","compressionQuality"],E);const R=m(e,["addWatermark"]);t!==void 0&&R!=null&&x(t,["parameters","addWatermark"],R);const A=m(e,["labels"]);t!==void 0&&A!=null&&x(t,["labels"],A);const D=m(e,["editMode"]);t!==void 0&&D!=null&&x(t,["parameters","editMode"],D);const q=m(e,["baseSteps"]);return t!==void 0&&q!=null&&x(t,["parameters","editConfig","baseSteps"],q),i}function VE(e,t){const i={},a=m(t,["model"]);a!=null&&x(i,["_url","model"],Ge(e,a));const s=m(t,["prompt"]);s!=null&&x(i,["instances[0]","prompt"],s);const l=m(t,["referenceImages"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>qT(p))),x(i,["instances[0]","referenceImages"],f)}const c=m(t,["config"]);return c!=null&&PE(c,i),i}function GE(e){const t={},i=m(e,["sdkHttpResponse"]);i!=null&&x(t,["sdkHttpResponse"],i);const a=m(e,["predictions"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>Ml(l))),x(t,["generatedImages"],s)}return t}function jE(e,t){const i={},a=m(e,["taskType"]);t!==void 0&&a!=null&&x(t,["requests[]","taskType"],a);const s=m(e,["title"]);t!==void 0&&s!=null&&x(t,["requests[]","title"],s);const l=m(e,["outputDimensionality"]);if(t!==void 0&&l!=null&&x(t,["requests[]","outputDimensionality"],l),m(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function HE(e,t){const i={},a=m(e,["taskType"]);t!==void 0&&a!=null&&x(t,["instances[]","task_type"],a);const s=m(e,["title"]);t!==void 0&&s!=null&&x(t,["instances[]","title"],s);const l=m(e,["outputDimensionality"]);t!==void 0&&l!=null&&x(t,["parameters","outputDimensionality"],l);const c=m(e,["mimeType"]);t!==void 0&&c!=null&&x(t,["instances[]","mimeType"],c);const f=m(e,["autoTruncate"]);return t!==void 0&&f!=null&&x(t,["parameters","autoTruncate"],f),i}function zE(e,t){const i={},a=m(t,["model"]);a!=null&&x(i,["_url","model"],Ge(e,a));const s=m(t,["contents"]);if(s!=null){let f=sf(e,s);Array.isArray(f)&&(f=f.map(p=>p)),x(i,["requests[]","content"],f)}const l=m(t,["config"]);l!=null&&jE(l,i);const c=m(t,["model"]);return c!==void 0&&x(i,["requests[]","model"],Ge(e,c)),i}function BE(e,t){const i={},a=m(t,["model"]);a!=null&&x(i,["_url","model"],Ge(e,a));const s=m(t,["contents"]);if(s!=null){let c=sf(e,s);Array.isArray(c)&&(c=c.map(f=>f)),x(i,["instances[]","content"],c)}const l=m(t,["config"]);return l!=null&&HE(l,i),i}function OE(e){const t={},i=m(e,["sdkHttpResponse"]);i!=null&&x(t,["sdkHttpResponse"],i);const a=m(e,["embeddings"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),x(t,["embeddings"],l)}const s=m(e,["metadata"]);return s!=null&&x(t,["metadata"],s),t}function FE(e){const t={},i=m(e,["sdkHttpResponse"]);i!=null&&x(t,["sdkHttpResponse"],i);const a=m(e,["predictions[]","embeddings"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>EE(c))),x(t,["embeddings"],l)}const s=m(e,["metadata"]);return s!=null&&x(t,["metadata"],s),t}function JE(e){const t={},i=m(e,["endpoint"]);i!=null&&x(t,["name"],i);const a=m(e,["deployedModelId"]);return a!=null&&x(t,["deployedModelId"],a),t}function YE(e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["fileUri"]);i!=null&&x(t,["fileUri"],i);const a=m(e,["mimeType"]);return a!=null&&x(t,["mimeType"],a),t}function $E(e){const t={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=m(e,["description"]);i!=null&&x(t,["description"],i);const a=m(e,["name"]);a!=null&&x(t,["name"],a);const s=m(e,["parameters"]);s!=null&&x(t,["parameters"],s);const l=m(e,["parametersJsonSchema"]);l!=null&&x(t,["parametersJsonSchema"],l);const c=m(e,["response"]);c!=null&&x(t,["response"],c);const f=m(e,["responseJsonSchema"]);return f!=null&&x(t,["responseJsonSchema"],f),t}function KE(e,t,i){const a={},s=m(t,["systemInstruction"]);i!==void 0&&s!=null&&x(i,["systemInstruction"],Rl(Et(s)));const l=m(t,["temperature"]);l!=null&&x(a,["temperature"],l);const c=m(t,["topP"]);c!=null&&x(a,["topP"],c);const f=m(t,["topK"]);f!=null&&x(a,["topK"],f);const p=m(t,["candidateCount"]);p!=null&&x(a,["candidateCount"],p);const h=m(t,["maxOutputTokens"]);h!=null&&x(a,["maxOutputTokens"],h);const g=m(t,["stopSequences"]);g!=null&&x(a,["stopSequences"],g);const b=m(t,["responseLogprobs"]);b!=null&&x(a,["responseLogprobs"],b);const w=m(t,["logprobs"]);w!=null&&x(a,["logprobs"],w);const S=m(t,["presencePenalty"]);S!=null&&x(a,["presencePenalty"],S);const C=m(t,["frequencyPenalty"]);C!=null&&x(a,["frequencyPenalty"],C);const E=m(t,["seed"]);E!=null&&x(a,["seed"],E);const R=m(t,["responseMimeType"]);R!=null&&x(a,["responseMimeType"],R);const A=m(t,["responseSchema"]);A!=null&&x(a,["responseSchema"],lf(A));const D=m(t,["responseJsonSchema"]);if(D!=null&&x(a,["responseJsonSchema"],D),m(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const q=m(t,["safetySettings"]);if(i!==void 0&&q!=null){let z=q;Array.isArray(z)&&(z=z.map(re=>UT(re))),x(i,["safetySettings"],z)}const M=m(t,["tools"]);if(i!==void 0&&M!=null){let z=ma(M);Array.isArray(z)&&(z=z.map(re=>zT(pa(re)))),x(i,["tools"],z)}const V=m(t,["toolConfig"]);if(i!==void 0&&V!=null&&x(i,["toolConfig"],V),m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=m(t,["cachedContent"]);i!==void 0&&I!=null&&x(i,["cachedContent"],ri(e,I));const U=m(t,["responseModalities"]);U!=null&&x(a,["responseModalities"],U);const Q=m(t,["mediaResolution"]);Q!=null&&x(a,["mediaResolution"],Q);const $=m(t,["speechConfig"]);if($!=null&&x(a,["speechConfig"],uf($)),m(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=m(t,["thinkingConfig"]);K!=null&&x(a,["thinkingConfig"],K);const te=m(t,["imageConfig"]);return te!=null&&x(a,["imageConfig"],te),a}function QE(e,t,i){const a={},s=m(t,["systemInstruction"]);i!==void 0&&s!=null&&x(i,["systemInstruction"],Et(s));const l=m(t,["temperature"]);l!=null&&x(a,["temperature"],l);const c=m(t,["topP"]);c!=null&&x(a,["topP"],c);const f=m(t,["topK"]);f!=null&&x(a,["topK"],f);const p=m(t,["candidateCount"]);p!=null&&x(a,["candidateCount"],p);const h=m(t,["maxOutputTokens"]);h!=null&&x(a,["maxOutputTokens"],h);const g=m(t,["stopSequences"]);g!=null&&x(a,["stopSequences"],g);const b=m(t,["responseLogprobs"]);b!=null&&x(a,["responseLogprobs"],b);const w=m(t,["logprobs"]);w!=null&&x(a,["logprobs"],w);const S=m(t,["presencePenalty"]);S!=null&&x(a,["presencePenalty"],S);const C=m(t,["frequencyPenalty"]);C!=null&&x(a,["frequencyPenalty"],C);const E=m(t,["seed"]);E!=null&&x(a,["seed"],E);const R=m(t,["responseMimeType"]);R!=null&&x(a,["responseMimeType"],R);const A=m(t,["responseSchema"]);A!=null&&x(a,["responseSchema"],lf(A));const D=m(t,["responseJsonSchema"]);D!=null&&x(a,["responseJsonSchema"],D);const q=m(t,["routingConfig"]);q!=null&&x(a,["routingConfig"],q);const M=m(t,["modelSelectionConfig"]);M!=null&&x(a,["modelConfig"],M);const V=m(t,["safetySettings"]);if(i!==void 0&&V!=null){let B=V;Array.isArray(B)&&(B=B.map(ae=>ae)),x(i,["safetySettings"],B)}const I=m(t,["tools"]);if(i!==void 0&&I!=null){let B=ma(I);Array.isArray(B)&&(B=B.map(ae=>Kx(pa(ae)))),x(i,["tools"],B)}const U=m(t,["toolConfig"]);i!==void 0&&U!=null&&x(i,["toolConfig"],U);const Q=m(t,["labels"]);i!==void 0&&Q!=null&&x(i,["labels"],Q);const $=m(t,["cachedContent"]);i!==void 0&&$!=null&&x(i,["cachedContent"],ri(e,$));const K=m(t,["responseModalities"]);K!=null&&x(a,["responseModalities"],K);const te=m(t,["mediaResolution"]);te!=null&&x(a,["mediaResolution"],te);const z=m(t,["speechConfig"]);z!=null&&x(a,["speechConfig"],$x(uf(z)));const re=m(t,["audioTimestamp"]);re!=null&&x(a,["audioTimestamp"],re);const ie=m(t,["thinkingConfig"]);ie!=null&&x(a,["thinkingConfig"],ie);const se=m(t,["imageConfig"]);return se!=null&&x(a,["imageConfig"],se),a}function ey(e,t){const i={},a=m(t,["model"]);a!=null&&x(i,["_url","model"],Ge(e,a));const s=m(t,["contents"]);if(s!=null){let c=mn(s);Array.isArray(c)&&(c=c.map(f=>Rl(f))),x(i,["contents"],c)}const l=m(t,["config"]);return l!=null&&x(i,["generationConfig"],KE(e,l,i)),i}function ty(e,t){const i={},a=m(t,["model"]);a!=null&&x(i,["_url","model"],Ge(e,a));const s=m(t,["contents"]);if(s!=null){let c=mn(s);Array.isArray(c)&&(c=c.map(f=>f)),x(i,["contents"],c)}const l=m(t,["config"]);return l!=null&&x(i,["generationConfig"],QE(e,l,i)),i}function ny(e){const t={},i=m(e,["sdkHttpResponse"]);i!=null&&x(t,["sdkHttpResponse"],i);const a=m(e,["candidates"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(h=>bE(h))),x(t,["candidates"],p)}const s=m(e,["modelVersion"]);s!=null&&x(t,["modelVersion"],s);const l=m(e,["promptFeedback"]);l!=null&&x(t,["promptFeedback"],l);const c=m(e,["responseId"]);c!=null&&x(t,["responseId"],c);const f=m(e,["usageMetadata"]);return f!=null&&x(t,["usageMetadata"],f),t}function iy(e){const t={},i=m(e,["sdkHttpResponse"]);i!=null&&x(t,["sdkHttpResponse"],i);const a=m(e,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(g=>g)),x(t,["candidates"],h)}const s=m(e,["createTime"]);s!=null&&x(t,["createTime"],s);const l=m(e,["modelVersion"]);l!=null&&x(t,["modelVersion"],l);const c=m(e,["promptFeedback"]);c!=null&&x(t,["promptFeedback"],c);const f=m(e,["responseId"]);f!=null&&x(t,["responseId"],f);const p=m(e,["usageMetadata"]);return p!=null&&x(t,["usageMetadata"],p),t}function XE(e,t){const i={};if(m(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=m(e,["numberOfImages"]);t!==void 0&&a!=null&&x(t,["parameters","sampleCount"],a);const s=m(e,["aspectRatio"]);t!==void 0&&s!=null&&x(t,["parameters","aspectRatio"],s);const l=m(e,["guidanceScale"]);if(t!==void 0&&l!=null&&x(t,["parameters","guidanceScale"],l),m(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=m(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&x(t,["parameters","safetySetting"],c);const f=m(e,["personGeneration"]);t!==void 0&&f!=null&&x(t,["parameters","personGeneration"],f);const p=m(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&x(t,["parameters","includeSafetyAttributes"],p);const h=m(e,["includeRaiReason"]);t!==void 0&&h!=null&&x(t,["parameters","includeRaiReason"],h);const g=m(e,["language"]);t!==void 0&&g!=null&&x(t,["parameters","language"],g);const b=m(e,["outputMimeType"]);t!==void 0&&b!=null&&x(t,["parameters","outputOptions","mimeType"],b);const w=m(e,["outputCompressionQuality"]);if(t!==void 0&&w!=null&&x(t,["parameters","outputOptions","compressionQuality"],w),m(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=m(e,["imageSize"]);if(t!==void 0&&S!=null&&x(t,["parameters","sampleImageSize"],S),m(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function ZE(e,t){const i={},a=m(e,["outputGcsUri"]);t!==void 0&&a!=null&&x(t,["parameters","storageUri"],a);const s=m(e,["negativePrompt"]);t!==void 0&&s!=null&&x(t,["parameters","negativePrompt"],s);const l=m(e,["numberOfImages"]);t!==void 0&&l!=null&&x(t,["parameters","sampleCount"],l);const c=m(e,["aspectRatio"]);t!==void 0&&c!=null&&x(t,["parameters","aspectRatio"],c);const f=m(e,["guidanceScale"]);t!==void 0&&f!=null&&x(t,["parameters","guidanceScale"],f);const p=m(e,["seed"]);t!==void 0&&p!=null&&x(t,["parameters","seed"],p);const h=m(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&x(t,["parameters","safetySetting"],h);const g=m(e,["personGeneration"]);t!==void 0&&g!=null&&x(t,["parameters","personGeneration"],g);const b=m(e,["includeSafetyAttributes"]);t!==void 0&&b!=null&&x(t,["parameters","includeSafetyAttributes"],b);const w=m(e,["includeRaiReason"]);t!==void 0&&w!=null&&x(t,["parameters","includeRaiReason"],w);const S=m(e,["language"]);t!==void 0&&S!=null&&x(t,["parameters","language"],S);const C=m(e,["outputMimeType"]);t!==void 0&&C!=null&&x(t,["parameters","outputOptions","mimeType"],C);const E=m(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&x(t,["parameters","outputOptions","compressionQuality"],E);const R=m(e,["addWatermark"]);t!==void 0&&R!=null&&x(t,["parameters","addWatermark"],R);const A=m(e,["labels"]);t!==void 0&&A!=null&&x(t,["labels"],A);const D=m(e,["imageSize"]);t!==void 0&&D!=null&&x(t,["parameters","sampleImageSize"],D);const q=m(e,["enhancePrompt"]);return t!==void 0&&q!=null&&x(t,["parameters","enhancePrompt"],q),i}function WE(e,t){const i={},a=m(t,["model"]);a!=null&&x(i,["_url","model"],Ge(e,a));const s=m(t,["prompt"]);s!=null&&x(i,["instances[0]","prompt"],s);const l=m(t,["config"]);return l!=null&&XE(l,i),i}function eT(e,t){const i={},a=m(t,["model"]);a!=null&&x(i,["_url","model"],Ge(e,a));const s=m(t,["prompt"]);s!=null&&x(i,["instances[0]","prompt"],s);const l=m(t,["config"]);return l!=null&&ZE(l,i),i}function tT(e){const t={},i=m(e,["sdkHttpResponse"]);i!=null&&x(t,["sdkHttpResponse"],i);const a=m(e,["predictions"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>hT(c))),x(t,["generatedImages"],l)}const s=m(e,["positivePromptSafetyAttributes"]);return s!=null&&x(t,["positivePromptSafetyAttributes"],Jx(s)),t}function nT(e){const t={},i=m(e,["sdkHttpResponse"]);i!=null&&x(t,["sdkHttpResponse"],i);const a=m(e,["predictions"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Ml(c))),x(t,["generatedImages"],l)}const s=m(e,["positivePromptSafetyAttributes"]);return s!=null&&x(t,["positivePromptSafetyAttributes"],Yx(s)),t}function iT(e,t){const i={},a=m(e,["numberOfVideos"]);if(t!==void 0&&a!=null&&x(t,["parameters","sampleCount"],a),m(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=m(e,["durationSeconds"]);if(t!==void 0&&s!=null&&x(t,["parameters","durationSeconds"],s),m(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=m(e,["aspectRatio"]);t!==void 0&&l!=null&&x(t,["parameters","aspectRatio"],l);const c=m(e,["resolution"]);t!==void 0&&c!=null&&x(t,["parameters","resolution"],c);const f=m(e,["personGeneration"]);if(t!==void 0&&f!=null&&x(t,["parameters","personGeneration"],f),m(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=m(e,["negativePrompt"]);t!==void 0&&p!=null&&x(t,["parameters","negativePrompt"],p);const h=m(e,["enhancePrompt"]);if(t!==void 0&&h!=null&&x(t,["parameters","enhancePrompt"],h),m(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const g=m(e,["lastFrame"]);t!==void 0&&g!=null&&x(t,["instances[0]","lastFrame"],Dl(g));const b=m(e,["referenceImages"]);if(t!==void 0&&b!=null){let w=b;Array.isArray(w)&&(w=w.map(S=>tC(S))),x(t,["instances[0]","referenceImages"],w)}if(m(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(m(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function rT(e,t){const i={},a=m(e,["numberOfVideos"]);t!==void 0&&a!=null&&x(t,["parameters","sampleCount"],a);const s=m(e,["outputGcsUri"]);t!==void 0&&s!=null&&x(t,["parameters","storageUri"],s);const l=m(e,["fps"]);t!==void 0&&l!=null&&x(t,["parameters","fps"],l);const c=m(e,["durationSeconds"]);t!==void 0&&c!=null&&x(t,["parameters","durationSeconds"],c);const f=m(e,["seed"]);t!==void 0&&f!=null&&x(t,["parameters","seed"],f);const p=m(e,["aspectRatio"]);t!==void 0&&p!=null&&x(t,["parameters","aspectRatio"],p);const h=m(e,["resolution"]);t!==void 0&&h!=null&&x(t,["parameters","resolution"],h);const g=m(e,["personGeneration"]);t!==void 0&&g!=null&&x(t,["parameters","personGeneration"],g);const b=m(e,["pubsubTopic"]);t!==void 0&&b!=null&&x(t,["parameters","pubsubTopic"],b);const w=m(e,["negativePrompt"]);t!==void 0&&w!=null&&x(t,["parameters","negativePrompt"],w);const S=m(e,["enhancePrompt"]);t!==void 0&&S!=null&&x(t,["parameters","enhancePrompt"],S);const C=m(e,["generateAudio"]);t!==void 0&&C!=null&&x(t,["parameters","generateAudio"],C);const E=m(e,["lastFrame"]);t!==void 0&&E!=null&&x(t,["instances[0]","lastFrame"],Nn(E));const R=m(e,["referenceImages"]);if(t!==void 0&&R!=null){let q=R;Array.isArray(q)&&(q=q.map(M=>nC(M))),x(t,["instances[0]","referenceImages"],q)}const A=m(e,["mask"]);t!==void 0&&A!=null&&x(t,["instances[0]","mask"],eC(A));const D=m(e,["compressionQuality"]);return t!==void 0&&D!=null&&x(t,["parameters","compressionQuality"],D),i}function aT(e){const t={},i=m(e,["name"]);i!=null&&x(t,["name"],i);const a=m(e,["metadata"]);a!=null&&x(t,["metadata"],a);const s=m(e,["done"]);s!=null&&x(t,["done"],s);const l=m(e,["error"]);l!=null&&x(t,["error"],l);const c=m(e,["response","generateVideoResponse"]);return c!=null&&x(t,["response"],uT(c)),t}function oT(e){const t={},i=m(e,["name"]);i!=null&&x(t,["name"],i);const a=m(e,["metadata"]);a!=null&&x(t,["metadata"],a);const s=m(e,["done"]);s!=null&&x(t,["done"],s);const l=m(e,["error"]);l!=null&&x(t,["error"],l);const c=m(e,["response"]);return c!=null&&x(t,["response"],cT(c)),t}function sT(e,t){const i={},a=m(t,["model"]);a!=null&&x(i,["_url","model"],Ge(e,a));const s=m(t,["prompt"]);s!=null&&x(i,["instances[0]","prompt"],s);const l=m(t,["image"]);l!=null&&x(i,["instances[0]","image"],Dl(l));const c=m(t,["video"]);c!=null&&x(i,["instances[0]","video"],Qx(c));const f=m(t,["source"]);f!=null&&dT(f,i);const p=m(t,["config"]);return p!=null&&iT(p,i),i}function lT(e,t){const i={},a=m(t,["model"]);a!=null&&x(i,["_url","model"],Ge(e,a));const s=m(t,["prompt"]);s!=null&&x(i,["instances[0]","prompt"],s);const l=m(t,["image"]);l!=null&&x(i,["instances[0]","image"],Nn(l));const c=m(t,["video"]);c!=null&&x(i,["instances[0]","video"],Xx(c));const f=m(t,["source"]);f!=null&&fT(f,i);const p=m(t,["config"]);return p!=null&&rT(p,i),i}function uT(e){const t={},i=m(e,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>mT(c))),x(t,["generatedVideos"],l)}const a=m(e,["raiMediaFilteredCount"]);a!=null&&x(t,["raiMediaFilteredCount"],a);const s=m(e,["raiMediaFilteredReasons"]);return s!=null&&x(t,["raiMediaFilteredReasons"],s),t}function cT(e){const t={},i=m(e,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>gT(c))),x(t,["generatedVideos"],l)}const a=m(e,["raiMediaFilteredCount"]);a!=null&&x(t,["raiMediaFilteredCount"],a);const s=m(e,["raiMediaFilteredReasons"]);return s!=null&&x(t,["raiMediaFilteredReasons"],s),t}function dT(e,t){const i={},a=m(e,["prompt"]);t!==void 0&&a!=null&&x(t,["instances[0]","prompt"],a);const s=m(e,["image"]);t!==void 0&&s!=null&&x(t,["instances[0]","image"],Dl(s));const l=m(e,["video"]);return t!==void 0&&l!=null&&x(t,["instances[0]","video"],Qx(l)),i}function fT(e,t){const i={},a=m(e,["prompt"]);t!==void 0&&a!=null&&x(t,["instances[0]","prompt"],a);const s=m(e,["image"]);t!==void 0&&s!=null&&x(t,["instances[0]","image"],Nn(s));const l=m(e,["video"]);return t!==void 0&&l!=null&&x(t,["instances[0]","video"],Xx(l)),i}function hT(e){const t={},i=m(e,["_self"]);i!=null&&x(t,["image"],wT(i));const a=m(e,["raiFilteredReason"]);a!=null&&x(t,["raiFilteredReason"],a);const s=m(e,["_self"]);return s!=null&&x(t,["safetyAttributes"],Jx(s)),t}function Ml(e){const t={},i=m(e,["_self"]);i!=null&&x(t,["image"],Fx(i));const a=m(e,["raiFilteredReason"]);a!=null&&x(t,["raiFilteredReason"],a);const s=m(e,["_self"]);s!=null&&x(t,["safetyAttributes"],Yx(s));const l=m(e,["prompt"]);return l!=null&&x(t,["enhancedPrompt"],l),t}function pT(e){const t={},i=m(e,["_self"]);i!=null&&x(t,["mask"],Fx(i));const a=m(e,["labels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>l)),x(t,["labels"],s)}return t}function mT(e){const t={},i=m(e,["_self"]);return i!=null&&x(t,["video"],ZT(i)),t}function gT(e){const t={},i=m(e,["_self"]);return i!=null&&x(t,["video"],WT(i)),t}function yT(e){const t={},i=m(e,["modelSelectionConfig"]);i!=null&&x(t,["modelConfig"],i);const a=m(e,["audioTimestamp"]);a!=null&&x(t,["audioTimestamp"],a);const s=m(e,["candidateCount"]);s!=null&&x(t,["candidateCount"],s);const l=m(e,["enableAffectiveDialog"]);l!=null&&x(t,["enableAffectiveDialog"],l);const c=m(e,["frequencyPenalty"]);c!=null&&x(t,["frequencyPenalty"],c);const f=m(e,["logprobs"]);f!=null&&x(t,["logprobs"],f);const p=m(e,["maxOutputTokens"]);p!=null&&x(t,["maxOutputTokens"],p);const h=m(e,["mediaResolution"]);h!=null&&x(t,["mediaResolution"],h);const g=m(e,["presencePenalty"]);g!=null&&x(t,["presencePenalty"],g);const b=m(e,["responseJsonSchema"]);b!=null&&x(t,["responseJsonSchema"],b);const w=m(e,["responseLogprobs"]);w!=null&&x(t,["responseLogprobs"],w);const S=m(e,["responseMimeType"]);S!=null&&x(t,["responseMimeType"],S);const C=m(e,["responseModalities"]);C!=null&&x(t,["responseModalities"],C);const E=m(e,["responseSchema"]);E!=null&&x(t,["responseSchema"],E);const R=m(e,["routingConfig"]);R!=null&&x(t,["routingConfig"],R);const A=m(e,["seed"]);A!=null&&x(t,["seed"],A);const D=m(e,["speechConfig"]);D!=null&&x(t,["speechConfig"],$x(D));const q=m(e,["stopSequences"]);q!=null&&x(t,["stopSequences"],q);const M=m(e,["temperature"]);M!=null&&x(t,["temperature"],M);const V=m(e,["thinkingConfig"]);V!=null&&x(t,["thinkingConfig"],V);const I=m(e,["topK"]);I!=null&&x(t,["topK"],I);const U=m(e,["topP"]);return U!=null&&x(t,["topP"],U),t}function xT(e,t){const i={},a=m(t,["model"]);return a!=null&&x(i,["_url","name"],Ge(e,a)),i}function vT(e,t){const i={},a=m(t,["model"]);return a!=null&&x(i,["_url","name"],Ge(e,a)),i}function bT(e){const t={},i=m(e,["timeRangeFilter"]);if(i!=null&&x(t,["timeRangeFilter"],i),m(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function wT(e){const t={},i=m(e,["bytesBase64Encoded"]);i!=null&&x(t,["imageBytes"],Di(i));const a=m(e,["mimeType"]);return a!=null&&x(t,["mimeType"],a),t}function Fx(e){const t={},i=m(e,["gcsUri"]);i!=null&&x(t,["gcsUri"],i);const a=m(e,["bytesBase64Encoded"]);a!=null&&x(t,["imageBytes"],Di(a));const s=m(e,["mimeType"]);return s!=null&&x(t,["mimeType"],s),t}function Dl(e){const t={};if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=m(e,["imageBytes"]);i!=null&&x(t,["bytesBase64Encoded"],Di(i));const a=m(e,["mimeType"]);return a!=null&&x(t,["mimeType"],a),t}function Nn(e){const t={},i=m(e,["gcsUri"]);i!=null&&x(t,["gcsUri"],i);const a=m(e,["imageBytes"]);a!=null&&x(t,["bytesBase64Encoded"],Di(a));const s=m(e,["mimeType"]);return s!=null&&x(t,["mimeType"],s),t}function ST(e,t,i){const a={},s=m(t,["pageSize"]);i!==void 0&&s!=null&&x(i,["_query","pageSize"],s);const l=m(t,["pageToken"]);i!==void 0&&l!=null&&x(i,["_query","pageToken"],l);const c=m(t,["filter"]);i!==void 0&&c!=null&&x(i,["_query","filter"],c);const f=m(t,["queryBase"]);return i!==void 0&&f!=null&&x(i,["_url","models_url"],Px(e,f)),a}function NT(e,t,i){const a={},s=m(t,["pageSize"]);i!==void 0&&s!=null&&x(i,["_query","pageSize"],s);const l=m(t,["pageToken"]);i!==void 0&&l!=null&&x(i,["_query","pageToken"],l);const c=m(t,["filter"]);i!==void 0&&c!=null&&x(i,["_query","filter"],c);const f=m(t,["queryBase"]);return i!==void 0&&f!=null&&x(i,["_url","models_url"],Px(e,f)),a}function ET(e,t){const i={},a=m(t,["config"]);return a!=null&&ST(e,a,i),i}function TT(e,t){const i={},a=m(t,["config"]);return a!=null&&NT(e,a,i),i}function CT(e){const t={},i=m(e,["sdkHttpResponse"]);i!=null&&x(t,["sdkHttpResponse"],i);const a=m(e,["nextPageToken"]);a!=null&&x(t,["nextPageToken"],a);const s=m(e,["_self"]);if(s!=null){let l=Vx(s);Array.isArray(l)&&(l=l.map(c=>Ld(c))),x(t,["models"],l)}return t}function _T(e){const t={},i=m(e,["sdkHttpResponse"]);i!=null&&x(t,["sdkHttpResponse"],i);const a=m(e,["nextPageToken"]);a!=null&&x(t,["nextPageToken"],a);const s=m(e,["_self"]);if(s!=null){let l=Vx(s);Array.isArray(l)&&(l=l.map(c=>qd(c))),x(t,["models"],l)}return t}function AT(e){const t={},i=m(e,["maskMode"]);i!=null&&x(t,["maskMode"],i);const a=m(e,["segmentationClasses"]);a!=null&&x(t,["maskClasses"],a);const s=m(e,["maskDilation"]);return s!=null&&x(t,["dilation"],s),t}function Ld(e){const t={},i=m(e,["name"]);i!=null&&x(t,["name"],i);const a=m(e,["displayName"]);a!=null&&x(t,["displayName"],a);const s=m(e,["description"]);s!=null&&x(t,["description"],s);const l=m(e,["version"]);l!=null&&x(t,["version"],l);const c=m(e,["_self"]);c!=null&&x(t,["tunedModelInfo"],BT(c));const f=m(e,["inputTokenLimit"]);f!=null&&x(t,["inputTokenLimit"],f);const p=m(e,["outputTokenLimit"]);p!=null&&x(t,["outputTokenLimit"],p);const h=m(e,["supportedGenerationMethods"]);return h!=null&&x(t,["supportedActions"],h),t}function qd(e){const t={},i=m(e,["name"]);i!=null&&x(t,["name"],i);const a=m(e,["displayName"]);a!=null&&x(t,["displayName"],a);const s=m(e,["description"]);s!=null&&x(t,["description"],s);const l=m(e,["versionId"]);l!=null&&x(t,["version"],l);const c=m(e,["deployedModels"]);if(c!=null){let b=c;Array.isArray(b)&&(b=b.map(w=>JE(w))),x(t,["endpoints"],b)}const f=m(e,["labels"]);f!=null&&x(t,["labels"],f);const p=m(e,["_self"]);p!=null&&x(t,["tunedModelInfo"],OT(p));const h=m(e,["defaultCheckpointId"]);h!=null&&x(t,["defaultCheckpointId"],h);const g=m(e,["checkpoints"]);if(g!=null){let b=g;Array.isArray(b)&&(b=b.map(w=>w)),x(t,["checkpoints"],b)}return t}function kT(e){const t={},i=m(e,["videoMetadata"]);i!=null&&x(t,["videoMetadata"],i);const a=m(e,["thought"]);a!=null&&x(t,["thought"],a);const s=m(e,["inlineData"]);s!=null&&x(t,["inlineData"],vE(s));const l=m(e,["fileData"]);l!=null&&x(t,["fileData"],YE(l));const c=m(e,["thoughtSignature"]);c!=null&&x(t,["thoughtSignature"],c);const f=m(e,["functionCall"]);f!=null&&x(t,["functionCall"],f);const p=m(e,["codeExecutionResult"]);p!=null&&x(t,["codeExecutionResult"],p);const h=m(e,["executableCode"]);h!=null&&x(t,["executableCode"],h);const g=m(e,["functionResponse"]);g!=null&&x(t,["functionResponse"],g);const b=m(e,["text"]);return b!=null&&x(t,["text"],b),t}function IT(e){const t={},i=m(e,["productImage"]);return i!=null&&x(t,["image"],Nn(i)),t}function RT(e,t){const i={},a=m(e,["numberOfImages"]);t!==void 0&&a!=null&&x(t,["parameters","sampleCount"],a);const s=m(e,["baseSteps"]);t!==void 0&&s!=null&&x(t,["parameters","editConfig","baseSteps"],s);const l=m(e,["outputGcsUri"]);t!==void 0&&l!=null&&x(t,["parameters","storageUri"],l);const c=m(e,["seed"]);t!==void 0&&c!=null&&x(t,["parameters","seed"],c);const f=m(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&x(t,["parameters","safetySetting"],f);const p=m(e,["personGeneration"]);t!==void 0&&p!=null&&x(t,["parameters","personGeneration"],p);const h=m(e,["addWatermark"]);t!==void 0&&h!=null&&x(t,["parameters","addWatermark"],h);const g=m(e,["outputMimeType"]);t!==void 0&&g!=null&&x(t,["parameters","outputOptions","mimeType"],g);const b=m(e,["outputCompressionQuality"]);t!==void 0&&b!=null&&x(t,["parameters","outputOptions","compressionQuality"],b);const w=m(e,["enhancePrompt"]);t!==void 0&&w!=null&&x(t,["parameters","enhancePrompt"],w);const S=m(e,["labels"]);return t!==void 0&&S!=null&&x(t,["labels"],S),i}function MT(e,t){const i={},a=m(t,["model"]);a!=null&&x(i,["_url","model"],Ge(e,a));const s=m(t,["source"]);s!=null&&LT(s,i);const l=m(t,["config"]);return l!=null&&RT(l,i),i}function DT(e){const t={},i=m(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Ml(s))),x(t,["generatedImages"],a)}return t}function LT(e,t){const i={},a=m(e,["prompt"]);t!==void 0&&a!=null&&x(t,["instances[0]","prompt"],a);const s=m(e,["personImage"]);t!==void 0&&s!=null&&x(t,["instances[0]","personImage","image"],Nn(s));const l=m(e,["productImages"]);if(t!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>IT(f))),x(t,["instances[0]","productImages"],c)}return i}function qT(e){const t={},i=m(e,["referenceImage"]);i!=null&&x(t,["referenceImage"],Nn(i));const a=m(e,["referenceId"]);a!=null&&x(t,["referenceId"],a);const s=m(e,["referenceType"]);s!=null&&x(t,["referenceType"],s);const l=m(e,["maskImageConfig"]);l!=null&&x(t,["maskImageConfig"],AT(l));const c=m(e,["controlImageConfig"]);c!=null&&x(t,["controlImageConfig"],CE(c));const f=m(e,["styleImageConfig"]);f!=null&&x(t,["styleImageConfig"],f);const p=m(e,["subjectImageConfig"]);return p!=null&&x(t,["subjectImageConfig"],p),t}function Jx(e){const t={},i=m(e,["safetyAttributes","categories"]);i!=null&&x(t,["categories"],i);const a=m(e,["safetyAttributes","scores"]);a!=null&&x(t,["scores"],a);const s=m(e,["contentType"]);return s!=null&&x(t,["contentType"],s),t}function Yx(e){const t={},i=m(e,["safetyAttributes","categories"]);i!=null&&x(t,["categories"],i);const a=m(e,["safetyAttributes","scores"]);a!=null&&x(t,["scores"],a);const s=m(e,["contentType"]);return s!=null&&x(t,["contentType"],s),t}function UT(e){const t={};if(m(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=m(e,["category"]);i!=null&&x(t,["category"],i);const a=m(e,["threshold"]);return a!=null&&x(t,["threshold"],a),t}function PT(e){const t={},i=m(e,["image"]);return i!=null&&x(t,["image"],Nn(i)),t}function VT(e,t){const i={},a=m(e,["mode"]);t!==void 0&&a!=null&&x(t,["parameters","mode"],a);const s=m(e,["maxPredictions"]);t!==void 0&&s!=null&&x(t,["parameters","maxPredictions"],s);const l=m(e,["confidenceThreshold"]);t!==void 0&&l!=null&&x(t,["parameters","confidenceThreshold"],l);const c=m(e,["maskDilation"]);t!==void 0&&c!=null&&x(t,["parameters","maskDilation"],c);const f=m(e,["binaryColorThreshold"]);t!==void 0&&f!=null&&x(t,["parameters","binaryColorThreshold"],f);const p=m(e,["labels"]);return t!==void 0&&p!=null&&x(t,["labels"],p),i}function GT(e,t){const i={},a=m(t,["model"]);a!=null&&x(i,["_url","model"],Ge(e,a));const s=m(t,["source"]);s!=null&&HT(s,i);const l=m(t,["config"]);return l!=null&&VT(l,i),i}function jT(e){const t={},i=m(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>pT(s))),x(t,["generatedMasks"],a)}return t}function HT(e,t){const i={},a=m(e,["prompt"]);t!==void 0&&a!=null&&x(t,["instances[0]","prompt"],a);const s=m(e,["image"]);t!==void 0&&s!=null&&x(t,["instances[0]","image"],Nn(s));const l=m(e,["scribbleImage"]);return t!==void 0&&l!=null&&x(t,["instances[0]","scribble"],PT(l)),i}function $x(e){const t={},i=m(e,["voiceConfig"]);if(i!=null&&x(t,["voiceConfig"],i),m(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=m(e,["languageCode"]);return a!=null&&x(t,["languageCode"],a),t}function zT(e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(h=>h)),x(t,["functionDeclarations"],p)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=m(e,["googleSearch"]);a!=null&&x(t,["googleSearch"],bT(a));const s=m(e,["googleSearchRetrieval"]);if(s!=null&&x(t,["googleSearchRetrieval"],s),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const l=m(e,["urlContext"]);l!=null&&x(t,["urlContext"],l);const c=m(e,["computerUse"]);c!=null&&x(t,["computerUse"],c);const f=m(e,["codeExecution"]);return f!=null&&x(t,["codeExecution"],f),t}function Kx(e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(w=>$E(w))),x(t,["functionDeclarations"],b)}const a=m(e,["retrieval"]);a!=null&&x(t,["retrieval"],a);const s=m(e,["googleSearch"]);s!=null&&x(t,["googleSearch"],s);const l=m(e,["googleSearchRetrieval"]);l!=null&&x(t,["googleSearchRetrieval"],l);const c=m(e,["enterpriseWebSearch"]);c!=null&&x(t,["enterpriseWebSearch"],c);const f=m(e,["googleMaps"]);f!=null&&x(t,["googleMaps"],f);const p=m(e,["urlContext"]);p!=null&&x(t,["urlContext"],p);const h=m(e,["computerUse"]);h!=null&&x(t,["computerUse"],h);const g=m(e,["codeExecution"]);return g!=null&&x(t,["codeExecution"],g),t}function BT(e){const t={},i=m(e,["baseModel"]);i!=null&&x(t,["baseModel"],i);const a=m(e,["createTime"]);a!=null&&x(t,["createTime"],a);const s=m(e,["updateTime"]);return s!=null&&x(t,["updateTime"],s),t}function OT(e){const t={},i=m(e,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&x(t,["baseModel"],i);const a=m(e,["createTime"]);a!=null&&x(t,["createTime"],a);const s=m(e,["updateTime"]);return s!=null&&x(t,["updateTime"],s),t}function FT(e,t){const i={},a=m(e,["displayName"]);t!==void 0&&a!=null&&x(t,["displayName"],a);const s=m(e,["description"]);t!==void 0&&s!=null&&x(t,["description"],s);const l=m(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&x(t,["defaultCheckpointId"],l),i}function JT(e,t){const i={},a=m(e,["displayName"]);t!==void 0&&a!=null&&x(t,["displayName"],a);const s=m(e,["description"]);t!==void 0&&s!=null&&x(t,["description"],s);const l=m(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&x(t,["defaultCheckpointId"],l),i}function YT(e,t){const i={},a=m(t,["model"]);a!=null&&x(i,["_url","name"],Ge(e,a));const s=m(t,["config"]);return s!=null&&FT(s,i),i}function $T(e,t){const i={},a=m(t,["model"]);a!=null&&x(i,["_url","model"],Ge(e,a));const s=m(t,["config"]);return s!=null&&JT(s,i),i}function KT(e,t){const i={},a=m(e,["outputGcsUri"]);t!==void 0&&a!=null&&x(t,["parameters","storageUri"],a);const s=m(e,["includeRaiReason"]);t!==void 0&&s!=null&&x(t,["parameters","includeRaiReason"],s);const l=m(e,["outputMimeType"]);t!==void 0&&l!=null&&x(t,["parameters","outputOptions","mimeType"],l);const c=m(e,["outputCompressionQuality"]);t!==void 0&&c!=null&&x(t,["parameters","outputOptions","compressionQuality"],c);const f=m(e,["enhanceInputImage"]);t!==void 0&&f!=null&&x(t,["parameters","upscaleConfig","enhanceInputImage"],f);const p=m(e,["imagePreservationFactor"]);t!==void 0&&p!=null&&x(t,["parameters","upscaleConfig","imagePreservationFactor"],p);const h=m(e,["labels"]);t!==void 0&&h!=null&&x(t,["labels"],h);const g=m(e,["numberOfImages"]);t!==void 0&&g!=null&&x(t,["parameters","sampleCount"],g);const b=m(e,["mode"]);return t!==void 0&&b!=null&&x(t,["parameters","mode"],b),i}function QT(e,t){const i={},a=m(t,["model"]);a!=null&&x(i,["_url","model"],Ge(e,a));const s=m(t,["image"]);s!=null&&x(i,["instances[0]","image"],Nn(s));const l=m(t,["upscaleFactor"]);l!=null&&x(i,["parameters","upscaleConfig","upscaleFactor"],l);const c=m(t,["config"]);return c!=null&&KT(c,i),i}function XT(e){const t={},i=m(e,["sdkHttpResponse"]);i!=null&&x(t,["sdkHttpResponse"],i);const a=m(e,["predictions"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>Ml(l))),x(t,["generatedImages"],s)}return t}function ZT(e){const t={},i=m(e,["video","uri"]);i!=null&&x(t,["uri"],i);const a=m(e,["video","encodedVideo"]);a!=null&&x(t,["videoBytes"],Di(a));const s=m(e,["encoding"]);return s!=null&&x(t,["mimeType"],s),t}function WT(e){const t={},i=m(e,["gcsUri"]);i!=null&&x(t,["uri"],i);const a=m(e,["bytesBase64Encoded"]);a!=null&&x(t,["videoBytes"],Di(a));const s=m(e,["mimeType"]);return s!=null&&x(t,["mimeType"],s),t}function eC(e){const t={},i=m(e,["image"]);i!=null&&x(t,["_self"],Nn(i));const a=m(e,["maskMode"]);return a!=null&&x(t,["maskMode"],a),t}function tC(e){const t={},i=m(e,["image"]);i!=null&&x(t,["image"],Dl(i));const a=m(e,["referenceType"]);return a!=null&&x(t,["referenceType"],a),t}function nC(e){const t={},i=m(e,["image"]);i!=null&&x(t,["image"],Nn(i));const a=m(e,["referenceType"]);return a!=null&&x(t,["referenceType"],a),t}function Qx(e){const t={},i=m(e,["uri"]);i!=null&&x(t,["video","uri"],i);const a=m(e,["videoBytes"]);a!=null&&x(t,["video","encodedVideo"],Di(a));const s=m(e,["mimeType"]);return s!=null&&x(t,["encoding"],s),t}function Xx(e){const t={},i=m(e,["uri"]);i!=null&&x(t,["gcsUri"],i);const a=m(e,["videoBytes"]);a!=null&&x(t,["bytesBase64Encoded"],Di(a));const s=m(e,["mimeType"]);return s!=null&&x(t,["mimeType"],s),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iC="Content-Type",rC="X-Server-Timeout",aC="User-Agent",Ud="x-goog-api-client",oC="1.23.0",sC=`google-genai-sdk/${oC}`,lC="v1beta1",uC="v1beta",ry=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class cC{constructor(t){var i,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:lC,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:uC,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),i=new URL(t);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,i,a){const s=[this.getRequestUrlInternal(i)];return a&&s.push(this.getBaseResourcePath()),t!==""&&s.push(t),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let i=this.clientOptions.httpOptions;t.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),s=this.constructUrl(t.path,i,a);if(t.queryParams)for(const[c,f]of Object.entries(t.queryParams))s.searchParams.append(c,String(f));let l={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=t.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,i,t.abortSignal),this.unaryApiCall(s,l,t.httpMethod)}patchHttpOptions(t,i){const a=JSON.parse(JSON.stringify(t));for(const[s,l]of Object.entries(i))typeof l=="object"?a[s]=Object.assign(Object.assign({},a[s]),l):l!==void 0&&(a[s]=l);return a}async requestStream(t){let i=this.clientOptions.httpOptions;t.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),s=this.constructUrl(t.path,i,a);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let l={};return l.body=t.body,l=await this.includeExtraHttpOptionsToRequestInit(l,i,t.abortSignal),this.streamApiCall(s,l,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,i,a){if(i&&i.timeout||a){const s=new AbortController,l=s.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const c=setTimeout(()=>s.abort(),i.timeout);c&&typeof c.unref=="function"&&c.unref()}a&&a.addEventListener("abort",()=>{s.abort()}),t.signal=l}return i&&i.extraBody!==null&&dC(t,i.extraBody),t.headers=await this.getHeadersInternal(i),t}async unaryApiCall(t,i,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},i),{method:a})).then(async s=>(await ay(s),new Rd(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(t,i,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},i),{method:a})).then(async s=>(await ay(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(t){var i;return oa(this,arguments,function*(){const s=(i=t==null?void 0:t.body)===null||i===void 0?void 0:i.getReader(),l=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let c="";for(;;){const{done:f,value:p}=yield et(s.read());if(f){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=l.decode(p,{stream:!0});try{const b=JSON.parse(h);if("error"in b){const w=JSON.parse(JSON.stringify(b.error)),S=w.status,C=w.code,E=`got status: ${S}. ${JSON.stringify(b)}`;if(C>=400&&C<600)throw new Il({message:E,status:C})}}catch(b){if(b.name==="ApiError")throw b}c+=h;let g=c.match(ry);for(;g;){const b=g[1];try{const w=new Response(b,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield et(new Rd(w)),c=c.slice(g[0].length),g=c.match(ry)}catch(w){throw new Error(`exception parsing stream chunk ${b}. ${w}`)}}}}finally{s.releaseLock()}})}async apiCall(t,i){return fetch(t,i).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},i=sC+" "+this.clientOptions.userAgentExtra;return t[aC]=i,t[Ud]=i,t[iC]="application/json",t}async getHeadersInternal(t){const i=new Headers;if(t&&t.headers){for(const[a,s]of Object.entries(t.headers))i.append(a,s);t.timeout&&t.timeout>0&&i.append(rC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i),i}async uploadFile(t,i){var a;const s={};i!=null&&(s.mimeType=i.mimeType,s.name=i.name,s.displayName=i.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const l=this.clientOptions.uploader,c=await l.stat(t);s.sizeBytes=String(c.size);const f=(a=i==null?void 0:i.mimeType)!==null&&a!==void 0?a:c.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=f;const p=await this.fetchUploadUrl(s,i);return l.upload(t,p,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,i){var a;let s={};i!=null&&i.httpOptions?s=i.httpOptions:s={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const l={file:t},c=await this.request({path:fe("upload/v1beta/files",l._url),body:JSON.stringify(l),httpMethod:"POST",httpOptions:s});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(a=c==null?void 0:c.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function ay(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const i=e.status;let a;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await e.json():a={error:{message:await e.text(),code:e.status,status:e.statusText}};const s=JSON.stringify(a);throw i>=400&&i<600?new Il({message:s,status:i}):new Error(s)}}function dC(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof e.body=="string"&&e.body.length>0)try{const l=JSON.parse(e.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))i=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(l,c){const f=Object.assign({},l);for(const p in c)if(Object.prototype.hasOwnProperty.call(c,p)){const h=c[p],g=f[p];h&&typeof h=="object"&&!Array.isArray(h)&&g&&typeof g=="object"&&!Array.isArray(g)?f[p]=a(g,h):(g&&h&&typeof g!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof g}, New type: ${typeof h}. Overwriting.`),f[p]=h)}return f}const s=a(i,t);e.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fC="mcp_used/unknown";let hC=!1;function Zx(e){for(const t of e)if(pC(t)||typeof t=="object"&&"inputSchema"in t)return!0;return hC}function Wx(e){var t;const i=(t=e[Ud])!==null&&t!==void 0?t:"";e[Ud]=(i+` ${fC}`).trimStart()}function pC(e){return e!==null&&typeof e=="object"&&e instanceof df}function mC(e,t=100){return oa(this,arguments,function*(){let a,s=0;for(;s<t;){const l=yield et(e.listTools({cursor:a}));for(const c of l.tools)yield yield et(c),s++;if(!l.nextCursor)break;a=l.nextCursor}})}class df{constructor(t=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=i}static create(t,i){return new df(t,i)}async initialize(){var t,i,a,s;if(this.mcpTools.length>0)return;const l={},c=[];for(const g of this.mcpClients)try{for(var f=!0,p=(i=void 0,To(mC(g))),h;h=await p.next(),t=h.done,!t;f=!0){s=h.value,f=!1;const b=s;c.push(b);const w=b.name;if(l[w])throw new Error(`Duplicate function name ${w} found in MCP tools. Please ensure function names are unique.`);l[w]=g}}catch(b){i={error:b}}finally{try{!f&&!t&&(a=p.return)&&await a.call(p)}finally{if(i)throw i.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),T2(this.mcpTools,this.config)}async callTool(t){await this.initialize();const i=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[a.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await s.callTool({name:a.name,arguments:a.args},void 0,l);i.push({functionResponse:{name:a.name,response:c.isError?{error:c}:c}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function gC(e,t,i){const a=new y2;let s;i.data instanceof Blob?s=JSON.parse(await i.data.text()):s=JSON.parse(i.data),Object.assign(a,s),t(a)}class yC{constructor(t,i,a){this.apiClient=t,this.auth=i,this.webSocketFactory=a}async connect(t){var i,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=bC(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),p=`${s}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${f}`;let h=()=>{};const g=new Promise(q=>{h=q}),b=t.callbacks,w=function(){h({})},S=this.apiClient,C={onopen:w,onmessage:q=>{gC(S,b.onmessage,q)},onerror:(i=b==null?void 0:b.onerror)!==null&&i!==void 0?i:function(q){},onclose:(a=b==null?void 0:b.onclose)!==null&&a!==void 0?a:function(q){}},E=this.webSocketFactory.create(p,vC(c),C);E.connect(),await g;const D={setup:{model:Ge(this.apiClient,t.model)}};return E.send(JSON.stringify(D)),new xC(E,this.apiClient)}}class xC{constructor(t,i){this.conn=t,this.apiClient=i}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=cE(t);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const i=uE(t);this.conn.send(JSON.stringify(i))}sendPlaybackControl(t){const i={playbackControl:t};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(ta.PLAY)}pause(){this.sendPlaybackControl(ta.PAUSE)}stop(){this.sendPlaybackControl(ta.STOP)}resetContext(){this.sendPlaybackControl(ta.RESET_CONTEXT)}close(){this.conn.close()}}function vC(e){const t={};return e.forEach((i,a)=>{t[a]=i}),t}function bC(e){const t=new Headers;for(const[i,a]of Object.entries(e))t.append(i,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function SC(e,t,i){const a=new g2;let s;i.data instanceof Blob?s=await i.data.text():i.data instanceof ArrayBuffer?s=new TextDecoder().decode(i.data):s=i.data;const l=JSON.parse(s);if(e.isVertexAI()){const c=hE(l);Object.assign(a,c)}else Object.assign(a,l);t(a)}class NC{constructor(t,i,a){this.apiClient=t,this.auth=i,this.webSocketFactory=a,this.music=new yC(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var i,a,s,l,c,f;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let g;const b=this.apiClient.getHeaders();t.config&&t.config.tools&&Zx(t.config.tools)&&Wx(b);const w=_C(b);if(this.apiClient.isVertexAI())g=`${p}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(w);else{const $=this.apiClient.getApiKey();let K="BidiGenerateContent",te="key";$!=null&&$.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),K="BidiGenerateContentConstrained",te="access_token"),g=`${p}/ws/google.ai.generativelanguage.${h}.GenerativeService.${K}?${te}=${$}`}let S=()=>{};const C=new Promise($=>{S=$}),E=t.callbacks,R=function(){var $;($=E==null?void 0:E.onopen)===null||$===void 0||$.call(E),S({})},A=this.apiClient,D={onopen:R,onmessage:$=>{SC(A,E.onmessage,$)},onerror:(i=E==null?void 0:E.onerror)!==null&&i!==void 0?i:function($){},onclose:(a=E==null?void 0:E.onclose)!==null&&a!==void 0?a:function($){}},q=this.webSocketFactory.create(g,CC(w),D);q.connect(),await C;let M=Ge(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&M.startsWith("publishers/")){const $=this.apiClient.getProject(),K=this.apiClient.getLocation();M=`projects/${$}/locations/${K}/`+M}let V={};this.apiClient.isVertexAI()&&((s=t.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[xl.AUDIO]}:t.config.responseModalities=[xl.AUDIO]),!((l=t.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const I=(f=(c=t.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[],U=[];for(const $ of I)if(this.isCallableTool($)){const K=$;U.push(await K.tool())}else U.push($);U.length>0&&(t.config.tools=U);const Q={model:M,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?V=lE(this.apiClient,Q):V=sE(this.apiClient,Q),delete V.config,q.send(JSON.stringify(V)),new TC(q,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const EC={turnComplete:!0};class TC{constructor(t,i){this.conn=t,this.apiClient=i}tLiveClientContent(t,i){if(i.turns!==null&&i.turns!==void 0){let a=[];try{a=mn(i.turns),t.isVertexAI()||(a=a.map(s=>Rl(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:a,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(t,i){let a=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?a=i.functionResponses:a=[i.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const l of a){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!t.isVertexAI()&&!("id"in l))throw new Error(wC)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},EC),t);const i=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(i))}sendRealtimeInput(t){let i={};this.apiClient.isVertexAI()?i={realtimeInput:fE(t)}:i={realtimeInput:dE(t)},this.conn.send(JSON.stringify(i))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function CC(e){const t={};return e.forEach((i,a)=>{t[a]=i}),t}function _C(e){const t=new Headers;for(const[i,a]of Object.entries(e))t.append(i,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oy=10;function sy(e){var t,i,a;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let s=!1;for(const c of(i=e==null?void 0:e.tools)!==null&&i!==void 0?i:[])if(sa(c)){s=!0;break}if(!s)return!0;const l=(a=e==null?void 0:e.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function sa(e){return"callTool"in e&&typeof e.callTool=="function"}function AC(e){var t,i,a;return(a=(i=(t=e.config)===null||t===void 0?void 0:t.tools)===null||i===void 0?void 0:i.some(s=>sa(s)))!==null&&a!==void 0?a:!1}function kC(e){var t,i,a;return(a=(i=(t=e.config)===null||t===void 0?void 0:t.tools)===null||i===void 0?void 0:i.some(s=>!sa(s)))!==null&&a!==void 0?a:!1}function ly(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IC extends or{constructor(t){super(),this.apiClient=t,this.generateContent=async i=>{var a,s,l,c,f;const p=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!AC(i)||sy(i.config))return await this.generateContentInternal(p);if(kC(i))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let h,g;const b=mn(p.contents),w=(l=(s=(a=p.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&l!==void 0?l:oy;let S=0;for(;S<w&&(h=await this.generateContentInternal(p),!(!h.functionCalls||h.functionCalls.length===0));){const C=h.candidates[0].content,E=[];for(const R of(f=(c=i.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[])if(sa(R)){const D=await R.callTool(h.functionCalls);E.push(...D)}S++,g={role:"user",parts:E},p.contents=mn(p.contents),p.contents.push(C),p.contents.push(g),ly(p.config)&&(b.push(C),b.push(g))}return ly(p.config)&&(h.automaticFunctionCallingHistory=b),h},this.generateContentStream=async i=>{if(this.maybeMoveToResponseJsonSchem(i),sy(i.config)){const a=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(a)}else return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(a=>{var s;let l;const c=[];if(a!=null&&a.generatedImages)for(const p of a.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((s=p==null?void 0:p.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?l=p==null?void 0:p.safetyAttributes:c.push(p);let f;return l?f={generatedImages:c,positivePromptSafetyAttributes:l,sdkHttpResponse:a.sdkHttpResponse}:f={generatedImages:c,sdkHttpResponse:a.sdkHttpResponse},f}),this.list=async i=>{var a;const c={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((a=c.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Lo(ir.PAGED_ITEM_MODELS,f=>this.listInternal(f),await this.listInternal(c),c)},this.editImage=async i=>{const a={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(a.referenceImages=i.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async i=>{let a={numberOfImages:1,mode:"upscale"};i.config&&(a=Object.assign(Object.assign({},a),i.config));const s={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:a};return await this.upscaleImageInternal(s)},this.generateVideos=async i=>{if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var i,a,s;const l=(i=t.config)===null||i===void 0?void 0:i.tools;if(!l)return t;const c=await Promise.all(l.map(async p=>sa(p)?await p.tool():p)),f={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:c})};if(f.config.tools=c,t.config&&t.config.tools&&Zx(t.config.tools)){const p=(s=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&s!==void 0?s:{};let h=Object.assign({},p);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Wx(h),f.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return f}async initAfcToolsMap(t){var i,a,s;const l=new Map;for(const c of(a=(i=t.config)===null||i===void 0?void 0:i.tools)!==null&&a!==void 0?a:[])if(sa(c)){const f=c,p=await f.tool();for(const h of(s=p.functionDeclarations)!==null&&s!==void 0?s:[]){if(!h.name)throw new Error("Function declaration name is required.");if(l.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);l.set(h.name,f)}}return l}async processAfcStream(t){var i,a,s;const l=(s=(a=(i=t.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&s!==void 0?s:oy;let c=!1,f=0;const p=await this.initAfcToolsMap(t);return(function(h,g,b){var w,S;return oa(this,arguments,function*(){for(var C,E,R,A;f<l;){c&&(f++,c=!1);const V=yield et(h.processParamsMaybeAddMcpUsage(b)),I=yield et(h.generateContentStreamInternal(V)),U=[],Q=[];try{for(var D=!0,q=(E=void 0,To(I)),M;M=yield et(q.next()),C=M.done,!C;D=!0){A=M.value,D=!1;const $=A;if(yield yield et($),$.candidates&&(!((w=$.candidates[0])===null||w===void 0)&&w.content)){Q.push($.candidates[0].content);for(const K of(S=$.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(f<l&&K.functionCall){if(!K.functionCall.name)throw new Error("Function call name was not returned by the model.");if(g.has(K.functionCall.name)){const te=yield et(g.get(K.functionCall.name).callTool([K.functionCall]));U.push(...te)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${g.keys()}, mising tool: ${K.functionCall.name}`)}}}}catch($){E={error:$}}finally{try{!D&&!C&&(R=q.return)&&(yield et(R.call(q)))}finally{if(E)throw E.error}}if(U.length>0){c=!0;const $=new po;$.candidates=[{content:{role:"user",parts:U}}],yield yield et($);const K=[];K.push(...Q),K.push({role:"user",parts:U});const te=mn(b.contents).concat(K);b.contents=te}else break}})})(this,p,t)}async generateContentInternal(t){var i,a,s,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=ty(this.apiClient,t);return f=fe("{model}:generateContent",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:g.headers},w})),c.then(g=>{const b=iy(g),w=new po;return Object.assign(w,b),w})}else{const h=ey(this.apiClient,t);return f=fe("{model}:generateContent",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:g.headers},w})),c.then(g=>{const b=ny(g),w=new po;return Object.assign(w,b),w})}}async generateContentStreamInternal(t){var i,a,s,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=ty(this.apiClient,t);return f=fe("{model}:streamGenerateContent?alt=sse",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),c.then(function(b){return oa(this,arguments,function*(){var w,S,C,E;try{for(var R=!0,A=To(b),D;D=yield et(A.next()),w=D.done,!w;R=!0){E=D.value,R=!1;const q=E,M=iy(yield et(q.json()));M.sdkHttpResponse={headers:q.headers};const V=new po;Object.assign(V,M),yield yield et(V)}}catch(q){S={error:q}}finally{try{!R&&!w&&(C=A.return)&&(yield et(C.call(A)))}finally{if(S)throw S.error}}})})}else{const h=ey(this.apiClient,t);return f=fe("{model}:streamGenerateContent?alt=sse",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(b){return oa(this,arguments,function*(){var w,S,C,E;try{for(var R=!0,A=To(b),D;D=yield et(A.next()),w=D.done,!w;R=!0){E=D.value,R=!1;const q=E,M=ny(yield et(q.json()));M.sdkHttpResponse={headers:q.headers};const V=new po;Object.assign(V,M),yield yield et(V)}}catch(q){S={error:q}}finally{try{!R&&!w&&(C=A.return)&&(yield et(C.call(A)))}finally{if(S)throw S.error}}})})}}async embedContent(t){var i,a,s,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=BE(this.apiClient,t);return f=fe("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:g.headers},w})),c.then(g=>{const b=FE(g),w=new V0;return Object.assign(w,b),w})}else{const h=zE(this.apiClient,t);return f=fe("{model}:batchEmbedContents",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:g.headers},w})),c.then(g=>{const b=OE(g),w=new V0;return Object.assign(w,b),w})}}async generateImagesInternal(t){var i,a,s,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=eT(this.apiClient,t);return f=fe("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:g.headers},w})),c.then(g=>{const b=nT(g),w=new G0;return Object.assign(w,b),w})}else{const h=WE(this.apiClient,t);return f=fe("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:g.headers},w})),c.then(g=>{const b=tT(g),w=new G0;return Object.assign(w,b),w})}}async editImageInternal(t){var i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=VE(this.apiClient,t);return l=fe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),s.then(p=>{const h=GE(p),g=new l2;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=QT(this.apiClient,t);return l=fe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),s.then(p=>{const h=XT(p),g=new u2;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=MT(this.apiClient,t);return l=fe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),s.then(p=>{const h=DT(p),g=new c2;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=GT(this.apiClient,t);return l=fe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),s.then(p=>{const h=jT(p),g=new d2;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var i,a,s,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=vT(this.apiClient,t);return f=fe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>qd(g))}else{const h=xT(this.apiClient,t);return f=fe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),c.then(g=>Ld(g))}}async listInternal(t){var i,a,s,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=TT(this.apiClient,t);return f=fe("{models_url}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:g.headers},w})),c.then(g=>{const b=_T(g),w=new j0;return Object.assign(w,b),w})}else{const h=ET(this.apiClient,t);return f=fe("{models_url}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:g.headers},w})),c.then(g=>{const b=CT(g),w=new j0;return Object.assign(w,b),w})}}async update(t){var i,a,s,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=$T(this.apiClient,t);return f=fe("{model}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>qd(g))}else{const h=YT(this.apiClient,t);return f=fe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),c.then(g=>Ld(g))}}async delete(t){var i,a,s,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=LE(this.apiClient,t);return f=fe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:g.headers},w})),c.then(g=>{const b=UE(g),w=new H0;return Object.assign(w,b),w})}else{const h=DE(this.apiClient,t);return f=fe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:g.headers},w})),c.then(g=>{const b=qE(g),w=new H0;return Object.assign(w,b),w})}}async countTokens(t){var i,a,s,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=IE(this.apiClient,t);return f=fe("{model}:countTokens",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:g.headers},w})),c.then(g=>{const b=ME(g),w=new z0;return Object.assign(w,b),w})}else{const h=kE(this.apiClient,t);return f=fe("{model}:countTokens",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:g.headers},w})),c.then(g=>{const b=RE(g),w=new z0;return Object.assign(w,b),w})}}async computeTokens(t){var i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=SE(this.apiClient,t);return l=fe("{model}:computeTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),s.then(p=>{const h=NE(p),g=new f2;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var i,a,s,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=lT(this.apiClient,t);return f=fe("{model}:predictLongRunning",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>{const b=oT(g),w=new vl;return Object.assign(w,b),w})}else{const h=sT(this.apiClient,t);return f=fe("{model}:predictLongRunning",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),c.then(g=>{const b=aT(g),w=new vl;return Object.assign(w,b),w})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RC extends or{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const i=t.operation,a=t.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=i.name.split("/operations/")[0];let l;a&&"httpOptions"in a&&(l=a.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:s,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:i.name,config:a});return i._fromAPIResponse({apiResponse:s,isVertexAI:!1})}}async get(t){const i=t.operation,a=t.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=i.name.split("/operations/")[0];let l;a&&"httpOptions"in a&&(l=a.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:s,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:i.name,config:a});return i._fromAPIResponse({apiResponse:s,isVertexAI:!1})}}async getVideosOperationInternal(t){var i,a,s,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=a2(t);return f=fe("{operationName}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c}else{const h=r2(t);return f=fe("{operationName}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),c}}async fetchPredictVideosOperationInternal(t){var i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=XS(t);return l=fe("{resourceName}:fetchPredictOperation",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MC(e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["data"]);i!=null&&x(t,["data"],i);const a=m(e,["mimeType"]);return a!=null&&x(t,["mimeType"],a),t}function DC(e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>jC(l))),x(t,["parts"],s)}const a=m(e,["role"]);return a!=null&&x(t,["role"],a),t}function LC(e,t,i){const a={},s=m(t,["expireTime"]);i!==void 0&&s!=null&&x(i,["expireTime"],s);const l=m(t,["newSessionExpireTime"]);i!==void 0&&l!=null&&x(i,["newSessionExpireTime"],l);const c=m(t,["uses"]);i!==void 0&&c!=null&&x(i,["uses"],c);const f=m(t,["liveConnectConstraints"]);i!==void 0&&f!=null&&x(i,["bidiGenerateContentSetup"],GC(e,f));const p=m(t,["lockAdditionalFields"]);return i!==void 0&&p!=null&&x(i,["fieldMask"],p),a}function qC(e,t){const i={},a=m(t,["config"]);return a!=null&&x(i,["config"],LC(e,a,i)),i}function UC(e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["fileUri"]);i!=null&&x(t,["fileUri"],i);const a=m(e,["mimeType"]);return a!=null&&x(t,["mimeType"],a),t}function PC(e){const t={},i=m(e,["timeRangeFilter"]);if(i!=null&&x(t,["timeRangeFilter"],i),m(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function VC(e,t){const i={},a=m(e,["generationConfig"]);t!==void 0&&a!=null&&x(t,["setup","generationConfig"],a);const s=m(e,["responseModalities"]);t!==void 0&&s!=null&&x(t,["setup","generationConfig","responseModalities"],s);const l=m(e,["temperature"]);t!==void 0&&l!=null&&x(t,["setup","generationConfig","temperature"],l);const c=m(e,["topP"]);t!==void 0&&c!=null&&x(t,["setup","generationConfig","topP"],c);const f=m(e,["topK"]);t!==void 0&&f!=null&&x(t,["setup","generationConfig","topK"],f);const p=m(e,["maxOutputTokens"]);t!==void 0&&p!=null&&x(t,["setup","generationConfig","maxOutputTokens"],p);const h=m(e,["mediaResolution"]);t!==void 0&&h!=null&&x(t,["setup","generationConfig","mediaResolution"],h);const g=m(e,["seed"]);t!==void 0&&g!=null&&x(t,["setup","generationConfig","seed"],g);const b=m(e,["speechConfig"]);t!==void 0&&b!=null&&x(t,["setup","generationConfig","speechConfig"],cf(b));const w=m(e,["thinkingConfig"]);t!==void 0&&w!=null&&x(t,["setup","generationConfig","thinkingConfig"],w);const S=m(e,["enableAffectiveDialog"]);t!==void 0&&S!=null&&x(t,["setup","generationConfig","enableAffectiveDialog"],S);const C=m(e,["systemInstruction"]);t!==void 0&&C!=null&&x(t,["setup","systemInstruction"],DC(Et(C)));const E=m(e,["tools"]);if(t!==void 0&&E!=null){let I=ma(E);Array.isArray(I)&&(I=I.map(U=>zC(pa(U)))),x(t,["setup","tools"],I)}const R=m(e,["sessionResumption"]);t!==void 0&&R!=null&&x(t,["setup","sessionResumption"],HC(R));const A=m(e,["inputAudioTranscription"]);t!==void 0&&A!=null&&x(t,["setup","inputAudioTranscription"],A);const D=m(e,["outputAudioTranscription"]);t!==void 0&&D!=null&&x(t,["setup","outputAudioTranscription"],D);const q=m(e,["realtimeInputConfig"]);t!==void 0&&q!=null&&x(t,["setup","realtimeInputConfig"],q);const M=m(e,["contextWindowCompression"]);t!==void 0&&M!=null&&x(t,["setup","contextWindowCompression"],M);const V=m(e,["proactivity"]);return t!==void 0&&V!=null&&x(t,["setup","proactivity"],V),i}function GC(e,t){const i={},a=m(t,["model"]);a!=null&&x(i,["setup","model"],Ge(e,a));const s=m(t,["config"]);return s!=null&&x(i,["config"],VC(s,i)),i}function jC(e){const t={},i=m(e,["videoMetadata"]);i!=null&&x(t,["videoMetadata"],i);const a=m(e,["thought"]);a!=null&&x(t,["thought"],a);const s=m(e,["inlineData"]);s!=null&&x(t,["inlineData"],MC(s));const l=m(e,["fileData"]);l!=null&&x(t,["fileData"],UC(l));const c=m(e,["thoughtSignature"]);c!=null&&x(t,["thoughtSignature"],c);const f=m(e,["functionCall"]);f!=null&&x(t,["functionCall"],f);const p=m(e,["codeExecutionResult"]);p!=null&&x(t,["codeExecutionResult"],p);const h=m(e,["executableCode"]);h!=null&&x(t,["executableCode"],h);const g=m(e,["functionResponse"]);g!=null&&x(t,["functionResponse"],g);const b=m(e,["text"]);return b!=null&&x(t,["text"],b),t}function HC(e){const t={},i=m(e,["handle"]);if(i!=null&&x(t,["handle"],i),m(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function zC(e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(h=>h)),x(t,["functionDeclarations"],p)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=m(e,["googleSearch"]);a!=null&&x(t,["googleSearch"],PC(a));const s=m(e,["googleSearchRetrieval"]);if(s!=null&&x(t,["googleSearchRetrieval"],s),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const l=m(e,["urlContext"]);l!=null&&x(t,["urlContext"],l);const c=m(e,["computerUse"]);c!=null&&x(t,["computerUse"],c);const f=m(e,["codeExecution"]);return f!=null&&x(t,["codeExecution"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BC(e){const t=[];for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const s=Object.keys(a).map(l=>`${i}.${l}`);t.push(...s)}else t.push(i)}return t.join(",")}function OC(e,t){let i=null;const a=e.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const l=a.setup;typeof l=="object"&&l!==null?(e.bidiGenerateContentSetup=l,i=l):delete e.bidiGenerateContentSetup}else a!==void 0&&delete e.bidiGenerateContentSetup;const s=e.fieldMask;if(i){const l=BC(i);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)l?e.fieldMask=l:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let f=[];s.length>0&&(f=s.map(h=>c.includes(h)?`generationConfig.${h}`:h));const p=[];l&&p.push(l),f.length>0&&p.push(...f),p.length>0?e.fieldMask=p.join(","):delete e.fieldMask}else delete e.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?e.fieldMask=s.join(","):delete e.fieldMask;return e}class FC extends or{constructor(t){super(),this.apiClient=t}async create(t){var i,a;let s,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const f=qC(this.apiClient,t);l=fe("auth_tokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const p=OC(f,t.config);return s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JC(e){const t={},i=m(e,["name"]);return i!=null&&x(t,["_url","name"],i),t}function YC(e){const t={},i=m(e,["name"]);return i!=null&&x(t,["_url","name"],i),t}function $C(e,t){const i={};if(m(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=m(e,["tunedModelDisplayName"]);if(t!==void 0&&a!=null&&x(t,["displayName"],a),m(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=m(e,["epochCount"]);t!==void 0&&s!=null&&x(t,["tuningTask","hyperparameters","epochCount"],s);const l=m(e,["learningRateMultiplier"]);if(l!=null&&x(i,["tuningTask","hyperparameters","learningRateMultiplier"],l),m(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(m(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=m(e,["batchSize"]);t!==void 0&&c!=null&&x(t,["tuningTask","hyperparameters","batchSize"],c);const f=m(e,["learningRate"]);if(t!==void 0&&f!=null&&x(t,["tuningTask","hyperparameters","learningRate"],f),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return i}function KC(e,t){const i={},a=m(e,["validationDataset"]);t!==void 0&&a!=null&&x(t,["supervisedTuningSpec"],c_(a,i));const s=m(e,["tunedModelDisplayName"]);t!==void 0&&s!=null&&x(t,["tunedModelDisplayName"],s);const l=m(e,["description"]);t!==void 0&&l!=null&&x(t,["description"],l);const c=m(e,["epochCount"]);t!==void 0&&c!=null&&x(t,["supervisedTuningSpec","hyperParameters","epochCount"],c);const f=m(e,["learningRateMultiplier"]);t!==void 0&&f!=null&&x(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],f);const p=m(e,["exportLastCheckpointOnly"]);t!==void 0&&p!=null&&x(t,["supervisedTuningSpec","exportLastCheckpointOnly"],p);const h=m(e,["adapterSize"]);if(t!==void 0&&h!=null&&x(t,["supervisedTuningSpec","hyperParameters","adapterSize"],h),m(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(m(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const g=m(e,["labels"]);return t!==void 0&&g!=null&&x(t,["labels"],g),i}function QC(e){const t={},i=m(e,["baseModel"]);i!=null&&x(t,["baseModel"],i);const a=m(e,["preTunedModel"]);a!=null&&x(t,["preTunedModel"],a);const s=m(e,["trainingDataset"]);s!=null&&x(t,["tuningTask","trainingData"],s_(s));const l=m(e,["config"]);return l!=null&&$C(l,t),t}function XC(e){const t={},i=m(e,["baseModel"]);i!=null&&x(t,["baseModel"],i);const a=m(e,["preTunedModel"]);a!=null&&x(t,["preTunedModel"],a);const s=m(e,["trainingDataset"]);s!=null&&x(t,["supervisedTuningSpec","trainingDatasetUri"],l_(s,t));const l=m(e,["config"]);return l!=null&&KC(l,t),t}function ZC(e){const t={},i=m(e,["name"]);return i!=null&&x(t,["_url","name"],i),t}function WC(e){const t={},i=m(e,["name"]);return i!=null&&x(t,["_url","name"],i),t}function e_(e,t){const i={},a=m(e,["pageSize"]);t!==void 0&&a!=null&&x(t,["_query","pageSize"],a);const s=m(e,["pageToken"]);t!==void 0&&s!=null&&x(t,["_query","pageToken"],s);const l=m(e,["filter"]);return t!==void 0&&l!=null&&x(t,["_query","filter"],l),i}function t_(e,t){const i={},a=m(e,["pageSize"]);t!==void 0&&a!=null&&x(t,["_query","pageSize"],a);const s=m(e,["pageToken"]);t!==void 0&&s!=null&&x(t,["_query","pageToken"],s);const l=m(e,["filter"]);return t!==void 0&&l!=null&&x(t,["_query","filter"],l),i}function n_(e){const t={},i=m(e,["config"]);return i!=null&&e_(i,t),t}function i_(e){const t={},i=m(e,["config"]);return i!=null&&t_(i,t),t}function r_(e){const t={},i=m(e,["sdkHttpResponse"]);i!=null&&x(t,["sdkHttpResponse"],i);const a=m(e,["nextPageToken"]);a!=null&&x(t,["nextPageToken"],a);const s=m(e,["tunedModels"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>ev(c))),x(t,["tuningJobs"],l)}return t}function a_(e){const t={},i=m(e,["sdkHttpResponse"]);i!=null&&x(t,["sdkHttpResponse"],i);const a=m(e,["nextPageToken"]);a!=null&&x(t,["nextPageToken"],a);const s=m(e,["tuningJobs"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>Pd(c))),x(t,["tuningJobs"],l)}return t}function o_(e){const t={},i=m(e,["name"]);i!=null&&x(t,["model"],i);const a=m(e,["name"]);return a!=null&&x(t,["endpoint"],a),t}function s_(e){const t={};if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=m(e,["examples"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),x(t,["examples","examples"],a)}return t}function l_(e,t){const i={},a=m(e,["gcsUri"]);t!==void 0&&a!=null&&x(t,["supervisedTuningSpec","trainingDatasetUri"],a);const s=m(e,["vertexDatasetResource"]);if(t!==void 0&&s!=null&&x(t,["supervisedTuningSpec","trainingDatasetUri"],s),m(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function ev(e){const t={},i=m(e,["sdkHttpResponse"]);i!=null&&x(t,["sdkHttpResponse"],i);const a=m(e,["name"]);a!=null&&x(t,["name"],a);const s=m(e,["state"]);s!=null&&x(t,["state"],qx(s));const l=m(e,["createTime"]);l!=null&&x(t,["createTime"],l);const c=m(e,["tuningTask","startTime"]);c!=null&&x(t,["startTime"],c);const f=m(e,["tuningTask","completeTime"]);f!=null&&x(t,["endTime"],f);const p=m(e,["updateTime"]);p!=null&&x(t,["updateTime"],p);const h=m(e,["description"]);h!=null&&x(t,["description"],h);const g=m(e,["baseModel"]);g!=null&&x(t,["baseModel"],g);const b=m(e,["_self"]);b!=null&&x(t,["tunedModel"],o_(b));const w=m(e,["customBaseModel"]);w!=null&&x(t,["customBaseModel"],w);const S=m(e,["experiment"]);S!=null&&x(t,["experiment"],S);const C=m(e,["labels"]);C!=null&&x(t,["labels"],C);const E=m(e,["outputUri"]);E!=null&&x(t,["outputUri"],E);const R=m(e,["pipelineJob"]);R!=null&&x(t,["pipelineJob"],R);const A=m(e,["serviceAccount"]);A!=null&&x(t,["serviceAccount"],A);const D=m(e,["tunedModelDisplayName"]);D!=null&&x(t,["tunedModelDisplayName"],D);const q=m(e,["veoTuningSpec"]);return q!=null&&x(t,["veoTuningSpec"],q),t}function Pd(e){const t={},i=m(e,["sdkHttpResponse"]);i!=null&&x(t,["sdkHttpResponse"],i);const a=m(e,["name"]);a!=null&&x(t,["name"],a);const s=m(e,["state"]);s!=null&&x(t,["state"],qx(s));const l=m(e,["createTime"]);l!=null&&x(t,["createTime"],l);const c=m(e,["startTime"]);c!=null&&x(t,["startTime"],c);const f=m(e,["endTime"]);f!=null&&x(t,["endTime"],f);const p=m(e,["updateTime"]);p!=null&&x(t,["updateTime"],p);const h=m(e,["error"]);h!=null&&x(t,["error"],h);const g=m(e,["description"]);g!=null&&x(t,["description"],g);const b=m(e,["baseModel"]);b!=null&&x(t,["baseModel"],b);const w=m(e,["tunedModel"]);w!=null&&x(t,["tunedModel"],w);const S=m(e,["preTunedModel"]);S!=null&&x(t,["preTunedModel"],S);const C=m(e,["supervisedTuningSpec"]);C!=null&&x(t,["supervisedTuningSpec"],C);const E=m(e,["tuningDataStats"]);E!=null&&x(t,["tuningDataStats"],E);const R=m(e,["encryptionSpec"]);R!=null&&x(t,["encryptionSpec"],R);const A=m(e,["partnerModelTuningSpec"]);A!=null&&x(t,["partnerModelTuningSpec"],A);const D=m(e,["customBaseModel"]);D!=null&&x(t,["customBaseModel"],D);const q=m(e,["experiment"]);q!=null&&x(t,["experiment"],q);const M=m(e,["labels"]);M!=null&&x(t,["labels"],M);const V=m(e,["outputUri"]);V!=null&&x(t,["outputUri"],V);const I=m(e,["pipelineJob"]);I!=null&&x(t,["pipelineJob"],I);const U=m(e,["serviceAccount"]);U!=null&&x(t,["serviceAccount"],U);const Q=m(e,["tunedModelDisplayName"]);Q!=null&&x(t,["tunedModelDisplayName"],Q);const $=m(e,["veoTuningSpec"]);return $!=null&&x(t,["veoTuningSpec"],$),t}function u_(e){const t={},i=m(e,["sdkHttpResponse"]);i!=null&&x(t,["sdkHttpResponse"],i);const a=m(e,["name"]);a!=null&&x(t,["name"],a);const s=m(e,["metadata"]);s!=null&&x(t,["metadata"],s);const l=m(e,["done"]);l!=null&&x(t,["done"],l);const c=m(e,["error"]);return c!=null&&x(t,["error"],c),t}function c_(e,t){const i={},a=m(e,["gcsUri"]);a!=null&&x(i,["validationDatasetUri"],a);const s=m(e,["vertexDatasetResource"]);return t!==void 0&&s!=null&&x(t,["supervisedTuningSpec","trainingDatasetUri"],s),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d_ extends or{constructor(t){super(),this.apiClient=t,this.get=async i=>await this.getInternal(i),this.list=async(i={})=>new Lo(ir.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(i),i),this.tune=async i=>{var a;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const s={tunedModelName:i.baseModel};!((a=i.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(s.checkpointId=i.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},i),{preTunedModel:s});return l.baseModel=void 0,await this.tuneInternal(l)}else{const s=Object.assign({},i);return await this.tuneInternal(s)}else{const s=Object.assign({},i),l=await this.tuneMldevInternal(s);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:Id.JOB_STATE_QUEUED}}}}async getInternal(t){var i,a,s,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=WC(t);return f=fe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:g.headers},w})),c.then(g=>Pd(g))}else{const h=ZC(t);return f=fe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:g.headers},w})),c.then(g=>ev(g))}}async listInternal(t){var i,a,s,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=i_(t);return f=fe("tuningJobs",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:g.headers},w})),c.then(g=>{const b=a_(g),w=new B0;return Object.assign(w,b),w})}else{const h=n_(t);return f=fe("tunedModels",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:g.headers},w})),c.then(g=>{const b=r_(g),w=new B0;return Object.assign(w,b),w})}}async cancel(t){var i,a,s,l;let c="",f={};if(this.apiClient.isVertexAI()){const p=YC(t);c=fe("{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const p=JC(t);c=fe("{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}}async tuneInternal(t){var i,a;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=XC(t);return l=fe("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),s.then(p=>Pd(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var i,a;let s,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=QC(t);return l=fe("tunedModels",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),s.then(p=>u_(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class f_{async download(t,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const h_=1024*1024*8,p_=3,m_=1e3,g_=2,dd="x-goog-upload-status";async function y_(e,t,i){var a,s,l;let c=0,f=0,p=new Rd(new Response),h="upload";for(c=e.size;f<c;){const b=Math.min(h_,c-f),w=e.slice(f,f+b);f+b>=c&&(h+=", finalize");let S=0,C=m_;for(;S<p_&&(p=await i.request({path:"",body:w,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(f),"Content-Length":String(b)}}}),!(!((a=p==null?void 0:p.headers)===null||a===void 0)&&a[dd]));)S++,await v_(C),C=C*g_;if(f+=b,((s=p==null?void 0:p.headers)===null||s===void 0?void 0:s[dd])!=="active")break;if(c<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const g=await(p==null?void 0:p.json());if(((l=p==null?void 0:p.headers)===null||l===void 0?void 0:l[dd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return g.file}async function x_(e){return{size:e.size,type:e.type}}function v_(e){return new Promise(t=>setTimeout(t,e))}class b_{async upload(t,i,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await y_(t,i,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await x_(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class w_{create(t,i,a){return new S_(t,i,a)}}class S_{constructor(t,i,a){this.url=t,this.headers=i,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uy="x-goog-api-key";class N_{constructor(t){this.apiKey=t}async addAuthHeaders(t){if(t.get(uy)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(uy,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const E_="gl-node/";class Li{constructor(t){var i;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=t.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=t.apiKey;const a=QS(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion;const s=new N_(this.apiKey);this.apiClient=new cC({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:E_+"web",uploader:new b_,downloader:new f_}),this.models=new IC(this.apiClient),this.live=new NC(this.apiClient,s,new w_),this.batches=new fN(this.apiClient),this.chats=new BN(this.models,this.apiClient),this.caches=new jN(this.apiClient),this.files=new WN(this.apiClient),this.operations=new RC(this.apiClient),this.authTokens=new FC(this.apiClient),this.tunings=new d_(this.apiClient)}}const T_=({deepDive:e,onBack:t})=>{const{bibleVersion:i}=ar(),[a,s]=H.useState(""),[l,c]=H.useState(""),[f,p]=H.useState(!1),[h,g]=H.useState(""),[b,w]=H.useState("gemini"),S=(E,R)=>{if(E==="#")return E;const A=new URL(E);return A.searchParams.set("version",i),A.toString()},C=async()=>{if(a.trim()){p(!0),c(""),g("");try{if(b==="gemini"){const E=new Li({apiKey:"AIzaSyDcN6U-3ferwZqCG-r93GR2kpKpC9U1SA4"}),R="You are a helpful Bible study assistant. Your purpose is to answer questions based on the provided context in a clear, concise, and theologically sound manner. Ground your answers in trustworthy biblical sources and historical context, similar to information found on Wikipedia for historical background. Do not speculate or provide personal opinions. Your response should be in Traditional Chinese.",A=`Context about "${e.title}":
${e.content}

Based on this context and general biblical knowledge, answer the following question:

Question: "${a}"`,D=await E.models.generateContent({model:"gemini-2.5-flash",contents:A,config:{systemInstruction:R}});c(D.text)}else b==="openai"&&(await new Promise(E=>setTimeout(E,1500)),c("OpenAI 整合即將推出。目前，請使用 Gemini 模型進行查詢。"))}catch(E){console.error("Error generating AI answer:",E),g("抱歉，生成答案時發生錯誤。請稍後再試。")}finally{p(!1)}}};return d.jsxs("div",{className:"flex-grow overflow-y-auto pr-4 -mr-4",children:[d.jsxs("h2",{id:"deepdive-title",className:"text-4xl font-bold text-amber-900 mb-4 flex items-center gap-3",style:{fontFamily:"'Trajan Pro', serif"},children:[d.jsx(ot,{name:"lightbulb",className:"w-8 h-8"}),"深入探索：",e.title]}),d.jsx("p",{className:"text-lg text-stone-800 leading-relaxed mb-6 whitespace-pre-wrap",children:e.content}),d.jsx("h3",{className:"text-2xl font-bold text-amber-900 border-b-2 border-amber-800 pb-2 mb-4",children:"來源查找器"}),d.jsx("ul",{className:"space-y-2 mb-8",children:e.sources.map((E,R)=>d.jsx("li",{children:d.jsx("a",{href:S(E.url,E.text),target:"_blank",rel:"noopener noreferrer",className:"text-amber-800 hover:text-amber-600 hover:underline transition-colors font-semibold rounded focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-600",children:E.text.replace(/\((NIV|ESV|KJV)\)/,`(${i})`)})},R))}),d.jsx("div",{className:"border-t-4 border-dashed border-amber-800/50 my-8"}),d.jsxs("h3",{className:"text-2xl font-bold text-amber-900 pb-2 mb-4 flex items-center gap-3",children:[d.jsx(ot,{name:"sparkles",className:"w-7 h-7"}),"探索更深"]}),d.jsx("p",{className:"text-stone-700 mb-4",children:"對這個主題有更多問題嗎？問問 AI 助理！"}),d.jsxs("div",{className:"mb-2",children:[d.jsx("span",{className:"text-sm font-bold text-stone-600 mr-4",children:"選擇模型:"}),d.jsxs("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[d.jsx("button",{type:"button",onClick:()=>w("gemini"),className:`px-4 py-2 text-sm font-medium border rounded-l-lg transition-colors focus:z-10 focus:ring-2 focus:ring-amber-500 ${b==="gemini"?"bg-amber-800 text-white border-amber-800":"bg-white text-stone-900 border-stone-300 hover:bg-stone-100"}`,children:"Gemini"}),d.jsx("button",{type:"button",onClick:()=>w("openai"),className:`px-4 py-2 text-sm font-medium border rounded-r-lg transition-colors focus:z-10 focus:ring-2 focus:ring-amber-500 ${b==="openai"?"bg-amber-800 text-white border-amber-800":"bg-white text-stone-900 border-stone-300 hover:bg-stone-100"}`,children:"OpenAI"})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("textarea",{value:a,onChange:E=>s(E.target.value),placeholder:"例如：這個概念如何應用在現代教會中？",className:"flex-grow p-2 border-2 border-amber-700/50 rounded-lg bg-amber-50/50 placeholder:text-stone-600 focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition",rows:2,disabled:f}),d.jsx("button",{onClick:C,disabled:f||!a.trim(),className:"bg-amber-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-700 transition-all disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center w-24 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-amber-500 focus-visible:ring-offset-amber-100",children:f?d.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"發問"})]}),h&&d.jsx("p",{className:"mt-4 text-red-600 bg-red-100 p-3 rounded-lg",children:h}),l&&d.jsx("div",{className:"mt-4 p-4 bg-amber-50/70 border-l-4 border-amber-800 rounded-r-lg animate-fade-in",children:d.jsx("p",{className:"text-stone-800 whitespace-pre-wrap",children:l})}),d.jsx("div",{className:"mt-8 border-t-2 border-amber-800/20 pt-6",children:d.jsx("button",{onClick:t,className:"bg-stone-600 hover:bg-stone-500 text-white font-bold py-2 px-4 rounded-lg transition focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-amber-500 focus-visible:ring-offset-amber-100",children:"返回說明"})})]})},cy=30,rl="jttw_quest_timers",C_=({quest:e,onClose:t})=>{const{completeQuest:i,completedQuests:a}=ar(),[s,l]=H.useState(null),[c,f]=H.useState(!1),[p,h]=H.useState(!1),[g,b]=H.useState(cy),[w,S]=H.useState(!1),C=s===e.correctAnswerIndex,E=a.has(e.id),R=H.useCallback(()=>{try{const M=localStorage.getItem(rl);if(!M)return;const V=JSON.parse(M);V[e.id]&&(delete V[e.id],localStorage.setItem(rl,JSON.stringify(V)))}catch(M){console.error("Failed to update timers in localStorage",M)}},[e.id]);H.useEffect(()=>{w&&R()},[w,R]),H.useEffect(()=>{if(E||c)return;const M=()=>{try{const K=localStorage.getItem(rl);return K?JSON.parse(K):{}}catch{return{}}},V=K=>{localStorage.setItem(rl,JSON.stringify(K))},I=M();let U=I[e.id];U||(U=Date.now()+cy*1e3,I[e.id]=U,V(I));const Q=()=>{const K=U-Date.now();K<=0?(b(0),S(!0),f(!0)):b(Math.ceil(K/1e3))};Q();const $=setInterval(Q,1e3);return()=>{clearInterval($)}},[e.id,E,c]);const A=M=>{c||(l(M),f(!0),M===e.correctAnswerIndex&&!E&&i(e.id,{id:e.id,title:e.journalPrompt.title,content:e.journalPrompt.content}),R())},D=H.useCallback(()=>{R(),t()},[t,R]),q=H.useCallback(M=>c?M===e.correctAnswerIndex?"bg-green-700":M===s&&!C?"bg-red-700":"bg-stone-700 opacity-70":"bg-stone-700 hover:bg-stone-600",[c,s,C,e.correctAnswerIndex]);return d.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-40 animate-fade-in",role:"dialog","aria-modal":"true","aria-labelledby":p?"deepdive-title":"quest-title",children:d.jsxs("div",{className:"bg-cover bg-center rounded-lg shadow-2xl w-full max-w-3xl border-4 border-amber-900 text-stone-900 p-8 relative flex flex-col max-h-[90vh]",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/old-paper.png')"},children:[d.jsx("button",{onClick:D,className:"absolute top-4 right-4 text-stone-600 hover:text-stone-900 transition-colors rounded-full focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-amber-500 focus-visible:ring-offset-amber-100 z-10","aria-label":"關閉任務",children:d.jsx(ot,{name:"x",className:"w-8 h-8"})}),p?d.jsx("div",{className:"animate-fade-in",children:d.jsx(T_,{deepDive:e.deepDive,onBack:()=>h(!1)})}):d.jsxs("div",{className:"animate-fade-in",children:[d.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("img",{src:e.characterImage,alt:e.character,className:"w-24 h-24 rounded-full border-4 border-amber-800 object-cover"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-lg text-stone-800",children:"來自的消息"}),d.jsx("h2",{id:"quest-title",className:"text-4xl font-bold text-amber-900",children:e.character})]})]}),!E&&!c&&d.jsxs("div",{className:"text-lg font-bold text-amber-800 bg-amber-200 border-2 border-amber-400 rounded-full px-4 py-1 flex-shrink-0",children:["時間：",g,"秒"]})]}),d.jsx("div",{className:"bg-stone-800/95 p-4 rounded-lg mb-6 border-l-4 border-amber-500 shadow-inner",children:d.jsx("p",{className:"text-xl font-semibold text-amber-50 leading-relaxed",children:e.question})}),d.jsx("div",{className:"space-y-3 mb-6",children:e.options.map((M,V)=>d.jsx("button",{onClick:()=>A(V),disabled:c,className:`w-full text-left p-4 rounded-lg text-white font-semibold transition-all duration-300 transform hover:scale-105 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-white ${q(V)} ${c?"":"cursor-pointer"}`,children:M},V))}),(c||E)&&d.jsxs("div",{className:"p-4 rounded-lg bg-amber-100 border border-amber-300 animate-slide-up",children:[d.jsx("h3",{className:"font-bold text-lg text-amber-900 flex items-center gap-2",children:w?d.jsxs(d.Fragment,{children:[d.jsx(ot,{name:"x",className:"w-6 h-6"}),"時間到！"]}):C||E?d.jsxs(d.Fragment,{children:[d.jsx(ot,{name:"check",className:"w-6 h-6"}),"答對了！"]}):d.jsxs(d.Fragment,{children:[d.jsx(ot,{name:"x",className:"w-6 h-6"}),"不太對..."]})}),d.jsx("p",{className:"mt-2 text-stone-900",children:w?"您的時間已用完。請隨時關閉此視窗再試一次。":e.explanation}),d.jsxs("div",{className:"mt-4 flex flex-wrap gap-4",children:[d.jsx("button",{onClick:D,className:"flex-1 bg-amber-800 hover:bg-amber-700 text-white font-bold py-2 px-4 rounded-lg transition focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-amber-500 focus-visible:ring-offset-amber-100",children:"繼續旅程"}),(C||E)&&d.jsx("button",{onClick:()=>h(!0),className:"flex-1 bg-transparent border-2 border-amber-800 hover:bg-amber-100 text-amber-900 font-bold py-2 px-4 rounded-lg transition focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-amber-500 focus-visible:ring-offset-amber-100",children:"深入探索"})]})]})]})]})})},__=({level:e,onClose:t})=>d.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50 animate-fade-in",role:"alertdialog","aria-modal":"true","aria-labelledby":"level-complete-title","aria-describedby":"level-complete-description",children:d.jsxs("div",{className:"bg-cover bg-center rounded-lg shadow-2xl w-full max-w-2xl border-4 border-amber-900 text-stone-900 p-8 relative",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/old-paper.png')"},children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{id:"level-complete-title",className:"text-3xl font-bold text-amber-900",style:{fontFamily:"'Trajan Pro', serif"},children:"時代完成！"}),d.jsxs("p",{id:"level-complete-description",className:"text-xl text-stone-700 mt-1 mb-6",children:["您已完成「",e.name,"」時代。"]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold text-amber-900 border-b-2 border-amber-800 pb-2 mb-4",children:"討論提示"}),d.jsx("ul",{className:"space-y-3 list-disc list-inside text-stone-800",children:e.discussionPrompts.map((i,a)=>d.jsx("li",{className:"text-lg",children:i},a))})]}),d.jsx("div",{className:"mt-8 text-center",children:d.jsx("button",{onClick:t,className:"bg-amber-800 hover:bg-amber-700 text-white font-bold py-3 px-6 rounded-lg transition-transform transform hover:scale-105 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-amber-500 focus-visible:ring-offset-amber-100",children:"繼續您的旅程"})})]})}),A_=({onSelectQuest:e,onClose:t,additionalQuests:i=[]})=>{const{completedQuests:a}=ar(),[s,l]=H.useState(""),[c,f]=H.useState("all"),p=[..._x,...i],h=p.filter(g=>{const b=g.character.toLowerCase().includes(s.toLowerCase())||g.question.toLowerCase().includes(s.toLowerCase()),w=c==="all"||c==="completed"&&a.has(g.id)||c==="incomplete"&&!a.has(g.id);return b&&w});return d.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50 animate-fade-in",children:d.jsxs("div",{className:"bg-cover bg-center rounded-lg shadow-2xl w-full max-w-5xl border-4 border-amber-900 text-stone-900 p-6 relative max-h-[90vh] overflow-hidden flex flex-col",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/old-paper.png')"},children:[d.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-stone-600 hover:text-stone-900 transition-colors rounded-full focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-500 z-10","aria-label":"關閉問題瀏覽器",children:d.jsx(ot,{name:"x",className:"w-8 h-8"})}),d.jsx("h2",{className:"text-3xl font-bold text-amber-900 mb-4",children:"選擇問題"}),d.jsxs("div",{className:"mb-4 space-y-3",children:[d.jsx("input",{type:"text",placeholder:"搜尋角色或問題...",value:s,onChange:g=>l(g.target.value),className:"w-full px-4 py-2 rounded-lg border-2 border-amber-700 bg-amber-50 text-stone-900 focus:outline-none focus:ring-2 focus:ring-amber-500"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>f("all"),className:`px-4 py-2 rounded-lg font-semibold transition ${c==="all"?"bg-amber-800 text-white":"bg-stone-300 text-stone-700 hover:bg-stone-400"}`,children:["全部 (",p.length,")"]}),d.jsxs("button",{onClick:()=>f("incomplete"),className:`px-4 py-2 rounded-lg font-semibold transition ${c==="incomplete"?"bg-amber-800 text-white":"bg-stone-300 text-stone-700 hover:bg-stone-400"}`,children:["未完成 (",p.filter(g=>!a.has(g.id)).length,")"]}),d.jsxs("button",{onClick:()=>f("completed"),className:`px-4 py-2 rounded-lg font-semibold transition ${c==="completed"?"bg-amber-800 text-white":"bg-stone-300 text-stone-700 hover:bg-stone-400"}`,children:["已完成 (",a.size,")"]})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto pr-2",children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(g=>{const b=a.has(g.id);return d.jsx("button",{onClick:()=>e(g),className:`text-left p-4 rounded-lg border-2 transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-amber-500 ${g.id.startsWith("qg")?"border-purple-500 bg-gradient-to-br from-purple-50 to-purple-100 hover:from-purple-100 hover:to-purple-200":"border-amber-700 bg-gradient-to-br from-amber-50 to-amber-100 hover:from-amber-100 hover:to-amber-200"}`,children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("img",{src:g.characterImage,alt:g.character,className:"w-16 h-16 rounded-full border-2 border-amber-800 object-cover flex-shrink-0"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("h3",{className:"text-lg font-bold text-amber-900",children:g.character}),g.id.startsWith("qg")&&d.jsxs("span",{className:"flex items-center gap-1 text-purple-700 text-xs bg-purple-200 px-2 py-0.5 rounded",children:[d.jsx(ot,{name:"sparkles",className:"w-3 h-3"}),"AI生成"]}),b&&d.jsxs("span",{className:"flex items-center gap-1 text-green-700 text-sm",children:[d.jsx(ot,{name:"check",className:"w-4 h-4"}),"已完成"]})]}),d.jsx("p",{className:"text-sm text-stone-700 line-clamp-2",children:g.question})]})]})},g.id)})}),h.length===0&&d.jsx("div",{className:"text-center py-12 text-stone-600",children:d.jsx("p",{className:"text-lg",children:"找不到符合條件的問題"})})]})]})})},k_=new Li({apiKey:"AIzaSyDcN6U-3ferwZqCG-r93GR2kpKpC9U1SA4"}),I_={type:Ne.OBJECT,properties:{character:{type:Ne.STRING,description:"The name of the Biblical character in Traditional Chinese (繁體中文)"},question:{type:Ne.STRING,description:"A thought-provoking question about the character in Traditional Chinese, written in first person from the character's perspective"},options:{type:Ne.ARRAY,description:"Four multiple choice options in Traditional Chinese",items:{type:Ne.STRING},minItems:4,maxItems:4},correctAnswerIndex:{type:Ne.INTEGER,description:"The index (0-3) of the correct answer in the options array"},explanation:{type:Ne.STRING,description:"A detailed explanation of the answer in Traditional Chinese, including specific Bible verse references (e.g., 創世記 3:5, 約翰福音 3:16)"},journalPromptTitle:{type:Ne.STRING,description:"A short title for the journal prompt in Traditional Chinese"},journalPromptContent:{type:Ne.STRING,description:"Reflective content for personal meditation in Traditional Chinese, connecting the Biblical story to modern Christian life"},deepDiveTitle:{type:Ne.STRING,description:"A title for the deep dive theological exploration in Traditional Chinese"},deepDiveContent:{type:Ne.STRING,description:"In-depth theological analysis in Traditional Chinese, exploring themes, historical context, and theological implications"},bibleSources:{type:Ne.ARRAY,description:"Array of relevant Bible passages (at least 2-3 sources)",items:{type:Ne.OBJECT,properties:{reference:{type:Ne.STRING,description:"Bible reference in Traditional Chinese with version (e.g., '創世記 3:1-6 (NIV)')"},englishReference:{type:Ne.STRING,description:"Bible reference in English for URL generation (e.g., 'Genesis 3:1-6')"}}}}},required:["character","question","options","correctAnswerIndex","explanation","journalPromptTitle","journalPromptContent","deepDiveTitle","deepDiveContent","bibleSources"]},tv=async e=>{const t=await k_.models.generateContent({model:"gemini-2.0-flash-exp",contents:e,config:{systemInstruction:`你是一位專業的聖經教師和神學教育者，專門創作高質量的聖經學習問題。

你的任務是生成一個關於聖經人物或事件的教育性問題，包含：

1. **角色選擇**：選擇一個有意義的聖經人物（舊約或新約）
2. **問題設計**：以第一人稱（角色視角）撰寫問題，讓學習者能夠代入角色思考
3. **選項設計**：提供4個選項，其中3個是合理但錯誤的干擾項
4. **解釋**：提供詳細的答案解釋，必須包含具體的聖經經文引用
5. **靈修引導**：提供日誌提示，幫助學習者將聖經故事應用到現代生活
6. **深度探索**：提供神學深度分析，探討主題、歷史背景和神學意義
7. **經文來源**：提供2-3個相關的聖經章節引用

要求：
- 所有內容使用繁體中文
- 問題要有教育意義和思考深度
- 答案解釋要準確引用聖經經文
- 神學內容要符合正統基督教教義
- 語氣要尊重、教育性強
- 適合各年齡層的基督徒學習者`,temperature:.9,topP:.95,responseMimeType:"application/json",responseSchema:I_}}),i=JSON.parse(t.text);return{character:i.character,question:i.question,options:i.options,correctAnswerIndex:i.correctAnswerIndex,explanation:i.explanation,journalPrompt:{title:i.journalPromptTitle,content:i.journalPromptContent},deepDive:{title:i.deepDiveTitle,content:i.deepDiveContent,sources:i.bibleSources.map(s=>({text:s.reference,url:`https://www.biblegateway.com/passage/?search=${encodeURIComponent(s.englishReference)}&version=NIV`}))}}},R_=async(e,t,i)=>{let a="請生成一個聖經問題";return e&&(a+=`，關於聖經人物「${e}」`),t&&(a+=`，主題是「${t}」`),i==="old"?a+="，來自舊約聖經":i==="new"&&(a+="，來自新約聖經"),a+="。",tv(a)},M_=({onQuestionGenerated:e,onClose:t})=>{const[i,a]=H.useState("guided"),[s,l]=H.useState(""),[c,f]=H.useState(""),[p,h]=H.useState("both"),[g,b]=H.useState(""),[w,S]=H.useState(!1),[C,E]=H.useState(null),[R,A]=H.useState(null),D=async()=>{S(!0),E(null),A(null);try{let M;if(i==="free"){if(!g.trim())throw new Error("請輸入自訂提示");M=await tv(g)}else M=await R_(s.trim()||void 0,c.trim()||void 0,p);A(M)}catch(M){console.error("Question generation error:",M),E(M instanceof Error?M.message:"生成問題時發生錯誤，請重試。")}finally{S(!1)}},q=()=>{R&&(e(R),t())};return d.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50 animate-fade-in",children:d.jsxs("div",{className:"bg-cover bg-center rounded-lg shadow-2xl w-full max-w-4xl border-4 border-amber-900 text-stone-900 p-6 relative max-h-[90vh] overflow-y-auto",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/old-paper.png')"},children:[d.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-stone-600 hover:text-stone-900 transition-colors rounded-full focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-500 z-10","aria-label":"關閉",children:d.jsx(ot,{name:"x",className:"w-8 h-8"})}),d.jsx("h2",{className:"text-3xl font-bold text-amber-900 mb-2",children:"AI 問題生成器"}),d.jsx("p",{className:"text-stone-700 mb-2",children:"使用 AI 生成新的聖經學習問題"}),d.jsxs("p",{className:"text-xs text-stone-500 mb-4 flex items-center gap-2",children:[d.jsx("span",{children:"⚡ Powered by"}),d.jsx("span",{className:"font-semibold text-blue-600",children:"Google Gemini 2.0 Flash Experimental"})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"生成模式"}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:()=>a("guided"),className:`flex-1 px-4 py-3 rounded-lg font-semibold transition ${i==="guided"?"bg-amber-800 text-white":"bg-stone-300 text-stone-700 hover:bg-stone-400"}`,children:"引導式生成"}),d.jsx("button",{onClick:()=>a("free"),className:`flex-1 px-4 py-3 rounded-lg font-semibold transition ${i==="free"?"bg-amber-800 text-white":"bg-stone-300 text-stone-700 hover:bg-stone-400"}`,children:"自由提示"})]})]}),i==="guided"&&d.jsxs("div",{className:"space-y-4 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"聖經人物（選填）"}),d.jsx("input",{type:"text",value:s,onChange:M=>l(M.target.value),placeholder:"例如：摩西、大衛、保羅",className:"w-full px-4 py-2 rounded-lg border-2 border-amber-700 bg-amber-50 text-stone-900 focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"主題（選填）"}),d.jsx("input",{type:"text",value:c,onChange:M=>f(M.target.value),placeholder:"例如：信心、順服、領導力",className:"w-full px-4 py-2 rounded-lg border-2 border-amber-700 bg-amber-50 text-stone-900 focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"聖經範圍"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>h("both"),className:`flex-1 px-4 py-2 rounded-lg font-semibold transition ${p==="both"?"bg-amber-700 text-white":"bg-stone-200 text-stone-700 hover:bg-stone-300"}`,children:"新舊約"}),d.jsx("button",{onClick:()=>h("old"),className:`flex-1 px-4 py-2 rounded-lg font-semibold transition ${p==="old"?"bg-amber-700 text-white":"bg-stone-200 text-stone-700 hover:bg-stone-300"}`,children:"舊約"}),d.jsx("button",{onClick:()=>h("new"),className:`flex-1 px-4 py-2 rounded-lg font-semibold transition ${p==="new"?"bg-amber-700 text-white":"bg-stone-200 text-stone-700 hover:bg-stone-300"}`,children:"新約"})]})]})]}),i==="free"&&d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"自訂提示"}),d.jsx("textarea",{value:g,onChange:M=>b(M.target.value),placeholder:"例如：生成一個關於耶穌登山寶訓的問題，著重於八福的教導",rows:4,className:"w-full px-4 py-2 rounded-lg border-2 border-amber-700 bg-amber-50 text-stone-900 focus:outline-none focus:ring-2 focus:ring-amber-500 resize-none"})]}),C&&d.jsx("div",{className:"mb-4 p-4 bg-red-100 border-2 border-red-400 rounded-lg",children:d.jsx("p",{className:"text-red-800 font-semibold",children:C})}),R&&d.jsxs("div",{className:"mb-6 p-4 bg-green-50 border-2 border-green-400 rounded-lg",children:[d.jsx("h3",{className:"text-lg font-bold text-green-900 mb-2",children:"✓ 問題已生成"}),d.jsxs("p",{className:"text-sm text-green-800 mb-2",children:[d.jsx("strong",{children:"角色："}),R.character]}),d.jsxs("p",{className:"text-sm text-green-800 mb-2",children:[d.jsx("strong",{children:"問題："}),R.question]}),d.jsx("p",{className:"text-xs text-green-700",children:"點擊「加入遊戲」將此問題添加到遊戲中"})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:D,disabled:w,className:`flex-1 px-6 py-3 rounded-lg font-bold transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-2 ${w?"bg-stone-400 text-stone-200 cursor-not-allowed":"bg-amber-700 hover:bg-amber-600 text-white"}`,children:w?d.jsxs(d.Fragment,{children:[d.jsx(ot,{name:"loader",className:"w-5 h-5 animate-spin"}),"生成中..."]}):d.jsxs(d.Fragment,{children:[d.jsx(ot,{name:"sparkles",className:"w-5 h-5"}),"生成問題"]})}),R&&d.jsxs("button",{onClick:q,className:"flex-1 px-6 py-3 bg-green-700 hover:bg-green-600 text-white rounded-lg font-bold transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-2",children:[d.jsx(ot,{name:"check",className:"w-5 h-5"}),"加入遊戲"]})]})]})})},dy="bible-game-generated-questions",D_=()=>{const{unlockedLocations:e,completedQuests:t,isFreeChoiceMode:i,setIsFreeChoiceMode:a}=ar(),[s,l]=H.useState(null),[c,f]=H.useState(null),[p,h]=H.useState(!1),[g,b]=H.useState(!1),[w,S]=H.useState([]);H.useEffect(()=>{try{const M=localStorage.getItem(dy);if(M){const V=JSON.parse(M);S(V)}}catch(M){console.error("Failed to load generated questions:",M)}},[]),H.useEffect(()=>{try{w.length>0&&localStorage.setItem(dy,JSON.stringify(w))}catch(M){console.error("Failed to save generated questions:",M)}},[w]);const C=[..._x,...w],E=M=>{const V=C.find(I=>I.id===M);V&&l(V)},R=M=>{l(M),h(!1)},A=M=>{const V=`qg${Date.now()}`,I={...M,id:V,characterImage:`https://picsum.photos/seed/${V}/100`};S(U=>[...U,I]),l(I)},D=M=>{l(null);const V=new Set(t).add(M);for(const I of Jg){const U=yl.filter($=>I.locationIds.includes($.id)),Q=U.map($=>$.questId);Q.every($=>V.has($))&&U.filter(K=>t.has(K.questId)).length<Q.length&&f(I.id)}},q=Jg.find(M=>M.id===c);return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-4 flex flex-wrap items-center justify-center gap-3",children:[d.jsxs("div",{className:"bg-stone-800/90 rounded-lg p-3 border-2 border-amber-700 flex items-center gap-3",children:[d.jsx("span",{className:"text-amber-200 font-semibold",children:"遊戲模式："}),d.jsx("button",{onClick:()=>a(!i),className:`px-4 py-2 rounded-lg font-semibold transition ${i?"bg-stone-600 text-stone-300 hover:bg-stone-500":"bg-amber-600 text-white"}`,children:"順序解鎖"}),d.jsx("button",{onClick:()=>a(!i),className:`px-4 py-2 rounded-lg font-semibold transition ${i?"bg-amber-600 text-white":"bg-stone-600 text-stone-300 hover:bg-stone-500"}`,children:"自由選擇"})]}),i&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>h(!0),className:"bg-amber-700 hover:bg-amber-600 text-white px-6 py-3 rounded-lg font-bold transition-all duration-300 transform hover:scale-105 flex items-center gap-2 border-2 border-amber-900",children:[d.jsx(ot,{name:"list",className:"w-5 h-5"}),"瀏覽所有問題"]}),d.jsxs("button",{onClick:()=>b(!0),className:"bg-purple-700 hover:bg-purple-600 text-white px-6 py-3 rounded-lg font-bold transition-all duration-300 transform hover:scale-105 flex items-center gap-2 border-2 border-purple-900",children:[d.jsx(ot,{name:"sparkles",className:"w-5 h-5"}),"AI 生成問題"]})]})]}),d.jsxs("div",{className:"relative w-full max-w-5xl mx-auto aspect-video rounded-lg shadow-2xl overflow-hidden border-4 border-amber-900",style:{backgroundImage:"url(https://picsum.photos/seed/map/1200/675)",backgroundSize:"cover"},children:[d.jsx("div",{className:"absolute inset-0 bg-black/30"}),yl.map(M=>{const V=i||e.has(M.id),I=t.has(M.questId);let U="bg-gray-600 text-gray-300 cursor-not-allowed";return V&&(U="bg-amber-500 text-stone-900 hover:bg-amber-400 cursor-pointer animate-pulse"),I&&(U="bg-green-700 text-white hover:bg-green-600 cursor-pointer animate-none"),d.jsxs("button",{disabled:!V,onClick:()=>E(M.questId),className:`absolute transform -translate-x-1/2 -translate-y-1/2 p-2 rounded-full shadow-lg transition-all duration-300 flex items-center justify-center focus:outline-none focus:ring-4 focus:ring-white/50 group ${U}`,style:{top:M.position.top,left:M.position.left},"aria-label":`地點：${M.name}`,children:[I?d.jsx(ot,{name:"check",className:"w-5 h-5"}):V?d.jsx(ot,{name:"unlock",className:"w-5 h-5"}):d.jsx(ot,{name:"lock",className:"w-5 h-5"}),d.jsxs("div",{className:"absolute bottom-full mb-2 w-max bg-gray-900 text-white text-xs rounded py-1 px-2 opacity-0 group-hover:opacity-100 group-focus:opacity-100 transition-opacity pointer-events-none",role:"tooltip",children:[d.jsx("span",{className:"font-bold",children:M.name}),d.jsx("br",{}),d.jsx("span",{className:"text-gray-300",children:M.era})]})]},M.id)}),s&&d.jsx(C_,{quest:s,onClose:()=>D(s.id)}),q&&d.jsx(__,{level:q,onClose:()=>f(null)})]}),p&&d.jsx(A_,{onSelectQuest:R,onClose:()=>h(!1),additionalQuests:w}),g&&d.jsx(M_,{onQuestionGenerated:A,onClose:()=>b(!1)})]})},L_=({onBack:e})=>d.jsx(GS,{children:d.jsx("div",{className:"fixed inset-0 bg-cover bg-center text-stone-900 font-serif",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/old-wall.png')"},children:d.jsxs("div",{className:"bg-stone-800 bg-opacity-60 min-h-screen overflow-auto",children:[d.jsx("div",{className:"p-4",children:d.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-stone-200 hover:text-white transition-colors mb-4 bg-stone-700 hover:bg-stone-600 px-4 py-2 rounded-lg",children:[d.jsx(ha,{className:"w-5 h-5"}),"返回主頁"]})}),d.jsx(JS,{}),d.jsx("main",{className:"p-4 sm:p-6 md:p-8",children:d.jsx(D_,{})}),d.jsxs("footer",{className:"text-center py-4 text-stone-400 text-sm",children:[d.jsx("p",{children:"📖 Default questions curated by biblical scholars"}),d.jsx("p",{className:"text-xs mt-1",children:"⚡ AI Question Generator powered by Google Gemini 2.0 Flash Experimental"})]})]})})}),q_="modulepreload",U_=function(e){return"/"+e},fy={},fd=function(t,i,a){let s=Promise.resolve();if(i&&i.length>0){let c=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));s=c(i.map(h=>{if(h=U_(h),h in fy)return;fy[h]=!0;const g=h.endsWith(".css"),b=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${b}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":q_,g||(w.as="script"),w.crossOrigin="",w.href=h,p&&w.setAttribute("nonce",p),document.head.appendChild(w),g)return new Promise((S,C)=>{w.addEventListener("load",S),w.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${h}`)))})}))}function l(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return s.then(c=>{for(const f of c||[])f.status==="rejected"&&l(f.reason);return t().catch(l)})};function P_(e,t){const i={};return(e[e.length-1]===""?[...e,""]:e).join((i.padRight?" ":"")+","+(i.padLeft===!1?"":" ")).trim()}const V_=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,G_=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,j_={};function hy(e,t){return(j_.jsx?G_:V_).test(e)}const H_=/[ \t\n\f\r]/g;function z_(e){return typeof e=="object"?e.type==="text"?py(e.value):!1:py(e)}function py(e){return e.replace(H_,"")===""}class qo{constructor(t,i,a){this.normal=i,this.property=t,a&&(this.space=a)}}qo.prototype.normal={};qo.prototype.property={};qo.prototype.space=void 0;function nv(e,t){const i={},a={};for(const s of e)Object.assign(i,s.property),Object.assign(a,s.normal);return new qo(i,a,t)}function Vd(e){return e.toLowerCase()}class Bt{constructor(t,i){this.attribute=i,this.property=t}}Bt.prototype.attribute="";Bt.prototype.booleanish=!1;Bt.prototype.boolean=!1;Bt.prototype.commaOrSpaceSeparated=!1;Bt.prototype.commaSeparated=!1;Bt.prototype.defined=!1;Bt.prototype.mustUseProperty=!1;Bt.prototype.number=!1;Bt.prototype.overloadedBoolean=!1;Bt.prototype.property="";Bt.prototype.spaceSeparated=!1;Bt.prototype.space=void 0;let B_=0;const Ce=sr(),dt=sr(),Gd=sr(),oe=sr(),Qe=sr(),la=sr(),Zt=sr();function sr(){return 2**++B_}const jd=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ce,booleanish:dt,commaOrSpaceSeparated:Zt,commaSeparated:la,number:oe,overloadedBoolean:Gd,spaceSeparated:Qe},Symbol.toStringTag,{value:"Module"})),hd=Object.keys(jd);class ff extends Bt{constructor(t,i,a,s){let l=-1;if(super(t,i),my(this,"space",s),typeof a=="number")for(;++l<hd.length;){const c=hd[l];my(this,hd[l],(a&jd[c])===jd[c])}}}ff.prototype.defined=!0;function my(e,t,i){i&&(e[t]=i)}function ya(e){const t={},i={};for(const[a,s]of Object.entries(e.properties)){const l=new ff(a,e.transform(e.attributes||{},a),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(a)&&(l.mustUseProperty=!0),t[a]=l,i[Vd(a)]=a,i[Vd(l.attribute)]=a}return new qo(t,i,e.space)}const iv=ya({properties:{ariaActiveDescendant:null,ariaAtomic:dt,ariaAutoComplete:null,ariaBusy:dt,ariaChecked:dt,ariaColCount:oe,ariaColIndex:oe,ariaColSpan:oe,ariaControls:Qe,ariaCurrent:null,ariaDescribedBy:Qe,ariaDetails:null,ariaDisabled:dt,ariaDropEffect:Qe,ariaErrorMessage:null,ariaExpanded:dt,ariaFlowTo:Qe,ariaGrabbed:dt,ariaHasPopup:null,ariaHidden:dt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Qe,ariaLevel:oe,ariaLive:null,ariaModal:dt,ariaMultiLine:dt,ariaMultiSelectable:dt,ariaOrientation:null,ariaOwns:Qe,ariaPlaceholder:null,ariaPosInSet:oe,ariaPressed:dt,ariaReadOnly:dt,ariaRelevant:null,ariaRequired:dt,ariaRoleDescription:Qe,ariaRowCount:oe,ariaRowIndex:oe,ariaRowSpan:oe,ariaSelected:dt,ariaSetSize:oe,ariaSort:null,ariaValueMax:oe,ariaValueMin:oe,ariaValueNow:oe,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function rv(e,t){return t in e?e[t]:t}function av(e,t){return rv(e,t.toLowerCase())}const O_=ya({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:la,acceptCharset:Qe,accessKey:Qe,action:null,allow:null,allowFullScreen:Ce,allowPaymentRequest:Ce,allowUserMedia:Ce,alt:null,as:null,async:Ce,autoCapitalize:null,autoComplete:Qe,autoFocus:Ce,autoPlay:Ce,blocking:Qe,capture:null,charSet:null,checked:Ce,cite:null,className:Qe,cols:oe,colSpan:null,content:null,contentEditable:dt,controls:Ce,controlsList:Qe,coords:oe|la,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ce,defer:Ce,dir:null,dirName:null,disabled:Ce,download:Gd,draggable:dt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ce,formTarget:null,headers:Qe,height:oe,hidden:Gd,high:oe,href:null,hrefLang:null,htmlFor:Qe,httpEquiv:Qe,id:null,imageSizes:null,imageSrcSet:null,inert:Ce,inputMode:null,integrity:null,is:null,isMap:Ce,itemId:null,itemProp:Qe,itemRef:Qe,itemScope:Ce,itemType:Qe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ce,low:oe,manifest:null,max:null,maxLength:oe,media:null,method:null,min:null,minLength:oe,multiple:Ce,muted:Ce,name:null,nonce:null,noModule:Ce,noValidate:Ce,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ce,optimum:oe,pattern:null,ping:Qe,placeholder:null,playsInline:Ce,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ce,referrerPolicy:null,rel:Qe,required:Ce,reversed:Ce,rows:oe,rowSpan:oe,sandbox:Qe,scope:null,scoped:Ce,seamless:Ce,selected:Ce,shadowRootClonable:Ce,shadowRootDelegatesFocus:Ce,shadowRootMode:null,shape:null,size:oe,sizes:null,slot:null,span:oe,spellCheck:dt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:oe,step:null,style:null,tabIndex:oe,target:null,title:null,translate:null,type:null,typeMustMatch:Ce,useMap:null,value:dt,width:oe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Qe,axis:null,background:null,bgColor:null,border:oe,borderColor:null,bottomMargin:oe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ce,declare:Ce,event:null,face:null,frame:null,frameBorder:null,hSpace:oe,leftMargin:oe,link:null,longDesc:null,lowSrc:null,marginHeight:oe,marginWidth:oe,noResize:Ce,noHref:Ce,noShade:Ce,noWrap:Ce,object:null,profile:null,prompt:null,rev:null,rightMargin:oe,rules:null,scheme:null,scrolling:dt,standby:null,summary:null,text:null,topMargin:oe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:oe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ce,disableRemotePlayback:Ce,prefix:null,property:null,results:oe,security:null,unselectable:null},space:"html",transform:av}),F_=ya({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Zt,accentHeight:oe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:oe,amplitude:oe,arabicForm:null,ascent:oe,attributeName:null,attributeType:null,azimuth:oe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:oe,by:null,calcMode:null,capHeight:oe,className:Qe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:oe,diffuseConstant:oe,direction:null,display:null,dur:null,divisor:oe,dominantBaseline:null,download:Ce,dx:null,dy:null,edgeMode:null,editable:null,elevation:oe,enableBackground:null,end:null,event:null,exponent:oe,externalResourcesRequired:null,fill:null,fillOpacity:oe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:la,g2:la,glyphName:la,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:oe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:oe,horizOriginX:oe,horizOriginY:oe,id:null,ideographic:oe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:oe,k:oe,k1:oe,k2:oe,k3:oe,k4:oe,kernelMatrix:Zt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:oe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:oe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:oe,overlineThickness:oe,paintOrder:null,panose1:null,path:null,pathLength:oe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Qe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:oe,pointsAtY:oe,pointsAtZ:oe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Zt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Zt,rev:Zt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Zt,requiredFeatures:Zt,requiredFonts:Zt,requiredFormats:Zt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:oe,specularExponent:oe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:oe,strikethroughThickness:oe,string:null,stroke:null,strokeDashArray:Zt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:oe,strokeOpacity:oe,strokeWidth:null,style:null,surfaceScale:oe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Zt,tabIndex:oe,tableValues:null,target:null,targetX:oe,targetY:oe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Zt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:oe,underlineThickness:oe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:oe,values:null,vAlphabetic:oe,vMathematical:oe,vectorEffect:null,vHanging:oe,vIdeographic:oe,version:null,vertAdvY:oe,vertOriginX:oe,vertOriginY:oe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:oe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:rv}),ov=ya({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),sv=ya({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:av}),lv=ya({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),J_={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Y_=/[A-Z]/g,gy=/-[a-z]/g,$_=/^data[-\w.:]+$/i;function K_(e,t){const i=Vd(t);let a=t,s=Bt;if(i in e.normal)return e.property[e.normal[i]];if(i.length>4&&i.slice(0,4)==="data"&&$_.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(gy,X_);a="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!gy.test(l)){let c=l.replace(Y_,Q_);c.charAt(0)!=="-"&&(c="-"+c),t="data"+c}}s=ff}return new s(a,t)}function Q_(e){return"-"+e.toLowerCase()}function X_(e){return e.charAt(1).toUpperCase()}const Z_=nv([iv,O_,ov,sv,lv],"html"),hf=nv([iv,F_,ov,sv,lv],"svg");function W_(e){return e.join(" ").trim()}var Zr={},pd,yy;function eA(){if(yy)return pd;yy=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,i=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,f=/^\s+|\s+$/g,p=`
`,h="/",g="*",b="",w="comment",S="declaration";pd=function(E,R){if(typeof E!="string")throw new TypeError("First argument must be a string");if(!E)return[];R=R||{};var A=1,D=1;function q(re){var ie=re.match(t);ie&&(A+=ie.length);var se=re.lastIndexOf(p);D=~se?re.length-se:D+re.length}function M(){var re={line:A,column:D};return function(ie){return ie.position=new V(re),Q(),ie}}function V(re){this.start=re,this.end={line:A,column:D},this.source=R.source}V.prototype.content=E;function I(re){var ie=new Error(R.source+":"+A+":"+D+": "+re);if(ie.reason=re,ie.filename=R.source,ie.line=A,ie.column=D,ie.source=E,!R.silent)throw ie}function U(re){var ie=re.exec(E);if(ie){var se=ie[0];return q(se),E=E.slice(se.length),ie}}function Q(){U(i)}function $(re){var ie;for(re=re||[];ie=K();)ie!==!1&&re.push(ie);return re}function K(){var re=M();if(!(h!=E.charAt(0)||g!=E.charAt(1))){for(var ie=2;b!=E.charAt(ie)&&(g!=E.charAt(ie)||h!=E.charAt(ie+1));)++ie;if(ie+=2,b===E.charAt(ie-1))return I("End of comment missing");var se=E.slice(2,ie-2);return D+=2,q(se),E=E.slice(ie),D+=2,re({type:w,comment:se})}}function te(){var re=M(),ie=U(a);if(ie){if(K(),!U(s))return I("property missing ':'");var se=U(l),B=re({type:S,property:C(ie[0].replace(e,b)),value:se?C(se[0].replace(e,b)):b});return U(c),B}}function z(){var re=[];$(re);for(var ie;ie=te();)ie!==!1&&(re.push(ie),$(re));return re}return Q(),z()};function C(E){return E?E.replace(f,b):b}return pd}var xy;function tA(){if(xy)return Zr;xy=1;var e=Zr&&Zr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.default=i;const t=e(eA());function i(a,s){let l=null;if(!a||typeof a!="string")return l;const c=(0,t.default)(a),f=typeof s=="function";return c.forEach(p=>{if(p.type!=="declaration")return;const{property:h,value:g}=p;f?s(h,g,p):g&&(l=l||{},l[h]=g)}),l}return Zr}var mo={},vy;function nA(){if(vy)return mo;vy=1,Object.defineProperty(mo,"__esModule",{value:!0}),mo.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,i=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,l=function(h){return!h||i.test(h)||e.test(h)},c=function(h,g){return g.toUpperCase()},f=function(h,g){return"".concat(g,"-")},p=function(h,g){return g===void 0&&(g={}),l(h)?h:(h=h.toLowerCase(),g.reactCompat?h=h.replace(s,f):h=h.replace(a,f),h.replace(t,c))};return mo.camelCase=p,mo}var go,by;function iA(){if(by)return go;by=1;var e=go&&go.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},t=e(tA()),i=nA();function a(s,l){var c={};return!s||typeof s!="string"||(0,t.default)(s,function(f,p){f&&p&&(c[(0,i.camelCase)(f,l)]=p)}),c}return a.default=a,go=a,go}var rA=iA();const aA=kl(rA),uv=cv("end"),pf=cv("start");function cv(e){return t;function t(i){const a=i&&i.position&&i.position[e]||{};if(typeof a.line=="number"&&a.line>0&&typeof a.column=="number"&&a.column>0)return{line:a.line,column:a.column,offset:typeof a.offset=="number"&&a.offset>-1?a.offset:void 0}}}function oA(e){const t=pf(e),i=uv(e);if(t&&i)return{start:t,end:i}}function Co(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?wy(e.position):"start"in e||"end"in e?wy(e):"line"in e||"column"in e?Hd(e):""}function Hd(e){return Sy(e&&e.line)+":"+Sy(e&&e.column)}function wy(e){return Hd(e&&e.start)+"-"+Hd(e&&e.end)}function Sy(e){return e&&typeof e=="number"?e:1}class Tt extends Error{constructor(t,i,a){super(),typeof i=="string"&&(a=i,i=void 0);let s="",l={},c=!1;if(i&&("line"in i&&"column"in i?l={place:i}:"start"in i&&"end"in i?l={place:i}:"type"in i?l={ancestors:[i],place:i.position}:l={...i}),typeof t=="string"?s=t:!l.cause&&t&&(c=!0,s=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof a=="string"){const p=a.indexOf(":");p===-1?l.ruleId=a:(l.source=a.slice(0,p),l.ruleId=a.slice(p+1))}if(!l.place&&l.ancestors&&l.ancestors){const p=l.ancestors[l.ancestors.length-1];p&&(l.place=p.position)}const f=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=f?f.line:void 0,this.name=Co(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=c&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Tt.prototype.file="";Tt.prototype.name="";Tt.prototype.reason="";Tt.prototype.message="";Tt.prototype.stack="";Tt.prototype.column=void 0;Tt.prototype.line=void 0;Tt.prototype.ancestors=void 0;Tt.prototype.cause=void 0;Tt.prototype.fatal=void 0;Tt.prototype.place=void 0;Tt.prototype.ruleId=void 0;Tt.prototype.source=void 0;const mf={}.hasOwnProperty,sA=new Map,lA=/[A-Z]/g,uA=new Set(["table","tbody","thead","tfoot","tr"]),cA=new Set(["td","th"]),dv="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function dA(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const i=t.filePath||void 0;let a;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");a=vA(i,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");a=xA(i,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:a,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:i,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?hf:Z_,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=fv(s,e,void 0);return l&&typeof l!="string"?l:s.create(e,s.Fragment,{children:l||void 0},void 0)}function fv(e,t,i){if(t.type==="element")return fA(e,t,i);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return hA(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return mA(e,t,i);if(t.type==="mdxjsEsm")return pA(e,t);if(t.type==="root")return gA(e,t,i);if(t.type==="text")return yA(e,t)}function fA(e,t,i){const a=e.schema;let s=a;t.tagName.toLowerCase()==="svg"&&a.space==="html"&&(s=hf,e.schema=s),e.ancestors.push(t);const l=pv(e,t.tagName,!1),c=bA(e,t);let f=yf(e,t);return uA.has(t.tagName)&&(f=f.filter(function(p){return typeof p=="string"?!z_(p):!0})),hv(e,c,l,t),gf(c,f),e.ancestors.pop(),e.schema=a,e.create(t,l,c,i)}function hA(e,t){if(t.data&&t.data.estree&&e.evaluater){const a=t.data.estree.body[0];return a.type,e.evaluater.evaluateExpression(a.expression)}ko(e,t.position)}function pA(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ko(e,t.position)}function mA(e,t,i){const a=e.schema;let s=a;t.name==="svg"&&a.space==="html"&&(s=hf,e.schema=s),e.ancestors.push(t);const l=t.name===null?e.Fragment:pv(e,t.name,!0),c=wA(e,t),f=yf(e,t);return hv(e,c,l,t),gf(c,f),e.ancestors.pop(),e.schema=a,e.create(t,l,c,i)}function gA(e,t,i){const a={};return gf(a,yf(e,t)),e.create(t,e.Fragment,a,i)}function yA(e,t){return t.value}function hv(e,t,i,a){typeof i!="string"&&i!==e.Fragment&&e.passNode&&(t.node=a)}function gf(e,t){if(t.length>0){const i=t.length>1?t:t[0];i&&(e.children=i)}}function xA(e,t,i){return a;function a(s,l,c,f){const h=Array.isArray(c.children)?i:t;return f?h(l,c,f):h(l,c)}}function vA(e,t){return i;function i(a,s,l,c){const f=Array.isArray(l.children),p=pf(a);return t(s,l,c,f,{columnNumber:p?p.column-1:void 0,fileName:e,lineNumber:p?p.line:void 0},void 0)}}function bA(e,t){const i={};let a,s;for(s in t.properties)if(s!=="children"&&mf.call(t.properties,s)){const l=SA(e,s,t.properties[s]);if(l){const[c,f]=l;e.tableCellAlignToStyle&&c==="align"&&typeof f=="string"&&cA.has(t.tagName)?a=f:i[c]=f}}if(a){const l=i.style||(i.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}return i}function wA(e,t){const i={};for(const a of t.attributes)if(a.type==="mdxJsxExpressionAttribute")if(a.data&&a.data.estree&&e.evaluater){const l=a.data.estree.body[0];l.type;const c=l.expression;c.type;const f=c.properties[0];f.type,Object.assign(i,e.evaluater.evaluateExpression(f.argument))}else ko(e,t.position);else{const s=a.name;let l;if(a.value&&typeof a.value=="object")if(a.value.data&&a.value.data.estree&&e.evaluater){const f=a.value.data.estree.body[0];f.type,l=e.evaluater.evaluateExpression(f.expression)}else ko(e,t.position);else l=a.value===null?!0:a.value;i[s]=l}return i}function yf(e,t){const i=[];let a=-1;const s=e.passKeys?new Map:sA;for(;++a<t.children.length;){const l=t.children[a];let c;if(e.passKeys){const p=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(p){const h=s.get(p)||0;c=p+"-"+h,s.set(p,h+1)}}const f=fv(e,l,c);f!==void 0&&i.push(f)}return i}function SA(e,t,i){const a=K_(e.schema,t);if(!(i==null||typeof i=="number"&&Number.isNaN(i))){if(Array.isArray(i)&&(i=a.commaSeparated?P_(i):W_(i)),a.property==="style"){let s=typeof i=="object"?i:NA(e,String(i));return e.stylePropertyNameCase==="css"&&(s=EA(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&a.space?J_[a.property]||a.property:a.attribute,i]}}function NA(e,t){try{return aA(t,{reactCompat:!0})}catch(i){if(e.ignoreInvalidStyle)return{};const a=i,s=new Tt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=dv+"#cannot-parse-style-attribute",s}}function pv(e,t,i){let a;if(!i)a={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let l=-1,c;for(;++l<s.length;){const f=hy(s[l])?{type:"Identifier",name:s[l]}:{type:"Literal",value:s[l]};c=c?{type:"MemberExpression",object:c,property:f,computed:!!(l&&f.type==="Literal"),optional:!1}:f}a=c}else a=hy(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(a.type==="Literal"){const s=a.value;return mf.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(a);ko(e)}function ko(e,t){const i=new Tt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=dv+"#cannot-handle-mdx-estrees-without-createevaluater",i}function EA(e){const t={};let i;for(i in e)mf.call(e,i)&&(t[TA(i)]=e[i]);return t}function TA(e){let t=e.replace(lA,CA);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function CA(e){return"-"+e.toLowerCase()}const md={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},_A={};function AA(e,t){const i=_A,a=typeof i.includeImageAlt=="boolean"?i.includeImageAlt:!0,s=typeof i.includeHtml=="boolean"?i.includeHtml:!0;return mv(e,a,s)}function mv(e,t,i){if(kA(e)){if("value"in e)return e.type==="html"&&!i?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Ny(e.children,t,i)}return Array.isArray(e)?Ny(e,t,i):""}function Ny(e,t,i){const a=[];let s=-1;for(;++s<e.length;)a[s]=mv(e[s],t,i);return a.join("")}function kA(e){return!!(e&&typeof e=="object")}const Ey=document.createElement("i");function xf(e){const t="&"+e+";";Ey.innerHTML=t;const i=Ey.textContent;return i.charCodeAt(i.length-1)===59&&e!=="semi"||i===t?!1:i}function qn(e,t,i,a){const s=e.length;let l=0,c;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,i=i>0?i:0,a.length<1e4)c=Array.from(a),c.unshift(t,i),e.splice(...c);else for(i&&e.splice(t,i);l<a.length;)c=a.slice(l,l+1e4),c.unshift(t,0),e.splice(...c),l+=1e4,t+=1e4}function hn(e,t){return e.length>0?(qn(e,e.length,0,t),e):t}const Ty={}.hasOwnProperty;function IA(e){const t={};let i=-1;for(;++i<e.length;)RA(t,e[i]);return t}function RA(e,t){let i;for(i in t){const s=(Ty.call(e,i)?e[i]:void 0)||(e[i]={}),l=t[i];let c;if(l)for(c in l){Ty.call(s,c)||(s[c]=[]);const f=l[c];MA(s[c],Array.isArray(f)?f:f?[f]:[])}}}function MA(e,t){let i=-1;const a=[];for(;++i<t.length;)(t[i].add==="after"?e:a).push(t[i]);qn(e,0,0,a)}function gv(e,t){const i=Number.parseInt(e,t);return i<9||i===11||i>13&&i<32||i>126&&i<160||i>55295&&i<57344||i>64975&&i<65008||(i&65535)===65535||(i&65535)===65534||i>1114111?"�":String.fromCodePoint(i)}function ua(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Mn=qi(/[A-Za-z]/),Wt=qi(/[\dA-Za-z]/),DA=qi(/[#-'*+\--9=?A-Z^-~]/);function zd(e){return e!==null&&(e<32||e===127)}const Bd=qi(/\d/),LA=qi(/[\dA-Fa-f]/),qA=qi(/[!-/:-@[-`{-~]/);function we(e){return e!==null&&e<-2}function zt(e){return e!==null&&(e<0||e===32)}function He(e){return e===-2||e===-1||e===32}const UA=qi(new RegExp("\\p{P}|\\p{S}","u")),PA=qi(/\s/);function qi(e){return t;function t(i){return i!==null&&i>-1&&e.test(String.fromCharCode(i))}}function xa(e){const t=[];let i=-1,a=0,s=0;for(;++i<e.length;){const l=e.charCodeAt(i);let c="";if(l===37&&Wt(e.charCodeAt(i+1))&&Wt(e.charCodeAt(i+2)))s=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(c=String.fromCharCode(l));else if(l>55295&&l<57344){const f=e.charCodeAt(i+1);l<56320&&f>56319&&f<57344?(c=String.fromCharCode(l,f),s=1):c="�"}else c=String.fromCharCode(l);c&&(t.push(e.slice(a,i),encodeURIComponent(c)),a=i+s+1,c=""),s&&(i+=s,s=0)}return t.join("")+e.slice(a)}function Xe(e,t,i,a){const s=a?a-1:Number.POSITIVE_INFINITY;let l=0;return c;function c(p){return He(p)?(e.enter(i),f(p)):t(p)}function f(p){return He(p)&&l++<s?(e.consume(p),f):(e.exit(i),t(p))}}const VA={tokenize:GA};function GA(e){const t=e.attempt(this.parser.constructs.contentInitial,a,s);let i;return t;function a(f){if(f===null){e.consume(f);return}return e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),Xe(e,t,"linePrefix")}function s(f){return e.enter("paragraph"),l(f)}function l(f){const p=e.enter("chunkText",{contentType:"text",previous:i});return i&&(i.next=p),i=p,c(f)}function c(f){if(f===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(f);return}return we(f)?(e.consume(f),e.exit("chunkText"),l):(e.consume(f),c)}}const jA={tokenize:HA},Cy={tokenize:zA};function HA(e){const t=this,i=[];let a=0,s,l,c;return f;function f(q){if(a<i.length){const M=i[a];return t.containerState=M[1],e.attempt(M[0].continuation,p,h)(q)}return h(q)}function p(q){if(a++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&D();const M=t.events.length;let V=M,I;for(;V--;)if(t.events[V][0]==="exit"&&t.events[V][1].type==="chunkFlow"){I=t.events[V][1].end;break}A(a);let U=M;for(;U<t.events.length;)t.events[U][1].end={...I},U++;return qn(t.events,V+1,0,t.events.slice(M)),t.events.length=U,h(q)}return f(q)}function h(q){if(a===i.length){if(!s)return w(q);if(s.currentConstruct&&s.currentConstruct.concrete)return C(q);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Cy,g,b)(q)}function g(q){return s&&D(),A(a),w(q)}function b(q){return t.parser.lazy[t.now().line]=a!==i.length,c=t.now().offset,C(q)}function w(q){return t.containerState={},e.attempt(Cy,S,C)(q)}function S(q){return a++,i.push([t.currentConstruct,t.containerState]),w(q)}function C(q){if(q===null){s&&D(),A(0),e.consume(q);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:l}),E(q)}function E(q){if(q===null){R(e.exit("chunkFlow"),!0),A(0),e.consume(q);return}return we(q)?(e.consume(q),R(e.exit("chunkFlow")),a=0,t.interrupt=void 0,f):(e.consume(q),E)}function R(q,M){const V=t.sliceStream(q);if(M&&V.push(null),q.previous=l,l&&(l.next=q),l=q,s.defineSkip(q.start),s.write(V),t.parser.lazy[q.start.line]){let I=s.events.length;for(;I--;)if(s.events[I][1].start.offset<c&&(!s.events[I][1].end||s.events[I][1].end.offset>c))return;const U=t.events.length;let Q=U,$,K;for(;Q--;)if(t.events[Q][0]==="exit"&&t.events[Q][1].type==="chunkFlow"){if($){K=t.events[Q][1].end;break}$=!0}for(A(a),I=U;I<t.events.length;)t.events[I][1].end={...K},I++;qn(t.events,Q+1,0,t.events.slice(U)),t.events.length=I}}function A(q){let M=i.length;for(;M-- >q;){const V=i[M];t.containerState=V[1],V[0].exit.call(t,e)}i.length=q}function D(){s.write([null]),l=void 0,s=void 0,t.containerState._closeFlow=void 0}}function zA(e,t,i){return Xe(e,e.attempt(this.parser.constructs.document,t,i),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function _y(e){if(e===null||zt(e)||PA(e))return 1;if(UA(e))return 2}function vf(e,t,i){const a=[];let s=-1;for(;++s<e.length;){const l=e[s].resolveAll;l&&!a.includes(l)&&(t=l(t,i),a.push(l))}return t}const Od={name:"attention",resolveAll:BA,tokenize:OA};function BA(e,t){let i=-1,a,s,l,c,f,p,h,g;for(;++i<e.length;)if(e[i][0]==="enter"&&e[i][1].type==="attentionSequence"&&e[i][1]._close){for(a=i;a--;)if(e[a][0]==="exit"&&e[a][1].type==="attentionSequence"&&e[a][1]._open&&t.sliceSerialize(e[a][1]).charCodeAt(0)===t.sliceSerialize(e[i][1]).charCodeAt(0)){if((e[a][1]._close||e[i][1]._open)&&(e[i][1].end.offset-e[i][1].start.offset)%3&&!((e[a][1].end.offset-e[a][1].start.offset+e[i][1].end.offset-e[i][1].start.offset)%3))continue;p=e[a][1].end.offset-e[a][1].start.offset>1&&e[i][1].end.offset-e[i][1].start.offset>1?2:1;const b={...e[a][1].end},w={...e[i][1].start};Ay(b,-p),Ay(w,p),c={type:p>1?"strongSequence":"emphasisSequence",start:b,end:{...e[a][1].end}},f={type:p>1?"strongSequence":"emphasisSequence",start:{...e[i][1].start},end:w},l={type:p>1?"strongText":"emphasisText",start:{...e[a][1].end},end:{...e[i][1].start}},s={type:p>1?"strong":"emphasis",start:{...c.start},end:{...f.end}},e[a][1].end={...c.start},e[i][1].start={...f.end},h=[],e[a][1].end.offset-e[a][1].start.offset&&(h=hn(h,[["enter",e[a][1],t],["exit",e[a][1],t]])),h=hn(h,[["enter",s,t],["enter",c,t],["exit",c,t],["enter",l,t]]),h=hn(h,vf(t.parser.constructs.insideSpan.null,e.slice(a+1,i),t)),h=hn(h,[["exit",l,t],["enter",f,t],["exit",f,t],["exit",s,t]]),e[i][1].end.offset-e[i][1].start.offset?(g=2,h=hn(h,[["enter",e[i][1],t],["exit",e[i][1],t]])):g=0,qn(e,a-1,i-a+3,h),i=a+h.length-g-2;break}}for(i=-1;++i<e.length;)e[i][1].type==="attentionSequence"&&(e[i][1].type="data");return e}function OA(e,t){const i=this.parser.constructs.attentionMarkers.null,a=this.previous,s=_y(a);let l;return c;function c(p){return l=p,e.enter("attentionSequence"),f(p)}function f(p){if(p===l)return e.consume(p),f;const h=e.exit("attentionSequence"),g=_y(p),b=!g||g===2&&s||i.includes(p),w=!s||s===2&&g||i.includes(a);return h._open=!!(l===42?b:b&&(s||!w)),h._close=!!(l===42?w:w&&(g||!b)),t(p)}}function Ay(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const FA={name:"autolink",tokenize:JA};function JA(e,t,i){let a=0;return s;function s(S){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(S){return Mn(S)?(e.consume(S),c):S===64?i(S):h(S)}function c(S){return S===43||S===45||S===46||Wt(S)?(a=1,f(S)):h(S)}function f(S){return S===58?(e.consume(S),a=0,p):(S===43||S===45||S===46||Wt(S))&&a++<32?(e.consume(S),f):(a=0,h(S))}function p(S){return S===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):S===null||S===32||S===60||zd(S)?i(S):(e.consume(S),p)}function h(S){return S===64?(e.consume(S),g):DA(S)?(e.consume(S),h):i(S)}function g(S){return Wt(S)?b(S):i(S)}function b(S){return S===46?(e.consume(S),a=0,g):S===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):w(S)}function w(S){if((S===45||Wt(S))&&a++<63){const C=S===45?w:b;return e.consume(S),C}return i(S)}}const Ll={partial:!0,tokenize:YA};function YA(e,t,i){return a;function a(l){return He(l)?Xe(e,s,"linePrefix")(l):s(l)}function s(l){return l===null||we(l)?t(l):i(l)}}const yv={continuation:{tokenize:KA},exit:QA,name:"blockQuote",tokenize:$A};function $A(e,t,i){const a=this;return s;function s(c){if(c===62){const f=a.containerState;return f.open||(e.enter("blockQuote",{_container:!0}),f.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(c),e.exit("blockQuoteMarker"),l}return i(c)}function l(c){return He(c)?(e.enter("blockQuotePrefixWhitespace"),e.consume(c),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(c))}}function KA(e,t,i){const a=this;return s;function s(c){return He(c)?Xe(e,l,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):l(c)}function l(c){return e.attempt(yv,t,i)(c)}}function QA(e){e.exit("blockQuote")}const xv={name:"characterEscape",tokenize:XA};function XA(e,t,i){return a;function a(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),s}function s(l){return qA(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):i(l)}}const vv={name:"characterReference",tokenize:ZA};function ZA(e,t,i){const a=this;let s=0,l,c;return f;function f(b){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(b),e.exit("characterReferenceMarker"),p}function p(b){return b===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(b),e.exit("characterReferenceMarkerNumeric"),h):(e.enter("characterReferenceValue"),l=31,c=Wt,g(b))}function h(b){return b===88||b===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(b),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,c=LA,g):(e.enter("characterReferenceValue"),l=7,c=Bd,g(b))}function g(b){if(b===59&&s){const w=e.exit("characterReferenceValue");return c===Wt&&!xf(a.sliceSerialize(w))?i(b):(e.enter("characterReferenceMarker"),e.consume(b),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return c(b)&&s++<l?(e.consume(b),g):i(b)}}const ky={partial:!0,tokenize:e3},Iy={concrete:!0,name:"codeFenced",tokenize:WA};function WA(e,t,i){const a=this,s={partial:!0,tokenize:V};let l=0,c=0,f;return p;function p(I){return h(I)}function h(I){const U=a.events[a.events.length-1];return l=U&&U[1].type==="linePrefix"?U[2].sliceSerialize(U[1],!0).length:0,f=I,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),g(I)}function g(I){return I===f?(c++,e.consume(I),g):c<3?i(I):(e.exit("codeFencedFenceSequence"),He(I)?Xe(e,b,"whitespace")(I):b(I))}function b(I){return I===null||we(I)?(e.exit("codeFencedFence"),a.interrupt?t(I):e.check(ky,E,M)(I)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),w(I))}function w(I){return I===null||we(I)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),b(I)):He(I)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Xe(e,S,"whitespace")(I)):I===96&&I===f?i(I):(e.consume(I),w)}function S(I){return I===null||we(I)?b(I):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),C(I))}function C(I){return I===null||we(I)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),b(I)):I===96&&I===f?i(I):(e.consume(I),C)}function E(I){return e.attempt(s,M,R)(I)}function R(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),A}function A(I){return l>0&&He(I)?Xe(e,D,"linePrefix",l+1)(I):D(I)}function D(I){return I===null||we(I)?e.check(ky,E,M)(I):(e.enter("codeFlowValue"),q(I))}function q(I){return I===null||we(I)?(e.exit("codeFlowValue"),D(I)):(e.consume(I),q)}function M(I){return e.exit("codeFenced"),t(I)}function V(I,U,Q){let $=0;return K;function K(se){return I.enter("lineEnding"),I.consume(se),I.exit("lineEnding"),te}function te(se){return I.enter("codeFencedFence"),He(se)?Xe(I,z,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(se):z(se)}function z(se){return se===f?(I.enter("codeFencedFenceSequence"),re(se)):Q(se)}function re(se){return se===f?($++,I.consume(se),re):$>=c?(I.exit("codeFencedFenceSequence"),He(se)?Xe(I,ie,"whitespace")(se):ie(se)):Q(se)}function ie(se){return se===null||we(se)?(I.exit("codeFencedFence"),U(se)):Q(se)}}}function e3(e,t,i){const a=this;return s;function s(c){return c===null?i(c):(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),l)}function l(c){return a.parser.lazy[a.now().line]?i(c):t(c)}}const gd={name:"codeIndented",tokenize:n3},t3={partial:!0,tokenize:i3};function n3(e,t,i){const a=this;return s;function s(h){return e.enter("codeIndented"),Xe(e,l,"linePrefix",5)(h)}function l(h){const g=a.events[a.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?c(h):i(h)}function c(h){return h===null?p(h):we(h)?e.attempt(t3,c,p)(h):(e.enter("codeFlowValue"),f(h))}function f(h){return h===null||we(h)?(e.exit("codeFlowValue"),c(h)):(e.consume(h),f)}function p(h){return e.exit("codeIndented"),t(h)}}function i3(e,t,i){const a=this;return s;function s(c){return a.parser.lazy[a.now().line]?i(c):we(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),s):Xe(e,l,"linePrefix",5)(c)}function l(c){const f=a.events[a.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(c):we(c)?s(c):i(c)}}const r3={name:"codeText",previous:o3,resolve:a3,tokenize:s3};function a3(e){let t=e.length-4,i=3,a,s;if((e[i][1].type==="lineEnding"||e[i][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(a=i;++a<t;)if(e[a][1].type==="codeTextData"){e[i][1].type="codeTextPadding",e[t][1].type="codeTextPadding",i+=2,t-=2;break}}for(a=i-1,t++;++a<=t;)s===void 0?a!==t&&e[a][1].type!=="lineEnding"&&(s=a):(a===t||e[a][1].type==="lineEnding")&&(e[s][1].type="codeTextData",a!==s+2&&(e[s][1].end=e[a-1][1].end,e.splice(s+2,a-s-2),t-=a-s-2,a=s+2),s=void 0);return e}function o3(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function s3(e,t,i){let a=0,s,l;return c;function c(b){return e.enter("codeText"),e.enter("codeTextSequence"),f(b)}function f(b){return b===96?(e.consume(b),a++,f):(e.exit("codeTextSequence"),p(b))}function p(b){return b===null?i(b):b===32?(e.enter("space"),e.consume(b),e.exit("space"),p):b===96?(l=e.enter("codeTextSequence"),s=0,g(b)):we(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),p):(e.enter("codeTextData"),h(b))}function h(b){return b===null||b===32||b===96||we(b)?(e.exit("codeTextData"),p(b)):(e.consume(b),h)}function g(b){return b===96?(e.consume(b),s++,g):s===a?(e.exit("codeTextSequence"),e.exit("codeText"),t(b)):(l.type="codeTextData",h(b))}}class l3{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,i){const a=i??Number.POSITIVE_INFINITY;return a<this.left.length?this.left.slice(t,a):t>this.left.length?this.right.slice(this.right.length-a+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-a+this.left.length).reverse())}splice(t,i,a){const s=i||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return a&&yo(this.left,a),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),yo(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),yo(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const i=this.left.splice(t,Number.POSITIVE_INFINITY);yo(this.right,i.reverse())}else{const i=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);yo(this.left,i.reverse())}}}function yo(e,t){let i=0;if(t.length<1e4)e.push(...t);else for(;i<t.length;)e.push(...t.slice(i,i+1e4)),i+=1e4}function bv(e){const t={};let i=-1,a,s,l,c,f,p,h;const g=new l3(e);for(;++i<g.length;){for(;i in t;)i=t[i];if(a=g.get(i),i&&a[1].type==="chunkFlow"&&g.get(i-1)[1].type==="listItemPrefix"&&(p=a[1]._tokenizer.events,l=0,l<p.length&&p[l][1].type==="lineEndingBlank"&&(l+=2),l<p.length&&p[l][1].type==="content"))for(;++l<p.length&&p[l][1].type!=="content";)p[l][1].type==="chunkText"&&(p[l][1]._isInFirstContentOfListItem=!0,l++);if(a[0]==="enter")a[1].contentType&&(Object.assign(t,u3(g,i)),i=t[i],h=!0);else if(a[1]._container){for(l=i,s=void 0;l--;)if(c=g.get(l),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(s&&(g.get(s)[1].type="lineEndingBlank"),c[1].type="lineEnding",s=l);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;s&&(a[1].end={...g.get(s)[1].start},f=g.slice(s,i),f.unshift(a),g.splice(s,i-s+1,f))}}return qn(e,0,Number.POSITIVE_INFINITY,g.slice(0)),!h}function u3(e,t){const i=e.get(t)[1],a=e.get(t)[2];let s=t-1;const l=[];let c=i._tokenizer;c||(c=a.parser[i.contentType](i.start),i._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const f=c.events,p=[],h={};let g,b,w=-1,S=i,C=0,E=0;const R=[E];for(;S;){for(;e.get(++s)[1]!==S;);l.push(s),S._tokenizer||(g=a.sliceStream(S),S.next||g.push(null),b&&c.defineSkip(S.start),S._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(g),S._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),b=S,S=S.next}for(S=i;++w<f.length;)f[w][0]==="exit"&&f[w-1][0]==="enter"&&f[w][1].type===f[w-1][1].type&&f[w][1].start.line!==f[w][1].end.line&&(E=w+1,R.push(E),S._tokenizer=void 0,S.previous=void 0,S=S.next);for(c.events=[],S?(S._tokenizer=void 0,S.previous=void 0):R.pop(),w=R.length;w--;){const A=f.slice(R[w],R[w+1]),D=l.pop();p.push([D,D+A.length-1]),e.splice(D,2,A)}for(p.reverse(),w=-1;++w<p.length;)h[C+p[w][0]]=C+p[w][1],C+=p[w][1]-p[w][0]-1;return h}const c3={resolve:f3,tokenize:h3},d3={partial:!0,tokenize:p3};function f3(e){return bv(e),e}function h3(e,t){let i;return a;function a(f){return e.enter("content"),i=e.enter("chunkContent",{contentType:"content"}),s(f)}function s(f){return f===null?l(f):we(f)?e.check(d3,c,l)(f):(e.consume(f),s)}function l(f){return e.exit("chunkContent"),e.exit("content"),t(f)}function c(f){return e.consume(f),e.exit("chunkContent"),i.next=e.enter("chunkContent",{contentType:"content",previous:i}),i=i.next,s}}function p3(e,t,i){const a=this;return s;function s(c){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),Xe(e,l,"linePrefix")}function l(c){if(c===null||we(c))return i(c);const f=a.events[a.events.length-1];return!a.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(c):e.interrupt(a.parser.constructs.flow,i,t)(c)}}function wv(e,t,i,a,s,l,c,f,p){const h=p||Number.POSITIVE_INFINITY;let g=0;return b;function b(A){return A===60?(e.enter(a),e.enter(s),e.enter(l),e.consume(A),e.exit(l),w):A===null||A===32||A===41||zd(A)?i(A):(e.enter(a),e.enter(c),e.enter(f),e.enter("chunkString",{contentType:"string"}),E(A))}function w(A){return A===62?(e.enter(l),e.consume(A),e.exit(l),e.exit(s),e.exit(a),t):(e.enter(f),e.enter("chunkString",{contentType:"string"}),S(A))}function S(A){return A===62?(e.exit("chunkString"),e.exit(f),w(A)):A===null||A===60||we(A)?i(A):(e.consume(A),A===92?C:S)}function C(A){return A===60||A===62||A===92?(e.consume(A),S):S(A)}function E(A){return!g&&(A===null||A===41||zt(A))?(e.exit("chunkString"),e.exit(f),e.exit(c),e.exit(a),t(A)):g<h&&A===40?(e.consume(A),g++,E):A===41?(e.consume(A),g--,E):A===null||A===32||A===40||zd(A)?i(A):(e.consume(A),A===92?R:E)}function R(A){return A===40||A===41||A===92?(e.consume(A),E):E(A)}}function Sv(e,t,i,a,s,l){const c=this;let f=0,p;return h;function h(S){return e.enter(a),e.enter(s),e.consume(S),e.exit(s),e.enter(l),g}function g(S){return f>999||S===null||S===91||S===93&&!p||S===94&&!f&&"_hiddenFootnoteSupport"in c.parser.constructs?i(S):S===93?(e.exit(l),e.enter(s),e.consume(S),e.exit(s),e.exit(a),t):we(S)?(e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),g):(e.enter("chunkString",{contentType:"string"}),b(S))}function b(S){return S===null||S===91||S===93||we(S)||f++>999?(e.exit("chunkString"),g(S)):(e.consume(S),p||(p=!He(S)),S===92?w:b)}function w(S){return S===91||S===92||S===93?(e.consume(S),f++,b):b(S)}}function Nv(e,t,i,a,s,l){let c;return f;function f(w){return w===34||w===39||w===40?(e.enter(a),e.enter(s),e.consume(w),e.exit(s),c=w===40?41:w,p):i(w)}function p(w){return w===c?(e.enter(s),e.consume(w),e.exit(s),e.exit(a),t):(e.enter(l),h(w))}function h(w){return w===c?(e.exit(l),p(c)):w===null?i(w):we(w)?(e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),Xe(e,h,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),g(w))}function g(w){return w===c||w===null||we(w)?(e.exit("chunkString"),h(w)):(e.consume(w),w===92?b:g)}function b(w){return w===c||w===92?(e.consume(w),g):g(w)}}function _o(e,t){let i;return a;function a(s){return we(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i=!0,a):He(s)?Xe(e,a,i?"linePrefix":"lineSuffix")(s):t(s)}}const m3={name:"definition",tokenize:y3},g3={partial:!0,tokenize:x3};function y3(e,t,i){const a=this;let s;return l;function l(S){return e.enter("definition"),c(S)}function c(S){return Sv.call(a,e,f,i,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function f(S){return s=ua(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)),S===58?(e.enter("definitionMarker"),e.consume(S),e.exit("definitionMarker"),p):i(S)}function p(S){return zt(S)?_o(e,h)(S):h(S)}function h(S){return wv(e,g,i,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(S)}function g(S){return e.attempt(g3,b,b)(S)}function b(S){return He(S)?Xe(e,w,"whitespace")(S):w(S)}function w(S){return S===null||we(S)?(e.exit("definition"),a.parser.defined.push(s),t(S)):i(S)}}function x3(e,t,i){return a;function a(f){return zt(f)?_o(e,s)(f):i(f)}function s(f){return Nv(e,l,i,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function l(f){return He(f)?Xe(e,c,"whitespace")(f):c(f)}function c(f){return f===null||we(f)?t(f):i(f)}}const v3={name:"hardBreakEscape",tokenize:b3};function b3(e,t,i){return a;function a(l){return e.enter("hardBreakEscape"),e.consume(l),s}function s(l){return we(l)?(e.exit("hardBreakEscape"),t(l)):i(l)}}const w3={name:"headingAtx",resolve:S3,tokenize:N3};function S3(e,t){let i=e.length-2,a=3,s,l;return e[a][1].type==="whitespace"&&(a+=2),i-2>a&&e[i][1].type==="whitespace"&&(i-=2),e[i][1].type==="atxHeadingSequence"&&(a===i-1||i-4>a&&e[i-2][1].type==="whitespace")&&(i-=a+1===i?2:4),i>a&&(s={type:"atxHeadingText",start:e[a][1].start,end:e[i][1].end},l={type:"chunkText",start:e[a][1].start,end:e[i][1].end,contentType:"text"},qn(e,a,i-a+1,[["enter",s,t],["enter",l,t],["exit",l,t],["exit",s,t]])),e}function N3(e,t,i){let a=0;return s;function s(g){return e.enter("atxHeading"),l(g)}function l(g){return e.enter("atxHeadingSequence"),c(g)}function c(g){return g===35&&a++<6?(e.consume(g),c):g===null||zt(g)?(e.exit("atxHeadingSequence"),f(g)):i(g)}function f(g){return g===35?(e.enter("atxHeadingSequence"),p(g)):g===null||we(g)?(e.exit("atxHeading"),t(g)):He(g)?Xe(e,f,"whitespace")(g):(e.enter("atxHeadingText"),h(g))}function p(g){return g===35?(e.consume(g),p):(e.exit("atxHeadingSequence"),f(g))}function h(g){return g===null||g===35||zt(g)?(e.exit("atxHeadingText"),f(g)):(e.consume(g),h)}}const E3=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ry=["pre","script","style","textarea"],T3={concrete:!0,name:"htmlFlow",resolveTo:A3,tokenize:k3},C3={partial:!0,tokenize:R3},_3={partial:!0,tokenize:I3};function A3(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function k3(e,t,i){const a=this;let s,l,c,f,p;return h;function h(k){return g(k)}function g(k){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(k),b}function b(k){return k===33?(e.consume(k),w):k===47?(e.consume(k),l=!0,E):k===63?(e.consume(k),s=3,a.interrupt?t:_):Mn(k)?(e.consume(k),c=String.fromCharCode(k),R):i(k)}function w(k){return k===45?(e.consume(k),s=2,S):k===91?(e.consume(k),s=5,f=0,C):Mn(k)?(e.consume(k),s=4,a.interrupt?t:_):i(k)}function S(k){return k===45?(e.consume(k),a.interrupt?t:_):i(k)}function C(k){const ue="CDATA[";return k===ue.charCodeAt(f++)?(e.consume(k),f===ue.length?a.interrupt?t:z:C):i(k)}function E(k){return Mn(k)?(e.consume(k),c=String.fromCharCode(k),R):i(k)}function R(k){if(k===null||k===47||k===62||zt(k)){const ue=k===47,pe=c.toLowerCase();return!ue&&!l&&Ry.includes(pe)?(s=1,a.interrupt?t(k):z(k)):E3.includes(c.toLowerCase())?(s=6,ue?(e.consume(k),A):a.interrupt?t(k):z(k)):(s=7,a.interrupt&&!a.parser.lazy[a.now().line]?i(k):l?D(k):q(k))}return k===45||Wt(k)?(e.consume(k),c+=String.fromCharCode(k),R):i(k)}function A(k){return k===62?(e.consume(k),a.interrupt?t:z):i(k)}function D(k){return He(k)?(e.consume(k),D):K(k)}function q(k){return k===47?(e.consume(k),K):k===58||k===95||Mn(k)?(e.consume(k),M):He(k)?(e.consume(k),q):K(k)}function M(k){return k===45||k===46||k===58||k===95||Wt(k)?(e.consume(k),M):V(k)}function V(k){return k===61?(e.consume(k),I):He(k)?(e.consume(k),V):q(k)}function I(k){return k===null||k===60||k===61||k===62||k===96?i(k):k===34||k===39?(e.consume(k),p=k,U):He(k)?(e.consume(k),I):Q(k)}function U(k){return k===p?(e.consume(k),p=null,$):k===null||we(k)?i(k):(e.consume(k),U)}function Q(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||zt(k)?V(k):(e.consume(k),Q)}function $(k){return k===47||k===62||He(k)?q(k):i(k)}function K(k){return k===62?(e.consume(k),te):i(k)}function te(k){return k===null||we(k)?z(k):He(k)?(e.consume(k),te):i(k)}function z(k){return k===45&&s===2?(e.consume(k),B):k===60&&s===1?(e.consume(k),ae):k===62&&s===4?(e.consume(k),L):k===63&&s===3?(e.consume(k),_):k===93&&s===5?(e.consume(k),_e):we(k)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(C3,O,re)(k)):k===null||we(k)?(e.exit("htmlFlowData"),re(k)):(e.consume(k),z)}function re(k){return e.check(_3,ie,O)(k)}function ie(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),se}function se(k){return k===null||we(k)?re(k):(e.enter("htmlFlowData"),z(k))}function B(k){return k===45?(e.consume(k),_):z(k)}function ae(k){return k===47?(e.consume(k),c="",ce):z(k)}function ce(k){if(k===62){const ue=c.toLowerCase();return Ry.includes(ue)?(e.consume(k),L):z(k)}return Mn(k)&&c.length<8?(e.consume(k),c+=String.fromCharCode(k),ce):z(k)}function _e(k){return k===93?(e.consume(k),_):z(k)}function _(k){return k===62?(e.consume(k),L):k===45&&s===2?(e.consume(k),_):z(k)}function L(k){return k===null||we(k)?(e.exit("htmlFlowData"),O(k)):(e.consume(k),L)}function O(k){return e.exit("htmlFlow"),t(k)}}function I3(e,t,i){const a=this;return s;function s(c){return we(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),l):i(c)}function l(c){return a.parser.lazy[a.now().line]?i(c):t(c)}}function R3(e,t,i){return a;function a(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(Ll,t,i)}}const M3={name:"htmlText",tokenize:D3};function D3(e,t,i){const a=this;let s,l,c;return f;function f(_){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(_),p}function p(_){return _===33?(e.consume(_),h):_===47?(e.consume(_),V):_===63?(e.consume(_),q):Mn(_)?(e.consume(_),Q):i(_)}function h(_){return _===45?(e.consume(_),g):_===91?(e.consume(_),l=0,C):Mn(_)?(e.consume(_),D):i(_)}function g(_){return _===45?(e.consume(_),S):i(_)}function b(_){return _===null?i(_):_===45?(e.consume(_),w):we(_)?(c=b,ae(_)):(e.consume(_),b)}function w(_){return _===45?(e.consume(_),S):b(_)}function S(_){return _===62?B(_):_===45?w(_):b(_)}function C(_){const L="CDATA[";return _===L.charCodeAt(l++)?(e.consume(_),l===L.length?E:C):i(_)}function E(_){return _===null?i(_):_===93?(e.consume(_),R):we(_)?(c=E,ae(_)):(e.consume(_),E)}function R(_){return _===93?(e.consume(_),A):E(_)}function A(_){return _===62?B(_):_===93?(e.consume(_),A):E(_)}function D(_){return _===null||_===62?B(_):we(_)?(c=D,ae(_)):(e.consume(_),D)}function q(_){return _===null?i(_):_===63?(e.consume(_),M):we(_)?(c=q,ae(_)):(e.consume(_),q)}function M(_){return _===62?B(_):q(_)}function V(_){return Mn(_)?(e.consume(_),I):i(_)}function I(_){return _===45||Wt(_)?(e.consume(_),I):U(_)}function U(_){return we(_)?(c=U,ae(_)):He(_)?(e.consume(_),U):B(_)}function Q(_){return _===45||Wt(_)?(e.consume(_),Q):_===47||_===62||zt(_)?$(_):i(_)}function $(_){return _===47?(e.consume(_),B):_===58||_===95||Mn(_)?(e.consume(_),K):we(_)?(c=$,ae(_)):He(_)?(e.consume(_),$):B(_)}function K(_){return _===45||_===46||_===58||_===95||Wt(_)?(e.consume(_),K):te(_)}function te(_){return _===61?(e.consume(_),z):we(_)?(c=te,ae(_)):He(_)?(e.consume(_),te):$(_)}function z(_){return _===null||_===60||_===61||_===62||_===96?i(_):_===34||_===39?(e.consume(_),s=_,re):we(_)?(c=z,ae(_)):He(_)?(e.consume(_),z):(e.consume(_),ie)}function re(_){return _===s?(e.consume(_),s=void 0,se):_===null?i(_):we(_)?(c=re,ae(_)):(e.consume(_),re)}function ie(_){return _===null||_===34||_===39||_===60||_===61||_===96?i(_):_===47||_===62||zt(_)?$(_):(e.consume(_),ie)}function se(_){return _===47||_===62||zt(_)?$(_):i(_)}function B(_){return _===62?(e.consume(_),e.exit("htmlTextData"),e.exit("htmlText"),t):i(_)}function ae(_){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),ce}function ce(_){return He(_)?Xe(e,_e,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):_e(_)}function _e(_){return e.enter("htmlTextData"),c(_)}}const bf={name:"labelEnd",resolveAll:P3,resolveTo:V3,tokenize:G3},L3={tokenize:j3},q3={tokenize:H3},U3={tokenize:z3};function P3(e){let t=-1;const i=[];for(;++t<e.length;){const a=e[t][1];if(i.push(e[t]),a.type==="labelImage"||a.type==="labelLink"||a.type==="labelEnd"){const s=a.type==="labelImage"?4:2;a.type="data",t+=s}}return e.length!==i.length&&qn(e,0,e.length,i),e}function V3(e,t){let i=e.length,a=0,s,l,c,f;for(;i--;)if(s=e[i][1],l){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[i][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(c){if(e[i][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(l=i,s.type!=="labelLink")){a=2;break}}else s.type==="labelEnd"&&(c=i);const p={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},h={type:"label",start:{...e[l][1].start},end:{...e[c][1].end}},g={type:"labelText",start:{...e[l+a+2][1].end},end:{...e[c-2][1].start}};return f=[["enter",p,t],["enter",h,t]],f=hn(f,e.slice(l+1,l+a+3)),f=hn(f,[["enter",g,t]]),f=hn(f,vf(t.parser.constructs.insideSpan.null,e.slice(l+a+4,c-3),t)),f=hn(f,[["exit",g,t],e[c-2],e[c-1],["exit",h,t]]),f=hn(f,e.slice(c+1)),f=hn(f,[["exit",p,t]]),qn(e,l,e.length,f),e}function G3(e,t,i){const a=this;let s=a.events.length,l,c;for(;s--;)if((a.events[s][1].type==="labelImage"||a.events[s][1].type==="labelLink")&&!a.events[s][1]._balanced){l=a.events[s][1];break}return f;function f(w){return l?l._inactive?b(w):(c=a.parser.defined.includes(ua(a.sliceSerialize({start:l.end,end:a.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(w),e.exit("labelMarker"),e.exit("labelEnd"),p):i(w)}function p(w){return w===40?e.attempt(L3,g,c?g:b)(w):w===91?e.attempt(q3,g,c?h:b)(w):c?g(w):b(w)}function h(w){return e.attempt(U3,g,b)(w)}function g(w){return t(w)}function b(w){return l._balanced=!0,i(w)}}function j3(e,t,i){return a;function a(b){return e.enter("resource"),e.enter("resourceMarker"),e.consume(b),e.exit("resourceMarker"),s}function s(b){return zt(b)?_o(e,l)(b):l(b)}function l(b){return b===41?g(b):wv(e,c,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(b)}function c(b){return zt(b)?_o(e,p)(b):g(b)}function f(b){return i(b)}function p(b){return b===34||b===39||b===40?Nv(e,h,i,"resourceTitle","resourceTitleMarker","resourceTitleString")(b):g(b)}function h(b){return zt(b)?_o(e,g)(b):g(b)}function g(b){return b===41?(e.enter("resourceMarker"),e.consume(b),e.exit("resourceMarker"),e.exit("resource"),t):i(b)}}function H3(e,t,i){const a=this;return s;function s(f){return Sv.call(a,e,l,c,"reference","referenceMarker","referenceString")(f)}function l(f){return a.parser.defined.includes(ua(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)))?t(f):i(f)}function c(f){return i(f)}}function z3(e,t,i){return a;function a(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),s}function s(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):i(l)}}const B3={name:"labelStartImage",resolveAll:bf.resolveAll,tokenize:O3};function O3(e,t,i){const a=this;return s;function s(f){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(f),e.exit("labelImageMarker"),l}function l(f){return f===91?(e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelImage"),c):i(f)}function c(f){return f===94&&"_hiddenFootnoteSupport"in a.parser.constructs?i(f):t(f)}}const F3={name:"labelStartLink",resolveAll:bf.resolveAll,tokenize:J3};function J3(e,t,i){const a=this;return s;function s(c){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelLink"),l}function l(c){return c===94&&"_hiddenFootnoteSupport"in a.parser.constructs?i(c):t(c)}}const yd={name:"lineEnding",tokenize:Y3};function Y3(e,t){return i;function i(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Xe(e,t,"linePrefix")}}const fl={name:"thematicBreak",tokenize:$3};function $3(e,t,i){let a=0,s;return l;function l(h){return e.enter("thematicBreak"),c(h)}function c(h){return s=h,f(h)}function f(h){return h===s?(e.enter("thematicBreakSequence"),p(h)):a>=3&&(h===null||we(h))?(e.exit("thematicBreak"),t(h)):i(h)}function p(h){return h===s?(e.consume(h),a++,p):(e.exit("thematicBreakSequence"),He(h)?Xe(e,f,"whitespace")(h):f(h))}}const Gt={continuation:{tokenize:Z3},exit:e4,name:"list",tokenize:X3},K3={partial:!0,tokenize:t4},Q3={partial:!0,tokenize:W3};function X3(e,t,i){const a=this,s=a.events[a.events.length-1];let l=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,c=0;return f;function f(S){const C=a.containerState.type||(S===42||S===43||S===45?"listUnordered":"listOrdered");if(C==="listUnordered"?!a.containerState.marker||S===a.containerState.marker:Bd(S)){if(a.containerState.type||(a.containerState.type=C,e.enter(C,{_container:!0})),C==="listUnordered")return e.enter("listItemPrefix"),S===42||S===45?e.check(fl,i,h)(S):h(S);if(!a.interrupt||S===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),p(S)}return i(S)}function p(S){return Bd(S)&&++c<10?(e.consume(S),p):(!a.interrupt||c<2)&&(a.containerState.marker?S===a.containerState.marker:S===41||S===46)?(e.exit("listItemValue"),h(S)):i(S)}function h(S){return e.enter("listItemMarker"),e.consume(S),e.exit("listItemMarker"),a.containerState.marker=a.containerState.marker||S,e.check(Ll,a.interrupt?i:g,e.attempt(K3,w,b))}function g(S){return a.containerState.initialBlankLine=!0,l++,w(S)}function b(S){return He(S)?(e.enter("listItemPrefixWhitespace"),e.consume(S),e.exit("listItemPrefixWhitespace"),w):i(S)}function w(S){return a.containerState.size=l+a.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(S)}}function Z3(e,t,i){const a=this;return a.containerState._closeFlow=void 0,e.check(Ll,s,l);function s(f){return a.containerState.furtherBlankLines=a.containerState.furtherBlankLines||a.containerState.initialBlankLine,Xe(e,t,"listItemIndent",a.containerState.size+1)(f)}function l(f){return a.containerState.furtherBlankLines||!He(f)?(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,c(f)):(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,e.attempt(Q3,t,c)(f))}function c(f){return a.containerState._closeFlow=!0,a.interrupt=void 0,Xe(e,e.attempt(Gt,t,i),"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function W3(e,t,i){const a=this;return Xe(e,s,"listItemIndent",a.containerState.size+1);function s(l){const c=a.events[a.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===a.containerState.size?t(l):i(l)}}function e4(e){e.exit(this.containerState.type)}function t4(e,t,i){const a=this;return Xe(e,s,"listItemPrefixWhitespace",a.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(l){const c=a.events[a.events.length-1];return!He(l)&&c&&c[1].type==="listItemPrefixWhitespace"?t(l):i(l)}}const My={name:"setextUnderline",resolveTo:n4,tokenize:i4};function n4(e,t){let i=e.length,a,s,l;for(;i--;)if(e[i][0]==="enter"){if(e[i][1].type==="content"){a=i;break}e[i][1].type==="paragraph"&&(s=i)}else e[i][1].type==="content"&&e.splice(i,1),!l&&e[i][1].type==="definition"&&(l=i);const c={type:"setextHeading",start:{...e[a][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",l?(e.splice(s,0,["enter",c,t]),e.splice(l+1,0,["exit",e[a][1],t]),e[a][1].end={...e[l][1].end}):e[a][1]=c,e.push(["exit",c,t]),e}function i4(e,t,i){const a=this;let s;return l;function l(h){let g=a.events.length,b;for(;g--;)if(a.events[g][1].type!=="lineEnding"&&a.events[g][1].type!=="linePrefix"&&a.events[g][1].type!=="content"){b=a.events[g][1].type==="paragraph";break}return!a.parser.lazy[a.now().line]&&(a.interrupt||b)?(e.enter("setextHeadingLine"),s=h,c(h)):i(h)}function c(h){return e.enter("setextHeadingLineSequence"),f(h)}function f(h){return h===s?(e.consume(h),f):(e.exit("setextHeadingLineSequence"),He(h)?Xe(e,p,"lineSuffix")(h):p(h))}function p(h){return h===null||we(h)?(e.exit("setextHeadingLine"),t(h)):i(h)}}const r4={tokenize:a4};function a4(e){const t=this,i=e.attempt(Ll,a,e.attempt(this.parser.constructs.flowInitial,s,Xe(e,e.attempt(this.parser.constructs.flow,s,e.attempt(c3,s)),"linePrefix")));return i;function a(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,i}function s(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,i}}const o4={resolveAll:Tv()},s4=Ev("string"),l4=Ev("text");function Ev(e){return{resolveAll:Tv(e==="text"?u4:void 0),tokenize:t};function t(i){const a=this,s=this.parser.constructs[e],l=i.attempt(s,c,f);return c;function c(g){return h(g)?l(g):f(g)}function f(g){if(g===null){i.consume(g);return}return i.enter("data"),i.consume(g),p}function p(g){return h(g)?(i.exit("data"),l(g)):(i.consume(g),p)}function h(g){if(g===null)return!0;const b=s[g];let w=-1;if(b)for(;++w<b.length;){const S=b[w];if(!S.previous||S.previous.call(a,a.previous))return!0}return!1}}}function Tv(e){return t;function t(i,a){let s=-1,l;for(;++s<=i.length;)l===void 0?i[s]&&i[s][1].type==="data"&&(l=s,s++):(!i[s]||i[s][1].type!=="data")&&(s!==l+2&&(i[l][1].end=i[s-1][1].end,i.splice(l+2,s-l-2),s=l+2),l=void 0);return e?e(i,a):i}}function u4(e,t){let i=0;for(;++i<=e.length;)if((i===e.length||e[i][1].type==="lineEnding")&&e[i-1][1].type==="data"){const a=e[i-1][1],s=t.sliceStream(a);let l=s.length,c=-1,f=0,p;for(;l--;){const h=s[l];if(typeof h=="string"){for(c=h.length;h.charCodeAt(c-1)===32;)f++,c--;if(c)break;c=-1}else if(h===-2)p=!0,f++;else if(h!==-1){l++;break}}if(t._contentTypeTextTrailing&&i===e.length&&(f=0),f){const h={type:i===e.length||p||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?c:a.start._bufferIndex+c,_index:a.start._index+l,line:a.end.line,column:a.end.column-f,offset:a.end.offset-f},end:{...a.end}};a.end={...h.start},a.start.offset===a.end.offset?Object.assign(a,h):(e.splice(i,0,["enter",h,t],["exit",h,t]),i+=2)}i++}return e}const c4={42:Gt,43:Gt,45:Gt,48:Gt,49:Gt,50:Gt,51:Gt,52:Gt,53:Gt,54:Gt,55:Gt,56:Gt,57:Gt,62:yv},d4={91:m3},f4={[-2]:gd,[-1]:gd,32:gd},h4={35:w3,42:fl,45:[My,fl],60:T3,61:My,95:fl,96:Iy,126:Iy},p4={38:vv,92:xv},m4={[-5]:yd,[-4]:yd,[-3]:yd,33:B3,38:vv,42:Od,60:[FA,M3],91:F3,92:[v3,xv],93:bf,95:Od,96:r3},g4={null:[Od,o4]},y4={null:[42,95]},x4={null:[]},v4=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:y4,contentInitial:d4,disable:x4,document:c4,flow:h4,flowInitial:f4,insideSpan:g4,string:p4,text:m4},Symbol.toStringTag,{value:"Module"}));function b4(e,t,i){let a={_bufferIndex:-1,_index:0,line:i&&i.line||1,column:i&&i.column||1,offset:i&&i.offset||0};const s={},l=[];let c=[],f=[];const p={attempt:U(V),check:U(I),consume:D,enter:q,exit:M,interrupt:U(I,{interrupt:!0})},h={code:null,containerState:{},defineSkip:E,events:[],now:C,parser:e,previous:null,sliceSerialize:w,sliceStream:S,write:b};let g=t.tokenize.call(h,p);return t.resolveAll&&l.push(t),h;function b(te){return c=hn(c,te),R(),c[c.length-1]!==null?[]:(Q(t,0),h.events=vf(l,h.events,h),h.events)}function w(te,z){return S4(S(te),z)}function S(te){return w4(c,te)}function C(){const{_bufferIndex:te,_index:z,line:re,column:ie,offset:se}=a;return{_bufferIndex:te,_index:z,line:re,column:ie,offset:se}}function E(te){s[te.line]=te.column,K()}function R(){let te;for(;a._index<c.length;){const z=c[a._index];if(typeof z=="string")for(te=a._index,a._bufferIndex<0&&(a._bufferIndex=0);a._index===te&&a._bufferIndex<z.length;)A(z.charCodeAt(a._bufferIndex));else A(z)}}function A(te){g=g(te)}function D(te){we(te)?(a.line++,a.column=1,a.offset+=te===-3?2:1,K()):te!==-1&&(a.column++,a.offset++),a._bufferIndex<0?a._index++:(a._bufferIndex++,a._bufferIndex===c[a._index].length&&(a._bufferIndex=-1,a._index++)),h.previous=te}function q(te,z){const re=z||{};return re.type=te,re.start=C(),h.events.push(["enter",re,h]),f.push(re),re}function M(te){const z=f.pop();return z.end=C(),h.events.push(["exit",z,h]),z}function V(te,z){Q(te,z.from)}function I(te,z){z.restore()}function U(te,z){return re;function re(ie,se,B){let ae,ce,_e,_;return Array.isArray(ie)?O(ie):"tokenize"in ie?O([ie]):L(ie);function L(he){return ve;function ve(Le){const qe=Le!==null&&he[Le],St=Le!==null&&he.null,Tn=[...Array.isArray(qe)?qe:qe?[qe]:[],...Array.isArray(St)?St:St?[St]:[]];return O(Tn)(Le)}}function O(he){return ae=he,ce=0,he.length===0?B:k(he[ce])}function k(he){return ve;function ve(Le){return _=$(),_e=he,he.partial||(h.currentConstruct=he),he.name&&h.parser.constructs.disable.null.includes(he.name)?pe():he.tokenize.call(z?Object.assign(Object.create(h),z):h,p,ue,pe)(Le)}}function ue(he){return te(_e,_),se}function pe(he){return _.restore(),++ce<ae.length?k(ae[ce]):B}}}function Q(te,z){te.resolveAll&&!l.includes(te)&&l.push(te),te.resolve&&qn(h.events,z,h.events.length-z,te.resolve(h.events.slice(z),h)),te.resolveTo&&(h.events=te.resolveTo(h.events,h))}function $(){const te=C(),z=h.previous,re=h.currentConstruct,ie=h.events.length,se=Array.from(f);return{from:ie,restore:B};function B(){a=te,h.previous=z,h.currentConstruct=re,h.events.length=ie,f=se,K()}}function K(){a.line in s&&a.column<2&&(a.column=s[a.line],a.offset+=s[a.line]-1)}}function w4(e,t){const i=t.start._index,a=t.start._bufferIndex,s=t.end._index,l=t.end._bufferIndex;let c;if(i===s)c=[e[i].slice(a,l)];else{if(c=e.slice(i,s),a>-1){const f=c[0];typeof f=="string"?c[0]=f.slice(a):c.shift()}l>0&&c.push(e[s].slice(0,l))}return c}function S4(e,t){let i=-1;const a=[];let s;for(;++i<e.length;){const l=e[i];let c;if(typeof l=="string")c=l;else switch(l){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=t?" ":"	";break}case-1:{if(!t&&s)continue;c=" ";break}default:c=String.fromCharCode(l)}s=l===-2,a.push(c)}return a.join("")}function N4(e){const a={constructs:IA([v4,...(e||{}).extensions||[]]),content:s(VA),defined:[],document:s(jA),flow:s(r4),lazy:{},string:s(s4),text:s(l4)};return a;function s(l){return c;function c(f){return b4(a,l,f)}}}function E4(e){for(;!bv(e););return e}const Dy=/[\0\t\n\r]/g;function T4(){let e=1,t="",i=!0,a;return s;function s(l,c,f){const p=[];let h,g,b,w,S;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(c||void 0).decode(l)),b=0,t="",i&&(l.charCodeAt(0)===65279&&b++,i=void 0);b<l.length;){if(Dy.lastIndex=b,h=Dy.exec(l),w=h&&h.index!==void 0?h.index:l.length,S=l.charCodeAt(w),!h){t=l.slice(b);break}if(S===10&&b===w&&a)p.push(-3),a=void 0;else switch(a&&(p.push(-5),a=void 0),b<w&&(p.push(l.slice(b,w)),e+=w-b),S){case 0:{p.push(65533),e++;break}case 9:{for(g=Math.ceil(e/4)*4,p.push(-2);e++<g;)p.push(-1);break}case 10:{p.push(-4),e=1;break}default:a=!0,e=1}b=w+1}return f&&(a&&p.push(-5),t&&p.push(t),p.push(null)),p}}const C4=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function _4(e){return e.replace(C4,A4)}function A4(e,t,i){if(t)return t;if(i.charCodeAt(0)===35){const s=i.charCodeAt(1),l=s===120||s===88;return gv(i.slice(l?2:1),l?16:10)}return xf(i)||e}const Cv={}.hasOwnProperty;function k4(e,t,i){return typeof t!="string"&&(i=t,t=void 0),I4(i)(E4(N4(i).document().write(T4()(e,t,!0))))}function I4(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(fr),autolinkProtocol:$,autolinkEmail:$,atxHeading:l(cr),blockQuote:l(St),characterEscape:$,characterReference:$,codeFenced:l(Tn),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:l(Tn,c),codeText:l(lr,c),codeTextData:$,data:$,codeFlowValue:$,definition:l(ur),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:l(gn),hardBreakEscape:l(dr),hardBreakTrailing:l(dr),htmlFlow:l(Go,c),htmlFlowData:$,htmlText:l(Go,c),htmlTextData:$,image:l(jo),label:c,link:l(fr),listItem:l(va),listItemValue:w,listOrdered:l(hr,b),listUnordered:l(hr),paragraph:l(Hl),reference:k,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:l(cr),strong:l(zl),thematicBreak:l(Bl)},exit:{atxHeading:p(),atxHeadingSequence:V,autolink:p(),autolinkEmail:qe,autolinkProtocol:Le,blockQuote:p(),characterEscapeValue:K,characterReferenceMarkerHexadecimal:pe,characterReferenceMarkerNumeric:pe,characterReferenceValue:he,characterReference:ve,codeFenced:p(R),codeFencedFence:E,codeFencedFenceInfo:S,codeFencedFenceMeta:C,codeFlowValue:K,codeIndented:p(A),codeText:p(se),codeTextData:K,data:K,definition:p(),definitionDestinationString:M,definitionLabelString:D,definitionTitleString:q,emphasis:p(),hardBreakEscape:p(z),hardBreakTrailing:p(z),htmlFlow:p(re),htmlFlowData:K,htmlText:p(ie),htmlTextData:K,image:p(ae),label:_e,labelText:ce,lineEnding:te,link:p(B),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:ue,resourceDestinationString:_,resourceTitleString:L,resource:O,setextHeading:p(Q),setextHeadingLineSequence:U,setextHeadingText:I,strong:p(),thematicBreak:p()}};_v(t,(e||{}).mdastExtensions||[]);const i={};return a;function a(W){let le={type:"root",children:[]};const be={stack:[le],tokenStack:[],config:t,enter:f,exit:h,buffer:c,resume:g,data:i},Ae=[];let ze=-1;for(;++ze<W.length;)if(W[ze][1].type==="listOrdered"||W[ze][1].type==="listUnordered")if(W[ze][0]==="enter")Ae.push(ze);else{const Ot=Ae.pop();ze=s(W,Ot,ze)}for(ze=-1;++ze<W.length;){const Ot=t[W[ze][0]];Cv.call(Ot,W[ze][1].type)&&Ot[W[ze][1].type].call(Object.assign({sliceSerialize:W[ze][2].sliceSerialize},be),W[ze][1])}if(be.tokenStack.length>0){const Ot=be.tokenStack[be.tokenStack.length-1];(Ot[1]||Ly).call(be,void 0,Ot[0])}for(le.position={start:Ii(W.length>0?W[0][1].start:{line:1,column:1,offset:0}),end:Ii(W.length>0?W[W.length-2][1].end:{line:1,column:1,offset:0})},ze=-1;++ze<t.transforms.length;)le=t.transforms[ze](le)||le;return le}function s(W,le,be){let Ae=le-1,ze=-1,Ot=!1,Pn,_t,ht,Rt;for(;++Ae<=be;){const $e=W[Ae];switch($e[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{$e[0]==="enter"?ze++:ze--,Rt=void 0;break}case"lineEndingBlank":{$e[0]==="enter"&&(Pn&&!Rt&&!ze&&!ht&&(ht=Ae),Rt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Rt=void 0}if(!ze&&$e[0]==="enter"&&$e[1].type==="listItemPrefix"||ze===-1&&$e[0]==="exit"&&($e[1].type==="listUnordered"||$e[1].type==="listOrdered")){if(Pn){let ai=Ae;for(_t=void 0;ai--;){const yn=W[ai];if(yn[1].type==="lineEnding"||yn[1].type==="lineEndingBlank"){if(yn[0]==="exit")continue;_t&&(W[_t][1].type="lineEndingBlank",Ot=!0),yn[1].type="lineEnding",_t=ai}else if(!(yn[1].type==="linePrefix"||yn[1].type==="blockQuotePrefix"||yn[1].type==="blockQuotePrefixWhitespace"||yn[1].type==="blockQuoteMarker"||yn[1].type==="listItemIndent"))break}ht&&(!_t||ht<_t)&&(Pn._spread=!0),Pn.end=Object.assign({},_t?W[_t][1].start:$e[1].end),W.splice(_t||Ae,0,["exit",Pn,$e[2]]),Ae++,be++}if($e[1].type==="listItemPrefix"){const ai={type:"listItem",_spread:!1,start:Object.assign({},$e[1].start),end:void 0};Pn=ai,W.splice(Ae,0,["enter",ai,$e[2]]),Ae++,be++,ht=void 0,Rt=!0}}}return W[le][1]._spread=Ot,be}function l(W,le){return be;function be(Ae){f.call(this,W(Ae),Ae),le&&le.call(this,Ae)}}function c(){this.stack.push({type:"fragment",children:[]})}function f(W,le,be){this.stack[this.stack.length-1].children.push(W),this.stack.push(W),this.tokenStack.push([le,be||void 0]),W.position={start:Ii(le.start),end:void 0}}function p(W){return le;function le(be){W&&W.call(this,be),h.call(this,be)}}function h(W,le){const be=this.stack.pop(),Ae=this.tokenStack.pop();if(Ae)Ae[0].type!==W.type&&(le?le.call(this,W,Ae[0]):(Ae[1]||Ly).call(this,W,Ae[0]));else throw new Error("Cannot close `"+W.type+"` ("+Co({start:W.start,end:W.end})+"): it’s not open");be.position.end=Ii(W.end)}function g(){return AA(this.stack.pop())}function b(){this.data.expectingFirstListItemValue=!0}function w(W){if(this.data.expectingFirstListItemValue){const le=this.stack[this.stack.length-2];le.start=Number.parseInt(this.sliceSerialize(W),10),this.data.expectingFirstListItemValue=void 0}}function S(){const W=this.resume(),le=this.stack[this.stack.length-1];le.lang=W}function C(){const W=this.resume(),le=this.stack[this.stack.length-1];le.meta=W}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function R(){const W=this.resume(),le=this.stack[this.stack.length-1];le.value=W.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function A(){const W=this.resume(),le=this.stack[this.stack.length-1];le.value=W.replace(/(\r?\n|\r)$/g,"")}function D(W){const le=this.resume(),be=this.stack[this.stack.length-1];be.label=le,be.identifier=ua(this.sliceSerialize(W)).toLowerCase()}function q(){const W=this.resume(),le=this.stack[this.stack.length-1];le.title=W}function M(){const W=this.resume(),le=this.stack[this.stack.length-1];le.url=W}function V(W){const le=this.stack[this.stack.length-1];if(!le.depth){const be=this.sliceSerialize(W).length;le.depth=be}}function I(){this.data.setextHeadingSlurpLineEnding=!0}function U(W){const le=this.stack[this.stack.length-1];le.depth=this.sliceSerialize(W).codePointAt(0)===61?1:2}function Q(){this.data.setextHeadingSlurpLineEnding=void 0}function $(W){const be=this.stack[this.stack.length-1].children;let Ae=be[be.length-1];(!Ae||Ae.type!=="text")&&(Ae=Ct(),Ae.position={start:Ii(W.start),end:void 0},be.push(Ae)),this.stack.push(Ae)}function K(W){const le=this.stack.pop();le.value+=this.sliceSerialize(W),le.position.end=Ii(W.end)}function te(W){const le=this.stack[this.stack.length-1];if(this.data.atHardBreak){const be=le.children[le.children.length-1];be.position.end=Ii(W.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(le.type)&&($.call(this,W),K.call(this,W))}function z(){this.data.atHardBreak=!0}function re(){const W=this.resume(),le=this.stack[this.stack.length-1];le.value=W}function ie(){const W=this.resume(),le=this.stack[this.stack.length-1];le.value=W}function se(){const W=this.resume(),le=this.stack[this.stack.length-1];le.value=W}function B(){const W=this.stack[this.stack.length-1];if(this.data.inReference){const le=this.data.referenceType||"shortcut";W.type+="Reference",W.referenceType=le,delete W.url,delete W.title}else delete W.identifier,delete W.label;this.data.referenceType=void 0}function ae(){const W=this.stack[this.stack.length-1];if(this.data.inReference){const le=this.data.referenceType||"shortcut";W.type+="Reference",W.referenceType=le,delete W.url,delete W.title}else delete W.identifier,delete W.label;this.data.referenceType=void 0}function ce(W){const le=this.sliceSerialize(W),be=this.stack[this.stack.length-2];be.label=_4(le),be.identifier=ua(le).toLowerCase()}function _e(){const W=this.stack[this.stack.length-1],le=this.resume(),be=this.stack[this.stack.length-1];if(this.data.inReference=!0,be.type==="link"){const Ae=W.children;be.children=Ae}else be.alt=le}function _(){const W=this.resume(),le=this.stack[this.stack.length-1];le.url=W}function L(){const W=this.resume(),le=this.stack[this.stack.length-1];le.title=W}function O(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function ue(W){const le=this.resume(),be=this.stack[this.stack.length-1];be.label=le,be.identifier=ua(this.sliceSerialize(W)).toLowerCase(),this.data.referenceType="full"}function pe(W){this.data.characterReferenceType=W.type}function he(W){const le=this.sliceSerialize(W),be=this.data.characterReferenceType;let Ae;be?(Ae=gv(le,be==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ae=xf(le);const ze=this.stack[this.stack.length-1];ze.value+=Ae}function ve(W){const le=this.stack.pop();le.position.end=Ii(W.end)}function Le(W){K.call(this,W);const le=this.stack[this.stack.length-1];le.url=this.sliceSerialize(W)}function qe(W){K.call(this,W);const le=this.stack[this.stack.length-1];le.url="mailto:"+this.sliceSerialize(W)}function St(){return{type:"blockquote",children:[]}}function Tn(){return{type:"code",lang:null,meta:null,value:""}}function lr(){return{type:"inlineCode",value:""}}function ur(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function gn(){return{type:"emphasis",children:[]}}function cr(){return{type:"heading",depth:0,children:[]}}function dr(){return{type:"break"}}function Go(){return{type:"html",value:""}}function jo(){return{type:"image",title:null,url:"",alt:null}}function fr(){return{type:"link",title:null,url:"",children:[]}}function hr(W){return{type:"list",ordered:W.type==="listOrdered",start:null,spread:W._spread,children:[]}}function va(W){return{type:"listItem",spread:W._spread,checked:null,children:[]}}function Hl(){return{type:"paragraph",children:[]}}function zl(){return{type:"strong",children:[]}}function Ct(){return{type:"text",value:""}}function Bl(){return{type:"thematicBreak"}}}function Ii(e){return{line:e.line,column:e.column,offset:e.offset}}function _v(e,t){let i=-1;for(;++i<t.length;){const a=t[i];Array.isArray(a)?_v(e,a):R4(e,a)}}function R4(e,t){let i;for(i in t)if(Cv.call(t,i))switch(i){case"canContainEols":{const a=t[i];a&&e[i].push(...a);break}case"transforms":{const a=t[i];a&&e[i].push(...a);break}case"enter":case"exit":{const a=t[i];a&&Object.assign(e[i],a);break}}}function Ly(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Co({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Co({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Co({start:t.start,end:t.end})+") is still open")}function M4(e){const t=this;t.parser=i;function i(a){return k4(a,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function D4(e,t){const i={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,i),e.applyData(t,i)}function L4(e,t){const i={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,i),[e.applyData(t,i),{type:"text",value:`
`}]}function q4(e,t){const i=t.value?t.value+`
`:"",a={};t.lang&&(a.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:a,children:[{type:"text",value:i}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function U4(e,t){const i={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function P4(e,t){const i={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function V4(e,t){const i=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",a=String(t.identifier).toUpperCase(),s=xa(a.toLowerCase()),l=e.footnoteOrder.indexOf(a);let c,f=e.footnoteCounts.get(a);f===void 0?(f=0,e.footnoteOrder.push(a),c=e.footnoteOrder.length):c=l+1,f+=1,e.footnoteCounts.set(a,f);const p={type:"element",tagName:"a",properties:{href:"#"+i+"fn-"+s,id:i+"fnref-"+s+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};e.patch(t,p);const h={type:"element",tagName:"sup",properties:{},children:[p]};return e.patch(t,h),e.applyData(t,h)}function G4(e,t){const i={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function j4(e,t){if(e.options.allowDangerousHtml){const i={type:"raw",value:t.value};return e.patch(t,i),e.applyData(t,i)}}function Av(e,t){const i=t.referenceType;let a="]";if(i==="collapsed"?a+="[]":i==="full"&&(a+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+a}];const s=e.all(t),l=s[0];l&&l.type==="text"?l.value="["+l.value:s.unshift({type:"text",value:"["});const c=s[s.length-1];return c&&c.type==="text"?c.value+=a:s.push({type:"text",value:a}),s}function H4(e,t){const i=String(t.identifier).toUpperCase(),a=e.definitionById.get(i);if(!a)return Av(e,t);const s={src:xa(a.url||""),alt:t.alt};a.title!==null&&a.title!==void 0&&(s.title=a.title);const l={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,l),e.applyData(t,l)}function z4(e,t){const i={src:xa(t.url)};t.alt!==null&&t.alt!==void 0&&(i.alt=t.alt),t.title!==null&&t.title!==void 0&&(i.title=t.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function B4(e,t){const i={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,i);const a={type:"element",tagName:"code",properties:{},children:[i]};return e.patch(t,a),e.applyData(t,a)}function O4(e,t){const i=String(t.identifier).toUpperCase(),a=e.definitionById.get(i);if(!a)return Av(e,t);const s={href:xa(a.url||"")};a.title!==null&&a.title!==void 0&&(s.title=a.title);const l={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function F4(e,t){const i={href:xa(t.url)};t.title!==null&&t.title!==void 0&&(i.title=t.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function J4(e,t,i){const a=e.all(t),s=i?Y4(i):kv(t),l={},c=[];if(typeof t.checked=="boolean"){const g=a[0];let b;g&&g.type==="element"&&g.tagName==="p"?b=g:(b={type:"element",tagName:"p",properties:{},children:[]},a.unshift(b)),b.children.length>0&&b.children.unshift({type:"text",value:" "}),b.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let f=-1;for(;++f<a.length;){const g=a[f];(s||f!==0||g.type!=="element"||g.tagName!=="p")&&c.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!s?c.push(...g.children):c.push(g)}const p=a[a.length-1];p&&(s||p.type!=="element"||p.tagName!=="p")&&c.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:l,children:c};return e.patch(t,h),e.applyData(t,h)}function Y4(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const i=e.children;let a=-1;for(;!t&&++a<i.length;)t=kv(i[a])}return t}function kv(e){const t=e.spread;return t??e.children.length>1}function $4(e,t){const i={},a=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(i.start=t.start);++s<a.length;){const c=a[s];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){i.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:i,children:e.wrap(a,!0)};return e.patch(t,l),e.applyData(t,l)}function K4(e,t){const i={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function Q4(e,t){const i={type:"root",children:e.wrap(e.all(t))};return e.patch(t,i),e.applyData(t,i)}function X4(e,t){const i={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function Z4(e,t){const i=e.all(t),a=i.shift(),s=[];if(a){const c={type:"element",tagName:"thead",properties:{},children:e.wrap([a],!0)};e.patch(t.children[0],c),s.push(c)}if(i.length>0){const c={type:"element",tagName:"tbody",properties:{},children:e.wrap(i,!0)},f=pf(t.children[1]),p=uv(t.children[t.children.length-1]);f&&p&&(c.position={start:f,end:p}),s.push(c)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,l),e.applyData(t,l)}function W4(e,t,i){const a=i?i.children:void 0,l=(a?a.indexOf(t):1)===0?"th":"td",c=i&&i.type==="table"?i.align:void 0,f=c?c.length:t.children.length;let p=-1;const h=[];for(;++p<f;){const b=t.children[p],w={},S=c?c[p]:void 0;S&&(w.align=S);let C={type:"element",tagName:l,properties:w,children:[]};b&&(C.children=e.all(b),e.patch(b,C),C=e.applyData(b,C)),h.push(C)}const g={type:"element",tagName:"tr",properties:{},children:e.wrap(h,!0)};return e.patch(t,g),e.applyData(t,g)}function ek(e,t){const i={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}const qy=9,Uy=32;function tk(e){const t=String(e),i=/\r?\n|\r/g;let a=i.exec(t),s=0;const l=[];for(;a;)l.push(Py(t.slice(s,a.index),s>0,!0),a[0]),s=a.index+a[0].length,a=i.exec(t);return l.push(Py(t.slice(s),s>0,!1)),l.join("")}function Py(e,t,i){let a=0,s=e.length;if(t){let l=e.codePointAt(a);for(;l===qy||l===Uy;)a++,l=e.codePointAt(a)}if(i){let l=e.codePointAt(s-1);for(;l===qy||l===Uy;)s--,l=e.codePointAt(s-1)}return s>a?e.slice(a,s):""}function nk(e,t){const i={type:"text",value:tk(String(t.value))};return e.patch(t,i),e.applyData(t,i)}function ik(e,t){const i={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,i),e.applyData(t,i)}const rk={blockquote:D4,break:L4,code:q4,delete:U4,emphasis:P4,footnoteReference:V4,heading:G4,html:j4,imageReference:H4,image:z4,inlineCode:B4,linkReference:O4,link:F4,listItem:J4,list:$4,paragraph:K4,root:Q4,strong:X4,table:Z4,tableCell:ek,tableRow:W4,text:nk,thematicBreak:ik,toml:al,yaml:al,definition:al,footnoteDefinition:al};function al(){}const Iv=-1,ql=0,Ao=1,wl=2,wf=3,Sf=4,Nf=5,Ef=6,Rv=7,Mv=8,Vy=typeof self=="object"?self:globalThis,ak=(e,t)=>{const i=(s,l)=>(e.set(l,s),s),a=s=>{if(e.has(s))return e.get(s);const[l,c]=t[s];switch(l){case ql:case Iv:return i(c,s);case Ao:{const f=i([],s);for(const p of c)f.push(a(p));return f}case wl:{const f=i({},s);for(const[p,h]of c)f[a(p)]=a(h);return f}case wf:return i(new Date(c),s);case Sf:{const{source:f,flags:p}=c;return i(new RegExp(f,p),s)}case Nf:{const f=i(new Map,s);for(const[p,h]of c)f.set(a(p),a(h));return f}case Ef:{const f=i(new Set,s);for(const p of c)f.add(a(p));return f}case Rv:{const{name:f,message:p}=c;return i(new Vy[f](p),s)}case Mv:return i(BigInt(c),s);case"BigInt":return i(Object(BigInt(c)),s);case"ArrayBuffer":return i(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:f}=new Uint8Array(c);return i(new DataView(f),c)}}return i(new Vy[l](c),s)};return a},Gy=e=>ak(new Map,e)(0),Wr="",{toString:ok}={},{keys:sk}=Object,xo=e=>{const t=typeof e;if(t!=="object"||!e)return[ql,t];const i=ok.call(e).slice(8,-1);switch(i){case"Array":return[Ao,Wr];case"Object":return[wl,Wr];case"Date":return[wf,Wr];case"RegExp":return[Sf,Wr];case"Map":return[Nf,Wr];case"Set":return[Ef,Wr];case"DataView":return[Ao,i]}return i.includes("Array")?[Ao,i]:i.includes("Error")?[Rv,i]:[wl,i]},ol=([e,t])=>e===ql&&(t==="function"||t==="symbol"),lk=(e,t,i,a)=>{const s=(c,f)=>{const p=a.push(c)-1;return i.set(f,p),p},l=c=>{if(i.has(c))return i.get(c);let[f,p]=xo(c);switch(f){case ql:{let g=c;switch(p){case"bigint":f=Mv,g=c.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+p);g=null;break;case"undefined":return s([Iv],c)}return s([f,g],c)}case Ao:{if(p){let w=c;return p==="DataView"?w=new Uint8Array(c.buffer):p==="ArrayBuffer"&&(w=new Uint8Array(c)),s([p,[...w]],c)}const g=[],b=s([f,g],c);for(const w of c)g.push(l(w));return b}case wl:{if(p)switch(p){case"BigInt":return s([p,c.toString()],c);case"Boolean":case"Number":case"String":return s([p,c.valueOf()],c)}if(t&&"toJSON"in c)return l(c.toJSON());const g=[],b=s([f,g],c);for(const w of sk(c))(e||!ol(xo(c[w])))&&g.push([l(w),l(c[w])]);return b}case wf:return s([f,c.toISOString()],c);case Sf:{const{source:g,flags:b}=c;return s([f,{source:g,flags:b}],c)}case Nf:{const g=[],b=s([f,g],c);for(const[w,S]of c)(e||!(ol(xo(w))||ol(xo(S))))&&g.push([l(w),l(S)]);return b}case Ef:{const g=[],b=s([f,g],c);for(const w of c)(e||!ol(xo(w)))&&g.push(l(w));return b}}const{message:h}=c;return s([f,{name:p,message:h}],c)};return l},jy=(e,{json:t,lossy:i}={})=>{const a=[];return lk(!(t||i),!!t,new Map,a)(e),a},Sl=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Gy(jy(e,t)):structuredClone(e):(e,t)=>Gy(jy(e,t));function uk(e,t){const i=[{type:"text",value:"↩"}];return t>1&&i.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),i}function ck(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function dk(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=e.options.footnoteBackContent||uk,a=e.options.footnoteBackLabel||ck,s=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",c=e.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let p=-1;for(;++p<e.footnoteOrder.length;){const h=e.footnoteById.get(e.footnoteOrder[p]);if(!h)continue;const g=e.all(h),b=String(h.identifier).toUpperCase(),w=xa(b.toLowerCase());let S=0;const C=[],E=e.footnoteCounts.get(b);for(;E!==void 0&&++S<=E;){C.length>0&&C.push({type:"text",value:" "});let D=typeof i=="string"?i:i(p,S);typeof D=="string"&&(D={type:"text",value:D}),C.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+w+(S>1?"-"+S:""),dataFootnoteBackref:"",ariaLabel:typeof a=="string"?a:a(p,S),className:["data-footnote-backref"]},children:Array.isArray(D)?D:[D]})}const R=g[g.length-1];if(R&&R.type==="element"&&R.tagName==="p"){const D=R.children[R.children.length-1];D&&D.type==="text"?D.value+=" ":R.children.push({type:"text",value:" "}),R.children.push(...C)}else g.push(...C);const A={type:"element",tagName:"li",properties:{id:t+"fn-"+w},children:e.wrap(g,!0)};e.patch(h,A),f.push(A)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...Sl(c),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(f,!0)},{type:"text",value:`
`}]}}const Dv=(function(e){if(e==null)return mk;if(typeof e=="function")return Ul(e);if(typeof e=="object")return Array.isArray(e)?fk(e):hk(e);if(typeof e=="string")return pk(e);throw new Error("Expected function, string, or object as test")});function fk(e){const t=[];let i=-1;for(;++i<e.length;)t[i]=Dv(e[i]);return Ul(a);function a(...s){let l=-1;for(;++l<t.length;)if(t[l].apply(this,s))return!0;return!1}}function hk(e){const t=e;return Ul(i);function i(a){const s=a;let l;for(l in e)if(s[l]!==t[l])return!1;return!0}}function pk(e){return Ul(t);function t(i){return i&&i.type===e}}function Ul(e){return t;function t(i,a,s){return!!(gk(i)&&e.call(this,i,typeof a=="number"?a:void 0,s||void 0))}}function mk(){return!0}function gk(e){return e!==null&&typeof e=="object"&&"type"in e}const Lv=[],yk=!0,Hy=!1,xk="skip";function vk(e,t,i,a){let s;typeof t=="function"&&typeof i!="function"?(a=i,i=t):s=t;const l=Dv(s),c=a?-1:1;f(e,void 0,[])();function f(p,h,g){const b=p&&typeof p=="object"?p:{};if(typeof b.type=="string"){const S=typeof b.tagName=="string"?b.tagName:typeof b.name=="string"?b.name:void 0;Object.defineProperty(w,"name",{value:"node ("+(p.type+(S?"<"+S+">":""))+")"})}return w;function w(){let S=Lv,C,E,R;if((!t||l(p,h,g[g.length-1]||void 0))&&(S=bk(i(p,g)),S[0]===Hy))return S;if("children"in p&&p.children){const A=p;if(A.children&&S[0]!==xk)for(E=(a?A.children.length:-1)+c,R=g.concat(A);E>-1&&E<A.children.length;){const D=A.children[E];if(C=f(D,E,R)(),C[0]===Hy)return C;E=typeof C[1]=="number"?C[1]:E+c}}return S}}}function bk(e){return Array.isArray(e)?e:typeof e=="number"?[yk,e]:e==null?Lv:[e]}function qv(e,t,i,a){let s,l,c;typeof t=="function"&&typeof i!="function"?(l=void 0,c=t,s=i):(l=t,c=i,s=a),vk(e,l,f,s);function f(p,h){const g=h[h.length-1],b=g?g.children.indexOf(p):void 0;return c(p,b,g)}}const Fd={}.hasOwnProperty,wk={};function Sk(e,t){const i=t||wk,a=new Map,s=new Map,l=new Map,c={...rk,...i.handlers},f={all:h,applyData:Ek,definitionById:a,footnoteById:s,footnoteCounts:l,footnoteOrder:[],handlers:c,one:p,options:i,patch:Nk,wrap:Ck};return qv(e,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const b=g.type==="definition"?a:s,w=String(g.identifier).toUpperCase();b.has(w)||b.set(w,g)}}),f;function p(g,b){const w=g.type,S=f.handlers[w];if(Fd.call(f.handlers,w)&&S)return S(f,g,b);if(f.options.passThrough&&f.options.passThrough.includes(w)){if("children"in g){const{children:E,...R}=g,A=Sl(R);return A.children=f.all(g),A}return Sl(g)}return(f.options.unknownHandler||Tk)(f,g,b)}function h(g){const b=[];if("children"in g){const w=g.children;let S=-1;for(;++S<w.length;){const C=f.one(w[S],g);if(C){if(S&&w[S-1].type==="break"&&(!Array.isArray(C)&&C.type==="text"&&(C.value=zy(C.value)),!Array.isArray(C)&&C.type==="element")){const E=C.children[0];E&&E.type==="text"&&(E.value=zy(E.value))}Array.isArray(C)?b.push(...C):b.push(C)}}}return b}}function Nk(e,t){e.position&&(t.position=oA(e))}function Ek(e,t){let i=t;if(e&&e.data){const a=e.data.hName,s=e.data.hChildren,l=e.data.hProperties;if(typeof a=="string")if(i.type==="element")i.tagName=a;else{const c="children"in i?i.children:[i];i={type:"element",tagName:a,properties:{},children:c}}i.type==="element"&&l&&Object.assign(i.properties,Sl(l)),"children"in i&&i.children&&s!==null&&s!==void 0&&(i.children=s)}return i}function Tk(e,t){const i=t.data||{},a="value"in t&&!(Fd.call(i,"hProperties")||Fd.call(i,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function Ck(e,t){const i=[];let a=-1;for(t&&i.push({type:"text",value:`
`});++a<e.length;)a&&i.push({type:"text",value:`
`}),i.push(e[a]);return t&&e.length>0&&i.push({type:"text",value:`
`}),i}function zy(e){let t=0,i=e.charCodeAt(t);for(;i===9||i===32;)t++,i=e.charCodeAt(t);return e.slice(t)}function By(e,t){const i=Sk(e,t),a=i.one(e,void 0),s=dk(i),l=Array.isArray(a)?{type:"root",children:a}:a||{type:"root",children:[]};return s&&l.children.push({type:"text",value:`
`},s),l}function _k(e,t){return e&&"run"in e?async function(i,a){const s=By(i,{file:a,...t});await e.run(s,a)}:function(i,a){return By(i,{file:a,...e||t})}}function Oy(e){if(e)throw e}var xd,Fy;function Ak(){if(Fy)return xd;Fy=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=function(h){return typeof Array.isArray=="function"?Array.isArray(h):t.call(h)==="[object Array]"},l=function(h){if(!h||t.call(h)!=="[object Object]")return!1;var g=e.call(h,"constructor"),b=h.constructor&&h.constructor.prototype&&e.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!g&&!b)return!1;var w;for(w in h);return typeof w>"u"||e.call(h,w)},c=function(h,g){i&&g.name==="__proto__"?i(h,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):h[g.name]=g.newValue},f=function(h,g){if(g==="__proto__")if(e.call(h,g)){if(a)return a(h,g).value}else return;return h[g]};return xd=function p(){var h,g,b,w,S,C,E=arguments[0],R=1,A=arguments.length,D=!1;for(typeof E=="boolean"&&(D=E,E=arguments[1]||{},R=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});R<A;++R)if(h=arguments[R],h!=null)for(g in h)b=f(E,g),w=f(h,g),E!==w&&(D&&w&&(l(w)||(S=s(w)))?(S?(S=!1,C=b&&s(b)?b:[]):C=b&&l(b)?b:{},c(E,{name:g,newValue:p(D,C,w)})):typeof w<"u"&&c(E,{name:g,newValue:w}));return E},xd}var kk=Ak();const vd=kl(kk);function Jd(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Ik(){const e=[],t={run:i,use:a};return t;function i(...s){let l=-1;const c=s.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);f(null,...s);function f(p,...h){const g=e[++l];let b=-1;if(p){c(p);return}for(;++b<s.length;)(h[b]===null||h[b]===void 0)&&(h[b]=s[b]);s=h,g?Rk(g,f)(...h):c(null,...h)}}function a(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function Rk(e,t){let i;return a;function a(...c){const f=e.length>c.length;let p;f&&c.push(s);try{p=e.apply(this,c)}catch(h){const g=h;if(f&&i)throw g;return s(g)}f||(p&&p.then&&typeof p.then=="function"?p.then(l,s):p instanceof Error?s(p):l(p))}function s(c,...f){i||(i=!0,t(c,...f))}function l(c){s(null,c)}}const Rn={basename:Mk,dirname:Dk,extname:Lk,join:qk,sep:"/"};function Mk(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Uo(e);let i=0,a=-1,s=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(l){i=s+1;break}}else a<0&&(l=!0,a=s+1);return a<0?"":e.slice(i,a)}if(t===e)return"";let c=-1,f=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(l){i=s+1;break}}else c<0&&(l=!0,c=s+1),f>-1&&(e.codePointAt(s)===t.codePointAt(f--)?f<0&&(a=s):(f=-1,a=c));return i===a?a=c:a<0&&(a=e.length),e.slice(i,a)}function Dk(e){if(Uo(e),e.length===0)return".";let t=-1,i=e.length,a;for(;--i;)if(e.codePointAt(i)===47){if(a){t=i;break}}else a||(a=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Lk(e){Uo(e);let t=e.length,i=-1,a=0,s=-1,l=0,c;for(;t--;){const f=e.codePointAt(t);if(f===47){if(c){a=t+1;break}continue}i<0&&(c=!0,i=t+1),f===46?s<0?s=t:l!==1&&(l=1):s>-1&&(l=-1)}return s<0||i<0||l===0||l===1&&s===i-1&&s===a+1?"":e.slice(s,i)}function qk(...e){let t=-1,i;for(;++t<e.length;)Uo(e[t]),e[t]&&(i=i===void 0?e[t]:i+"/"+e[t]);return i===void 0?".":Uk(i)}function Uk(e){Uo(e);const t=e.codePointAt(0)===47;let i=Pk(e,!t);return i.length===0&&!t&&(i="."),i.length>0&&e.codePointAt(e.length-1)===47&&(i+="/"),t?"/"+i:i}function Pk(e,t){let i="",a=0,s=-1,l=0,c=-1,f,p;for(;++c<=e.length;){if(c<e.length)f=e.codePointAt(c);else{if(f===47)break;f=47}if(f===47){if(!(s===c-1||l===1))if(s!==c-1&&l===2){if(i.length<2||a!==2||i.codePointAt(i.length-1)!==46||i.codePointAt(i.length-2)!==46){if(i.length>2){if(p=i.lastIndexOf("/"),p!==i.length-1){p<0?(i="",a=0):(i=i.slice(0,p),a=i.length-1-i.lastIndexOf("/")),s=c,l=0;continue}}else if(i.length>0){i="",a=0,s=c,l=0;continue}}t&&(i=i.length>0?i+"/..":"..",a=2)}else i.length>0?i+="/"+e.slice(s+1,c):i=e.slice(s+1,c),a=c-s-1;s=c,l=0}else f===46&&l>-1?l++:l=-1}return i}function Uo(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Vk={cwd:Gk};function Gk(){return"/"}function Yd(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function jk(e){if(typeof e=="string")e=new URL(e);else if(!Yd(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Hk(e)}function Hk(e){if(e.hostname!==""){const a=new TypeError('File URL host must be "localhost" or empty on darwin');throw a.code="ERR_INVALID_FILE_URL_HOST",a}const t=e.pathname;let i=-1;for(;++i<t.length;)if(t.codePointAt(i)===37&&t.codePointAt(i+1)===50){const a=t.codePointAt(i+2);if(a===70||a===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const bd=["history","path","basename","stem","extname","dirname"];class Uv{constructor(t){let i;t?Yd(t)?i={path:t}:typeof t=="string"||zk(t)?i={value:t}:i=t:i={},this.cwd="cwd"in i?"":Vk.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let a=-1;for(;++a<bd.length;){const l=bd[a];l in i&&i[l]!==void 0&&i[l]!==null&&(this[l]=l==="history"?[...i[l]]:i[l])}let s;for(s in i)bd.includes(s)||(this[s]=i[s])}get basename(){return typeof this.path=="string"?Rn.basename(this.path):void 0}set basename(t){Sd(t,"basename"),wd(t,"basename"),this.path=Rn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Rn.dirname(this.path):void 0}set dirname(t){Jy(this.basename,"dirname"),this.path=Rn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Rn.extname(this.path):void 0}set extname(t){if(wd(t,"extname"),Jy(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Rn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Yd(t)&&(t=jk(t)),Sd(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Rn.basename(this.path,this.extname):void 0}set stem(t){Sd(t,"stem"),wd(t,"stem"),this.path=Rn.join(this.dirname||"",t+(this.extname||""))}fail(t,i,a){const s=this.message(t,i,a);throw s.fatal=!0,s}info(t,i,a){const s=this.message(t,i,a);return s.fatal=void 0,s}message(t,i,a){const s=new Tt(t,i,a);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function wd(e,t){if(e&&e.includes(Rn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Rn.sep+"`")}function Sd(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Jy(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function zk(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Bk=(function(e){const a=this.constructor.prototype,s=a[e],l=function(){return s.apply(l,arguments)};return Object.setPrototypeOf(l,a),l}),Ok={}.hasOwnProperty;class Tf extends Bk{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Ik()}copy(){const t=new Tf;let i=-1;for(;++i<this.attachers.length;){const a=this.attachers[i];t.use(...a)}return t.data(vd(!0,{},this.namespace)),t}data(t,i){return typeof t=="string"?arguments.length===2?(Td("data",this.frozen),this.namespace[t]=i,this):Ok.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Td("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[i,...a]=this.attachers[this.freezeIndex];if(a[0]===!1)continue;a[0]===!0&&(a[0]=void 0);const s=i.call(t,...a);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const i=sl(t),a=this.parser||this.Parser;return Nd("parse",a),a(String(i),i)}process(t,i){const a=this;return this.freeze(),Nd("process",this.parser||this.Parser),Ed("process",this.compiler||this.Compiler),i?s(void 0,i):new Promise(s);function s(l,c){const f=sl(t),p=a.parse(f);a.run(p,f,function(g,b,w){if(g||!b||!w)return h(g);const S=b,C=a.stringify(S,w);Yk(C)?w.value=C:w.result=C,h(g,w)});function h(g,b){g||!b?c(g):l?l(b):i(void 0,b)}}}processSync(t){let i=!1,a;return this.freeze(),Nd("processSync",this.parser||this.Parser),Ed("processSync",this.compiler||this.Compiler),this.process(t,s),$y("processSync","process",i),a;function s(l,c){i=!0,Oy(l),a=c}}run(t,i,a){Yy(t),this.freeze();const s=this.transformers;return!a&&typeof i=="function"&&(a=i,i=void 0),a?l(void 0,a):new Promise(l);function l(c,f){const p=sl(i);s.run(t,p,h);function h(g,b,w){const S=b||t;g?f(g):c?c(S):a(void 0,S,w)}}}runSync(t,i){let a=!1,s;return this.run(t,i,l),$y("runSync","run",a),s;function l(c,f){Oy(c),s=f,a=!0}}stringify(t,i){this.freeze();const a=sl(i),s=this.compiler||this.Compiler;return Ed("stringify",s),Yy(t),s(t,a)}use(t,...i){const a=this.attachers,s=this.namespace;if(Td("use",this.frozen),t!=null)if(typeof t=="function")p(t,i);else if(typeof t=="object")Array.isArray(t)?f(t):c(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(h){if(typeof h=="function")p(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[g,...b]=h;p(g,b)}else c(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function c(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(h.plugins),h.settings&&(s.settings=vd(!0,s.settings,h.settings))}function f(h){let g=-1;if(h!=null)if(Array.isArray(h))for(;++g<h.length;){const b=h[g];l(b)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function p(h,g){let b=-1,w=-1;for(;++b<a.length;)if(a[b][0]===h){w=b;break}if(w===-1)a.push([h,...g]);else if(g.length>0){let[S,...C]=g;const E=a[w][1];Jd(E)&&Jd(S)&&(S=vd(!0,E,S)),a[w]=[h,S,...C]}}}}const Fk=new Tf().freeze();function Nd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Ed(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Td(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Yy(e){if(!Jd(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function $y(e,t,i){if(!i)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function sl(e){return Jk(e)?e:new Uv(e)}function Jk(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Yk(e){return typeof e=="string"||$k(e)}function $k(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Kk="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Ky=[],Qy={allowDangerousHtml:!0},Qk=/^(https?|ircs?|mailto|xmpp)$/i,Xk=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function $d(e){const t=Zk(e),i=Wk(e);return eI(t.runSync(t.parse(i),i),e)}function Zk(e){const t=e.rehypePlugins||Ky,i=e.remarkPlugins||Ky,a=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Qy}:Qy;return Fk().use(M4).use(i).use(_k,a).use(t)}function Wk(e){const t=e.children||"",i=new Uv;return typeof t=="string"&&(i.value=t),i}function eI(e,t){const i=t.allowedElements,a=t.allowElement,s=t.components,l=t.disallowedElements,c=t.skipHtml,f=t.unwrapDisallowed,p=t.urlTransform||tI;for(const g of Xk)Object.hasOwn(t,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+Kk+g.id,void 0);return qv(e,h),dA(e,{Fragment:d.Fragment,components:s,ignoreInvalidStyle:!0,jsx:d.jsx,jsxs:d.jsxs,passKeys:!0,passNode:!0});function h(g,b,w){if(g.type==="raw"&&w&&typeof b=="number")return c?w.children.splice(b,1):w.children[b]={type:"text",value:g.value},b;if(g.type==="element"){let S;for(S in md)if(Object.hasOwn(md,S)&&Object.hasOwn(g.properties,S)){const C=g.properties[S],E=md[S];(E===null||E.includes(g.tagName))&&(g.properties[S]=p(String(C||""),S,g))}}if(g.type==="element"){let S=i?!i.includes(g.tagName):l?l.includes(g.tagName):!1;if(!S&&a&&typeof b=="number"&&(S=!a(g,b,w)),S&&w&&typeof b=="number")return f&&g.children?w.children.splice(b,1,...g.children):w.children.splice(b,1),b}}}function tI(e){const t=e.indexOf(":"),i=e.indexOf("?"),a=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||i!==-1&&t>i||a!==-1&&t>a||Qk.test(e.slice(0,t))?e:""}const Pv=[{id:"gemini-2.0-flash",name:"Google Gemini 2.0 Flash",size:"Cloud",description:"最新的Google AI模型，多模態支援，快速回應"},{id:"gpt-4o",name:"OpenAI GPT-4o",size:"Cloud",description:"OpenAI最先進模型，卓越的理解和生成能力"},{id:"gpt-4o-mini",name:"OpenAI GPT-4o Mini",size:"Cloud",description:"輕量快速版本，性價比高"}],Vv=[{id:"kimi-k2:1t",name:"Kimi K2 1T Cloud",size:"Cloud (1T)",description:"超大參數模型，極致的理解和生成能力"},{id:"qwen3-coder:480b",name:"Qwen3 Coder 480B Cloud",size:"Cloud (480B)",description:"超大規模編碼模型，適合結構化內容生成"},{id:"deepseek-v3.1:671b",name:"DeepSeek V3.1 671B Cloud",size:"Cloud (671B)",description:"超大規模模型，頂級推理能力，適合高難度神學論證"},{id:"gpt-oss:120b",name:"GPT-OSS 120B Cloud",size:"Cloud (120B)",description:"大型雲端模型，適合複雜的神學分析"},{id:"gpt-oss:20b",name:"GPT-OSS 20B Cloud",size:"Cloud (20B)",description:"平衡效能和速度，適合一般神學討論和問答"}],Gv=[{id:"qwen2.5vl:32b",name:"Qwen 2.5 VL 32B",size:"32 GB",description:"中英雙語視覺語言模型，適合繁體中文神學討論",hasVision:!0},{id:"llama4:scout",name:"Llama 4 Scout",size:"67 GB",description:"最新版本的Llama模型，適合複雜的神學討論和分析"},{id:"mistral-small:24b",name:"Mistral Small 24B",size:"14 GB",description:"輕量高效的模型，快速回應神學問題"},{id:"llama3.3:latest",name:"Llama 3.3",size:"42 GB",description:"高性能的通用語言模型，平衡效率與質量"},{id:"llava:34b",name:"LLaVA 34B",size:"20 GB",description:"多模態模型，支援圖像和文字的神學資料分析",hasVision:!0},{id:"deepseek-r1:32b",name:"DeepSeek R1 32B",size:"19 GB",description:"推理能力強的模型，適合深度神學分析"},{id:"llama3.2-vision:latest",name:"Llama 3.2 Vision",size:"7.9 GB",description:"視覺語言模型，可分析聖經插圖和神學圖表",hasVision:!0}],Xy=[...Pv,...Vv,...Gv],nI={mode:wn.THEOLOGY_CHAT,messages:[],documents:[],assignmentTopic:"",theologyArea:"",academicLevel:ea.UNDERGRADUATE,assignmentLength:1500,assignmentTone:"academic",assignmentStage:In.INPUT,revisionNumber:0,maxRevisions:3,selectedModel:"gpt-oss:20b",temperature:0,topP:.9,isProcessing:!1},iI=[{title:"系統神學導論 (Introduction to Systematic Theology)",author:"路易斯·柏克富 (Louis Berkhof)",type:"book",description:"經典的改革宗系統神學著作，全面探討基督教教義的各個方面，包括神論、人論、基督論、救恩論等核心主題。",url:"https://example.com",tags:["系統神學","改革宗","教義"],source:"本地示例資料庫"},{title:"聖經註釋：羅馬書 (Romans Commentary)",author:"約翰·加爾文 (John Calvin)",type:"commentary",description:"加爾文對羅馬書的深入註釋,闡述保羅的神學思想，特別關注因信稱義和神的主權等核心議題。",url:"https://example.com",tags:["聖經註釋","羅馬書","因信稱義"],source:"本地示例資料庫"},{title:"教會歷史研究：宗教改革時期 (Reformation History)",author:"多位作者",type:"article",description:"探討16世紀宗教改革運動的歷史背景、神學爭議和對現代教會的影響。",tags:["教會歷史","宗教改革","馬丁路德"],source:"本地示例資料庫"},{title:"三一神論的聖經基礎 (Biblical Basis for Trinity)",author:"奧古斯丁 (Augustine)",type:"thesis",description:"從聖經角度深入探討三位一體教義的神學基礎和歷史發展。",url:"https://example.com",tags:["三一神論","教義","教父神學"],source:"本地示例資料庫"}],rI=({onBack:e})=>{const[t,i]=H.useState(nI),[a,s]=H.useState(""),[l,c]=H.useState(""),[f,p]=H.useState("all"),[h,g]=H.useState([]),[b,w]=H.useState(!1),[S,C]=H.useState("googleSearch"),[E,R]=H.useState("reformed"),[A,D]=H.useState(null),q=H.useRef(null),M=H.useRef(null);H.useEffect(()=>{var _;(_=M.current)==null||_.scrollIntoView({behavior:"smooth"})},[t.messages]);const V=_=>{i(L=>({...L,..._}))},I=async()=>{if(!a.trim()||t.isProcessing)return;const _={role:"user",content:a,timestamp:new Date().toISOString()};V({messages:[...t.messages,_],isProcessing:!0}),s("");try{const{sendChatMessage:L,createTheologySystemPrompt:O}=await fd(async()=>{const{sendChatMessage:ve,createTheologySystemPrompt:Le}=await import("./theologyAssistantService-B5FyA_kn.js");return{sendChatMessage:ve,createTheologySystemPrompt:Le}},[]);let k=O(t.mode);if(t.mode===wn.READING_QA&&t.documents.length>0){const ve=t.documents.map(Le=>`

--- 文檔: ${Le.name} ---
${Le.content.substring(0,1e4)}
--- 文檔結束 ---`).join(`
`);k+=`

你現在正在分析以下上傳的神學文檔。請根據這些文檔的內容來回答用戶的問題：${ve}

請基於上述文檔內容回答問題，並在適當時引用文檔中的具體內容。`}const ue=[{role:"user",content:k},...t.messages.map(ve=>({role:ve.role,content:ve.content})),{role:"user",content:a}],he={role:"assistant",content:(await L({model:t.selectedModel,messages:ue,temperature:t.temperature,topP:t.topP})).content,timestamp:new Date().toISOString()};V({messages:[...t.messages,_,he],isProcessing:!1})}catch(L){console.error("Chat error:",L);const O={role:"assistant",content:`❌ 錯誤：${L.message}

請檢查：
1. 模型配置是否正確
2. API 金鑰是否已設置
3. 網絡連接是否正常`,timestamp:new Date().toISOString()};V({messages:[...t.messages,_,O],isProcessing:!1})}},U=async _=>{var O;const L=Array.from(_.target.files||[]);for(const k of L){const ue=((O=k.name.split(".").pop())==null?void 0:O.toLowerCase())||"txt";if(ue==="pdf"){D({fileName:k.name,isProcessing:!0});try{const pe=await k.arrayBuffer(),he=await fd(()=>import("./pdf-C58fNw6x.js"),[]);he.GlobalWorkerOptions.workerSrc="/pdf.worker.min.mjs";const ve=await he.getDocument({data:pe}).promise;let Le="";for(let St=1;St<=ve.numPages;St++){const ur=(await(await ve.getPage(St)).getTextContent()).items.map(gn=>gn.str).join(" ");Le+=ur+`

`}const qe={name:k.name,content:Le,type:"pdf"};V({documents:[...t.documents,qe]}),D(null)}catch(pe){console.error("PDF parsing error:",pe),D(null),alert(`無法解析 PDF 文件: ${k.name}

錯誤: ${pe}`)}}else{D({fileName:k.name,isProcessing:!0});const pe=new FileReader;pe.onload=he=>{var qe;const ve=(qe=he.target)==null?void 0:qe.result,Le={name:k.name,content:ve,type:ue};V({documents:[...t.documents,Le]}),D(null)},pe.onerror=()=>{D(null),alert(`無法讀取文件: ${k.name}`)},pe.readAsText(k)}}},Q=async()=>{if(!(!t.assignmentTopic.trim()||!t.theologyArea.trim())){V({isProcessing:!0,assignmentStage:In.PLANNING});try{await new Promise(L=>setTimeout(L,2e3));const _={id:Date.now().toString(),topic:t.assignmentTopic,content:`# 神學作業計劃：${t.assignmentTopic}

## 研究領域
${t.theologyArea}

## 學術水平
${t.academicLevel}

## 作業長度
約 ${t.assignmentLength} 字

## 研究大綱
1. 引言和背景
2. 聖經基礎分析
3. 神學傳統觀點
4. 當代應用
5. 結論和反思

## 參考資源
- 聖經經文研究
- 教父著作
- 現代神學評論
- 學術期刊文章

這個計劃將指導您完成一份全面的神學作業。`,createdAt:new Date().toISOString()};V({currentPlan:_,isProcessing:!1,assignmentStage:In.DRAFTING})}catch{V({isProcessing:!1})}}},$=async()=>{if(t.currentPlan){V({isProcessing:!0,assignmentStage:In.CRITIQUING});try{await new Promise(L=>setTimeout(L,3e3));const _={id:Date.now().toString(),topic:t.assignmentTopic,content:`# ${t.assignmentTopic}

## 引言

${t.assignmentTopic}是當代神學研究中的重要議題。本文將從聖經、教會歷史和系統神學的角度來探討這個主題。

## 聖經基礎

根據聖經教導，我們可以看到相關的原則和指導...

## 神學分析

從${t.theologyArea}的角度來看，這個議題涉及到多個重要的神學概念...

## 當代應用

在現代教會和基督徒生活中，這些原則如何應用...

## 結論

通過深入研究，我們可以得出...

*注意：這是一個示例草稿，實際實現中會生成更詳細和準確的內容。*`,stage:In.DRAFTING,revisionNumber:t.revisionNumber,createdAt:new Date().toISOString()};V({currentDraft:_,isProcessing:!1})}catch{V({isProcessing:!1})}}},K=async()=>{if(l.trim()){w(!0);try{const{searchTheologyResources:_,SearchMode:L,THEOLOGY_RESOURCE_URLS:O}=await fd(async()=>{const{searchTheologyResources:pe,SearchMode:he,THEOLOGY_RESOURCE_URLS:ve}=await import("./theologyResourceSearch-oy-JwTmM.js");return{searchTheologyResources:pe,SearchMode:he,THEOLOGY_RESOURCE_URLS:ve}},[]);let k;S==="urlContext"&&(k=O[E]||[]);const ue=await _(l,f,L[S.toUpperCase()],k,S==="urlContext"?E:void 0);g(ue.results)}catch(_){console.error("Search error:",_);let L=iI.filter(O=>O.title.toLowerCase().includes(l.toLowerCase())||O.description.toLowerCase().includes(l.toLowerCase())||O.tags.some(k=>k.toLowerCase().includes(l.toLowerCase())));f!=="all"&&(L=L.filter(O=>O.type===f)),g(L),alert(`搜尋時發生錯誤：${_.message}

已顯示本地模擬結果。請確保 GEMINI_API_KEY 已配置。`)}finally{w(!1)}}},te=_=>({book:"📚",article:"📄",commentary:"📖",encyclopedia:"📕",thesis:"🎓",website:"🌐"})[_]||"📝",z=_=>({book:"書籍",article:"文章",commentary:"註釋",encyclopedia:"百科",thesis:"論文",website:"網站"})[_]||_,re=(_,L,O)=>d.jsxs("button",{onClick:()=>V({mode:_}),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${t.mode===_?"bg-indigo-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[L,O]}),ie=()=>{var _,L;return d.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"AI 模型設定"}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"選擇 AI 模型"}),d.jsxs("select",{value:t.selectedModel,onChange:O=>V({selectedModel:O.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-indigo-500 text-white",children:[d.jsx("optgroup",{label:"☁️ 雲端 AI 模型 (Gemini / OpenAI)",children:Pv.map(O=>d.jsxs("option",{value:O.id,children:[O.name," (",O.size,")"]},O.id))}),d.jsx("optgroup",{label:"☁️ Ollama Cloud 模型",children:Vv.map(O=>d.jsxs("option",{value:O.id,children:[O.name," (",O.size,")"]},O.id))}),d.jsx("optgroup",{label:"🖥️ 本地 Ollama 模型",children:Gv.map(O=>d.jsxs("option",{value:O.id,children:[O.name," (",O.size,")"]},O.id))})]}),d.jsxs("div",{className:"mt-2 p-3 bg-gray-700/50 rounded-lg",children:[d.jsx("p",{className:"text-xs text-gray-300",children:(_=Xy.find(O=>O.id===t.selectedModel))==null?void 0:_.description}),((L=Xy.find(O=>O.id===t.selectedModel))==null?void 0:L.hasVision)&&d.jsx("span",{className:"text-xs text-yellow-400 mt-1 block",children:"🎨 支援視覺分析功能"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["創造性程度: ",t.temperature]}),d.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:t.temperature,onChange:O=>V({temperature:parseFloat(O.target.value)}),className:"w-full"}),d.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[d.jsx("span",{children:"保守"}),d.jsx("span",{children:"創新"})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["回答多樣性: ",t.topP]}),d.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:t.topP,onChange:O=>V({topP:parseFloat(O.target.value)}),className:"w-full"}),d.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[d.jsx("span",{children:"聚焦"}),d.jsx("span",{children:"多元"})]})]})]})]})},se=()=>d.jsxs("div",{className:"space-y-4",children:[ie(),d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-800 rounded-lg min-h-96",children:[t.messages.map((_,L)=>d.jsx("div",{className:`flex ${_.role==="user"?"justify-end":"justify-start"}`,children:d.jsx("div",{className:`max-w-2xl lg:max-w-4xl px-4 py-2 rounded-lg ${_.role==="user"?"bg-indigo-600 text-white":"bg-gray-700 text-gray-100"}`,children:_.role==="assistant"?d.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:d.jsx($d,{children:_.content})}):_.content})},L)),t.isProcessing&&d.jsx("div",{className:"flex justify-start",children:d.jsx("div",{className:"bg-gray-700 text-gray-100 px-4 py-2 rounded-lg",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-400"}),"思考中..."]})})}),d.jsx("div",{ref:M})]}),d.jsx("div",{className:"p-4 border-t border-gray-700",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx(er,{value:a,onChange:s,onKeyPress:_=>_.key==="Enter"&&!_.shiftKey&&I(),placeholder:"輸入您的神學問題...",disabled:t.isProcessing,lang:"zh-TW"}),d.jsx("button",{onClick:I,disabled:t.isProcessing||!a.trim(),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg font-semibold transition-colors",children:d.jsx(Og,{className:"w-5 h-5"})})]})})]})]}),B=()=>d.jsxs("div",{className:"space-y-6",children:[ie(),d.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"文檔上傳"}),d.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center cursor-pointer hover:border-gray-500 transition-colors",onClick:()=>{var _;return(_=q.current)==null?void 0:_.click()},children:[d.jsx(CS,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),d.jsx("p",{className:"text-gray-300",children:"點擊上傳神學文檔"}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"支持 PDF, DOCX, TXT, MD 格式"})]}),d.jsx("input",{ref:q,type:"file",multiple:!0,accept:".pdf,.docx,.txt,.md",onChange:U,className:"hidden"}),A&&d.jsx("div",{className:"mt-4 p-3 bg-blue-900/20 border border-blue-500/30 rounded-lg",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-400"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-blue-300",children:"正在處理 PDF 文件..."}),d.jsx("p",{className:"text-xs text-blue-400",children:A.fileName})]})]})}),t.documents.length>0&&d.jsxs("div",{className:"mt-4",children:[d.jsx("h4",{className:"font-medium text-gray-300 mb-2",children:"已上傳的文檔："}),d.jsx("div",{className:"space-y-2",children:t.documents.map((_,L)=>d.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-700 rounded",children:[d.jsx(ld,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm",children:_.name}),d.jsx("span",{className:"text-xs text-green-400 ml-auto",children:"✓ 已解析"})]},L))})]})]}),t.documents.length>0&&d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-800 rounded-lg min-h-96",children:[t.messages.map((_,L)=>d.jsx("div",{className:`flex ${_.role==="user"?"justify-end":"justify-start"}`,children:d.jsx("div",{className:`max-w-2xl lg:max-w-4xl px-4 py-2 rounded-lg ${_.role==="user"?"bg-indigo-600 text-white":"bg-gray-700 text-gray-100"}`,children:_.role==="assistant"?d.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:d.jsx($d,{children:_.content})}):_.content})},L)),t.isProcessing&&d.jsx("div",{className:"flex justify-start",children:d.jsx("div",{className:"bg-gray-700 text-gray-100 px-4 py-2 rounded-lg",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-400"}),"分析文檔中..."]})})}),d.jsx("div",{ref:M})]}),d.jsx("div",{className:"p-4 border-t border-gray-700",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx(er,{value:a,onChange:s,onKeyPress:_=>_.key==="Enter"&&!_.shiftKey&&I(),placeholder:"詢問關於已上傳文檔的問題...",disabled:t.isProcessing,lang:"zh-TW"}),d.jsx("button",{onClick:I,disabled:t.isProcessing||!a.trim(),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg font-semibold transition-colors",children:d.jsx(Og,{className:"w-5 h-5"})})]})})]})]}),ae=()=>d.jsxs("div",{className:"space-y-6",children:[ie(),t.assignmentStage===In.INPUT&&d.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"作業設定"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"作業主題"}),d.jsx(er,{value:t.assignmentTopic,onChange:_=>V({assignmentTopic:_}),placeholder:"例：三一神論的聖經基礎",className:"w-full",lang:"zh-TW"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"神學領域"}),d.jsx(er,{value:t.theologyArea,onChange:_=>V({theologyArea:_}),placeholder:"例：系統神學",className:"w-full",lang:"zh-TW"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"學術水平"}),d.jsxs("select",{value:t.academicLevel,onChange:_=>V({academicLevel:_.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-indigo-500 text-white",children:[d.jsx("option",{value:ea.UNDERGRADUATE,children:"學士"}),d.jsx("option",{value:ea.GRADUATE,children:"碩士"}),d.jsx("option",{value:ea.DOCTORAL,children:"博士"}),d.jsx("option",{value:ea.GENERAL,children:"一般"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"作業長度 (字數)"}),d.jsx("input",{type:"number",value:t.assignmentLength,onChange:_=>V({assignmentLength:parseInt(_.target.value)}),min:"500",max:"10000",step:"500",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-indigo-500 text-white"})]})]}),d.jsx("button",{onClick:Q,disabled:!t.assignmentTopic.trim()||!t.theologyArea.trim()||t.isProcessing,className:"mt-4 px-6 py-2 bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg font-semibold transition-colors flex items-center gap-2",children:t.isProcessing?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"生成計劃中..."]}):d.jsxs(d.Fragment,{children:[d.jsx(bS,{className:"w-4 h-4"}),"創建作業計劃"]})})]}),t.currentPlan&&t.assignmentStage===In.DRAFTING&&d.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"作業計劃"}),d.jsx(Bg,{className:"w-5 h-5 text-green-400"})]}),d.jsx("div",{className:"bg-gray-700 rounded-lg p-4 mb-4",children:d.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-200",children:t.currentPlan.content})}),d.jsx("button",{onClick:$,disabled:t.isProcessing,className:"px-6 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg font-semibold transition-colors flex items-center gap-2",children:t.isProcessing?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"生成草稿中..."]}):d.jsxs(d.Fragment,{children:[d.jsx(ld,{className:"w-4 h-4"}),"創建作業草稿"]})})]}),t.currentDraft&&t.assignmentStage===In.CRITIQUING&&d.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"作業草稿"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-sm text-gray-400",children:["修訂次數: ",t.revisionNumber]}),d.jsx(Bg,{className:"w-5 h-5 text-green-400"})]})]}),d.jsx("div",{className:"bg-gray-700 rounded-lg p-4 max-h-96 overflow-y-auto",children:d.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-200",children:t.currentDraft.content})}),d.jsxs("div",{className:"flex gap-2 mt-4",children:[d.jsx("button",{onClick:()=>V({assignmentStage:In.INPUT,currentPlan:void 0,currentDraft:void 0,revisionNumber:0}),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded-lg font-medium transition-colors",children:"重新開始"}),d.jsxs("button",{onClick:()=>{alert("草稿已保存！")},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-medium transition-colors flex items-center gap-2",children:[d.jsx(SS,{className:"w-4 h-4"}),"保存草稿"]})]})]})]}),ce=()=>d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[d.jsxs("div",{className:"flex gap-4 mb-4",children:[d.jsxs("div",{className:"flex-1 relative",children:[d.jsx(Eo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 z-10"}),d.jsx("div",{className:"flex-1",children:d.jsx(er,{value:l,onChange:c,onKeyPress:_=>_.key==="Enter"&&!_.shiftKey&&K(),placeholder:"搜尋神學主題、作者或關鍵字...",className:"w-full pl-10",lang:"zh-TW"})})]}),d.jsx("button",{onClick:K,disabled:b||!l.trim(),className:"px-6 py-3 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg font-semibold transition-colors flex items-center gap-2",children:b?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"搜尋中..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Eo,{className:"w-5 h-5"}),"搜尋"]})})]}),d.jsxs("div",{className:"mb-4 p-4 bg-gray-700/30 rounded-lg",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"🔍 搜尋模式 (Gemini MCP Tools):"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[d.jsxs("button",{onClick:()=>C("googleSearch"),className:`p-3 rounded-lg text-left transition-colors ${S==="googleSearch"?"bg-green-600 text-white shadow-lg":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[d.jsx("div",{className:"font-semibold",children:"🌐 Google Search"}),d.jsx("div",{className:"text-xs mt-1 opacity-80",children:"即時網路搜尋神學資源"})]}),d.jsxs("button",{onClick:()=>C("urlContext"),className:`p-3 rounded-lg text-left transition-colors ${S==="urlContext"?"bg-green-600 text-white shadow-lg":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[d.jsx("div",{className:"font-semibold",children:"🔗 URL Context"}),d.jsx("div",{className:"text-xs mt-1 opacity-80",children:"從指定神學網站搜尋"})]}),d.jsxs("button",{onClick:()=>C("codeExecution"),className:`p-3 rounded-lg text-left transition-colors ${S==="codeExecution"?"bg-green-600 text-white shadow-lg":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[d.jsx("div",{className:"font-semibold",children:"⚡ Code Execution"}),d.jsx("div",{className:"text-xs mt-1 opacity-80",children:"程式碼分析和統計"})]}),d.jsxs("button",{onClick:()=>C("generalKnowledge"),className:`p-3 rounded-lg text-left transition-colors ${S==="generalKnowledge"?"bg-green-600 text-white shadow-lg":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[d.jsx("div",{className:"font-semibold",children:"📚 Knowledge Base"}),d.jsx("div",{className:"text-xs mt-1 opacity-80",children:"使用 AI 知識庫推薦"})]})]}),S==="urlContext"&&d.jsxs("div",{className:"mt-3",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"選擇神學資源來源:"}),d.jsxs("select",{value:E,onChange:_=>R(_.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-green-500 text-white",children:[d.jsx("option",{value:"reformed",children:"改革宗資源 (Monergism, Ligonier, TGC)"}),d.jsx("option",{value:"catholic",children:"天主教資源 (Vatican, Catholic.com)"}),d.jsx("option",{value:"orthodox",children:"東正教資源 (OCA, Greek Orthodox)"}),d.jsx("option",{value:"academic",children:"學術資源 (Logos, JSTOR)"}),d.jsx("option",{value:"chinese",children:"華人神學資源"})]})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Tx,{className:"w-5 h-5 text-gray-400"}),d.jsx("span",{className:"text-gray-400 text-sm",children:"資源類型篩選:"}),d.jsx("div",{className:"flex gap-2 flex-wrap",children:["all","book","article","commentary","encyclopedia","thesis","website"].map(_=>d.jsx("button",{onClick:()=>p(_),className:`px-3 py-1 rounded-full text-sm transition-colors ${f===_?"bg-green-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:_==="all"?"全部":z(_)},_))})]})]}),h.length>0&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(kd,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsxs("h3",{className:"font-semibold text-blue-300 mb-1",children:["找到 ",h.length," 個結果"]}),d.jsxs("p",{className:"text-sm text-blue-200/80",children:[S==="googleSearch"&&"使用 Google Search 即時搜尋神學資源，包含網路上的最新內容。",S==="urlContext"&&`從 ${E==="reformed"?"改革宗":E==="catholic"?"天主教":E==="orthodox"?"東正教":E==="academic"?"學術":"華人神學"} 資源網站搜尋相關內容。`,S==="codeExecution"&&"使用程式碼執行分析神學文獻數據，提供統計和分類資訊。",S==="generalKnowledge"&&"基於 AI 知識庫推薦經典神學著作和重要學者作品。"]}),d.jsx("p",{className:"text-xs text-blue-300/60 mt-2",children:"💡 請查看每個結果的「資料來源」標籤，以確定是否適合引用"})]})]})}),h.map((_,L)=>d.jsx("div",{className:"bg-gray-800 rounded-lg p-6 hover:bg-gray-750 transition-colors border border-gray-700 hover:border-green-500",children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:"text-4xl",children:te(_.type)}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:_.title}),d.jsxs("p",{className:"text-gray-400 text-sm",children:["作者: ",_.author]})]}),d.jsx("span",{className:"px-3 py-1 bg-green-600/20 text-green-400 rounded-full text-xs font-medium whitespace-nowrap",children:z(_.type)})]}),d.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:_.description}),d.jsxs("div",{className:"space-y-3",children:[_.source&&d.jsxs("div",{className:"flex items-center gap-2 text-xs border-l-2 border-blue-500 pl-3 py-1",children:[d.jsx(kd,{className:"w-3 h-3 text-blue-400 flex-shrink-0"}),d.jsx("span",{className:"text-gray-500",children:"資料來源:"}),d.jsx("span",{className:"px-2 py-0.5 bg-blue-600/20 text-blue-400 rounded font-medium",children:_.source})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"flex gap-2 flex-wrap",children:_.tags.map((O,k)=>d.jsx("span",{className:"px-2 py-1 bg-gray-700 text-gray-300 rounded text-xs",children:O},k))}),_.url&&d.jsxs("a",{href:_.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-green-400 hover:text-green-300 transition-colors",children:[d.jsx(tS,{className:"w-4 h-4"}),"查看資源"]})]})]})]})]})},L))]}),h.length===0&&l&&!b&&d.jsxs("div",{className:"text-center py-16",children:[d.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),d.jsx("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"未找到相關資源"}),d.jsx("p",{className:"text-gray-400",children:"嘗試使用不同的關鍵字或調整篩選條件"})]}),h.length===0&&!l&&d.jsxs("div",{className:"text-center py-16",children:[d.jsx("div",{className:"text-6xl mb-4",children:"📚"}),d.jsx("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"開始搜尋神學資源"}),d.jsx("p",{className:"text-gray-400 mb-6",children:"輸入關鍵字搜尋書籍、文章、註釋和學術論文"}),d.jsxs("div",{className:"flex justify-center gap-4 text-sm text-gray-500",children:[d.jsx("span",{children:"熱門搜尋:"}),["三一神論","因信稱義","教會歷史","系統神學"].map(_=>d.jsx("button",{onClick:()=>{c(_),setTimeout(K,100)},className:"text-green-400 hover:text-green-300 transition-colors",children:_},_))]})]})]}),_e=()=>{switch(t.mode){case wn.THEOLOGY_CHAT:return se();case wn.READING_QA:return B();case wn.ASSIGNMENT_ASSISTANT:return ae();case wn.RESOURCE_SEARCH:return ce();default:return se()}};return d.jsxs("div",{className:"w-full max-w-7xl mx-auto h-full flex flex-col",children:[d.jsxs("div",{className:"mb-6",children:[d.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-300 hover:text-white transition-colors mb-4",children:[d.jsx(ha,{className:"w-5 h-5"}),"返回主頁"]}),d.jsx("h1",{className:"text-4xl font-bold mb-2 bg-gradient-to-r from-indigo-400 to-purple-400 bg-clip-text text-transparent",children:"神學研究助手"}),d.jsx("p",{className:"text-gray-400",children:"探索信仰、聖經和神學理解的全方位平台"})]}),d.jsxs("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:[re(wn.THEOLOGY_CHAT,d.jsx(mS,{className:"w-4 h-4"}),"神學對話"),re(wn.READING_QA,d.jsx(ld,{className:"w-4 h-4"}),"上傳文檔簡閱或問答"),re(wn.ASSIGNMENT_ASSISTANT,d.jsx(cS,{className:"w-4 h-4"}),"作業助手"),re(wn.RESOURCE_SEARCH,d.jsx(Eo,{className:"w-4 h-4"}),"資源搜尋")]}),d.jsx("div",{className:"flex-1 min-h-0",children:_e()})]})};var ge=(e=>(e.HEBREW="Hebrew",e.GREEK="Greek",e))(ge||{});const Zy=({title:e,description:t,language:i,onSelectMode:a})=>d.jsxs("div",{className:"w-full max-w-sm",children:[d.jsx("h2",{className:"text-2xl font-bold text-sky-800 dark:text-sky-300 mb-4 text-center",children:e}),d.jsx("p",{className:"text-stone-600 dark:text-stone-400 mb-4 text-center",children:t}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("button",{onClick:()=>a("alphabet-learning",i),className:"p-6 bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300",children:[d.jsx("div",{className:"text-lg font-bold mb-1",children:"字母表學習"}),d.jsx("div",{className:"text-sm opacity-90",children:"學習所有字母與發音"})]}),d.jsxs("button",{onClick:()=>a("word-practice",i),className:"p-6 bg-gradient-to-r from-sky-500 to-sky-600 hover:from-sky-600 hover:to-sky-700 text-white rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300",children:[d.jsx("div",{className:"text-lg font-bold mb-1",children:"單字練習"}),d.jsx("div",{className:"text-sm opacity-90",children:"發音練習與AI反饋"})]}),d.jsxs("button",{onClick:()=>a("verse-learning",i),className:"p-6 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300",children:[d.jsx("div",{className:"text-lg font-bold mb-1",children:"經文學習"}),d.jsx("div",{className:"text-sm opacity-90",children:"聖經經文重點詞彙"})]}),d.jsxs("button",{onClick:()=>a("vocabulary-flashcards",i),className:"p-6 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300",children:[d.jsx("div",{className:"text-lg font-bold mb-1",children:"詞彙記憶卡"}),d.jsx("div",{className:"text-sm opacity-90",children:"間隔重複法學習詞彙"})]}),d.jsxs("button",{onClick:()=>a("listening-game",i),className:"p-6 bg-gradient-to-r from-pink-500 to-rose-600 hover:from-pink-600 hover:to-rose-700 text-white rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300",children:[d.jsx("div",{className:"text-lg font-bold mb-1",children:"聽力理解遊戲"}),d.jsx("div",{className:"text-sm opacity-90",children:"聽音辨詞 100 詞挑戰"})]}),d.jsxs("button",{onClick:()=>a("pronunciation-challenge",i),className:"p-6 bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300",children:[d.jsx("div",{className:"text-lg font-bold mb-1",children:"發音挑戰"}),d.jsx("div",{className:"text-sm opacity-90",children:"辨別正確與錯誤發音"})]})]})]}),aI=({onSelect:e,onSelectMode:t})=>d.jsxs("div",{className:"flex flex-col items-center justify-center h-full animate-fade-in px-4",children:[d.jsx("h1",{className:"text-5xl font-extrabold text-stone-700 dark:text-stone-200 mb-4 text-center",children:"歡迎來到聖經文本學習基礎"}),d.jsx("p",{className:"text-xl text-stone-500 dark:text-stone-400 mb-8 text-center",children:"選擇一種聖經語言來學習"}),d.jsxs("div",{className:"w-full max-w-2xl mb-8 p-6 bg-sky-50 dark:bg-sky-900/30 border border-sky-200 dark:border-sky-700 rounded-xl",children:[d.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[d.jsx(kd,{className:"w-5 h-5 text-sky-600 dark:text-sky-400 mt-1 flex-shrink-0"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-lg font-semibold text-sky-900 dark:text-sky-100 mb-2",children:"需要權限"}),d.jsx("p",{className:"text-sm text-sky-800 dark:text-sky-200 mb-3",children:"此應用程式需要訪問您的麥克風和揚聲器才能正常運作："})]})]}),d.jsxs("div",{className:"space-y-3 ml-8",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(ra,{className:"w-5 h-5 text-sky-600 dark:text-sky-400 mt-0.5 flex-shrink-0"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-medium text-sky-900 dark:text-sky-100",children:"揚聲器權限"}),d.jsx("p",{className:"text-xs text-sky-700 dark:text-sky-300",children:"播放發音範例並聆聽正確的發音"})]})]}),d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Cx,{className:"w-5 h-5 text-sky-600 dark:text-sky-400 mt-0.5 flex-shrink-0"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-medium text-sky-900 dark:text-sky-100",children:"麥克風權限"}),d.jsx("p",{className:"text-xs text-sky-700 dark:text-sky-300",children:"錄製您的發音並接收 AI 反饋"})]})]})]}),d.jsx("div",{className:"mt-4 pt-4 border-t border-sky-200 dark:border-sky-700",children:d.jsxs("p",{className:"text-xs text-sky-600 dark:text-sky-400",children:[d.jsx("strong",{children:"提示："}),"瀏覽器會在需要時請求權限，請點擊「允許」以啟用所有功能。"]})})]}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[d.jsx(Zy,{title:"希伯來文",description:"舊約聖經",language:ge.HEBREW,onSelectMode:t||((i,a)=>e(a))}),d.jsx(Zy,{title:"古典希臘文",description:"新約聖經",language:ge.GREEK,onSelectMode:t||((i,a)=>e(a))})]})]}),oI=[{letter:"א",name:"Aleph",transliteration:"ʾ",pronunciation:"Silent or glottal stop",numericalValue:1,notes:"First letter of the Hebrew alphabet. Often silent or represents a glottal stop."},{letter:"ב",name:"Bet",transliteration:"b/v",pronunciation:"b as in boy, v as in very",numericalValue:2,notes:'With dagesh (dot): "b". Without dagesh: "v".'},{letter:"ג",name:"Gimel",transliteration:"g",pronunciation:"g as in go",numericalValue:3,notes:'Always hard "g" sound.'},{letter:"ד",name:"Dalet",transliteration:"d",pronunciation:"d as in door",numericalValue:4,notes:'Standard "d" sound.'},{letter:"ה",name:"He",transliteration:"h",pronunciation:"h as in house",numericalValue:5,notes:'Soft "h" sound. Often silent at end of words.'},{letter:"ו",name:"Vav",transliteration:"v/o/u",pronunciation:"v as in very",numericalValue:6,notes:'Consonant "v" or vowel "o"/"u" with vowel points.'},{letter:"ז",name:"Zayin",transliteration:"z",pronunciation:"z as in zoo",numericalValue:7,notes:'Standard "z" sound.'},{letter:"ח",name:"Chet",transliteration:"ḥ",pronunciation:"Strong guttural h (like clearing throat)",numericalValue:8,notes:'Guttural "h" sound, different from ה.'},{letter:"ט",name:"Tet",transliteration:"ṭ",pronunciation:"t as in top",numericalValue:9,notes:'Emphatic "t" sound.'},{letter:"י",name:"Yod",transliteration:"y",pronunciation:"y as in yes",numericalValue:10,notes:'Consonant "y" or part of vowel combinations.'},{letter:"כ",name:"Kaf",transliteration:"k/kh",pronunciation:"k as in king, kh as in Bach",numericalValue:20,notes:'With dagesh: "k". Without: "kh" (guttural). Final form: ך'},{letter:"ל",name:"Lamed",transliteration:"l",pronunciation:"l as in love",numericalValue:30,notes:'Standard "l" sound.'},{letter:"מ",name:"Mem",transliteration:"m",pronunciation:"m as in mother",numericalValue:40,notes:'Standard "m" sound. Final form: ם'},{letter:"נ",name:"Nun",transliteration:"n",pronunciation:"n as in no",numericalValue:50,notes:'Standard "n" sound. Final form: ן'},{letter:"ס",name:"Samekh",transliteration:"s",pronunciation:"s as in sun",numericalValue:60,notes:'Standard "s" sound.'},{letter:"ע",name:"Ayin",transliteration:"ʿ",pronunciation:"Deep guttural (like gargling)",numericalValue:70,notes:"Guttural sound, often silent in modern Hebrew."},{letter:"פ",name:"Pe",transliteration:"p/f",pronunciation:"p as in pat, f as in fine",numericalValue:80,notes:'With dagesh: "p". Without: "f". Final form: ף'},{letter:"צ",name:"Tsadi",transliteration:"ts",pronunciation:"ts as in cats",numericalValue:90,notes:'Combined "ts" sound. Final form: ץ'},{letter:"ק",name:"Qof",transliteration:"q",pronunciation:"k as in king (back of throat)",numericalValue:100,notes:'Deep "k" sound from back of throat.'},{letter:"ר",name:"Resh",transliteration:"r",pronunciation:"r as in roll (guttural)",numericalValue:200,notes:'Guttural "r" sound.'},{letter:"ש",name:"Shin/Sin",transliteration:"sh/s",pronunciation:"sh as in she, s as in sun",numericalValue:300,notes:'With right dot (ׁ): "sh". With left dot (ׂ): "s".'},{letter:"ת",name:"Tav",transliteration:"t",pronunciation:"t as in top",numericalValue:400,notes:'Standard "t" sound.'}],sI=[{letter:"Α α",name:"Alpha",transliteration:"a",pronunciation:"a as in father",numericalValue:1,notes:"First letter. Uppercase: Α, Lowercase: α"},{letter:"Β β",name:"Beta",transliteration:"b",pronunciation:"b as in boy",numericalValue:2,notes:"Uppercase: Β, Lowercase: β"},{letter:"Γ γ",name:"Gamma",transliteration:"g",pronunciation:"g as in go",numericalValue:3,notes:'Uppercase: Γ, Lowercase: γ. Before γ, κ, ξ, χ: nasal "ng".'},{letter:"Δ δ",name:"Delta",transliteration:"d",pronunciation:"d as in door",numericalValue:4,notes:"Uppercase: Δ, Lowercase: δ"},{letter:"Ε ε",name:"Epsilon",transliteration:"e",pronunciation:"e as in bet (short)",numericalValue:5,notes:'Short "e" sound. Uppercase: Ε, Lowercase: ε'},{letter:"Ζ ζ",name:"Zeta",transliteration:"z",pronunciation:"z as in zoo or dz",numericalValue:7,notes:"Uppercase: Ζ, Lowercase: ζ"},{letter:"Η η",name:"Eta",transliteration:"ē",pronunciation:"e as in they (long)",numericalValue:8,notes:'Long "e" sound. Uppercase: Η, Lowercase: η'},{letter:"Θ θ",name:"Theta",transliteration:"th",pronunciation:"th as in think",numericalValue:9,notes:"Uppercase: Θ, Lowercase: θ"},{letter:"Ι ι",name:"Iota",transliteration:"i",pronunciation:"i as in machine",numericalValue:10,notes:"Uppercase: Ι, Lowercase: ι"},{letter:"Κ κ",name:"Kappa",transliteration:"k",pronunciation:"k as in king",numericalValue:20,notes:"Uppercase: Κ, Lowercase: κ"},{letter:"Λ λ",name:"Lambda",transliteration:"l",pronunciation:"l as in love",numericalValue:30,notes:"Uppercase: Λ, Lowercase: λ"},{letter:"Μ μ",name:"Mu",transliteration:"m",pronunciation:"m as in mother",numericalValue:40,notes:"Uppercase: Μ, Lowercase: μ"},{letter:"Ν ν",name:"Nu",transliteration:"n",pronunciation:"n as in no",numericalValue:50,notes:"Uppercase: Ν, Lowercase: ν"},{letter:"Ξ ξ",name:"Xi",transliteration:"x",pronunciation:"x as in box",numericalValue:60,notes:"Uppercase: Ξ, Lowercase: ξ"},{letter:"Ο ο",name:"Omicron",transliteration:"o",pronunciation:"o as in pot (short)",numericalValue:70,notes:'Short "o" sound. Uppercase: Ο, Lowercase: ο'},{letter:"Π π",name:"Pi",transliteration:"p",pronunciation:"p as in pat",numericalValue:80,notes:"Uppercase: Π, Lowercase: π"},{letter:"Ρ ρ",name:"Rho",transliteration:"r",pronunciation:"r as in roll (trilled)",numericalValue:100,notes:'Trilled "r". Uppercase: Ρ, Lowercase: ρ'},{letter:"Σ σ/ς",name:"Sigma",transliteration:"s",pronunciation:"s as in sun",numericalValue:200,notes:"Uppercase: Σ. Lowercase: σ (middle), ς (final position)"},{letter:"Τ τ",name:"Tau",transliteration:"t",pronunciation:"t as in top",numericalValue:300,notes:"Uppercase: Τ, Lowercase: τ"},{letter:"Υ υ",name:"Upsilon",transliteration:"u/y",pronunciation:'u as in French "tu"',numericalValue:400,notes:"Uppercase: Υ, Lowercase: υ"},{letter:"Φ φ",name:"Phi",transliteration:"ph",pronunciation:"ph as in phone",numericalValue:500,notes:"Uppercase: Φ, Lowercase: φ"},{letter:"Χ χ",name:"Chi",transliteration:"ch",pronunciation:"ch as in Bach (guttural)",numericalValue:600,notes:"Uppercase: Χ, Lowercase: χ"},{letter:"Ψ ψ",name:"Psi",transliteration:"ps",pronunciation:"ps as in lips",numericalValue:700,notes:"Uppercase: Ψ, Lowercase: ψ"},{letter:"Ω ω",name:"Omega",transliteration:"ō",pronunciation:"o as in note (long)",numericalValue:800,notes:'Long "o" sound. Last letter. Uppercase: Ω, Lowercase: ω'}],lI=({language:e,onBack:t})=>{const[i,a]=H.useState(null),s=e===ge.HEBREW?oI:sI,l=e===ge.HEBREW?"希伯來文":"希臘文",c=e===ge.HEBREW?"rtl":"ltr",f=h=>{a(h)},p=h=>{const g=new SpeechSynthesisUtterance(h.name);g.lang=e===ge.HEBREW?"he-IL":"el-GR",g.rate=.8,speechSynthesis.speak(g)};return d.jsxs("div",{className:"w-full min-h-screen p-6 animate-fade-in",children:[d.jsxs("div",{className:"flex items-center justify-between mb-8",children:[d.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-stone-600 dark:text-stone-300 hover:text-sky-600 dark:hover:text-sky-400 transition-colors",children:[d.jsx(ha,{className:"w-5 h-5"}),d.jsx("span",{children:"返回"})]}),d.jsxs("h1",{className:"text-3xl font-bold text-stone-800 dark:text-stone-100",children:[l,"字母表"]}),d.jsx("div",{className:"w-20"})," "]}),d.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsx("div",{className:"lg:col-span-2",children:d.jsxs("div",{className:"bg-white dark:bg-stone-800 rounded-2xl shadow-lg p-6",children:[d.jsxs("h2",{className:"text-xl font-semibold text-stone-700 dark:text-stone-200 mb-4",children:["所有字母 (",s.length," 個)"]}),d.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-3",children:s.map((h,g)=>d.jsxs("button",{onClick:()=>f(h),className:`aspect-square rounded-xl flex flex-col items-center justify-center transition-all transform hover:scale-110 hover:shadow-lg ${i===h?"bg-sky-500 text-white shadow-xl scale-105":"bg-gradient-to-br from-sky-50 to-sky-100 dark:from-sky-900/30 dark:to-sky-800/30 text-stone-800 dark:text-stone-100 hover:from-sky-100 hover:to-sky-200 dark:hover:from-sky-800/40 dark:hover:to-sky-700/40"}`,children:[d.jsx("div",{className:"text-3xl font-bold mb-1",dir:c,style:{fontFamily:(e===ge.HEBREW,"serif")},children:h.letter.split(" ")[0]}),d.jsx("div",{className:"text-xs opacity-80",children:h.name})]},g))})]})}),d.jsx("div",{className:"lg:col-span-1",children:d.jsx("div",{className:"bg-white dark:bg-stone-800 rounded-2xl shadow-lg p-6 sticky top-6",children:i?d.jsxs("div",{className:"space-y-4 animate-fade-in",children:[d.jsxs("div",{className:"text-center pb-4 border-b border-stone-200 dark:border-stone-700",children:[d.jsx("div",{className:"text-7xl font-bold text-sky-600 dark:text-sky-400 mb-3",dir:c,style:{fontFamily:(e===ge.HEBREW,"serif")},children:i.letter}),d.jsx("h3",{className:"text-2xl font-semibold text-stone-800 dark:text-stone-100 mb-1",children:i.name}),d.jsxs("button",{onClick:()=>p(i),className:"inline-flex items-center gap-2 mt-2 px-4 py-2 bg-sky-100 dark:bg-sky-900/50 hover:bg-sky-200 dark:hover:bg-sky-800/50 rounded-lg transition-colors text-sky-700 dark:text-sky-300",children:[d.jsx(ra,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm",children:"播放發音"})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-semibold text-stone-500 dark:text-stone-400 uppercase tracking-wide mb-1",children:"轉寫"}),d.jsx("p",{className:"text-lg text-stone-800 dark:text-stone-100 font-mono bg-stone-50 dark:bg-stone-900/50 px-3 py-2 rounded-lg",children:i.transliteration})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-semibold text-stone-500 dark:text-stone-400 uppercase tracking-wide mb-1",children:"發音"}),d.jsx("p",{className:"text-base text-stone-700 dark:text-stone-200 bg-stone-50 dark:bg-stone-900/50 px-3 py-2 rounded-lg",children:i.pronunciation})]}),i.numericalValue&&d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-semibold text-stone-500 dark:text-stone-400 uppercase tracking-wide mb-1",children:"數值"}),d.jsx("p",{className:"text-lg text-stone-800 dark:text-stone-100 font-mono bg-stone-50 dark:bg-stone-900/50 px-3 py-2 rounded-lg",children:i.numericalValue})]}),i.notes&&d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-semibold text-stone-500 dark:text-stone-400 uppercase tracking-wide mb-1",children:"注意事項"}),d.jsx("p",{className:"text-sm text-stone-600 dark:text-stone-300 bg-amber-50 dark:bg-amber-900/20 px-3 py-2 rounded-lg border border-amber-200 dark:border-amber-800",children:i.notes})]})]})]}):d.jsxs("div",{className:"text-center py-12 text-stone-400 dark:text-stone-500",children:[d.jsx("p",{className:"text-lg mb-2",children:"點選字母"}),d.jsx("p",{className:"text-sm",children:"查看詳細資訊"})]})})})]})]})},uI=({wordData:e,language:t})=>{const[i,a]=H.useState(!1),s=()=>{if(!("speechSynthesis"in window)){console.error("Speech synthesis not supported");return}a(!0);const l=new SpeechSynthesisUtterance(e.transliteration);t==="Hebrew"?l.lang="he-IL":t==="Greek"&&(l.lang="el-GR"),l.rate=.8,l.pitch=1,l.onend=()=>{a(!1)},l.onerror=()=>{a(!1)},window.speechSynthesis.cancel(),window.speechSynthesis.speak(l)};return d.jsxs("div",{className:"w-full max-w-2xl bg-white dark:bg-stone-800 rounded-2xl shadow-lg p-8 md:p-12 text-center transform transition-all duration-500 animate-fade-in-up",children:[d.jsx("h2",{className:"text-6xl md:text-8xl font-serif text-sky-900 dark:text-sky-200 mb-4",lang:"he",dir:"rtl",children:e.word}),d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[d.jsx("p",{className:"text-2xl text-stone-600 dark:text-stone-400",children:e.transliteration}),d.jsx("button",{onClick:s,disabled:i,className:"p-2 rounded-full bg-sky-500 hover:bg-sky-600 disabled:bg-stone-400 text-white transition-all transform hover:scale-110 active:scale-95",title:"Play pronunciation",children:d.jsx(ra,{className:`w-5 h-5 ${i?"animate-pulse":""}`})})]}),d.jsxs("p",{className:"text-lg text-stone-500 dark:text-stone-500 italic",children:['"',e.meaning,'"']})]})},cI=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",viewBox:"0 0 20 20",fill:"currentColor",children:[d.jsx("path",{fillRule:"evenodd",d:"M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm5 10.5a.5.5 0 01.5.5v.5a.5.5 0 01-1 0V15a.5.5 0 01.5-.5zM7 15a.5.5 0 00-1 0v.5a.5.5 0 001 0V15z",clipRule:"evenodd"}),d.jsx("path",{d:"M5.5 11.5A3.5 3.5 0 019 8h2a3.5 3.5 0 013.5 3.5v.5a.5.5 0 01-1 0v-.5A2.5 2.5 0 0011 9H9a2.5 2.5 0 00-2.5 2.5v.5a.5.5 0 01-1 0v-.5z"}),d.jsx("path",{d:"M4 11a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1z"})]}),dI=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1zm4 0a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),fI=()=>d.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-4 border-white"}),hI=({gameState:e,onClick:t})=>{const i=e==="recording",a=e==="processing",s=e==="ready",l=()=>i?"bg-red-600 hover:bg-red-700 animate-pulse":a?"bg-gray-500 cursor-not-allowed":"bg-sky-600 hover:bg-sky-700";return d.jsxs("button",{onClick:t,disabled:a,className:`w-24 h-24 rounded-full flex items-center justify-center text-white shadow-lg transform transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-sky-300 dark:focus:ring-sky-800 ${l()} ${s?"hover:scale-110":""}`,"aria-label":i?"Stop recording":"Start recording",children:[a&&d.jsx(fI,{}),i&&d.jsx(dI,{}),(e==="ready"||e==="feedback"||e==="error")&&d.jsx(cI,{})]})},pI=({feedback:e})=>e?d.jsxs("div",{className:"w-full max-w-2xl mt-8 bg-sky-100 dark:bg-sky-900/50 border border-sky-200 dark:border-sky-700 rounded-xl p-6 animate-fade-in",children:[d.jsx("h3",{className:"text-lg font-semibold text-sky-800 dark:text-sky-200 mb-2",children:"反饋"}),d.jsx("p",{className:"text-stone-700 dark:text-stone-300",children:e})]}):null,mI=[{reference:"創世記 1:1",language:ge.HEBREW,translation:"In the beginning God created the heavens and the earth.",originalText:"בְּרֵאשִׁית בָּרָא אֱלֹהִים אֵת הַשָּׁמַיִם וְאֵת הָאָרֶץ",highlightedWords:[{original:"בְּרֵאשִׁית",transliteration:"Bereshit",meaning:"In the beginning",position:0},{original:"בָּרָא",transliteration:"Bara",meaning:"created",position:1},{original:"אֱלֹהִים",transliteration:"Elohim",meaning:"God",position:2}]},{reference:"詩篇 23:1",language:ge.HEBREW,translation:"The LORD is my shepherd; I shall not want.",originalText:"יְהוָה רֹעִי לֹא אֶחְסָר",highlightedWords:[{original:"יְהוָה",transliteration:"Yahweh",meaning:"The LORD",position:0},{original:"רֹעִי",transliteration:"Ro'i",meaning:"my shepherd",position:1}]},{reference:"以賽亞書 9:6",language:ge.HEBREW,translation:"For to us a child is born, to us a son is given.",originalText:"כִּי־יֶלֶד יֻלַּד־לָנוּ בֵּן נִתַּן־לָנוּ",highlightedWords:[{original:"יֶלֶד",transliteration:"Yeled",meaning:"child",position:0},{original:"בֵּן",transliteration:"Ben",meaning:"son",position:1}]},{reference:"申命記 6:4",language:ge.HEBREW,translation:"Hear, O Israel: The LORD our God, the LORD is one.",originalText:"שְׁמַע יִשְׂרָאֵל יְהוָה אֱלֹהֵינוּ יְהוָה אֶחָד",highlightedWords:[{original:"שְׁמַע",transliteration:"Shema",meaning:"Hear",position:0},{original:"יִשְׂרָאֵל",transliteration:"Yisrael",meaning:"Israel",position:1},{original:"אֶחָד",transliteration:"Echad",meaning:"one",position:2}]},{reference:"約翰福音 1:1",language:ge.GREEK,translation:"In the beginning was the Word, and the Word was with God, and the Word was God.",originalText:"Ἐν ἀρχῇ ἦν ὁ λόγος καὶ ὁ λόγος ἦν πρὸς τὸν θεόν καὶ θεὸς ἦν ὁ λόγος",highlightedWords:[{original:"ἀρχῇ",transliteration:"Arche",meaning:"beginning",position:0},{original:"λόγος",transliteration:"Logos",meaning:"Word",position:1},{original:"θεόν",transliteration:"Theos",meaning:"God",position:2}]},{reference:"約翰福音 3:16",language:ge.GREEK,translation:"For God so loved the world that he gave his one and only Son.",originalText:"οὕτως γὰρ ἠγάπησεν ὁ θεὸς τὸν κόσμον ὥστε τὸν υἱὸν τὸν μονογενῆ ἔδωκεν",highlightedWords:[{original:"ἠγάπησεν",transliteration:"Egapesen",meaning:"loved",position:0},{original:"θεὸς",transliteration:"Theos",meaning:"God",position:1},{original:"κόσμον",transliteration:"Kosmon",meaning:"world",position:2},{original:"υἱὸν",transliteration:"Huion",meaning:"Son",position:3}]},{reference:"哥林多前書 13:13",language:ge.GREEK,translation:"And now these three remain: faith, hope and love. But the greatest of these is love.",originalText:"νυνὶ δὲ μένει πίστις ἐλπίς ἀγάπη τὰ τρία ταῦτα μείζων δὲ τούτων ἡ ἀγάπη",highlightedWords:[{original:"πίστις",transliteration:"Pistis",meaning:"faith",position:0},{original:"ἐλπίς",transliteration:"Elpis",meaning:"hope",position:1},{original:"ἀγάπη",transliteration:"Agape",meaning:"love",position:2}]},{reference:"腓立比書 4:13",language:ge.GREEK,translation:"I can do all things through Christ who strengthens me.",originalText:"πάντα ἰσχύω ἐν τῷ ἐνδυναμοῦντί με",highlightedWords:[{original:"πάντα",transliteration:"Panta",meaning:"all things",position:0},{original:"ἰσχύω",transliteration:"Ischuo",meaning:"I am able/can do",position:1},{original:"ἐνδυναμοῦντί",transliteration:"Endunamounti",meaning:"strengthening",position:2}]},{reference:"創世記 1:3",language:ge.HEBREW,translation:'And God said, "Let there be light," and there was light.',originalText:"וַיֹּאמֶר אֱלֹהִים יְהִי אוֹר וַיְהִי־אוֹר",highlightedWords:[{original:"וַיֹּאמֶר",transliteration:"Vayomer",meaning:"and He said",position:0},{original:"יְהִי",transliteration:"Yehi",meaning:"let there be",position:1},{original:"אוֹר",transliteration:"Or",meaning:"light",position:2}]},{reference:"出埃及記 3:14",language:ge.HEBREW,translation:'God said to Moses, "I AM WHO I AM."',originalText:"וַיֹּאמֶר אֱלֹהִים אֶל־מֹשֶׁה אֶהְיֶה אֲשֶׁר אֶהְיֶה",highlightedWords:[{original:"אֶהְיֶה",transliteration:"Ehyeh",meaning:"I am/I will be",position:0},{original:"מֹשֶׁה",transliteration:"Moshe",meaning:"Moses",position:1}]},{reference:"詩篇 1:1",language:ge.HEBREW,translation:"Blessed is the man who does not walk in the counsel of the wicked.",originalText:"אַשְׁרֵי־הָאִישׁ אֲשֶׁר לֹא הָלַךְ בַּעֲצַת רְשָׁעִים",highlightedWords:[{original:"אַשְׁרֵי",transliteration:"Ashrei",meaning:"Blessed",position:0},{original:"הָאִישׁ",transliteration:"Ha'ish",meaning:"the man",position:1},{original:"רְשָׁעִים",transliteration:"Resha'im",meaning:"wicked",position:2}]},{reference:"箴言 3:5",language:ge.HEBREW,translation:"Trust in the LORD with all your heart.",originalText:"בְּטַח אֶל־יְהוָה בְּכָל־לִבֶּךָ",highlightedWords:[{original:"בְּטַח",transliteration:"Betach",meaning:"Trust",position:0},{original:"לִבֶּךָ",transliteration:"Libekha",meaning:"your heart",position:1}]},{reference:"傳道書 3:1",language:ge.HEBREW,translation:"There is a time for everything, and a season for every activity under the heavens.",originalText:"לַכֹּל זְמָן וְעֵת לְכָל־חֵפֶץ תַּחַת הַשָּׁמָיִם",highlightedWords:[{original:"זְמָן",transliteration:"Zeman",meaning:"time",position:0},{original:"עֵת",transliteration:"Et",meaning:"season",position:1},{original:"חֵפֶץ",transliteration:"Chefetz",meaning:"activity/purpose",position:2}]},{reference:"以賽亞書 6:3",language:ge.HEBREW,translation:"Holy, holy, holy is the LORD Almighty.",originalText:"קָדוֹשׁ קָדוֹשׁ קָדוֹשׁ יְהוָה צְבָאוֹת",highlightedWords:[{original:"קָדוֹשׁ",transliteration:"Qadosh",meaning:"Holy",position:0},{original:"צְבָאוֹת",transliteration:"Tzeva'ot",meaning:"of Hosts/Almighty",position:1}]},{reference:"耶利米書 29:11",language:ge.HEBREW,translation:"For I know the plans I have for you, declares the LORD.",originalText:"כִּי אָנֹכִי יָדַעְתִּי אֶת־הַמַּחֲשָׁבֹת אֲשֶׁר אָנֹכִי חֹשֵׁב עֲלֵיכֶם נְאֻם־יְהוָה",highlightedWords:[{original:"יָדַעְתִּי",transliteration:"Yada'ti",meaning:"I know",position:0},{original:"מַּחֲשָׁבֹת",transliteration:"Machashavot",meaning:"plans/thoughts",position:1},{original:"נְאֻם",transliteration:"Ne'um",meaning:"declares",position:2}]},{reference:"彌迦書 6:8",language:ge.HEBREW,translation:"He has shown you, O mortal, what is good.",originalText:"הִגִּיד לְךָ אָדָם מַה־טּוֹב",highlightedWords:[{original:"הִגִּיד",transliteration:"Higid",meaning:"He has shown",position:0},{original:"אָדָם",transliteration:"Adam",meaning:"man/mortal",position:1},{original:"טּוֹב",transliteration:"Tov",meaning:"good",position:2}]},{reference:"耶利米哀歌 3:22-23",language:ge.HEBREW,translation:"Because of the LORD's great love we are not consumed, for his compassions never fail.",originalText:"חַסְדֵי יְהוָה כִּי לֹא־תָמְנוּ כִּי לֹא־כָלוּ רַחֲמָיו",highlightedWords:[{original:"חַסְדֵי",transliteration:"Chasdei",meaning:"steadfast love",position:0},{original:"רַחֲמָיו",transliteration:"Rachamav",meaning:"His compassions",position:1}]},{reference:"瑪拉基書 3:10",language:ge.HEBREW,translation:"Bring the whole tithe into the storehouse.",originalText:"הָבִיאוּ אֶת־כָּל־הַמַּעֲשֵׂר אֶל־בֵּית הָאוֹצָר",highlightedWords:[{original:"הָבִיאוּ",transliteration:"Havi'u",meaning:"Bring",position:0},{original:"מַּעֲשֵׂר",transliteration:"Ma'aser",meaning:"tithe",position:1},{original:"אוֹצָר",transliteration:"Otzar",meaning:"storehouse",position:2}]},{reference:"民數記 6:24-26",language:ge.HEBREW,translation:"The LORD bless you and keep you.",originalText:"יְבָרֶכְךָ יְהוָה וְיִשְׁמְרֶךָ",highlightedWords:[{original:"יְבָרֶכְךָ",transliteration:"Yevarechecha",meaning:"bless you",position:0},{original:"וְיִשְׁמְרֶךָ",transliteration:"Veyishmerecha",meaning:"and keep you",position:1}]},{reference:"歷代志上 29:11",language:ge.HEBREW,translation:"Yours, O LORD, is the greatness and the power.",originalText:"לְךָ יְהוָה הַגְּדֻלָּה וְהַגְּבוּרָה",highlightedWords:[{original:"הַגְּדֻלָּה",transliteration:"Hagedulah",meaning:"the greatness",position:0},{original:"הַגְּבוּרָה",transliteration:"Hagevurah",meaning:"the power/might",position:1}]},{reference:"詩篇 46:1",language:ge.HEBREW,translation:"God is our refuge and strength.",originalText:"אֱלֹהִים לָנוּ מַחֲסֶה וָעֹז",highlightedWords:[{original:"מַחֲסֶה",transliteration:"Machaseh",meaning:"refuge",position:0},{original:"עֹז",transliteration:"Oz",meaning:"strength",position:1}]},{reference:"詩篇 119:105",language:ge.HEBREW,translation:"Your word is a lamp for my feet, a light on my path.",originalText:"נֵר־לְרַגְלִי דְבָרֶךָ וְאוֹר לִנְתִיבָתִי",highlightedWords:[{original:"נֵר",transliteration:"Ner",meaning:"lamp",position:0},{original:"דְבָרֶךָ",transliteration:"Devarecha",meaning:"Your word",position:1},{original:"אוֹר",transliteration:"Or",meaning:"light",position:2}]},{reference:"約書亞記 1:9",language:ge.HEBREW,translation:"Be strong and courageous. Do not be afraid.",originalText:"חֲזַק וֶאֱמָץ אַל־תַּעֲרֹץ וְאַל־תֵּחָת",highlightedWords:[{original:"חֲזַק",transliteration:"Chazaq",meaning:"Be strong",position:0},{original:"אֱמָץ",transliteration:"Ematz",meaning:"courageous",position:1},{original:"תַּעֲרֹץ",transliteration:"Ta'arotz",meaning:"be afraid",position:2}]},{reference:"但以理書 12:3",language:ge.HEBREW,translation:"Those who are wise will shine like the brightness of the heavens.",originalText:"וְהַמַּשְׂכִּלִים יַזְהִרוּ כְּזֹהַר הָרָקִיעַ",highlightedWords:[{original:"מַּשְׂכִּלִים",transliteration:"Maskilim",meaning:"wise ones",position:0},{original:"יַזְהִרוּ",transliteration:"Yazhiru",meaning:"will shine",position:1},{original:"רָקִיעַ",transliteration:"Raqi'a",meaning:"heavens/expanse",position:2}]},{reference:"馬太福音 5:3",language:ge.GREEK,translation:"Blessed are the poor in spirit, for theirs is the kingdom of heaven.",originalText:"Μακάριοι οἱ πτωχοὶ τῷ πνεύματι ὅτι αὐτῶν ἐστιν ἡ βασιλεία τῶν οὐρανῶν",highlightedWords:[{original:"Μακάριοι",transliteration:"Makarioi",meaning:"Blessed",position:0},{original:"πτωχοὶ",transliteration:"Ptochoi",meaning:"poor",position:1},{original:"πνεύματι",transliteration:"Pneumati",meaning:"in spirit",position:2},{original:"βασιλεία",transliteration:"Basileia",meaning:"kingdom",position:3}]},{reference:"馬太福音 6:9",language:ge.GREEK,translation:"Our Father in heaven, hallowed be your name.",originalText:"Πάτερ ἡμῶν ὁ ἐν τοῖς οὐρανοῖς ἁγιασθήτω τὸ ὄνομά σου",highlightedWords:[{original:"Πάτερ",transliteration:"Pater",meaning:"Father",position:0},{original:"ἁγιασθήτω",transliteration:"Hagiastheto",meaning:"hallowed be",position:1},{original:"ὄνομά",transliteration:"Onoma",meaning:"name",position:2}]},{reference:"馬太福音 28:19",language:ge.GREEK,translation:"Go and make disciples of all nations.",originalText:"πορευθέντες μαθητεύσατε πάντα τὰ ἔθνη",highlightedWords:[{original:"πορευθέντες",transliteration:"Poreuthentes",meaning:"Go",position:0},{original:"μαθητεύσατε",transliteration:"Matheteusate",meaning:"make disciples",position:1},{original:"ἔθνη",transliteration:"Ethne",meaning:"nations",position:2}]},{reference:"馬可福音 1:15",language:ge.GREEK,translation:"Repent and believe the good news.",originalText:"μετανοεῖτε καὶ πιστεύετε ἐν τῷ εὐαγγελίῳ",highlightedWords:[{original:"μετανοεῖτε",transliteration:"Metanoeite",meaning:"Repent",position:0},{original:"πιστεύετε",transliteration:"Pisteuete",meaning:"believe",position:1},{original:"εὐαγγελίῳ",transliteration:"Euangelio",meaning:"gospel/good news",position:2}]},{reference:"路加福音 2:11",language:ge.GREEK,translation:"Today in the town of David a Savior has been born to you; he is the Messiah, the Lord.",originalText:"ὅτι ἐτέχθη ὑμῖν σήμερον σωτὴρ ὅς ἐστιν χριστὸς κύριος",highlightedWords:[{original:"σωτὴρ",transliteration:"Soter",meaning:"Savior",position:0},{original:"χριστὸς",transliteration:"Christos",meaning:"Christ/Messiah",position:1},{original:"κύριος",transliteration:"Kyrios",meaning:"Lord",position:2}]},{reference:"約翰福音 14:6",language:ge.GREEK,translation:"I am the way and the truth and the life.",originalText:"ἐγώ εἰμι ἡ ὁδὸς καὶ ἡ ἀλήθεια καὶ ἡ ζωή",highlightedWords:[{original:"ὁδὸς",transliteration:"Hodos",meaning:"way",position:0},{original:"ἀλήθεια",transliteration:"Aletheia",meaning:"truth",position:1},{original:"ζωή",transliteration:"Zoe",meaning:"life",position:2}]},{reference:"使徒行傳 2:38",language:ge.GREEK,translation:"Repent and be baptized, every one of you, in the name of Jesus Christ.",originalText:"μετανοήσατε καὶ βαπτισθήτω ἕκαστος ὑμῶν ἐπὶ τῷ ὀνόματι Ἰησοῦ Χριστοῦ",highlightedWords:[{original:"μετανοήσατε",transliteration:"Metanoesate",meaning:"Repent",position:0},{original:"βαπτισθήτω",transliteration:"Baptistheto",meaning:"be baptized",position:1},{original:"ὀνόματι",transliteration:"Onomati",meaning:"name",position:2}]},{reference:"羅馬書 3:23",language:ge.GREEK,translation:"For all have sinned and fall short of the glory of God.",originalText:"πάντες γὰρ ἥμαρτον καὶ ὑστεροῦνται τῆς δόξης τοῦ θεοῦ",highlightedWords:[{original:"ἥμαρτον",transliteration:"Hemarton",meaning:"have sinned",position:0},{original:"δόξης",transliteration:"Doxes",meaning:"glory",position:1}]},{reference:"羅馬書 6:23",language:ge.GREEK,translation:"For the wages of sin is death, but the gift of God is eternal life.",originalText:"τὰ γὰρ ὀψώνια τῆς ἁμαρτίας θάνατος τὸ δὲ χάρισμα τοῦ θεοῦ ζωὴ αἰώνιος",highlightedWords:[{original:"ἁμαρτίας",transliteration:"Hamartias",meaning:"sin",position:0},{original:"θάνατος",transliteration:"Thanatos",meaning:"death",position:1},{original:"χάρισμα",transliteration:"Charisma",meaning:"gift",position:2},{original:"αἰώνιος",transliteration:"Aionios",meaning:"eternal",position:3}]},{reference:"羅馬書 8:28",language:ge.GREEK,translation:"And we know that in all things God works for the good of those who love him.",originalText:"οἴδαμεν δὲ ὅτι τοῖς ἀγαπῶσιν τὸν θεὸν πάντα συνεργεῖ εἰς ἀγαθόν",highlightedWords:[{original:"ἀγαπῶσιν",transliteration:"Agaposin",meaning:"love",position:0},{original:"συνεργεῖ",transliteration:"Synergei",meaning:"works together",position:1},{original:"ἀγαθόν",transliteration:"Agathon",meaning:"good",position:2}]},{reference:"哥林多前書 10:13",language:ge.GREEK,translation:"God is faithful; he will not let you be tempted beyond what you can bear.",originalText:"πιστὸς δὲ ὁ θεός ὃς οὐκ ἐάσει ὑμᾶς πειρασθῆναι ὑπὲρ ὃ δύνασθε",highlightedWords:[{original:"πιστὸς",transliteration:"Pistos",meaning:"faithful",position:0},{original:"πειρασθῆναι",transliteration:"Peirasthenai",meaning:"to be tempted",position:1},{original:"δύνασθε",transliteration:"Dynasthe",meaning:"you are able",position:2}]},{reference:"加拉太書 5:22-23",language:ge.GREEK,translation:"But the fruit of the Spirit is love, joy, peace.",originalText:"ὁ δὲ καρπὸς τοῦ πνεύματός ἐστιν ἀγάπη χαρὰ εἰρήνη",highlightedWords:[{original:"καρπὸς",transliteration:"Karpos",meaning:"fruit",position:0},{original:"χαρὰ",transliteration:"Chara",meaning:"joy",position:1},{original:"εἰρήνη",transliteration:"Eirene",meaning:"peace",position:2}]},{reference:"以弗所書 2:8-9",language:ge.GREEK,translation:"For it is by grace you have been saved, through faith.",originalText:"τῇ γὰρ χάριτί ἐστε σεσῳσμένοι διὰ πίστεως",highlightedWords:[{original:"χάριτί",transliteration:"Chariti",meaning:"grace",position:0},{original:"σεσῳσμένοι",transliteration:"Sesosmenoi",meaning:"saved",position:1},{original:"πίστεως",transliteration:"Pisteos",meaning:"faith",position:2}]},{reference:"腓立比書 4:4",language:ge.GREEK,translation:"Rejoice in the Lord always. I will say it again: Rejoice!",originalText:"χαίρετε ἐν κυρίῳ πάντοτε πάλιν ἐρῶ χαίρετε",highlightedWords:[{original:"χαίρετε",transliteration:"Chairete",meaning:"Rejoice",position:0},{original:"κυρίῳ",transliteration:"Kyrio",meaning:"Lord",position:1},{original:"πάντοτε",transliteration:"Pantote",meaning:"always",position:2}]},{reference:"歌羅西書 3:23",language:ge.GREEK,translation:"Whatever you do, work at it with all your heart, as working for the Lord.",originalText:"ὃ ἐὰν ποιῆτε ἐκ ψυχῆς ἐργάζεσθε ὡς τῷ κυρίῳ",highlightedWords:[{original:"ψυχῆς",transliteration:"Psyches",meaning:"soul/heart",position:0},{original:"ἐργάζεσθε",transliteration:"Ergazesthe",meaning:"work",position:1}]},{reference:"帖撒羅尼迦前書 5:16-18",language:ge.GREEK,translation:"Rejoice always, pray continually, give thanks in all circumstances.",originalText:"πάντοτε χαίρετε ἀδιαλείπτως προσεύχεσθε ἐν παντὶ εὐχαριστεῖτε",highlightedWords:[{original:"ἀδιαλείπτως",transliteration:"Adialeiptos",meaning:"continually/unceasingly",position:0},{original:"προσεύχεσθε",transliteration:"Proseuchesthe",meaning:"pray",position:1},{original:"εὐχαριστεῖτε",transliteration:"Eucharistei",meaning:"give thanks",position:2}]},{reference:"提摩太後書 3:16",language:ge.GREEK,translation:"All Scripture is God-breathed and is useful for teaching.",originalText:"πᾶσα γραφὴ θεόπνευστος καὶ ὠφέλιμος πρὸς διδασκαλίαν",highlightedWords:[{original:"γραφὴ",transliteration:"Graphe",meaning:"Scripture",position:0},{original:"θεόπνευστος",transliteration:"Theopneustos",meaning:"God-breathed",position:1},{original:"διδασκαλίαν",transliteration:"Didaskalian",meaning:"teaching",position:2}]},{reference:"希伯來書 11:1",language:ge.GREEK,translation:"Now faith is confidence in what we hope for.",originalText:"ἔστιν δὲ πίστις ἐλπιζομένων ὑπόστασις",highlightedWords:[{original:"πίστις",transliteration:"Pistis",meaning:"faith",position:0},{original:"ἐλπιζομένων",transliteration:"Elpizomenon",meaning:"things hoped for",position:1},{original:"ὑπόστασις",transliteration:"Hypostasis",meaning:"confidence/assurance",position:2}]},{reference:"雅各書 1:22",language:ge.GREEK,translation:"Do not merely listen to the word, and so deceive yourselves. Do what it says.",originalText:"γίνεσθε δὲ ποιηταὶ λόγου καὶ μὴ μόνον ἀκροαταί",highlightedWords:[{original:"ποιηταὶ",transliteration:"Poietai",meaning:"doers",position:0},{original:"λόγου",transliteration:"Logou",meaning:"word",position:1},{original:"ἀκροαταί",transliteration:"Akroatai",meaning:"hearers",position:2}]},{reference:"彼得前書 5:7",language:ge.GREEK,translation:"Cast all your anxiety on him because he cares for you.",originalText:"πᾶσαν τὴν μέριμναν ὑμῶν ἐπιρίψαντες ἐπ αὐτόν ὅτι αὐτῷ μέλει περὶ ὑμῶν",highlightedWords:[{original:"μέριμναν",transliteration:"Merimnan",meaning:"anxiety/care",position:0},{original:"ἐπιρίψαντες",transliteration:"Epiripsantes",meaning:"casting",position:1},{original:"μέλει",transliteration:"Melei",meaning:"cares",position:2}]},{reference:"約翰一書 4:8",language:ge.GREEK,translation:"Whoever does not love does not know God, because God is love.",originalText:"ὁ μὴ ἀγαπῶν οὐκ ἔγνω τὸν θεόν ὅτι ὁ θεὸς ἀγάπη ἐστίν",highlightedWords:[{original:"ἀγαπῶν",transliteration:"Agapon",meaning:"loving",position:0},{original:"ἔγνω",transliteration:"Egno",meaning:"knows",position:1},{original:"ἀγάπη",transliteration:"Agape",meaning:"love",position:2}]},{reference:"啟示錄 3:20",language:ge.GREEK,translation:"Here I am! I stand at the door and knock.",originalText:"ἰδοὺ ἕστηκα ἐπὶ τὴν θύραν καὶ κρούω",highlightedWords:[{original:"ἕστηκα",transliteration:"Hesteka",meaning:"I stand",position:0},{original:"θύραν",transliteration:"Thyran",meaning:"door",position:1},{original:"κρούω",transliteration:"Krouo",meaning:"I knock",position:2}]},{reference:"啟示錄 21:4",language:ge.GREEK,translation:"He will wipe every tear from their eyes.",originalText:"καὶ ἐξαλείψει πᾶν δάκρυον ἐκ τῶν ὀφθαλμῶν αὐτῶν",highlightedWords:[{original:"ἐξαλείψει",transliteration:"Exaleipsei",meaning:"will wipe away",position:0},{original:"δάκρυον",transliteration:"Dakryon",meaning:"tear",position:1},{original:"ὀφθαλμῶν",transliteration:"Ophthalmon",meaning:"eyes",position:2}]}],gI=e=>mI.filter(t=>t.language===e),yI=({language:e,onSelectVerse:t,onBack:i})=>{const[a,s]=H.useState(""),[l,c]=H.useState("all"),f=gI(e),p=e===ge.HEBREW?"希伯來文經文":"希臘文經文",h=e===ge.HEBREW?"舊約聖經":"新約聖經",g=H.useMemo(()=>{const S=new Set(f.map(C=>{const E=C.reference.split(" ");return E[0]&&!isNaN(parseInt(E[0]))&&E.length>1?`${E[0]} ${E[1]}`:E[0]}));return["all",...Array.from(S)]},[f]),b=H.useMemo(()=>f.filter(S=>{const C=S.reference.toLowerCase().includes(a.toLowerCase())||S.translation.toLowerCase().includes(a.toLowerCase())||S.highlightedWords.some(R=>R.original.includes(a)||R.transliteration.toLowerCase().includes(a.toLowerCase())||R.meaning.toLowerCase().includes(a.toLowerCase())),E=l==="all"||S.reference.startsWith(l);return C&&E}),[f,a,l]),w={all:"全部經卷",Genesis:"創世記",出埃及記:"出埃及記",Exodus:"出埃及記",Psalm:"詩篇",箴言:"箴言",Proverbs:"箴言",傳道書:"傳道書",Ecclesiastes:"傳道書",Isaiah:"以賽亞書",耶利米書:"耶利米書",Jeremiah:"耶利米書",彌迦書:"彌迦書",Micah:"彌迦書",耶利米哀歌:"耶利米哀歌",Lamentations:"耶利米哀歌",瑪拉基書:"瑪拉基書",Malachi:"瑪拉基書",民數記:"民數記",Numbers:"民數記","1 Chronicles":"歷代志上",Chronicles:"歷代志",約書亞記:"約書亞記",Joshua:"約書亞記",但以理書:"但以理書",Daniel:"但以理書",Deuteronomy:"申命記",Matthew:"馬太福音",Mark:"馬可福音",Luke:"路加福音",John:"約翰福音",Acts:"使徒行傳",Romans:"羅馬書","1 Corinthians":"哥林多前書",Galatians:"加拉太書",Ephesians:"以弗所書",Philippians:"腓立比書",Colossians:"歌羅西書","1 Thessalonians":"帖撒羅尼迦前書","2 Timothy":"提摩太後書",Hebrews:"希伯來書",James:"雅各書","1 Peter":"彼得前書","1 John":"約翰一書",Revelation:"啟示錄"};return d.jsxs("div",{className:"w-full max-w-4xl p-6 animate-fade-in",children:[d.jsx("button",{onClick:i,className:"mb-6 text-sm text-stone-500 hover:text-sky-600 transition-colors",children:"← 返回練習模式"}),d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h2",{className:"text-4xl font-bold text-sky-800 dark:text-sky-300 mb-2",children:p}),d.jsx("p",{className:"text-lg text-stone-600 dark:text-stone-400",children:h})]}),d.jsxs("div",{className:"mb-6 space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Eo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-stone-400"}),d.jsx("input",{type:"text",value:a,onChange:S=>s(S.target.value),placeholder:"搜尋經文、詞彙或翻譯...",className:"w-full pl-10 pr-4 py-3 bg-white dark:bg-stone-800 border border-stone-300 dark:border-stone-600 rounded-xl focus:ring-2 focus:ring-sky-500 focus:border-transparent outline-none transition-all"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Tx,{className:"w-5 h-5 text-stone-500"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(S=>d.jsx("button",{onClick:()=>c(S),className:`px-4 py-2 rounded-lg font-medium transition-all ${l===S?"bg-sky-600 text-white shadow-md":"bg-stone-200 dark:bg-stone-700 text-stone-700 dark:text-stone-300 hover:bg-stone-300 dark:hover:bg-stone-600"}`,children:w[S]||S},S))})]}),d.jsxs("p",{className:"text-sm text-stone-500 dark:text-stone-400",children:["找到 ",b.length," 個經文"]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.length===0?d.jsxs("div",{className:"col-span-2 text-center py-12",children:[d.jsx("p",{className:"text-lg text-stone-500 dark:text-stone-400 mb-2",children:"沒有找到符合條件的經文"}),d.jsx("p",{className:"text-sm text-stone-400 dark:text-stone-500",children:"請嘗試其他搜尋條件"})]}):b.map(S=>d.jsx("button",{onClick:()=>t(S),className:"group p-6 bg-white dark:bg-stone-800 rounded-xl shadow-md hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 text-left border-2 border-transparent hover:border-sky-500",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"p-2 bg-sky-100 dark:bg-sky-900/30 rounded-lg group-hover:bg-sky-200 dark:group-hover:bg-sky-800/50 transition-colors",children:d.jsx(af,{className:"w-5 h-5 text-sky-600 dark:text-sky-400"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-lg font-semibold text-sky-900 dark:text-sky-200 mb-2",children:S.reference}),d.jsx("p",{className:"text-sm text-stone-600 dark:text-stone-400 line-clamp-2",children:S.translation}),d.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[S.highlightedWords.slice(0,3).map((C,E)=>d.jsx("span",{className:"px-2 py-1 bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300 text-xs rounded-md font-medium",children:C.original},E)),S.highlightedWords.length>3&&d.jsxs("span",{className:"px-2 py-1 text-stone-500 dark:text-stone-400 text-xs",children:["+",S.highlightedWords.length-3," more"]})]})]})]})},S.reference))})]})},xI=({verse:e,onBack:t})=>{const[i,a]=H.useState(null),[s,l]=H.useState(null),[c,f]=H.useState(!1),p=b=>{if(!("speechSynthesis"in window)){console.error("Speech synthesis not supported");return}l(b.original);const w=new SpeechSynthesisUtterance(b.transliteration);w.lang=e.language==="Hebrew"?"he-IL":"el-GR",w.rate=.7,w.pitch=1,w.onend=()=>{l(null)},w.onerror=()=>{l(null)},window.speechSynthesis.cancel(),window.speechSynthesis.speak(w)},h=()=>{if(!("speechSynthesis"in window)){console.error("Speech synthesis not supported");return}if(!e.originalText){console.error("No original text available");return}f(!0),window.speechSynthesis.cancel();const b=new SpeechSynthesisUtterance(e.originalText);b.lang=e.language==="Hebrew"?"he-IL":"el-GR",b.rate=.6,b.pitch=1,b.volume=1,b.onend=()=>{f(!1)},b.onerror=()=>{f(!1)},window.speechSynthesis.speak(b)},g=()=>{window.speechSynthesis.cancel(),f(!1)};return d.jsxs("div",{className:"w-full max-w-5xl p-6 animate-fade-in-up",children:[d.jsxs("button",{onClick:t,className:"mb-6 text-sm text-stone-500 hover:text-sky-600 transition-colors flex items-center gap-2",children:[d.jsx(ha,{className:"w-4 h-4"}),"返回經文列表"]}),d.jsx("div",{className:"mb-8 text-center",children:d.jsxs("div",{className:"inline-flex items-center gap-3 mb-3 px-6 py-3 bg-sky-100 dark:bg-sky-900/30 rounded-full",children:[d.jsx(af,{className:"w-5 h-5 text-sky-600 dark:text-sky-400"}),d.jsx("h2",{className:"text-2xl font-bold text-sky-800 dark:text-sky-300",children:e.reference})]})}),d.jsxs("div",{className:"mb-8 p-6 bg-white dark:bg-stone-800 rounded-2xl shadow-lg",children:[d.jsx("h3",{className:"text-sm font-semibold text-stone-500 dark:text-stone-400 mb-3 uppercase tracking-wide",children:"英文翻譯"}),d.jsxs("p",{className:"text-xl text-stone-700 dark:text-stone-200 leading-relaxed italic",children:['"',e.translation,'"']})]}),e.originalText&&d.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-2xl shadow-lg",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-sm font-semibold text-amber-700 dark:text-amber-400 uppercase tracking-wide",children:"原文經文"}),d.jsxs("button",{onClick:c?g:h,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-semibold transition-all ${c?"bg-red-600 hover:bg-red-700 text-white":"bg-amber-600 hover:bg-amber-700 text-white"}`,children:[d.jsx(ra,{className:`w-5 h-5 ${c?"animate-pulse":""}`}),d.jsx("span",{className:"text-sm",children:c?"停止朗讀":"朗讀整段經文"})]})]}),d.jsx("p",{className:"text-3xl md:text-4xl text-amber-900 dark:text-amber-200 leading-relaxed font-serif",dir:e.language==="Hebrew"?"rtl":"ltr",children:e.originalText}),d.jsxs("div",{className:"mt-3 text-xs text-amber-700 dark:text-amber-400 italic",children:[e.language==="Hebrew"?"希伯來語朗讀":"希臘語朗讀"," · 點擊上方按鈕聆聽完整經文發音"]})]}),d.jsxs("div",{className:"mb-8",children:[d.jsx("h3",{className:"text-lg font-bold text-sky-800 dark:text-sky-300 mb-4",children:"重點詞彙學習"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.highlightedWords.map((b,w)=>d.jsxs("button",{onClick:()=>{a(b),p(b)},className:`group p-5 rounded-xl transition-all duration-300 border-2 text-left ${(i==null?void 0:i.original)===b.original?"bg-sky-100 dark:bg-sky-900/50 border-sky-500 shadow-lg scale-105":"bg-white dark:bg-stone-800 border-stone-200 dark:border-stone-700 hover:border-sky-400 hover:shadow-md"}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsx("div",{className:"text-3xl font-serif text-sky-900 dark:text-sky-200",dir:e.language==="Hebrew"?"rtl":"ltr",children:b.original}),d.jsx("button",{onClick:S=>{S.stopPropagation(),p(b)},className:`p-2 rounded-full transition-colors ${s===b.original?"bg-sky-500 text-white":"bg-sky-100 dark:bg-sky-900/30 text-sky-600 dark:text-sky-400 hover:bg-sky-200 dark:hover:bg-sky-800/50"}`,children:d.jsx(ra,{className:`w-4 h-4 ${s===b.original?"animate-pulse":""}`})})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-lg font-medium text-stone-700 dark:text-stone-300",children:b.transliteration}),d.jsx("p",{className:"text-sm text-stone-600 dark:text-stone-400",children:b.meaning})]})]},w))})]}),i&&d.jsxs("div",{className:"p-6 bg-gradient-to-r from-sky-500 to-indigo-600 rounded-2xl shadow-xl text-white animate-fade-in",children:[d.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide mb-3 opacity-90",children:"當前選擇的詞彙"}),d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsx("div",{className:"text-6xl font-serif",dir:e.language==="Hebrew"?"rtl":"ltr",children:i.original}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-2xl font-bold mb-1",children:i.transliteration}),d.jsx("p",{className:"text-lg opacity-90",children:i.meaning})]}),d.jsx("button",{onClick:()=>p(i),className:"p-4 bg-white/20 hover:bg-white/30 rounded-full transition-colors",children:d.jsx(ra,{className:"w-8 h-8"})})]})]})]})},vI="AIzaSyDcN6U-3ferwZqCG-r93GR2kpKpC9U1SA4",bI=new Li({apiKey:vI}),wI=async(e,t,i)=>{try{const a="gemini-2.0-flash-exp",s=`You are an expert biblical language pronunciation coach specializing in ${e.language} (${e.language==="Hebrew"?"Biblical Hebrew":"Koine Greek"}).

The student is attempting to pronounce the word:
- Original: ${e.word}
- Transliteration: ${e.transliteration}
- Meaning: ${e.meanings.join(", ")}
- Part of Speech: ${e.partOfSpeech}
${e.grammaticalNotes?`- Grammar Notes: ${e.grammaticalNotes}`:""}

Please analyze their pronunciation and respond in JSON format with:
{
  "isCorrect": true/false (true if pronunciation is good enough, false if needs improvement),
  "score": 0-100 (0 = completely wrong, 100 = perfect),
  "feedback": "Brief encouraging feedback in Traditional Chinese (2-3 sentences)",
  "suggestions": "If not perfect, specific suggestions for improvement in Traditional Chinese (optional)"
}

Be encouraging but honest. Consider:
- Correct consonant sounds
- Correct vowel sounds
- Proper stress/emphasis
- Overall fluency

Respond ONLY with valid JSON, no other text.`,l={inlineData:{data:t,mimeType:i}},c={text:s},f=await bI.models.generateContent({model:a,contents:{parts:[c,l]},config:{responseMimeType:"application/json"}}),p=JSON.parse(f.text);return{isCorrect:p.isCorrect||!1,score:p.score||0,feedback:p.feedback||"無法分析發音",suggestions:p.suggestions}}catch(a){return console.error("Error getting pronunciation feedback from Gemini:",a),{isCorrect:!1,score:0,feedback:"抱歉，無法分析您的發音。請重試。",suggestions:void 0}}},SI=({card:e,onRate:t,showRating:i=!0})=>{const[a,s]=H.useState(!1),[l,c]=H.useState("idle"),[f,p]=H.useState(null),h=H.useRef(null),g=H.useRef([]),b=A=>new Promise((D,q)=>{const M=new FileReader;M.onloadend=()=>{if(typeof M.result!="string")return q(new Error("File could not be read as a string."));const I=M.result.split(",")[1];D(I)},M.onerror=q,M.readAsDataURL(A)}),w=()=>{l==="idle"&&s(!a)},S=A=>{const D=f==null?void 0:f.score;t(A,D),s(!1),c("idle"),p(null)},C=H.useCallback(async()=>{try{const A=await navigator.mediaDevices.getUserMedia({audio:!0});p(null),c("recording");const D=new MediaRecorder(A);h.current=D,g.current=[],D.ondataavailable=q=>{g.current.push(q.data)},D.onstop=async()=>{c("processing");const q=new Blob(g.current,{type:D.mimeType});try{const M=await b(q),V=await wI(e,M,D.mimeType);p(V),c("feedback")}catch(M){console.error("Error getting pronunciation feedback:",M),p({isCorrect:!1,score:0,feedback:"無法分析發音，請重試。"}),c("feedback")}A.getTracks().forEach(M=>M.stop())},D.start()}catch(A){console.error("Error accessing microphone:",A),alert("需要麥克風權限才能練習發音。請在瀏覽器設定中啟用麥克風。"),c("idle")}},[e]),E=H.useCallback(()=>{h.current&&h.current.state==="recording"&&h.current.stop()},[]),R=()=>{l==="recording"?E():l==="idle"&&C()};return d.jsxs("div",{className:"w-full max-w-2xl mx-auto",children:[d.jsx("div",{className:"relative w-full h-96 cursor-pointer",style:{perspective:"1000px"},onClick:w,children:d.jsxs("div",{className:"relative w-full h-full transition-transform duration-500",style:{transformStyle:"preserve-3d",transform:a?"rotateY(180deg)":"rotateY(0deg)"},children:[d.jsx("div",{className:`absolute w-full h-full bg-gradient-to-br from-amber-50 to-amber-100 border-4 border-amber-600 rounded-2xl shadow-2xl flex flex-col items-center justify-center p-8 ${a?"invisible":"visible"}`,style:{backfaceVisibility:"hidden"},children:d.jsxs("div",{className:"text-center space-y-6",children:[d.jsx("div",{className:"flex justify-center",children:d.jsx("span",{className:`px-4 py-1 rounded-full text-sm font-semibold ${e.language==="Hebrew"?"bg-blue-600 text-white":"bg-green-600 text-white"}`,children:e.language})}),d.jsx("div",{className:`text-6xl font-bold ${e.language==="Hebrew"?"font-hebrew":"font-greek"}`,dir:e.language==="Hebrew"?"rtl":"ltr",children:e.word}),d.jsx("div",{className:"text-2xl text-gray-600 italic",children:e.transliteration}),d.jsx("div",{className:"text-sm text-gray-500 uppercase tracking-wider",children:e.partOfSpeech}),d.jsxs("div",{className:"pt-8 border-t border-amber-300 w-full",children:[d.jsx("div",{className:"text-sm text-amber-700 font-semibold mb-3",children:"發音練習"}),d.jsxs("button",{onClick:A=>{A.stopPropagation(),R()},disabled:l==="processing",className:`w-full py-3 rounded-lg font-bold transition-all ${l==="recording"?"bg-red-500 hover:bg-red-600 text-white animate-pulse":l==="processing"?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 text-white"}`,children:[l==="recording"&&"🎤 錄音中... (點擊停止)",l==="processing"&&"⏳ AI 分析中...",l==="idle"&&"🎤 開始錄音",l==="feedback"&&"🎤 再試一次"]}),f&&l==="feedback"&&d.jsxs("div",{className:`mt-4 p-4 rounded-lg border-2 ${f.isCorrect?"bg-green-50 border-green-400":"bg-orange-50 border-orange-400"}`,onClick:A=>A.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-lg font-bold",children:f.isCorrect?"✅ 很好！":"📝 需要改進"}),d.jsxs("span",{className:"text-2xl font-bold text-gray-700",children:[f.score,"/100"]})]}),d.jsx("div",{className:"text-sm text-gray-700 mb-2",children:f.feedback}),f.suggestions&&d.jsxs("div",{className:"text-xs text-gray-600 bg-white/50 p-2 rounded mt-2",children:["💡 ",f.suggestions]})]})]}),d.jsxs("div",{className:"pt-4 text-amber-600 text-xs",children:[l==="idle"&&"點擊翻轉查看答案",l==="feedback"&&"錄音完成後點擊翻轉查看詳細資料"]})]})}),d.jsxs("div",{className:`absolute w-full h-full bg-gradient-to-br from-indigo-50 to-indigo-100 border-4 border-indigo-600 rounded-2xl shadow-2xl flex flex-col p-6 overflow-y-auto ${a?"visible":"invisible"}`,style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:[d.jsxs("div",{className:"text-center mb-4",children:[d.jsx("div",{className:`text-3xl font-bold mb-2 ${e.language==="Hebrew"?"font-hebrew":"font-greek"}`,dir:e.language==="Hebrew"?"rtl":"ltr",children:e.word}),d.jsx("div",{className:"text-lg text-gray-600 italic",children:e.transliteration})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"意思"}),d.jsx("div",{className:"space-y-1",children:e.meanings.map((A,D)=>d.jsxs("div",{className:"text-lg",children:["• ",A]},D))})]}),e.grammaticalNotes&&d.jsxs("div",{className:"mb-4 bg-white/50 p-3 rounded-lg",children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"語法筆記"}),d.jsx("p",{className:"text-sm text-gray-700",children:e.grammaticalNotes})]}),e.examples.length>0&&d.jsxs("div",{className:"mb-4 bg-white/50 p-3 rounded-lg",children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"聖經例句"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"text-xs text-amber-700 font-semibold",children:e.examples[0].reference}),d.jsx("div",{className:`text-base ${e.language==="Hebrew"?"font-hebrew":"font-greek"}`,dir:e.language==="Hebrew"?"rtl":"ltr",children:e.examples[0].text}),d.jsx("div",{className:"text-sm text-gray-600 italic",children:e.examples[0].translation})]})]}),d.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-auto pt-2",children:[d.jsxs("span",{children:["出現次數: ",e.frequency,"次"]}),d.jsxs("span",{children:["課程章節: ",e.chapter]})]})]})]})}),i&&a&&d.jsxs("div",{className:"mt-6 grid grid-cols-4 gap-4",children:[d.jsxs("button",{onClick:A=>{A.stopPropagation(),S("again")},className:"flex flex-col items-center justify-center p-4 bg-red-100 hover:bg-red-200 border-2 border-red-400 rounded-lg transition-colors",children:[d.jsx("span",{className:"text-2xl mb-1",children:"😰"}),d.jsx("span",{className:"text-sm font-semibold text-red-700",children:"再次"}),d.jsx("span",{className:"text-xs text-red-600",children:"< 1天"})]}),d.jsxs("button",{onClick:A=>{A.stopPropagation(),S("hard")},className:"flex flex-col items-center justify-center p-4 bg-orange-100 hover:bg-orange-200 border-2 border-orange-400 rounded-lg transition-colors",children:[d.jsx("span",{className:"text-2xl mb-1",children:"😅"}),d.jsx("span",{className:"text-sm font-semibold text-orange-700",children:"困難"}),d.jsx("span",{className:"text-xs text-orange-600",children:"3天"})]}),d.jsxs("button",{onClick:A=>{A.stopPropagation(),S("good")},className:"flex flex-col items-center justify-center p-4 bg-green-100 hover:bg-green-200 border-2 border-green-400 rounded-lg transition-colors",children:[d.jsx("span",{className:"text-2xl mb-1",children:"😊"}),d.jsx("span",{className:"text-sm font-semibold text-green-700",children:"良好"}),d.jsx("span",{className:"text-xs text-green-600",children:"7天"})]}),d.jsxs("button",{onClick:A=>{A.stopPropagation(),S("easy")},className:"flex flex-col items-center justify-center p-4 bg-blue-100 hover:bg-blue-200 border-2 border-blue-400 rounded-lg transition-colors",children:[d.jsx("span",{className:"text-2xl mb-1",children:"😎"}),d.jsx("span",{className:"text-sm font-semibold text-blue-700",children:"容易"}),d.jsx("span",{className:"text-xs text-blue-600",children:"14天"})]})]}),!a&&l==="idle"&&d.jsx("div",{className:"mt-4 text-center text-gray-500 text-sm",children:"先練習發音，然後翻轉卡片查看意思和詳細資料"}),!a&&l==="feedback"&&f&&d.jsxs("div",{className:"mt-4 text-center space-y-2",children:[d.jsxs("div",{className:"text-sm text-gray-600",children:["發音分數: ",d.jsxs("span",{className:"font-bold text-lg",children:[f.score,"/100"]})]}),d.jsx("div",{className:"text-xs text-gray-500",children:"現在翻轉卡片查看詞彙意思，然後評估你的整體掌握程度"})]})]})},jv=[{id:"heb_001",language:"Hebrew",word:"אֱלֹהִים",transliteration:"Elohim",partOfSpeech:"noun",meanings:["God","gods"],frequency:2602,chapter:1,examples:[{reference:"Genesis 1:1",text:"בְּרֵאשִׁית בָּרָא אֱלֹהִים",translation:"In the beginning God created"}],grammaticalNotes:"Masculine plural form, but treated as singular when referring to the one true God"},{id:"heb_002",language:"Hebrew",word:"יהוה",transliteration:"YHWH / Yahweh",partOfSpeech:"noun",meanings:["LORD","Yahweh"],frequency:6828,chapter:1,examples:[{reference:"Genesis 2:4",text:"יְהוָה אֱלֹהִים",translation:"the LORD God"}],grammaticalNotes:"The covenant name of God, tetragrammaton (YHWH)"},{id:"heb_003",language:"Hebrew",word:"אָדָם",transliteration:"Adam",partOfSpeech:"noun",meanings:["man","mankind","Adam"],frequency:562,chapter:1,examples:[{reference:"Genesis 1:27",text:"וַיִּבְרָא אֱלֹהִים אֶת־הָאָדָם",translation:"And God created the man"}],grammaticalNotes:"Can mean individual person or humanity collectively"},{id:"heb_004",language:"Hebrew",word:"אֶרֶץ",transliteration:"Eretz",partOfSpeech:"noun",meanings:["land","earth","ground"],frequency:2505,chapter:1,examples:[{reference:"Genesis 1:1",text:"אֵת הַשָּׁמַיִם וְאֵת הָאָרֶץ",translation:"the heavens and the earth"}],grammaticalNotes:"Feminine singular noun"},{id:"heb_005",language:"Hebrew",word:"שָׁמַיִם",transliteration:"Shamayim",partOfSpeech:"noun",meanings:["heavens","sky"],frequency:421,chapter:1,examples:[{reference:"Genesis 1:1",text:"בָּרָא אֱלֹהִים אֵת הַשָּׁמַיִם",translation:"God created the heavens"}],grammaticalNotes:"Masculine plural (dual) form, always plural"},{id:"heb_006",language:"Hebrew",word:"בַּיִת",transliteration:"Bayit",partOfSpeech:"noun",meanings:["house","household","temple"],frequency:2047,chapter:2,examples:[{reference:"Genesis 12:1",text:"מִבֵּיתְךָ",translation:"from your house"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_007",language:"Hebrew",word:"בֵּן",transliteration:"Ben",partOfSpeech:"noun",meanings:["son","child"],frequency:4941,chapter:2,examples:[{reference:"Genesis 4:17",text:"וַתֵּלֶד אֶת־בֶּן",translation:"and she bore a son"}],grammaticalNotes:"Masculine singular noun, plural: בָּנִים (banim)"},{id:"heb_008",language:"Hebrew",word:"בַּת",transliteration:"Bat",partOfSpeech:"noun",meanings:["daughter"],frequency:587,chapter:2,examples:[{reference:"Genesis 6:2",text:"בְּנוֹת הָאָדָם",translation:"daughters of man"}],grammaticalNotes:"Feminine singular noun, plural: בָּנוֹת (banot)"},{id:"heb_009",language:"Hebrew",word:"יוֹם",transliteration:"Yom",partOfSpeech:"noun",meanings:["day","time"],frequency:2304,chapter:2,examples:[{reference:"Genesis 1:5",text:"וַיִּקְרָא אֱלֹהִים לָאוֹר יוֹם",translation:"And God called the light day"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_010",language:"Hebrew",word:"לַיְלָה",transliteration:"Laylah",partOfSpeech:"noun",meanings:["night"],frequency:234,chapter:2,examples:[{reference:"Genesis 1:5",text:"וְלַחֹשֶׁךְ קָרָא לָיְלָה",translation:"and the darkness He called night"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_011",language:"Hebrew",word:"אָמַר",transliteration:"Amar",partOfSpeech:"verb",meanings:["to say","to speak"],frequency:5316,chapter:3,examples:[{reference:"Genesis 1:3",text:"וַיֹּאמֶר אֱלֹהִים",translation:"And God said"}],grammaticalNotes:"Qal perfect 3ms: אָמַר, Qal imperfect 3ms: יֹאמַר"},{id:"heb_012",language:"Hebrew",word:"עָשָׂה",transliteration:"Asah",partOfSpeech:"verb",meanings:["to do","to make"],frequency:2632,chapter:3,examples:[{reference:"Genesis 1:7",text:"וַיַּעַשׂ אֱלֹהִים",translation:"And God made"}],grammaticalNotes:"Qal perfect 3ms: עָשָׂה, Qal imperfect 3ms: יַעֲשֶׂה"},{id:"heb_013",language:"Hebrew",word:"בָּרָא",transliteration:"Bara",partOfSpeech:"verb",meanings:["to create"],frequency:54,chapter:3,examples:[{reference:"Genesis 1:1",text:"בָּרָא אֱלֹהִים",translation:"God created"}],grammaticalNotes:"Used exclusively with God as subject in Qal stem"},{id:"heb_014",language:"Hebrew",word:"הָלַךְ",transliteration:"Halakh",partOfSpeech:"verb",meanings:["to walk","to go"],frequency:1554,chapter:3,examples:[{reference:"Genesis 3:8",text:"מִתְהַלֵּךְ בַּגָּן",translation:"walking in the garden"}],grammaticalNotes:"Qal perfect 3ms: הָלַךְ, Qal imperfect 3ms: יֵלֵךְ"},{id:"heb_015",language:"Hebrew",word:"בּוֹא",transliteration:"Bo",partOfSpeech:"verb",meanings:["to come","to enter"],frequency:2592,chapter:4,examples:[{reference:"Genesis 6:18",text:"וּבָאתָ אֶל־הַתֵּבָה",translation:"and you shall come into the ark"}],grammaticalNotes:"Qal perfect 3ms: בָּא, Qal imperfect 3ms: יָבוֹא"},{id:"heb_016",language:"Hebrew",word:"יָצָא",transliteration:"Yatsa",partOfSpeech:"verb",meanings:["to go out","to come out"],frequency:1076,chapter:4,examples:[{reference:"Genesis 2:10",text:"וְנָהָר יֹצֵא מֵעֵדֶן",translation:"and a river went out from Eden"}],grammaticalNotes:"Qal perfect 3ms: יָצָא, Qal imperfect 3ms: יֵצֵא"},{id:"heb_017",language:"Hebrew",word:"נָתַן",transliteration:"Natan",partOfSpeech:"verb",meanings:["to give","to put","to set"],frequency:2014,chapter:4,examples:[{reference:"Genesis 1:17",text:"וַיִּתֵּן אֹתָם אֱלֹהִים",translation:"And God set them"}],grammaticalNotes:"Qal perfect 3ms: נָתַן, Qal imperfect 3ms: יִתֵּן"},{id:"heb_018",language:"Hebrew",word:"רָאָה",transliteration:"Raah",partOfSpeech:"verb",meanings:["to see","to look"],frequency:1311,chapter:4,examples:[{reference:"Genesis 1:4",text:"וַיַּרְא אֱלֹהִים אֶת־הָאוֹר",translation:"And God saw the light"}],grammaticalNotes:"Qal perfect 3ms: רָאָה, Qal imperfect 3ms: יִרְאֶה"},{id:"heb_019",language:"Hebrew",word:"שָׁמַע",transliteration:"Shama",partOfSpeech:"verb",meanings:["to hear","to listen","to obey"],frequency:1165,chapter:4,examples:[{reference:"Genesis 3:8",text:"וַיִּשְׁמְעוּ אֶת־קוֹל",translation:"And they heard the sound"}],grammaticalNotes:"Qal perfect 3ms: שָׁמַע, Qal imperfect 3ms: יִשְׁמַע"},{id:"heb_020",language:"Hebrew",word:"קָרָא",transliteration:"Qara",partOfSpeech:"verb",meanings:["to call","to proclaim","to read"],frequency:739,chapter:4,examples:[{reference:"Genesis 1:5",text:"וַיִּקְרָא אֱלֹהִים לָאוֹר יוֹם",translation:"And God called the light day"}],grammaticalNotes:"Qal perfect 3ms: קָרָא, Qal imperfect 3ms: יִקְרָא"},{id:"heb_021",language:"Hebrew",word:"אֵת",transliteration:"Et",partOfSpeech:"particle",meanings:["(direct object marker)"],frequency:10978,chapter:5,examples:[{reference:"Genesis 1:1",text:"בָּרָא אֱלֹהִים אֵת הַשָּׁמַיִם",translation:"God created the heavens"}],grammaticalNotes:"Marks the definite direct object, not translated in English"},{id:"heb_022",language:"Hebrew",word:"אֶל",transliteration:"El",partOfSpeech:"preposition",meanings:["to","toward","into"],frequency:5518,chapter:5,examples:[{reference:"Genesis 2:19",text:"וַיָּבֵא אֶל־הָאָדָם",translation:"and He brought to the man"}],grammaticalNotes:"Indicates motion toward or direction"},{id:"heb_023",language:"Hebrew",word:"בְּ",transliteration:"Be",partOfSpeech:"preposition",meanings:["in","at","with","by"],frequency:15559,chapter:5,examples:[{reference:"Genesis 1:1",text:"בְּרֵאשִׁית",translation:"In the beginning"}],grammaticalNotes:"Inseparable preposition, prefixed to nouns"},{id:"heb_024",language:"Hebrew",word:"לְ",transliteration:"Le",partOfSpeech:"preposition",meanings:["to","for","belonging to"],frequency:20321,chapter:5,examples:[{reference:"Genesis 1:5",text:"וַיִּקְרָא אֱלֹהִים לָאוֹר",translation:"And God called to the light"}],grammaticalNotes:"Inseparable preposition, most frequent in Hebrew"},{id:"heb_025",language:"Hebrew",word:"מִן",transliteration:"Min",partOfSpeech:"preposition",meanings:["from","out of","than"],frequency:7592,chapter:5,examples:[{reference:"Genesis 2:10",text:"יֹצֵא מֵעֵדֶן",translation:"going out from Eden"}],grammaticalNotes:"Can be separate word or inseparable prefix מִ/מֵ"},{id:"heb_026",language:"Hebrew",word:"עַל",transliteration:"Al",partOfSpeech:"preposition",meanings:["on","upon","over","concerning"],frequency:5777,chapter:5,examples:[{reference:"Genesis 1:2",text:"עַל־פְּנֵי הַמָּיִם",translation:"over the face of the waters"}],grammaticalNotes:"Indicates position above or concerning something"},{id:"heb_027",language:"Hebrew",word:"כְּ",transliteration:"Ke",partOfSpeech:"preposition",meanings:["as","like","according to"],frequency:3053,chapter:6,examples:[{reference:"Genesis 1:26",text:"נַעֲשֶׂה אָדָם בְּצַלְמֵנוּ כִּדְמוּתֵנוּ",translation:"Let us make man in our image, according to our likeness"}],grammaticalNotes:"Inseparable preposition for comparison"},{id:"heb_028",language:"Hebrew",word:"אִם",transliteration:"Im",partOfSpeech:"conjunction",meanings:["if","whether"],frequency:1070,chapter:6,examples:[{reference:"Genesis 4:7",text:"הֲלוֹא אִם־תֵּיטִיב",translation:"If you do well"}],grammaticalNotes:"Introduces conditional clauses"},{id:"heb_029",language:"Hebrew",word:"כִּי",transliteration:"Ki",partOfSpeech:"conjunction",meanings:["that","because","for","when"],frequency:4487,chapter:6,examples:[{reference:"Genesis 1:4",text:"וַיַּרְא אֱלֹהִים אֶת־הָאוֹר כִּי־טוֹב",translation:"And God saw the light, that it was good"}],grammaticalNotes:"Very common conjunction with multiple meanings depending on context"},{id:"heb_030",language:"Hebrew",word:"וְ",transliteration:"Ve",partOfSpeech:"conjunction",meanings:["and","but","also"],frequency:50524,chapter:6,examples:[{reference:"Genesis 1:1",text:"אֵת הַשָּׁמַיִם וְאֵת הָאָרֶץ",translation:"the heavens and the earth"}],grammaticalNotes:"Most frequent word in Hebrew Bible, inseparable conjunction"},{id:"heb_031",language:"Hebrew",word:"מֶלֶךְ",transliteration:"Melekh",partOfSpeech:"noun",meanings:["king"],frequency:2530,chapter:7,examples:[{reference:"1 Samuel 8:5",text:"שִׂימָה לָּנוּ מֶלֶךְ",translation:"appoint for us a king"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_032",language:"Hebrew",word:"עִיר",transliteration:"Ir",partOfSpeech:"noun",meanings:["city","town"],frequency:1092,chapter:7,examples:[{reference:"Genesis 4:17",text:"וַיִּבֶן עִיר",translation:"and he built a city"}],grammaticalNotes:"Feminine singular noun"},{id:"heb_033",language:"Hebrew",word:"עַם",transliteration:"Am",partOfSpeech:"noun",meanings:["people","nation"],frequency:1869,chapter:7,examples:[{reference:"Exodus 1:9",text:"עַם בְּנֵי יִשְׂרָאֵל",translation:"the people of Israel"}],grammaticalNotes:"Masculine singular noun, collective"},{id:"heb_034",language:"Hebrew",word:"דָּבָר",transliteration:"Davar",partOfSpeech:"noun",meanings:["word","thing","matter"],frequency:1454,chapter:7,examples:[{reference:"Genesis 15:1",text:"הָיָה דְבַר־יְהוָה",translation:"the word of the LORD came"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_035",language:"Hebrew",word:"יָד",transliteration:"Yad",partOfSpeech:"noun",meanings:["hand","power"],frequency:1627,chapter:8,examples:[{reference:"Exodus 14:31",text:"אֶת־הַיָּד הַגְּדֹלָה",translation:"the great hand/power"}],grammaticalNotes:"Feminine singular noun"},{id:"heb_036",language:"Hebrew",word:"לֵב",transliteration:"Lev",partOfSpeech:"noun",meanings:["heart","mind","will"],frequency:858,chapter:8,examples:[{reference:"Deuteronomy 6:5",text:"בְּכָל־לְבָבְךָ",translation:"with all your heart"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_037",language:"Hebrew",word:"נֶפֶשׁ",transliteration:"Nefesh",partOfSpeech:"noun",meanings:["soul","life","person"],frequency:757,chapter:8,examples:[{reference:"Genesis 2:7",text:"לְנֶפֶשׁ חַיָּה",translation:"a living soul"}],grammaticalNotes:"Feminine singular noun"},{id:"heb_038",language:"Hebrew",word:"רוּחַ",transliteration:"Ruach",partOfSpeech:"noun",meanings:["spirit","wind","breath"],frequency:378,chapter:8,examples:[{reference:"Genesis 1:2",text:"וְרוּחַ אֱלֹהִים",translation:"and the Spirit of God"}],grammaticalNotes:"Feminine singular noun"},{id:"heb_039",language:"Hebrew",word:"מַיִם",transliteration:"Mayim",partOfSpeech:"noun",meanings:["water","waters"],frequency:585,chapter:8,examples:[{reference:"Genesis 1:2",text:"עַל־פְּנֵי הַמָּיִם",translation:"over the face of the waters"}],grammaticalNotes:"Masculine plural (dual), always plural"},{id:"heb_040",language:"Hebrew",word:"אִשָּׁה",transliteration:"Ishah",partOfSpeech:"noun",meanings:["woman","wife"],frequency:781,chapter:9,examples:[{reference:"Genesis 2:22",text:"וַיִּבֶן אֶת־הַצֵּלָע לְאִשָּׁה",translation:"and fashioned the rib into a woman"}],grammaticalNotes:"Feminine singular noun"},{id:"heb_041",language:"Hebrew",word:"אִישׁ",transliteration:"Ish",partOfSpeech:"noun",meanings:["man","husband"],frequency:2188,chapter:9,examples:[{reference:"Genesis 2:23",text:"זֹאת תִּקָּרֵא אִשָּׁה כִּי מֵאִישׁ",translation:"this shall be called woman because from man"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_042",language:"Hebrew",word:"אָב",transliteration:"Av",partOfSpeech:"noun",meanings:["father","ancestor"],frequency:1210,chapter:9,examples:[{reference:"Genesis 2:24",text:"יַעֲזָב־אִישׁ אֶת־אָבִיו",translation:"a man shall leave his father"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_043",language:"Hebrew",word:"אֵם",transliteration:"Em",partOfSpeech:"noun",meanings:["mother"],frequency:220,chapter:9,examples:[{reference:"Genesis 2:24",text:"וְאֶת־אִמּוֹ",translation:"and his mother"}],grammaticalNotes:"Feminine singular noun"},{id:"heb_044",language:"Hebrew",word:"אָח",transliteration:"Ach",partOfSpeech:"noun",meanings:["brother"],frequency:629,chapter:9,examples:[{reference:"Genesis 4:2",text:"וַתֹּסֶף לָלֶדֶת אֶת־אָחִיו",translation:"and she bore his brother"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_045",language:"Hebrew",word:"אָחוֹת",transliteration:"Achot",partOfSpeech:"noun",meanings:["sister"],frequency:114,chapter:9,examples:[{reference:"Genesis 4:22",text:"וַאֲחוֹת תּוּבַל־קַיִן",translation:"and the sister of Tubal-cain"}],grammaticalNotes:"Feminine singular noun"},{id:"heb_046",language:"Hebrew",word:"קוֹל",transliteration:"Qol",partOfSpeech:"noun",meanings:["voice","sound"],frequency:505,chapter:10,examples:[{reference:"Genesis 3:8",text:"אֶת־קוֹל יְהוָה אֱלֹהִים",translation:"the sound of the LORD God"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_047",language:"Hebrew",word:"שֵׁם",transliteration:"Shem",partOfSpeech:"noun",meanings:["name"],frequency:864,chapter:10,examples:[{reference:"Genesis 2:19",text:"לִרְאוֹת מַה־יִּקְרָא־לוֹ וְכֹל אֲשֶׁר יִקְרָא־לוֹ הָאָדָם נֶפֶשׁ חַיָּה הוּא שְׁמוֹ",translation:"to see what he would call it, and whatever the man called a living creature, that was its name"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_048",language:"Hebrew",word:"מָקוֹם",transliteration:"Maqom",partOfSpeech:"noun",meanings:["place","location"],frequency:401,chapter:10,examples:[{reference:"Genesis 1:9",text:"אֶל־מָקוֹם אֶחָד",translation:"to one place"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_049",language:"Hebrew",word:"עֵץ",transliteration:"Etz",partOfSpeech:"noun",meanings:["tree","wood"],frequency:330,chapter:10,examples:[{reference:"Genesis 2:9",text:"כָּל־עֵץ נֶחְמָד",translation:"every tree pleasant"}],grammaticalNotes:"Masculine singular noun"},{id:"heb_050",language:"Hebrew",word:"כֹּהֵן",transliteration:"Kohen",partOfSpeech:"noun",meanings:["priest"],frequency:750,chapter:10,examples:[{reference:"Genesis 14:18",text:"וְהוּא כֹהֵן לְאֵל עֶלְיוֹן",translation:"and he was priest of God Most High"}],grammaticalNotes:"Masculine singular noun"}],Hv=[{id:"grk_001",language:"Greek",word:"ὁ",transliteration:"ho",partOfSpeech:"article",meanings:["the"],frequency:19870,chapter:1,examples:[{reference:"John 1:1",text:"Ἐν ἀρχῇ ἦν ὁ λόγος",translation:"In the beginning was the Word"}],grammaticalNotes:"Definite article, nominative masculine singular. Full paradigm: ὁ, ἡ, τό (m, f, n)"},{id:"grk_002",language:"Greek",word:"θεός",transliteration:"theos",partOfSpeech:"noun",meanings:["God","god"],frequency:1317,chapter:1,examples:[{reference:"John 1:1",text:"καὶ θεὸς ἦν ὁ λόγος",translation:"and the Word was God"}],grammaticalNotes:"Masculine 2nd declension noun"},{id:"grk_003",language:"Greek",word:"λόγος",transliteration:"logos",partOfSpeech:"noun",meanings:["word","message","reason"],frequency:330,chapter:1,examples:[{reference:"John 1:1",text:"Ἐν ἀρχῇ ἦν ὁ λόγος",translation:"In the beginning was the Word"}],grammaticalNotes:"Masculine 2nd declension noun"},{id:"grk_004",language:"Greek",word:"ἄνθρωπος",transliteration:"anthrōpos",partOfSpeech:"noun",meanings:["man","person","humanity"],frequency:550,chapter:1,examples:[{reference:"Matthew 4:4",text:"οὐκ ἐπ' ἄρτῳ μόνῳ ζήσεται ὁ ἄνθρωπος",translation:"man shall not live by bread alone"}],grammaticalNotes:"Masculine 2nd declension noun"},{id:"grk_005",language:"Greek",word:"υἱός",transliteration:"huios",partOfSpeech:"noun",meanings:["son"],frequency:377,chapter:2,examples:[{reference:"Matthew 3:17",text:"Οὗτός ἐστιν ὁ υἱός μου",translation:"This is my Son"}],grammaticalNotes:"Masculine 2nd declension noun"},{id:"grk_006",language:"Greek",word:"κύριος",transliteration:"kyrios",partOfSpeech:"noun",meanings:["lord","master","Lord"],frequency:717,chapter:2,examples:[{reference:"Matthew 7:21",text:"Κύριε, κύριε",translation:"Lord, Lord"}],grammaticalNotes:"Masculine 2nd declension noun, often refers to Jesus or God"},{id:"grk_007",language:"Greek",word:"ἀδελφός",transliteration:"adelphos",partOfSpeech:"noun",meanings:["brother"],frequency:343,chapter:2,examples:[{reference:"Matthew 4:18",text:"δύο ἀδελφούς",translation:"two brothers"}],grammaticalNotes:"Masculine 2nd declension noun"},{id:"grk_008",language:"Greek",word:"οὐρανός",transliteration:"ouranos",partOfSpeech:"noun",meanings:["heaven","sky"],frequency:273,chapter:2,examples:[{reference:"Matthew 3:2",text:"ἡ βασιλεία τῶν οὐρανῶν",translation:"the kingdom of heaven"}],grammaticalNotes:"Masculine 2nd declension noun"},{id:"grk_009",language:"Greek",word:"καρδία",transliteration:"kardia",partOfSpeech:"noun",meanings:["heart"],frequency:156,chapter:2,examples:[{reference:"Matthew 5:8",text:"οἱ καθαροὶ τῇ καρδίᾳ",translation:"the pure in heart"}],grammaticalNotes:"Feminine 1st declension noun"},{id:"grk_010",language:"Greek",word:"ἡμέρα",transliteration:"hēmera",partOfSpeech:"noun",meanings:["day"],frequency:389,chapter:2,examples:[{reference:"Matthew 6:34",text:"ἀρκετὸν τῇ ἡμέρᾳ ἡ κακία αὐτῆς",translation:"sufficient for the day is its own trouble"}],grammaticalNotes:"Feminine 1st declension noun"},{id:"grk_011",language:"Greek",word:"εἰμί",transliteration:"eimi",partOfSpeech:"verb",meanings:["to be","I am"],frequency:2462,chapter:3,examples:[{reference:"John 8:58",text:"πρὶν Ἀβραὰμ γενέσθαι ἐγὼ εἰμί",translation:"Before Abraham was, I am"}],grammaticalNotes:"Irregular verb. Present: εἰμί, εἶ, ἐστί, ἐσμέν, ἐστέ, εἰσί"},{id:"grk_012",language:"Greek",word:"λέγω",transliteration:"legō",partOfSpeech:"verb",meanings:["to say","to speak","to tell"],frequency:2354,chapter:3,examples:[{reference:"Matthew 3:9",text:"μὴ δόξητε λέγειν ἐν ἑαυτοῖς",translation:"do not presume to say to yourselves"}],grammaticalNotes:"Present active indicative 1s. Future: ἐρῶ, Aorist: εἶπον"},{id:"grk_013",language:"Greek",word:"ἔχω",transliteration:"echō",partOfSpeech:"verb",meanings:["to have","to hold"],frequency:708,chapter:3,examples:[{reference:"Matthew 3:9",text:"πατέρα ἔχομεν τὸν Ἀβραάμ",translation:"we have Abraham as our father"}],grammaticalNotes:"Present active indicative 1s. Future: ἕξω, Aorist: ἔσχον"},{id:"grk_014",language:"Greek",word:"γίνομαι",transliteration:"ginomai",partOfSpeech:"verb",meanings:["to become","to be","to happen"],frequency:669,chapter:3,examples:[{reference:"John 1:3",text:"πάντα δι' αὐτοῦ ἐγένετο",translation:"all things came into being through him"}],grammaticalNotes:"Deponent verb (middle/passive forms with active meaning). Aorist: ἐγενόμην"},{id:"grk_015",language:"Greek",word:"ἀκούω",transliteration:"akouō",partOfSpeech:"verb",meanings:["to hear","to listen"],frequency:428,chapter:4,examples:[{reference:"Matthew 2:3",text:"ἀκούσας δὲ ὁ βασιλεὺς Ἡρῴδης",translation:"And when Herod the king heard"}],grammaticalNotes:"Regular ω-verb. Aorist: ἤκουσα. Takes genitive of person heard"},{id:"grk_016",language:"Greek",word:"βλέπω",transliteration:"blepō",partOfSpeech:"verb",meanings:["to see","to look"],frequency:133,chapter:4,examples:[{reference:"Matthew 5:28",text:"πᾶς ὁ βλέπων γυναῖκα",translation:"everyone who looks at a woman"}],grammaticalNotes:"Regular ω-verb. Aorist: ἔβλεψα"},{id:"grk_017",language:"Greek",word:"ποιέω",transliteration:"poieō",partOfSpeech:"verb",meanings:["to do","to make"],frequency:568,chapter:4,examples:[{reference:"Matthew 3:8",text:"ποιήσατε οὖν καρπὸν",translation:"therefore bear fruit"}],grammaticalNotes:"Contract verb (-εω). Aorist: ἐποίησα"},{id:"grk_018",language:"Greek",word:"ἔρχομαι",transliteration:"erchomai",partOfSpeech:"verb",meanings:["to come","to go"],frequency:634,chapter:4,examples:[{reference:"Matthew 3:11",text:"ὁ δὲ ὀπίσω μου ἐρχόμενος",translation:"but he who is coming after me"}],grammaticalNotes:"Deponent verb. Aorist: ἦλθον (from ἐλεύσομαι)"},{id:"grk_019",language:"Greek",word:"λαλέω",transliteration:"laleō",partOfSpeech:"verb",meanings:["to speak","to talk"],frequency:296,chapter:4,examples:[{reference:"Matthew 9:18",text:"ταῦτα αὐτοῦ λαλοῦντος αὐτοῖς",translation:"while he was saying these things to them"}],grammaticalNotes:"Contract verb (-εω). Aorist: ἐλάλησα"},{id:"grk_020",language:"Greek",word:"δίδωμι",transliteration:"didōmi",partOfSpeech:"verb",meanings:["to give"],frequency:415,chapter:4,examples:[{reference:"Matthew 4:9",text:"ταῦτά σοι πάντα δώσω",translation:"all these I will give you"}],grammaticalNotes:"μι-verb. Present: δίδωμι, δίδως, δίδωσι. Aorist: ἔδωκα"},{id:"grk_021",language:"Greek",word:"ἐν",transliteration:"en",partOfSpeech:"preposition",meanings:["in","by","with"],frequency:2752,chapter:5,examples:[{reference:"John 1:1",text:"Ἐν ἀρχῇ ἦν ὁ λόγος",translation:"In the beginning was the Word"}],grammaticalNotes:"Takes dative case only"},{id:"grk_022",language:"Greek",word:"εἰς",transliteration:"eis",partOfSpeech:"preposition",meanings:["into","to","for"],frequency:1768,chapter:5,examples:[{reference:"Matthew 2:1",text:"Ἰησοῦ γεννηθέντος ἐν Βηθλέεμ... εἰς Ἱεροσόλυμα",translation:"Jesus was born in Bethlehem... to Jerusalem"}],grammaticalNotes:"Takes accusative case only. Indicates motion toward"},{id:"grk_023",language:"Greek",word:"ἐκ",transliteration:"ek",partOfSpeech:"preposition",meanings:["from","out of"],frequency:914,chapter:5,examples:[{reference:"Matthew 1:3",text:"Φαρὲς ἐγέννησεν... ἐκ τῆς Θαμάρ",translation:"Perez... from Tamar"}],grammaticalNotes:"Takes genitive case only. ἐξ before vowels"},{id:"grk_024",language:"Greek",word:"ἀπό",transliteration:"apo",partOfSpeech:"preposition",meanings:["from","away from"],frequency:646,chapter:5,examples:[{reference:"Matthew 1:17",text:"ἀπὸ Ἀβραὰμ ἕως Δαυίδ",translation:"from Abraham to David"}],grammaticalNotes:"Takes genitive case only. ἀπ' before vowels"},{id:"grk_025",language:"Greek",word:"πρός",transliteration:"pros",partOfSpeech:"preposition",meanings:["to","toward","with"],frequency:700,chapter:5,examples:[{reference:"John 1:1",text:"καὶ ὁ λόγος ἦν πρὸς τὸν θεόν",translation:"and the Word was with God"}],grammaticalNotes:"Takes accusative (most common), genitive, or dative"},{id:"grk_026",language:"Greek",word:"διά",transliteration:"dia",partOfSpeech:"preposition",meanings:["through","because of"],frequency:667,chapter:6,examples:[{reference:"John 1:3",text:"πάντα δι' αὐτοῦ ἐγένετο",translation:"all things came into being through him"}],grammaticalNotes:"Takes genitive (through) or accusative (because of). δι' before vowels"},{id:"grk_027",language:"Greek",word:"μετά",transliteration:"meta",partOfSpeech:"preposition",meanings:["with","after"],frequency:469,chapter:6,examples:[{reference:"Matthew 1:23",text:"ὁ θεὸς μεθ' ἡμῶν",translation:"God with us"}],grammaticalNotes:"Takes genitive (with) or accusative (after). μετ' or μεθ' before vowels"},{id:"grk_028",language:"Greek",word:"ἐπί",transliteration:"epi",partOfSpeech:"preposition",meanings:["on","upon","over"],frequency:890,chapter:6,examples:[{reference:"Matthew 3:16",text:"καταβαῖνον ἐπ' αὐτόν",translation:"descending upon him"}],grammaticalNotes:"Takes genitive, dative, or accusative. ἐπ' before vowels"},{id:"grk_029",language:"Greek",word:"κατά",transliteration:"kata",partOfSpeech:"preposition",meanings:["according to","against","down"],frequency:473,chapter:6,examples:[{reference:"Matthew 1:20",text:"ἄγγελος κατ' ὄναρ ἐφάνη",translation:"an angel appeared in a dream"}],grammaticalNotes:"Takes genitive (against, down) or accusative (according to). κατ' before vowels"},{id:"grk_030",language:"Greek",word:"ὑπό",transliteration:"hypo",partOfSpeech:"preposition",meanings:["by","under"],frequency:220,chapter:6,examples:[{reference:"Matthew 3:6",text:"ἐβαπτίζοντο... ὑπ' αὐτοῦ",translation:"they were baptized by him"}],grammaticalNotes:"Takes genitive (by - agent) or accusative (under). ὑπ' before vowels"},{id:"grk_031",language:"Greek",word:"καί",transliteration:"kai",partOfSpeech:"conjunction",meanings:["and","also","even"],frequency:9161,chapter:5,examples:[{reference:"John 1:1",text:"καὶ ὁ λόγος ἦν πρὸς τὸν θεόν",translation:"and the Word was with God"}],grammaticalNotes:'Most frequent word in NT. Can mean "and", "also", "even", or "but"'},{id:"grk_032",language:"Greek",word:"δέ",transliteration:"de",partOfSpeech:"conjunction",meanings:["but","and","now"],frequency:2792,chapter:5,examples:[{reference:"Matthew 1:2",text:"Ἀβραὰμ ἐγέννησεν τὸν Ἰσαάκ, Ἰσαὰκ δὲ ἐγέννησεν",translation:"Abraham was the father of Isaac, and Isaac the father of"}],grammaticalNotes:"Postpositive (second position in clause). Usually weaker than ἀλλά"},{id:"grk_033",language:"Greek",word:"ἀλλά",transliteration:"alla",partOfSpeech:"conjunction",meanings:["but","rather","except"],frequency:638,chapter:6,examples:[{reference:"Matthew 4:4",text:"οὐκ ἐπ' ἄρτῳ μόνῳ... ἀλλ' ἐπὶ παντὶ ῥήματι",translation:"not on bread alone... but on every word"}],grammaticalNotes:"Strong adversative. ἀλλ' before vowels"},{id:"grk_034",language:"Greek",word:"γάρ",transliteration:"gar",partOfSpeech:"conjunction",meanings:["for","because"],frequency:1041,chapter:6,examples:[{reference:"Matthew 1:21",text:"αὐτὸς γὰρ σώσει τὸν λαὸν αὐτοῦ",translation:"for he will save his people"}],grammaticalNotes:"Postpositive. Gives explanation or reason"},{id:"grk_035",language:"Greek",word:"οὖν",transliteration:"oun",partOfSpeech:"conjunction",meanings:["therefore","then"],frequency:499,chapter:6,examples:[{reference:"Matthew 3:8",text:"ποιήσατε οὖν καρπὸν",translation:"therefore bear fruit"}],grammaticalNotes:"Postpositive. Draws inference or conclusion"},{id:"grk_036",language:"Greek",word:"ὅτι",transliteration:"hoti",partOfSpeech:"conjunction",meanings:["that","because"],frequency:1296,chapter:6,examples:[{reference:"Matthew 2:2",text:"εἴδομεν γὰρ αὐτοῦ τὸν ἀστέρα... καὶ ἤλθομεν προσκυνῆσαι αὐτῷ",translation:"for we saw his star... and have come to worship him"}],grammaticalNotes:"Introduces indirect discourse or causal clause"},{id:"grk_037",language:"Greek",word:"εἰ",transliteration:"ei",partOfSpeech:"conjunction",meanings:["if","whether"],frequency:502,chapter:6,examples:[{reference:"Matthew 4:3",text:"Εἰ υἱὸς εἶ τοῦ θεοῦ",translation:"If you are the Son of God"}],grammaticalNotes:"Introduces conditional clauses"},{id:"grk_038",language:"Greek",word:"ἵνα",transliteration:"hina",partOfSpeech:"conjunction",meanings:["in order that","that","so that"],frequency:663,chapter:6,examples:[{reference:"John 3:16",text:"ἵνα πᾶς ὁ πιστεύων... ἔχῃ ζωὴν αἰώνιον",translation:"so that whoever believes... may have eternal life"}],grammaticalNotes:"Purpose or result clause, takes subjunctive"},{id:"grk_039",language:"Greek",word:"ὡς",transliteration:"hōs",partOfSpeech:"conjunction",meanings:["as","like","when"],frequency:504,chapter:7,examples:[{reference:"Matthew 1:24",text:"ἐποίησεν ὡς προσέταξεν αὐτῷ",translation:"he did as the angel commanded him"}],grammaticalNotes:"Comparison, manner, or temporal"},{id:"grk_040",language:"Greek",word:"οὐ",transliteration:"ou",partOfSpeech:"particle",meanings:["not"],frequency:1606,chapter:5,examples:[{reference:"Matthew 4:4",text:"οὐκ ἐπ' ἄρτῳ μόνῳ",translation:"not on bread alone"}],grammaticalNotes:"Negates indicative mood. οὐκ before smooth breathing, οὐχ before rough breathing"},{id:"grk_041",language:"Greek",word:"πιστεύω",transliteration:"pisteuō",partOfSpeech:"verb",meanings:["to believe","to trust","to have faith"],frequency:241,chapter:7,examples:[{reference:"John 3:16",text:"πᾶς ὁ πιστεύων εἰς αὐτὸν",translation:"everyone who believes in him"}],grammaticalNotes:"Takes dative (believe someone) or εἰς + accusative (believe in)"},{id:"grk_042",language:"Greek",word:"ἀγαπάω",transliteration:"agapaō",partOfSpeech:"verb",meanings:["to love"],frequency:143,chapter:7,examples:[{reference:"John 3:16",text:"οὕτως γὰρ ἠγάπησεν ὁ θεὸς τὸν κόσμον",translation:"For God so loved the world"}],grammaticalNotes:"Contract verb (-αω). Aorist: ἠγάπησα"},{id:"grk_043",language:"Greek",word:"ζωή",transliteration:"zōē",partOfSpeech:"noun",meanings:["life"],frequency:135,chapter:7,examples:[{reference:"John 1:4",text:"ἐν αὐτῷ ζωὴ ἦν",translation:"In him was life"}],grammaticalNotes:"Feminine 1st declension noun"},{id:"grk_044",language:"Greek",word:"κόσμος",transliteration:"kosmos",partOfSpeech:"noun",meanings:["world","universe"],frequency:186,chapter:8,examples:[{reference:"John 3:16",text:"ἠγάπησεν ὁ θεὸς τὸν κόσμον",translation:"God loved the world"}],grammaticalNotes:"Masculine 2nd declension noun"},{id:"grk_045",language:"Greek",word:"πνεῦμα",transliteration:"pneuma",partOfSpeech:"noun",meanings:["spirit","Spirit","wind","breath"],frequency:379,chapter:8,examples:[{reference:"Matthew 3:16",text:"τὸ πνεῦμα τοῦ θεοῦ",translation:"the Spirit of God"}],grammaticalNotes:"Neuter 3rd declension noun"},{id:"grk_046",language:"Greek",word:"δόξα",transliteration:"doxa",partOfSpeech:"noun",meanings:["glory","honor"],frequency:166,chapter:8,examples:[{reference:"John 1:14",text:"ἐθεασάμεθα τὴν δόξαν αὐτοῦ",translation:"we have seen his glory"}],grammaticalNotes:"Feminine 1st declension noun"},{id:"grk_047",language:"Greek",word:"ἁμαρτία",transliteration:"hamartia",partOfSpeech:"noun",meanings:["sin"],frequency:173,chapter:9,examples:[{reference:"John 1:29",text:"ὁ αἴρων τὴν ἁμαρτίαν τοῦ κόσμου",translation:"who takes away the sin of the world"}],grammaticalNotes:"Feminine 1st declension noun"},{id:"grk_048",language:"Greek",word:"ἐκκλησία",transliteration:"ekklēsia",partOfSpeech:"noun",meanings:["church","assembly"],frequency:114,chapter:9,examples:[{reference:"Matthew 16:18",text:"οἰκοδομήσω μου τὴν ἐκκλησίαν",translation:"I will build my church"}],grammaticalNotes:"Feminine 1st declension noun"},{id:"grk_049",language:"Greek",word:"βασιλεία",transliteration:"basileia",partOfSpeech:"noun",meanings:["kingdom","reign"],frequency:162,chapter:9,examples:[{reference:"Matthew 3:2",text:"ἤγγικεν ἡ βασιλεία τῶν οὐρανῶν",translation:"the kingdom of heaven is at hand"}],grammaticalNotes:"Feminine 1st declension noun"},{id:"grk_050",language:"Greek",word:"χάρις",transliteration:"charis",partOfSpeech:"noun",meanings:["grace","favor"],frequency:155,chapter:10,examples:[{reference:"John 1:14",text:"πλήρης χάριτος καὶ ἀληθείας",translation:"full of grace and truth"}],grammaticalNotes:"Feminine 3rd declension noun"}],NI=()=>[...jv,...Hv],Cf=e=>e==="Hebrew"?jv:Hv,EI=(e,t)=>{const i=new Date;if(t<3)return{...e,lastReviewed:i,nextReview:new Date(i.getTime()+1440*60*1e3),correctCount:e.correctCount,incorrectCount:e.incorrectCount+1,easinessFactor:Math.max(1.3,e.easinessFactor-.2),interval:1,repetitions:0};const a=e.repetitions+1,s=e.correctCount+1,l=Math.max(1.3,e.easinessFactor+(.1-(5-t)*(.08+(5-t)*.02)));let c;a===1?c=1:a===2?c=6:c=Math.round(e.interval*l);const f=new Date(i.getTime()+c*24*60*60*1e3);return{...e,lastReviewed:i,nextReview:f,correctCount:s,incorrectCount:e.incorrectCount,easinessFactor:l,interval:c,repetitions:a}},TI=e=>{const t=new Date;return{cardId:e,lastReviewed:t,nextReview:t,correctCount:0,incorrectCount:0,easinessFactor:2.5,interval:0,repetitions:0}},Kd=(e,t=new Date)=>e.filter(i=>i.nextReview<=t).sort((i,a)=>i.nextReview.getTime()-a.nextReview.getTime()).map(i=>i.cardId),Wy=e=>{const t=e.correctCount+e.incorrectCount,i=t>0?e.correctCount/t:0;let a;return e.repetitions===0?a="new":e.repetitions<3?a="learning":e.repetitions<6?a="intermediate":e.repetitions<10?a="advanced":a="mastered",{totalReviews:t,retentionRate:i,masteryLevel:a}},CI=(e,t,i=10,a=20)=>{const l=Kd(e,new Date),c=new Set(e.map(w=>w.cardId)),f=t-c.size,p=Math.min(i,f),h=Math.min(a,l.length),g=p+h;let b;return h>a?b=`You have ${l.length} cards due for review. Focus on reviews today to maintain your progress.`:f===0?b="Great job! You've studied all available cards. Keep reviewing to maintain mastery.":h===0?b=`No reviews due today. Perfect time to learn ${p} new cards!`:b=`Balance your session: ${h} reviews + ${p} new cards = ${g} cards total.`,{dueCards:l,newCards:p,totalForToday:g,recommendation:b}},_I=(e,t)=>{if(!e)return 1;switch(t){case"easy":return 5;case"medium":return 4;case"hard":return 3;default:return 4}},AI=e=>{try{const t=e.map(i=>({...i,lastReviewed:i.lastReviewed.toISOString(),nextReview:i.nextReview.toISOString()}));localStorage.setItem("biblical-language-vocab-progress",JSON.stringify(t))}catch(t){console.error("Failed to save vocabulary progress:",t)}},kI=()=>{try{const e=localStorage.getItem("biblical-language-vocab-progress");return e?JSON.parse(e).map(i=>({...i,lastReviewed:new Date(i.lastReviewed),nextReview:new Date(i.nextReview)})):[]}catch(e){return console.error("Failed to load vocabulary progress:",e),[]}},II=()=>{const[e,t]=H.useState("menu"),[i,a]=H.useState("mixed"),[s,l]=H.useState("all"),[c,f]=H.useState([]),[p,h]=H.useState([]),[g,b]=H.useState(0),[w,S]=H.useState({total:0,completed:0,correct:0});H.useEffect(()=>{const M=kI();f(M)},[]),H.useEffect(()=>{c.length>0&&AI(c)},[c]);const C=NI(),E=CI(c,C.length),R=(M,V)=>{let I=[];const U=V==="all"?C:Cf(V),Q=new Set(c.map(K=>K.cardId)),$=new Set(Kd(c));if(M==="review")I=U.filter(K=>$.has(K.id));else if(M==="new")I=U.filter(K=>!Q.has(K.id)).slice(0,10);else{const K=U.filter(z=>$.has(z.id)),te=U.filter(z=>!Q.has(z.id)).slice(0,5);I=[...K,...te]}I=I.sort(()=>Math.random()-.5),h(I),b(0),S({total:I.length,completed:0,correct:0}),t("session")},A=(M,V)=>{if(p.length===0)return;const I=p[g],U=M!=="again",$=_I(U,M==="easy"?"easy":M==="good"?"medium":"hard");let K=c.find(z=>z.cardId===I.id);K||(K=TI(I.id));const te=EI(K,$);f(z=>[...z.filter(ie=>ie.cardId!==I.id),te]),S(z=>({...z,completed:z.completed+1,correct:z.correct+(U?1:0)})),g<p.length-1?b(g+1):setTimeout(()=>{t("menu")},2e3)},q=(()=>{const M=c.length,V=C.length,I=Kd(c).length,U=c.filter(ie=>{const se=C.find(B=>B.id===ie.cardId);return(se==null?void 0:se.language)==="Hebrew"}).length,Q=c.filter(ie=>{const se=C.find(B=>B.id===ie.cardId);return(se==null?void 0:se.language)==="Greek"}).length,$=c.map(ie=>Wy(ie).masteryLevel),K=$.filter(ie=>ie==="mastered").length,te=$.filter(ie=>ie==="advanced").length,z=$.filter(ie=>ie==="intermediate").length,re=$.filter(ie=>ie==="learning").length;return{totalStudied:M,totalCards:V,dueToday:I,hebrewStudied:U,greekStudied:Q,mastered:K,advanced:te,intermediate:z,learning:re}})();if(e==="menu")return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-white to-indigo-50 p-6",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"聖經語言詞彙練習"}),d.jsx("p",{className:"text-gray-600",children:"使用間隔重複法掌握希伯來文和希臘文詞彙"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[d.jsx("div",{className:"text-3xl font-bold text-indigo-600",children:q.totalStudied}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"已學習詞彙"}),d.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["/ ",q.totalCards," 總詞彙"]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[d.jsx("div",{className:"text-3xl font-bold text-amber-600",children:q.dueToday}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"今日待複習"}),d.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"需要你的注意"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[d.jsx("div",{className:"text-3xl font-bold text-green-600",children:q.mastered}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"已掌握"}),d.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"完全記住的詞彙"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[d.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg shadow-md p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-3",children:"希伯來文進度"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{children:"已學習:"}),d.jsxs("span",{className:"font-bold",children:[q.hebrewStudied," / 50"]})]}),d.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:d.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${q.hebrewStudied/50*100}%`}})})]})]}),d.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg shadow-md p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-3",children:"希臘文進度"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{children:"已學習:"}),d.jsxs("span",{className:"font-bold",children:[q.greekStudied," / 50"]})]}),d.jsx("div",{className:"w-full bg-green-200 rounded-full h-2",children:d.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all",style:{width:`${q.greekStudied/50*100}%`}})})]})]})]}),d.jsx("div",{className:"bg-gradient-to-r from-indigo-100 to-purple-100 border-2 border-indigo-300 rounded-lg p-6 mb-8",children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:"text-4xl",children:"💡"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-indigo-900 mb-2",children:"今日學習建議"}),d.jsx("p",{className:"text-indigo-800",children:E.recommendation})]})]})}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"選擇練習模式"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[d.jsxs("button",{onClick:()=>a("review"),className:`p-4 rounded-lg border-2 transition-all ${i==="review"?"border-amber-500 bg-amber-50":"border-gray-300 hover:border-amber-300"}`,children:[d.jsx("div",{className:"text-3xl mb-2",children:"📚"}),d.jsx("div",{className:"font-semibold",children:"複習模式"}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"只複習到期的詞彙"}),d.jsxs("div",{className:"text-xs text-amber-600 mt-2 font-bold",children:[E.dueCards.length," 張卡片"]})]}),d.jsxs("button",{onClick:()=>a("new"),className:`p-4 rounded-lg border-2 transition-all ${i==="new"?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-indigo-300"}`,children:[d.jsx("div",{className:"text-3xl mb-2",children:"✨"}),d.jsx("div",{className:"font-semibold",children:"新詞彙"}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"學習新的詞彙"}),d.jsxs("div",{className:"text-xs text-indigo-600 mt-2 font-bold",children:["最多 ",E.newCards," 張卡片"]})]}),d.jsxs("button",{onClick:()=>a("mixed"),className:`p-4 rounded-lg border-2 transition-all ${i==="mixed"?"border-green-500 bg-green-50":"border-gray-300 hover:border-green-300"}`,children:[d.jsx("div",{className:"text-3xl mb-2",children:"🎯"}),d.jsx("div",{className:"font-semibold",children:"混合模式"}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"複習 + 新詞彙"}),d.jsx("div",{className:"text-xs text-green-600 mt-2 font-bold",children:"平衡學習"})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"語言選擇"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>l("all"),className:`px-4 py-2 rounded-lg transition-all ${s==="all"?"bg-gray-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"全部"}),d.jsx("button",{onClick:()=>l("Hebrew"),className:`px-4 py-2 rounded-lg transition-all ${s==="Hebrew"?"bg-blue-600 text-white":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,children:"希伯來文"}),d.jsx("button",{onClick:()=>l("Greek"),className:`px-4 py-2 rounded-lg transition-all ${s==="Greek"?"bg-green-600 text-white":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:"希臘文"})]})]}),d.jsx("button",{onClick:()=>R(i,s),className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-bold rounded-lg shadow-lg transition-all transform hover:scale-105",children:"開始練習"})]}),d.jsx("button",{onClick:()=>t("stats"),className:"w-full py-3 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold rounded-lg transition-all",children:"查看詳細統計"})]})});if(e==="session"){if(p.length===0)return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-white to-indigo-50 flex items-center justify-center p-6",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-6xl mb-4",children:"🎉"}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"沒有需要複習的詞彙！"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"所有詞彙都已完成，試試學習新詞彙吧！"}),d.jsx("button",{onClick:()=>t("menu"),className:"px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg transition-all",children:"返回主選單"})]})});const M=p[g],V=w.completed===w.total;return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-white to-indigo-50 p-6",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["練習中 ",w.completed+1," / ",w.total]}),d.jsx("button",{onClick:()=>{confirm("確定要結束練習嗎？進度將不會被保存。")&&t("menu")},className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-all",children:"結束練習"})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 h-3 rounded-full transition-all",style:{width:`${w.completed/w.total*100}%`}})}),d.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mt-2",children:[d.jsxs("span",{children:["已完成: ",w.completed]}),d.jsxs("span",{children:["正確率:"," ",w.completed>0?Math.round(w.correct/w.completed*100):0,"%"]})]})]}),!V&&d.jsx(SI,{card:M,onRate:A}),V&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"text-6xl mb-4",children:"🎉"}),d.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"練習完成！"}),d.jsxs("p",{className:"text-lg text-gray-600 mb-6",children:["完成 ",w.total," 張卡片，正確率"," ",Math.round(w.correct/w.total*100),"%"]}),d.jsx("button",{onClick:()=>t("menu"),className:"px-8 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-bold rounded-lg shadow-lg transition-all transform hover:scale-105",children:"返回主選單"})]})]})})}if(e==="stats"){const M=c.map(V=>({cardId:V.cardId,card:C.find(I=>I.id===V.cardId),stats:Wy(V),progress:V}));return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-white to-indigo-50 p-6",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"詳細統計"}),d.jsx("button",{onClick:()=>t("menu"),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-all",children:"返回主選單"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"掌握程度分布"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:q.mastered}),d.jsx("div",{className:"text-sm text-gray-600",children:"已掌握"})]}),d.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:q.advanced}),d.jsx("div",{className:"text-sm text-gray-600",children:"進階"})]}),d.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:q.intermediate}),d.jsx("div",{className:"text-sm text-gray-600",children:"中級"})]}),d.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-orange-600",children:q.learning}),d.jsx("div",{className:"text-sm text-gray-600",children:"學習中"})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"詞彙進度詳情"}),d.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:M.sort((V,I)=>I.progress.repetitions-V.progress.repetitions).map(({cardId:V,card:I,stats:U,progress:Q})=>I?d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:`text-xl font-bold ${I.language==="Hebrew"?"font-hebrew":"font-greek"}`,children:I.word}),d.jsx("div",{className:"text-sm text-gray-600",children:I.transliteration})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"text-xs text-gray-500",children:[U.totalReviews," 次複習"]}),d.jsxs("div",{className:"text-xs text-gray-500",children:[Math.round(U.retentionRate*100),"% 正確"]}),d.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${U.masteryLevel==="mastered"?"bg-green-100 text-green-700":U.masteryLevel==="advanced"?"bg-blue-100 text-blue-700":U.masteryLevel==="intermediate"?"bg-yellow-100 text-yellow-700":"bg-orange-100 text-orange-700"}`,children:U.masteryLevel==="mastered"?"已掌握":U.masteryLevel==="advanced"?"進階":U.masteryLevel==="intermediate"?"中級":"學習中"})]})]},V):null)})]})]})})}return null},RI="AIzaSyDcN6U-3ferwZqCG-r93GR2kpKpC9U1SA4";new Li({apiKey:RI});const MI=e=>new Promise((t,i)=>{if(!("speechSynthesis"in window)){i(new Error("Speech synthesis not supported"));return}const a=new SpeechSynthesisUtterance(e.word),s=window.speechSynthesis.getVoices();if(e.language==="Hebrew"){const l=s.find(c=>c.lang.startsWith("he"));l&&(a.voice=l),a.lang="he-IL"}else{const l=s.find(c=>c.lang.startsWith("el"));l&&(a.voice=l),a.lang="el-GR"}a.rate=.8,a.pitch=1,a.onend=()=>t(),a.onerror=l=>i(l.error),window.speechSynthesis.speak(a)}),zv=()=>new Promise(e=>{if(!("speechSynthesis"in window)){e([]);return}const t=window.speechSynthesis.getVoices();if(t.length>0){e(t);return}window.speechSynthesis.onvoiceschanged=()=>{e(window.speechSynthesis.getVoices())}}),DI=({language:e,onBack:t})=>{const[i,a]=H.useState("ready"),[s,l]=H.useState(null),[c,f]=H.useState(null),[p,h]=H.useState({correct:0,total:0}),[g,b]=H.useState(0),[w,S]=H.useState(!1),[C,E]=H.useState(!1),R=10;H.useEffect(()=>{zv().then(()=>{E(!0)})},[]);const A=()=>{const V=Cf(e),I=V[Math.floor(Math.random()*V.length)],U=[],Q=V.filter(K=>K.id!==I.id);for(;U.length<3&&Q.length>0;){const K=Math.floor(Math.random()*Q.length);U.push(Q[K]),Q.splice(K,1)}const $=[I,...U].sort(()=>Math.random()-.5);l({correct:I,options:$}),f(null),a("playing")},D=()=>{h({correct:0,total:0}),b(0),A()},q=async()=>{if(!(!s||w)){S(!0);try{await MI(s.correct)}catch(V){console.error("Error playing audio:",V),alert("無法播放音頻。您的瀏覽器可能不支援此語言的語音合成。")}finally{S(!1)}}},M=V=>{if(i!=="playing")return;f(V.id);const I=V.id===(s==null?void 0:s.correct.id);h(U=>({correct:U.correct+(I?1:0),total:U.total+1})),a(I?"correct":"incorrect"),setTimeout(()=>{const U=g+1;b(U),U>=R?a("complete"):A()},2e3)};if(i==="ready")return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-indigo-50 p-6",children:d.jsxs("div",{className:"max-w-2xl mx-auto",children:[d.jsx("button",{onClick:t,className:"mb-6 text-gray-600 hover:text-gray-800 transition-colors",children:"← 返回"}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[d.jsx("div",{className:"text-6xl mb-6",children:"👂"}),d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"聽力理解遊戲"}),d.jsx("p",{className:"text-lg text-gray-600 mb-6",children:e==="Hebrew"?"希伯來文":"希臘文"}),d.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg p-6 mb-6",children:[d.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"遊戲規則"}),d.jsxs("ul",{className:"text-sm text-gray-700 space-y-2 text-left max-w-md mx-auto",children:[d.jsx("li",{children:"🔊 點擊喇叭圖示聽取單詞發音"}),d.jsx("li",{children:"👀 查看 4 個選項"}),d.jsx("li",{children:"✅ 選擇你聽到的正確單詞"}),d.jsxs("li",{children:["🎯 完成 ",R," 個問題"]})]})]}),!C&&d.jsx("div",{className:"text-sm text-amber-600 mb-4",children:"載入語音中..."}),d.jsx("button",{onClick:D,disabled:!C,className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-bold rounded-lg shadow-lg transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:"開始遊戲"}),d.jsx("div",{className:"mt-6 text-xs text-gray-500",children:"提示：確保您的設備音量已開啟"})]})]})});if(i==="complete"){const V=Math.round(p.correct/p.total*100),I=V>=80,U=V>=60;return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-indigo-50 p-6",children:d.jsx("div",{className:"max-w-2xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[d.jsx("div",{className:"text-6xl mb-6",children:I?"🎉":U?"👍":"💪"}),d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"遊戲完成！"}),d.jsxs("div",{className:"bg-gradient-to-r from-purple-100 to-indigo-100 rounded-lg p-8 mb-6",children:[d.jsxs("div",{className:"text-5xl font-bold text-purple-600 mb-2",children:[p.correct," / ",p.total]}),d.jsxs("div",{className:"text-2xl font-semibold text-gray-700",children:[V,"% 正確"]})]}),d.jsxs("div",{className:"text-lg text-gray-700 mb-8",children:[I&&"太棒了！您的聽力理解能力很出色！",U&&!I&&"做得不錯！繼續練習會更好！",!U&&"繼續加油！多聽多練習會進步的！"]}),d.jsxs("div",{className:"flex gap-4 justify-center",children:[d.jsx("button",{onClick:D,className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-bold rounded-lg shadow-lg transition-all",children:"再玩一次"}),d.jsx("button",{onClick:t,className:"px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold rounded-lg transition-all",children:"返回選單"})]})]})})})}return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-indigo-50 p-6",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("button",{onClick:t,className:"text-gray-600 hover:text-gray-800 transition-colors",children:"← 返回"}),d.jsxs("div",{className:"text-lg font-semibold text-gray-700",children:["問題 ",g+1," / ",R]})]}),d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[d.jsx("span",{children:"進度"}),d.jsxs("span",{children:["正確: ",p.correct," / ",p.total]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 h-3 rounded-full transition-all",style:{width:`${(g+1)/R*100}%`}})})]}),d.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"你聽到哪個單詞？"}),d.jsx("button",{onClick:q,disabled:w||i!=="playing",className:`w-32 h-32 rounded-full flex items-center justify-center mx-auto mb-6 transition-all transform hover:scale-110 shadow-2xl ${w?"bg-purple-400 cursor-wait":"bg-gradient-to-br from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700"}`,children:d.jsx("span",{className:"text-6xl text-white",children:w?"⏸️":"🔊"})}),d.jsx("p",{className:"text-gray-600 text-sm",children:w?"播放中...":"點擊播放發音"}),i==="playing"&&d.jsx("button",{onClick:q,disabled:w,className:"mt-4 text-sm text-purple-600 hover:text-purple-700 underline",children:"重新播放"})]})}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s==null?void 0:s.options.map(V=>{const I=c===V.id,U=V.id===s.correct.id,Q=i==="correct"||i==="incorrect";return d.jsxs("button",{onClick:()=>M(V),disabled:i!=="playing",className:`p-6 rounded-xl border-4 transition-all transform hover:scale-105 ${Q&&U?"bg-green-100 border-green-500":Q&&I&&!U?"bg-red-100 border-red-500":i==="playing"?"bg-white border-gray-300 hover:border-purple-400":"bg-white border-gray-300"}`,children:[d.jsx("div",{className:`text-4xl font-bold mb-2 ${V.language==="Hebrew"?"font-hebrew":"font-greek"}`,dir:V.language==="Hebrew"?"rtl":"ltr",children:V.word}),d.jsx("div",{className:"text-sm text-gray-600 italic mb-1",children:V.transliteration}),Q&&d.jsx("div",{className:"text-xs text-gray-600 mt-2",children:V.meanings.join(", ")}),Q&&U&&d.jsx("div",{className:"mt-3 text-green-600 font-bold",children:"✓ 正確答案"}),Q&&I&&!U&&d.jsx("div",{className:"mt-3 text-red-600 font-bold",children:"✗ 錯誤"})]},V.id)})}),i==="correct"&&d.jsxs("div",{className:"mt-6 p-4 bg-green-100 border-2 border-green-400 rounded-lg text-center",children:[d.jsx("span",{className:"text-2xl mr-2",children:"🎉"}),d.jsx("span",{className:"text-green-800 font-semibold",children:"太棒了！答對了！"})]}),i==="incorrect"&&d.jsxs("div",{className:"mt-6 p-4 bg-red-100 border-2 border-red-400 rounded-lg text-center",children:[d.jsx("span",{className:"text-2xl mr-2",children:"💪"}),d.jsxs("span",{className:"text-red-800 font-semibold",children:["答錯了！正確答案是: ",s==null?void 0:s.correct.word]})]})]})})},LI="AIzaSyDcN6U-3ferwZqCG-r93GR2kpKpC9U1SA4",qI=new Li({apiKey:LI}),UI=async e=>{try{const t="gemini-2.0-flash-exp",i=`You are a ${e.language==="Hebrew"?"Biblical Hebrew":"Koine Greek"} pronunciation expert teaching pronunciation.

Word: ${e.word}
Correct Transliteration: ${e.transliteration}
Meaning: ${e.meanings.join(", ")}
Part of Speech: ${e.partOfSpeech}

Generate 4 VERY DIFFERENT pronunciation attempts for this word - one correct and three with OBVIOUS, NOTICEABLE mistakes.

IMPORTANT: Make the incorrect pronunciations SIGNIFICANTLY different from the correct one. The differences should be CLEARLY AUDIBLE to learners.

For ${e.language==="Hebrew"?"Hebrew":"Greek"}, provide:
1. ONE correct pronunciation
2. THREE incorrect pronunciations with MAJOR, OBVIOUS errors:
   - Use DIFFERENT phonetic spellings that will sound distinctly wrong
   - Add or remove syllables
   - Change consonants or vowels significantly
   - Use wrong stress patterns that are very noticeable
   - Make mistakes that are EASY to hear

Respond in JSON format:
{
  "options": [
    {
      "phoneticText": "the word in original script (correct) OR significantly modified phonetic version (incorrect)",
      "description": "說明 in Traditional Chinese (either '正確發音' or specific description of the obvious mistake)",
      "isCorrect": true/false,
      "mistakeType": null (for correct) or one of: "stress" | "vowel" | "consonant" | "speed"
    }
  ]
}

CRITICAL REQUIREMENTS:
- The correct pronunciation uses the exact original word: ${e.word}
- The 3 incorrect ones MUST use NOTICEABLY DIFFERENT phonetic text that sounds VERY WRONG
- Make errors OBVIOUS - like adding syllables, wrong vowels, missing sounds, completely wrong stress
- Example: If correct is "שָׁלוֹם" (shalom), wrong ones could be "שָׁלוֹמִים" (shalomim), "סָלוֹם" (salom), "שַׁלוֹם" (shallom)
- Descriptions should clearly explain the OBVIOUS mistake in Traditional Chinese
- All 4 options should use the same script (${e.language==="Hebrew"?"Hebrew":"Greek"})`,a=await qI.models.generateContent({model:t,contents:{parts:[{text:i}]},config:{responseMimeType:"application/json",temperature:.9}}),l=JSON.parse(a.text).options.map((c,f)=>({id:`opt_${f}`,phoneticText:c.phoneticText,description:c.description,isCorrect:c.isCorrect,mistakeType:c.mistakeType})).sort(()=>Math.random()-.5);return{word:e,options:l}}catch(t){throw console.error("Error generating pronunciation challenge:",t),t}},PI=async(e,t,i)=>new Promise((a,s)=>{if(!("speechSynthesis"in window)){s(new Error("Speech synthesis not supported"));return}const l=new SpeechSynthesisUtterance(e),c=window.speechSynthesis.getVoices();if(t==="Hebrew"){const f=c.find(p=>p.lang.startsWith("he"));f&&(l.voice=f),l.lang="he-IL"}else{const f=c.find(p=>p.lang.startsWith("el"));f&&(l.voice=f),l.lang="el-GR"}switch(i){case"stress":l.rate=1.4,l.pitch=1.4;break;case"vowel":l.pitch=.7,l.rate=.8;break;case"consonant":l.rate=.7,l.pitch=.8;break;case"speed":l.rate=1.6,l.pitch=1.1;break;default:l.rate=.75,l.pitch=1}l.onend=()=>a(),l.onerror=f=>s(f.error),window.speechSynthesis.speak(l)}),VI=({language:e,onBack:t})=>{const[i,a]=H.useState("ready"),[s,l]=H.useState(null),[c,f]=H.useState(null),[p,h]=H.useState(null),[g,b]=H.useState({correct:0,total:0}),[w,S]=H.useState(0),[C,E]=H.useState(!1),[R,A]=H.useState(null),D=10;H.useEffect(()=>{zv().then(()=>{E(!0)})},[]);const q=async()=>{a("loading"),A(null);try{const U=Cf(e),Q=U[Math.floor(Math.random()*U.length)],$=await UI(Q);l($),f(null),a("playing")}catch(U){console.error("Error generating challenge:",U),A("生成挑戰失敗，請重試。"),a("ready")}},M=()=>{b({correct:0,total:0}),S(0),q()},V=async(U,Q,$)=>{if(!(p||i!=="playing")){h(U);try{await PI(Q,e,$)}catch(K){console.error("Error playing pronunciation:",K),A("無法播放音頻，請檢查瀏覽器設定。")}finally{h(null)}}},I=(U,Q)=>{i==="playing"&&(f(U),b($=>({correct:$.correct+(Q?1:0),total:$.total+1})),a(Q?"correct":"incorrect"),setTimeout(()=>{const $=w+1;S($),$>=D?a("complete"):q()},3e3))};if(i==="ready")return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-red-50 p-6",children:d.jsxs("div",{className:"max-w-2xl mx-auto",children:[d.jsx("button",{onClick:t,className:"mb-6 text-gray-600 hover:text-gray-800 transition-colors",children:"← 返回"}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[d.jsx("div",{className:"text-6xl mb-6",children:"🎯"}),d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"發音挑戰"}),d.jsx("p",{className:"text-lg text-gray-600 mb-6",children:e==="Hebrew"?"希伯來文":"希臘文"}),d.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-lg p-6 mb-6",children:[d.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"挑戰規則"}),d.jsxs("ul",{className:"text-sm text-gray-700 space-y-2 text-left max-w-md mx-auto",children:[d.jsx("li",{children:"👀 看到一個單詞"}),d.jsx("li",{children:"🔊 點擊聽 4 種不同的發音"}),d.jsx("li",{children:"✅ 選擇正確的發音"}),d.jsx("li",{children:"⚠️ 其他 3 個是常見錯誤"}),d.jsxs("li",{children:["🎯 完成 ",D," 個挑戰"]})]})]}),R&&d.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-300 rounded-lg text-red-700 text-sm",children:R}),!C&&d.jsx("div",{className:"text-sm text-amber-600 mb-4",children:"載入語音中..."}),d.jsx("button",{onClick:M,disabled:!C,className:"px-8 py-4 bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white font-bold rounded-lg shadow-lg transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:"開始挑戰"}),d.jsx("div",{className:"mt-6 text-xs text-gray-500",children:"提示：仔細聽每個發音的細微差異"})]})]})});if(i==="loading")return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-red-50 p-6 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:"🤖"}),d.jsx("div",{className:"text-xl font-semibold text-gray-700",children:"AI 正在生成挑戰..."})]})});if(i==="complete"){const U=Math.round(g.correct/g.total*100),Q=U>=80,$=U>=60;return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-red-50 p-6",children:d.jsx("div",{className:"max-w-2xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[d.jsx("div",{className:"text-6xl mb-6",children:Q?"🏆":$?"🎯":"💪"}),d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"挑戰完成！"}),d.jsxs("div",{className:"bg-gradient-to-r from-orange-100 to-red-100 rounded-lg p-8 mb-6",children:[d.jsxs("div",{className:"text-5xl font-bold text-orange-600 mb-2",children:[g.correct," / ",g.total]}),d.jsxs("div",{className:"text-2xl font-semibold text-gray-700",children:[U,"% 正確"]})]}),d.jsxs("div",{className:"text-lg text-gray-700 mb-8",children:[Q&&"驚人！您能辨別細微的發音差異！",$&&!Q&&"不錯！您的發音辨識能力正在進步！",!$&&"繼續練習！多聽會幫助您的耳朵變得更敏銳！"]}),d.jsxs("div",{className:"flex gap-4 justify-center",children:[d.jsx("button",{onClick:M,className:"px-6 py-3 bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white font-bold rounded-lg shadow-lg transition-all",children:"再挑戰一次"}),d.jsx("button",{onClick:t,className:"px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold rounded-lg transition-all",children:"返回選單"})]})]})})})}return s?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-red-50 p-6",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("button",{onClick:t,className:"text-gray-600 hover:text-gray-800 transition-colors",children:"← 返回"}),d.jsxs("div",{className:"text-lg font-semibold text-gray-700",children:["挑戰 ",w+1," / ",D]})]}),d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[d.jsx("span",{children:"進度"}),d.jsxs("span",{children:["正確: ",g.correct," / ",g.total]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-red-600 h-3 rounded-full transition-all",style:{width:`${(w+1)/D*100}%`}})})]}),d.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-600 mb-4",children:"哪個是正確的發音？"}),d.jsx("div",{className:`text-6xl font-bold mb-4 ${s.word.language==="Hebrew"?"font-hebrew":"font-greek"}`,dir:s.word.language==="Hebrew"?"rtl":"ltr",children:s.word.word}),d.jsx("div",{className:"text-xl text-gray-600 italic mb-2",children:s.word.transliteration}),d.jsx("div",{className:"text-sm text-gray-500",children:s.word.meanings.join(", ")})]})}),R&&d.jsx("div",{className:"mb-6 p-4 bg-red-100 border-2 border-red-300 rounded-lg text-red-700 text-center",children:R}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.options.map((U,Q)=>{const $=c===U.id,K=i==="correct"||i==="incorrect",te=p===U.id;return d.jsxs("div",{className:`p-6 rounded-xl border-4 transition-all ${K&&U.isCorrect?"bg-green-100 border-green-500":K&&$&&!U.isCorrect?"bg-red-100 border-red-500":"bg-white border-gray-300"}`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("span",{className:"text-2xl font-bold text-gray-700",children:["選項 ",Q+1]}),d.jsx("button",{onClick:()=>V(U.id,U.phoneticText,U.mistakeType),disabled:te||i!=="playing",className:`w-12 h-12 rounded-full flex items-center justify-center transition-all ${te?"bg-orange-400 cursor-wait animate-pulse":"bg-gradient-to-br from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 transform hover:scale-110"}`,children:d.jsx("span",{className:"text-2xl text-white",children:te?"⏸️":"🔊"})})]}),K&&d.jsx("div",{className:"text-sm text-gray-700 mb-3 bg-gray-50 p-3 rounded",children:U.description}),d.jsx("button",{onClick:()=>I(U.id,U.isCorrect),disabled:i!=="playing",className:`w-full py-3 rounded-lg font-bold transition-all ${i==="playing"?"bg-orange-600 hover:bg-orange-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:i==="playing"?"選擇此發音":"已選擇"}),K&&U.isCorrect&&d.jsx("div",{className:"mt-3 text-green-600 font-bold text-center",children:"✓ 這是正確發音"}),K&&$&&!U.isCorrect&&d.jsx("div",{className:"mt-3 text-red-600 font-bold text-center",children:"✗ 這是錯誤發音"})]},U.id)})}),i==="correct"&&d.jsxs("div",{className:"mt-6 p-4 bg-green-100 border-2 border-green-400 rounded-lg text-center",children:[d.jsx("span",{className:"text-2xl mr-2",children:"🎉"}),d.jsx("span",{className:"text-green-800 font-semibold",children:"太棒了！您選對了正確的發音！"})]}),i==="incorrect"&&d.jsxs("div",{className:"mt-6 p-4 bg-red-100 border-2 border-red-400 rounded-lg text-center",children:[d.jsx("span",{className:"text-2xl mr-2",children:"💪"}),d.jsx("span",{className:"text-red-800 font-semibold",children:"答錯了！仔細聽每個發音的差異。"})]})]})}):null},GI=[{word:"בְּרֵאשִׁית",transliteration:"Bereshit",meaning:"In the beginning"},{word:"אֱלֹהִים",transliteration:"Elohim",meaning:"God"},{word:"יְהוָה",transliteration:"Yahweh",meaning:"The LORD"},{word:"שָׁלוֹם",transliteration:"Shalom",meaning:"Peace, harmony, wholeness"},{word:"תוֹרָה",transliteration:"Torah",meaning:"Law, instruction"},{word:"אָמֵן",transliteration:"Amen",meaning:"Truly, so be it"}],jI=[{word:"Λόγος",transliteration:"Logos",meaning:"Word, reason"},{word:"ἀγάπη",transliteration:"Agape",meaning:"Love (unconditional)"},{word:"Χριστός",transliteration:"Christos",meaning:"Christ, Anointed One"},{word:"πνεῦμα",transliteration:"Pneuma",meaning:"Spirit, wind, breath"},{word:"εὐαγγέλιον",transliteration:"Euangelion",meaning:"Good news, gospel"},{word:"χάρις",transliteration:"Charis",meaning:"Grace, favor"}],HI={[ge.HEBREW]:GI,[ge.GREEK]:jI},zI="AIzaSyDcN6U-3ferwZqCG-r93GR2kpKpC9U1SA4",BI=new Li({apiKey:zI}),OI=async(e,t,i,a)=>{try{const s="gemini-2.5-flash",l=`You are a friendly and encouraging biblical language pronunciation coach. The user is trying to pronounce the ${t} word "${e.word}". Please listen to the audio and provide brief, clear, and positive feedback on their pronunciation in 1-2 sentences. If they are correct, praise them. If they are slightly off, gently guide them on the correct sound. For reference, the word is transliterated as "${e.transliteration}" and means "${e.meaning}".`,c={inlineData:{data:i,mimeType:a}},f={text:l};return(await BI.models.generateContent({model:s,contents:{parts:[f,c]}})).text}catch(s){return console.error("Error getting feedback from Gemini:",s),"Sorry, I encountered an error trying to analyze your pronunciation. Please try again."}},FI=e=>new Promise((t,i)=>{const a=new FileReader;a.onloadend=()=>{if(typeof a.result!="string")return i(new Error("File could not be read as a string."));const l=a.result.split(",")[1];t(l)},a.onerror=i,a.readAsDataURL(e)});function JI(){const[e,t]=H.useState(null),[i,a]=H.useState("selecting"),[s,l]=H.useState(null),[c,f]=H.useState(0),[p,h]=H.useState(null),[g,b]=H.useState(null),[w,S]=H.useState(null),C=H.useRef(null),E=H.useRef([]),R=s?HI[s]:[],A=R[c],D=z=>{l(z),f(0),b(null),S(null),a("ready")},q=(z,re)=>{t(z),l(re),f(0),b(null),S(null),z==="word-practice"&&a("ready")},M=z=>{h(z)},V=()=>{h(null)},I=()=>{t(null),l(null),h(null),a("selecting")},U=()=>{S(null),a("ready")},Q=H.useCallback(()=>{C.current&&C.current.state==="recording"&&C.current.stop()},[]),$=H.useCallback(async()=>{if(!(!A||!s))try{const z=await navigator.mediaDevices.getUserMedia({audio:!0});b(null),a("recording");const re=new MediaRecorder(z);C.current=re,E.current=[],re.ondataavailable=ie=>{E.current.push(ie.data)},re.onstop=async()=>{a("processing");const ie=new Blob(E.current,{type:re.mimeType});try{const se=await FI(ie),B=await OI(A,s,se,re.mimeType);b(B)}catch(se){console.error(se),S("無法從 AI 獲取反饋，請重試。"),a("error")}finally{a("feedback")}z.getTracks().forEach(se=>se.stop())},re.start()}catch(z){console.error("Error accessing microphone:",z),S("需要麥克風權限才能使用。請在瀏覽器設定中啟用麥克風。"),a("error")}},[A,s]),K=()=>{i==="recording"?Q():$()},te=()=>{b(null),S(null),f(z=>(z+1)%R.length),a("ready")};return d.jsx("main",{className:"container mx-auto p-4 flex flex-col items-center justify-center min-h-screen font-sans",children:d.jsxs("div",{className:"w-full max-w-5xl flex flex-col items-center",children:[d.jsxs("div",{className:"absolute top-4 right-4 text-xs text-stone-500 dark:text-stone-400 flex items-center gap-2",children:[d.jsx("span",{children:"Pronunciation powered by"}),d.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:"Google Gemini 2.5 Flash"})]}),!e&&i==="selecting"&&d.jsx(aI,{onSelectMode:q,onSelect:D}),e==="alphabet-learning"&&s&&d.jsx(lI,{language:s,onBack:I}),e==="verse-learning"&&s&&!p&&d.jsx(yI,{language:s,onSelectVerse:M,onBack:I}),e==="verse-learning"&&p&&d.jsx(xI,{verse:p,onBack:V}),e==="vocabulary-flashcards"&&d.jsx(II,{}),e==="listening-game"&&s&&d.jsx(DI,{language:s==="Hebrew"?"Hebrew":"Greek",onBack:I}),e==="pronunciation-challenge"&&s&&d.jsx(VI,{language:s==="Hebrew"?"Hebrew":"Greek",onBack:I}),e==="word-practice"&&i!=="selecting"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:I,className:"absolute top-4 left-4 text-sm text-stone-500 hover:text-sky-600 transition-colors",children:"← 切換模式"}),s&&A&&d.jsxs("div",{className:"flex flex-col items-center w-full",children:[d.jsx(uI,{wordData:A,language:s}),w&&d.jsxs("div",{className:"w-full max-w-2xl mt-8 bg-red-100 dark:bg-red-900/50 border border-red-300 dark:border-red-700 rounded-xl p-6 text-center animate-fade-in",children:[d.jsx("p",{className:"text-red-800 dark:text-red-200",children:w}),i==="error"&&w.includes("麥克風")&&d.jsx("button",{onClick:U,className:"mt-4 px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 transition-colors",children:"重試"})]}),d.jsx(pI,{feedback:g}),d.jsxs("div",{className:"mt-12 flex flex-col items-center gap-6",children:[d.jsx(hI,{gameState:i,onClick:K}),i==="feedback"&&d.jsx("button",{onClick:te,className:"px-8 py-3 bg-green-600 text-white rounded-full font-bold shadow-md hover:bg-green-700 transition-all transform hover:scale-105 animate-fade-in",children:"下一個單字 →"})]})]})]})]})})}const YI=({onBack:e})=>d.jsxs("div",{className:"w-full h-full min-h-screen bg-gradient-to-br from-stone-50 to-sky-100 dark:from-gray-900 dark:to-stone-900 transition-colors",children:[d.jsx("div",{className:"absolute top-4 left-4 z-50",children:d.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-4 py-2 bg-white/80 dark:bg-stone-800/80 backdrop-blur-sm rounded-lg shadow-md hover:shadow-lg transition-all hover:scale-105 text-stone-700 dark:text-stone-200",children:[d.jsx(ha,{className:"w-4 h-4"}),d.jsx("span",{className:"font-medium",children:"返回主頁"})]})}),d.jsx(JI,{})]}),$I=({stages:e,currentStage:t,onSelectStage:i})=>d.jsxs("div",{className:"p-6 h-full border-r border-slate-700",children:[d.jsx("h2",{className:"text-xl font-bold text-sky-300 mb-6",children:"神學之旅"}),d.jsx("nav",{children:d.jsx("ol",{className:"relative border-l border-slate-600",children:e.map((a,s)=>d.jsxs("li",{className:"mb-10 ml-6",children:[d.jsx("span",{className:`absolute flex items-center justify-center w-6 h-6 rounded-full -left-3 ring-8 ring-slate-800 ${t===a.key?"bg-sky-500":"bg-slate-600"}`,children:d.jsx("span",{className:"text-white font-bold",children:s+1})}),d.jsxs("div",{className:"ml-2",children:[d.jsx("h3",{className:`flex items-center mb-1 text-lg font-semibold cursor-pointer ${t===a.key?"text-sky-300":"text-slate-200"}`,onClick:()=>i(a.key),children:a.title}),d.jsx("p",{className:"block mb-2 text-sm font-normal leading-none text-slate-400",children:a.description})]})]},a.key))})})]}),KI=({text:e,onTextChange:t,stage:i,onRefine:a,onGetCitations:s,onGenerateMindMap:l,isProcessing:c})=>d.jsxs("div",{className:"p-4 h-full flex flex-col",children:[d.jsx("h3",{className:"text-xl font-bold text-teal-300 mb-2",children:"神學日誌"}),d.jsxs("p",{className:"text-sm text-slate-400 mb-4 italic",children:["提示：",i.promptHint]}),d.jsx("textarea",{value:e,onChange:f=>t(f.target.value),className:"flex-grow w-full p-3 bg-slate-900 border border-slate-700 rounded-md resize-none focus:ring-2 focus:ring-teal-500 focus:outline-none",placeholder:"在此開始您的記錄..."}),d.jsxs("div",{className:"mt-4 flex items-center space-x-3",children:[d.jsx("button",{onClick:a,disabled:c||!e.trim(),className:"px-4 py-2 bg-teal-600 hover:bg-teal-700 disabled:bg-teal-800 disabled:cursor-not-allowed text-white font-semibold rounded-md transition-colors duration-200",children:"潤色文字"}),d.jsx("button",{onClick:s,disabled:c||!e.trim(),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-800 disabled:cursor-not-allowed text-white font-semibold rounded-md transition-colors duration-200",children:"取得引文"}),d.jsx("button",{onClick:l,disabled:c||!e.trim(),className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-800 disabled:cursor-not-allowed text-white font-semibold rounded-md transition-colors duration-200",children:"生成思維導圖"})]})]});var pn=(e=>(e.InitialConcept="initial-concept",e.CreedContrast="creed-contrast",e.BiblicalInterpretation="biblical-interpretation",e.DoubtPhase="doubt-phase",e.Revelation="revelation",e))(pn||{}),Dn=(e=>(e.Socratic="socratic",e.Orthodox="orthodox",e.Reformed="reformed",e.Catholic="catholic",e))(Dn||{});const ex=[{key:pn.InitialConcept,title:"初始概念",description:"闡述開始探究的基本想法或問題。",promptHint:"詳細說明這個神學概念的核心原則。"},{key:pn.CreedContrast,title:"信經對比",description:"將您的概念與歷史信經和信仰告白進行分析比較。",promptHint:"這個概念如何與尼西亞信經一致或分歧？"},{key:pn.BiblicalInterpretation,title:"聖經詮釋",description:"探索支持或挑戰您觀點的經文段落。",promptHint:"哪些關鍵的聖經經文影響這個概念？解經上有什麼挑戰？"},{key:pn.DoubtPhase,title:"質疑與反駁",description:"面對弱點、反對論點和個人疑慮。",promptHint:"從懷疑的角度來看，這個觀點最重要的反對意見是什麼？"},{key:pn.Revelation,title:"啟示與綜合",description:"將您的發現綜合成精煉且連貫的神學立場。",promptHint:"制定一個整合旅程見解的結論性論點。"}],QI=[{key:Dn.Socratic,name:"蘇格拉底式引導"},{key:Dn.Orthodox,name:"東正教傳統"},{key:Dn.Reformed,name:"改革宗傳統"},{key:Dn.Catholic,name:"天主教傳統"}],XI=({className:e})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`animate-spin ${e}`,children:d.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),ZI=({history:e,perspective:t,onPerspectiveChange:i,onSubmit:a,isLoading:s})=>{const[l,c]=H.useState(""),f=H.useRef(null);H.useEffect(()=>{var h;(h=f.current)==null||h.scrollIntoView({behavior:"smooth"})},[e]);const p=h=>{h.preventDefault(),l.trim()&&!s&&(a(l),c(""))};return d.jsxs("div",{className:"p-4 h-full flex flex-col bg-slate-800/50 border-l border-slate-700",children:[d.jsx("h3",{className:"text-xl font-bold text-amber-300 mb-2",children:"AI 對話夥伴"}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"perspective",className:"block text-sm font-medium text-slate-400 mb-1",children:"對話模式"}),d.jsx("select",{id:"perspective",value:t,onChange:h=>i(h.target.value),className:"w-full p-2 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-amber-500 focus:outline-none",children:QI.map(h=>d.jsx("option",{value:h.key,children:h.name},h.key))})]}),d.jsxs("div",{className:"flex-grow overflow-y-auto mb-4 pr-2 space-y-4",children:[e.map((h,g)=>d.jsx("div",{className:`flex ${h.role==="user"?"justify-end":"justify-start"}`,children:d.jsx("div",{className:`max-w-xs md:max-w-md lg:max-w-lg p-3 rounded-lg ${h.role==="user"?"bg-sky-800 text-white":"bg-slate-700 text-slate-200"}`,children:h.role==="model"?d.jsx($d,{className:"prose prose-invert prose-sm max-w-none",children:h.content}):d.jsx("p",{className:"text-sm",style:{whiteSpace:"pre-wrap"},children:h.content})})},g)),s&&d.jsx("div",{className:"flex justify-start",children:d.jsx("div",{className:"bg-slate-700 text-slate-200 p-3 rounded-lg",children:d.jsx(XI,{className:"w-6 h-6 text-amber-300"})})}),d.jsx("div",{ref:f})]}),d.jsxs("form",{onSubmit:p,className:"flex items-center space-x-2",children:[d.jsx("input",{type:"text",value:l,onChange:h=>c(h.target.value),placeholder:"挑戰你的想法...",className:"flex-grow p-2 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-amber-500 focus:outline-none",disabled:s}),d.jsx("button",{type:"submit",disabled:s||!l.trim(),className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 disabled:bg-amber-800 disabled:cursor-not-allowed text-white font-semibold rounded-md transition-colors duration-200",children:"傳送"})]})]})};class tx extends Map{constructor(t,i=t5){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(nx(this,t))}has(t){return super.has(nx(this,t))}set(t,i){return super.set(WI(this,t),i)}delete(t){return super.delete(e5(this,t))}}function nx({_intern:e,_key:t},i){const a=t(i);return e.has(a)?e.get(a):i}function WI({_intern:e,_key:t},i){const a=t(i);return e.has(a)?e.get(a):(e.set(a,i),i)}function e5({_intern:e,_key:t},i){const a=t(i);return e.has(a)&&(i=e.get(a),e.delete(a)),i}function t5(e){return e!==null&&typeof e=="object"?e.valueOf():e}var n5={value:()=>{}};function _f(){for(var e=0,t=arguments.length,i={},a;e<t;++e){if(!(a=arguments[e]+"")||a in i||/[\s.]/.test(a))throw new Error("illegal type: "+a);i[a]=[]}return new hl(i)}function hl(e){this._=e}function i5(e,t){return e.trim().split(/^|\s+/).map(function(i){var a="",s=i.indexOf(".");if(s>=0&&(a=i.slice(s+1),i=i.slice(0,s)),i&&!t.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:a}})}hl.prototype=_f.prototype={constructor:hl,on:function(e,t){var i=this._,a=i5(e+"",i),s,l=-1,c=a.length;if(arguments.length<2){for(;++l<c;)if((s=(e=a[l]).type)&&(s=r5(i[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++l<c;)if(s=(e=a[l]).type)i[s]=ix(i[s],e.name,t);else if(t==null)for(s in i)i[s]=ix(i[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var i in t)e[i]=t[i].slice();return new hl(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var i=new Array(s),a=0,s,l;a<s;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(l=this._[e],a=0,s=l.length;a<s;++a)l[a].value.apply(t,i)},apply:function(e,t,i){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var a=this._[e],s=0,l=a.length;s<l;++s)a[s].value.apply(t,i)}};function r5(e,t){for(var i=0,a=e.length,s;i<a;++i)if((s=e[i]).name===t)return s.value}function ix(e,t,i){for(var a=0,s=e.length;a<s;++a)if(e[a].name===t){e[a]=n5,e=e.slice(0,a).concat(e.slice(a+1));break}return i!=null&&e.push({name:t,value:i}),e}var Qd="http://www.w3.org/1999/xhtml";const rx={svg:"http://www.w3.org/2000/svg",xhtml:Qd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Pl(e){var t=e+="",i=t.indexOf(":");return i>=0&&(t=e.slice(0,i))!=="xmlns"&&(e=e.slice(i+1)),rx.hasOwnProperty(t)?{space:rx[t],local:e}:e}function a5(e){return function(){var t=this.ownerDocument,i=this.namespaceURI;return i===Qd&&t.documentElement.namespaceURI===Qd?t.createElement(e):t.createElementNS(i,e)}}function o5(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Bv(e){var t=Pl(e);return(t.local?o5:a5)(t)}function s5(){}function Af(e){return e==null?s5:function(){return this.querySelector(e)}}function l5(e){typeof e!="function"&&(e=Af(e));for(var t=this._groups,i=t.length,a=new Array(i),s=0;s<i;++s)for(var l=t[s],c=l.length,f=a[s]=new Array(c),p,h,g=0;g<c;++g)(p=l[g])&&(h=e.call(p,p.__data__,g,l))&&("__data__"in p&&(h.__data__=p.__data__),f[g]=h);return new tn(a,this._parents)}function u5(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function c5(){return[]}function Ov(e){return e==null?c5:function(){return this.querySelectorAll(e)}}function d5(e){return function(){return u5(e.apply(this,arguments))}}function f5(e){typeof e=="function"?e=d5(e):e=Ov(e);for(var t=this._groups,i=t.length,a=[],s=[],l=0;l<i;++l)for(var c=t[l],f=c.length,p,h=0;h<f;++h)(p=c[h])&&(a.push(e.call(p,p.__data__,h,c)),s.push(p));return new tn(a,s)}function Fv(e){return function(){return this.matches(e)}}function Jv(e){return function(t){return t.matches(e)}}var h5=Array.prototype.find;function p5(e){return function(){return h5.call(this.children,e)}}function m5(){return this.firstElementChild}function g5(e){return this.select(e==null?m5:p5(typeof e=="function"?e:Jv(e)))}var y5=Array.prototype.filter;function x5(){return Array.from(this.children)}function v5(e){return function(){return y5.call(this.children,e)}}function b5(e){return this.selectAll(e==null?x5:v5(typeof e=="function"?e:Jv(e)))}function w5(e){typeof e!="function"&&(e=Fv(e));for(var t=this._groups,i=t.length,a=new Array(i),s=0;s<i;++s)for(var l=t[s],c=l.length,f=a[s]=[],p,h=0;h<c;++h)(p=l[h])&&e.call(p,p.__data__,h,l)&&f.push(p);return new tn(a,this._parents)}function Yv(e){return new Array(e.length)}function S5(){return new tn(this._enter||this._groups.map(Yv),this._parents)}function Nl(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Nl.prototype={constructor:Nl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function N5(e){return function(){return e}}function E5(e,t,i,a,s,l){for(var c=0,f,p=t.length,h=l.length;c<h;++c)(f=t[c])?(f.__data__=l[c],a[c]=f):i[c]=new Nl(e,l[c]);for(;c<p;++c)(f=t[c])&&(s[c]=f)}function T5(e,t,i,a,s,l,c){var f,p,h=new Map,g=t.length,b=l.length,w=new Array(g),S;for(f=0;f<g;++f)(p=t[f])&&(w[f]=S=c.call(p,p.__data__,f,t)+"",h.has(S)?s[f]=p:h.set(S,p));for(f=0;f<b;++f)S=c.call(e,l[f],f,l)+"",(p=h.get(S))?(a[f]=p,p.__data__=l[f],h.delete(S)):i[f]=new Nl(e,l[f]);for(f=0;f<g;++f)(p=t[f])&&h.get(w[f])===p&&(s[f]=p)}function C5(e){return e.__data__}function _5(e,t){if(!arguments.length)return Array.from(this,C5);var i=t?T5:E5,a=this._parents,s=this._groups;typeof e!="function"&&(e=N5(e));for(var l=s.length,c=new Array(l),f=new Array(l),p=new Array(l),h=0;h<l;++h){var g=a[h],b=s[h],w=b.length,S=A5(e.call(g,g&&g.__data__,h,a)),C=S.length,E=f[h]=new Array(C),R=c[h]=new Array(C),A=p[h]=new Array(w);i(g,b,E,R,A,S,t);for(var D=0,q=0,M,V;D<C;++D)if(M=E[D]){for(D>=q&&(q=D+1);!(V=R[q])&&++q<C;);M._next=V||null}}return c=new tn(c,a),c._enter=f,c._exit=p,c}function A5(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function k5(){return new tn(this._exit||this._groups.map(Yv),this._parents)}function I5(e,t,i){var a=this.enter(),s=this,l=this.exit();return typeof e=="function"?(a=e(a),a&&(a=a.selection())):a=a.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),i==null?l.remove():i(l),a&&s?a.merge(s).order():s}function R5(e){for(var t=e.selection?e.selection():e,i=this._groups,a=t._groups,s=i.length,l=a.length,c=Math.min(s,l),f=new Array(s),p=0;p<c;++p)for(var h=i[p],g=a[p],b=h.length,w=f[p]=new Array(b),S,C=0;C<b;++C)(S=h[C]||g[C])&&(w[C]=S);for(;p<s;++p)f[p]=i[p];return new tn(f,this._parents)}function M5(){for(var e=this._groups,t=-1,i=e.length;++t<i;)for(var a=e[t],s=a.length-1,l=a[s],c;--s>=0;)(c=a[s])&&(l&&c.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(c,l),l=c);return this}function D5(e){e||(e=L5);function t(b,w){return b&&w?e(b.__data__,w.__data__):!b-!w}for(var i=this._groups,a=i.length,s=new Array(a),l=0;l<a;++l){for(var c=i[l],f=c.length,p=s[l]=new Array(f),h,g=0;g<f;++g)(h=c[g])&&(p[g]=h);p.sort(t)}return new tn(s,this._parents).order()}function L5(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function q5(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function U5(){return Array.from(this)}function P5(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var a=e[t],s=0,l=a.length;s<l;++s){var c=a[s];if(c)return c}return null}function V5(){let e=0;for(const t of this)++e;return e}function G5(){return!this.node()}function j5(e){for(var t=this._groups,i=0,a=t.length;i<a;++i)for(var s=t[i],l=0,c=s.length,f;l<c;++l)(f=s[l])&&e.call(f,f.__data__,l,s);return this}function H5(e){return function(){this.removeAttribute(e)}}function z5(e){return function(){this.removeAttributeNS(e.space,e.local)}}function B5(e,t){return function(){this.setAttribute(e,t)}}function O5(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function F5(e,t){return function(){var i=t.apply(this,arguments);i==null?this.removeAttribute(e):this.setAttribute(e,i)}}function J5(e,t){return function(){var i=t.apply(this,arguments);i==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,i)}}function Y5(e,t){var i=Pl(e);if(arguments.length<2){var a=this.node();return i.local?a.getAttributeNS(i.space,i.local):a.getAttribute(i)}return this.each((t==null?i.local?z5:H5:typeof t=="function"?i.local?J5:F5:i.local?O5:B5)(i,t))}function $v(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function $5(e){return function(){this.style.removeProperty(e)}}function K5(e,t,i){return function(){this.style.setProperty(e,t,i)}}function Q5(e,t,i){return function(){var a=t.apply(this,arguments);a==null?this.style.removeProperty(e):this.style.setProperty(e,a,i)}}function X5(e,t,i){return arguments.length>1?this.each((t==null?$5:typeof t=="function"?Q5:K5)(e,t,i??"")):da(this.node(),e)}function da(e,t){return e.style.getPropertyValue(t)||$v(e).getComputedStyle(e,null).getPropertyValue(t)}function Z5(e){return function(){delete this[e]}}function W5(e,t){return function(){this[e]=t}}function eR(e,t){return function(){var i=t.apply(this,arguments);i==null?delete this[e]:this[e]=i}}function tR(e,t){return arguments.length>1?this.each((t==null?Z5:typeof t=="function"?eR:W5)(e,t)):this.node()[e]}function Kv(e){return e.trim().split(/^|\s+/)}function kf(e){return e.classList||new Qv(e)}function Qv(e){this._node=e,this._names=Kv(e.getAttribute("class")||"")}Qv.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Xv(e,t){for(var i=kf(e),a=-1,s=t.length;++a<s;)i.add(t[a])}function Zv(e,t){for(var i=kf(e),a=-1,s=t.length;++a<s;)i.remove(t[a])}function nR(e){return function(){Xv(this,e)}}function iR(e){return function(){Zv(this,e)}}function rR(e,t){return function(){(t.apply(this,arguments)?Xv:Zv)(this,e)}}function aR(e,t){var i=Kv(e+"");if(arguments.length<2){for(var a=kf(this.node()),s=-1,l=i.length;++s<l;)if(!a.contains(i[s]))return!1;return!0}return this.each((typeof t=="function"?rR:t?nR:iR)(i,t))}function oR(){this.textContent=""}function sR(e){return function(){this.textContent=e}}function lR(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function uR(e){return arguments.length?this.each(e==null?oR:(typeof e=="function"?lR:sR)(e)):this.node().textContent}function cR(){this.innerHTML=""}function dR(e){return function(){this.innerHTML=e}}function fR(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function hR(e){return arguments.length?this.each(e==null?cR:(typeof e=="function"?fR:dR)(e)):this.node().innerHTML}function pR(){this.nextSibling&&this.parentNode.appendChild(this)}function mR(){return this.each(pR)}function gR(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yR(){return this.each(gR)}function xR(e){var t=typeof e=="function"?e:Bv(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function vR(){return null}function bR(e,t){var i=typeof e=="function"?e:Bv(e),a=t==null?vR:typeof t=="function"?t:Af(t);return this.select(function(){return this.insertBefore(i.apply(this,arguments),a.apply(this,arguments)||null)})}function wR(){var e=this.parentNode;e&&e.removeChild(this)}function SR(){return this.each(wR)}function NR(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ER(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function TR(e){return this.select(e?ER:NR)}function CR(e){return arguments.length?this.property("__data__",e):this.node().__data__}function _R(e){return function(t){e.call(this,t,this.__data__)}}function AR(e){return e.trim().split(/^|\s+/).map(function(t){var i="",a=t.indexOf(".");return a>=0&&(i=t.slice(a+1),t=t.slice(0,a)),{type:t,name:i}})}function kR(e){return function(){var t=this.__on;if(t){for(var i=0,a=-1,s=t.length,l;i<s;++i)l=t[i],(!e.type||l.type===e.type)&&l.name===e.name?this.removeEventListener(l.type,l.listener,l.options):t[++a]=l;++a?t.length=a:delete this.__on}}}function IR(e,t,i){return function(){var a=this.__on,s,l=_R(t);if(a){for(var c=0,f=a.length;c<f;++c)if((s=a[c]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=l,s.options=i),s.value=t;return}}this.addEventListener(e.type,l,i),s={type:e.type,name:e.name,value:t,listener:l,options:i},a?a.push(s):this.__on=[s]}}function RR(e,t,i){var a=AR(e+""),s,l=a.length,c;if(arguments.length<2){var f=this.node().__on;if(f){for(var p=0,h=f.length,g;p<h;++p)for(s=0,g=f[p];s<l;++s)if((c=a[s]).type===g.type&&c.name===g.name)return g.value}return}for(f=t?IR:kR,s=0;s<l;++s)this.each(f(a[s],t,i));return this}function Wv(e,t,i){var a=$v(e),s=a.CustomEvent;typeof s=="function"?s=new s(t,i):(s=a.document.createEvent("Event"),i?(s.initEvent(t,i.bubbles,i.cancelable),s.detail=i.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function MR(e,t){return function(){return Wv(this,e,t)}}function DR(e,t){return function(){return Wv(this,e,t.apply(this,arguments))}}function LR(e,t){return this.each((typeof t=="function"?DR:MR)(e,t))}function*qR(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var a=e[t],s=0,l=a.length,c;s<l;++s)(c=a[s])&&(yield c)}var eb=[null];function tn(e,t){this._groups=e,this._parents=t}function Po(){return new tn([[document.documentElement]],eb)}function UR(){return this}tn.prototype=Po.prototype={constructor:tn,select:l5,selectAll:f5,selectChild:g5,selectChildren:b5,filter:w5,data:_5,enter:S5,exit:k5,join:I5,merge:R5,selection:UR,order:M5,sort:D5,call:q5,nodes:U5,node:P5,size:V5,empty:G5,each:j5,attr:Y5,style:X5,property:tR,classed:aR,text:uR,html:hR,raise:mR,lower:yR,append:xR,insert:bR,remove:SR,clone:TR,datum:CR,on:RR,dispatch:LR,[Symbol.iterator]:qR};function PR(e){return typeof e=="string"?new tn([[document.querySelector(e)]],[document.documentElement]):new tn([[e]],eb)}function If(e,t,i){e.prototype=t.prototype=i,i.constructor=e}function tb(e,t){var i=Object.create(e.prototype);for(var a in t)i[a]=t[a];return i}function Vo(){}var Io=.7,El=1/Io,ca="\\s*([+-]?\\d+)\\s*",Ro="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ln="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",VR=/^#([0-9a-f]{3,8})$/,GR=new RegExp(`^rgb\\(${ca},${ca},${ca}\\)$`),jR=new RegExp(`^rgb\\(${Ln},${Ln},${Ln}\\)$`),HR=new RegExp(`^rgba\\(${ca},${ca},${ca},${Ro}\\)$`),zR=new RegExp(`^rgba\\(${Ln},${Ln},${Ln},${Ro}\\)$`),BR=new RegExp(`^hsl\\(${Ro},${Ln},${Ln}\\)$`),OR=new RegExp(`^hsla\\(${Ro},${Ln},${Ln},${Ro}\\)$`),ax={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};If(Vo,Mo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ox,formatHex:ox,formatHex8:FR,formatHsl:JR,formatRgb:sx,toString:sx});function ox(){return this.rgb().formatHex()}function FR(){return this.rgb().formatHex8()}function JR(){return nb(this).formatHsl()}function sx(){return this.rgb().formatRgb()}function Mo(e){var t,i;return e=(e+"").trim().toLowerCase(),(t=VR.exec(e))?(i=t[1].length,t=parseInt(t[1],16),i===6?lx(t):i===3?new Ht(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):i===8?ll(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):i===4?ll(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=GR.exec(e))?new Ht(t[1],t[2],t[3],1):(t=jR.exec(e))?new Ht(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=HR.exec(e))?ll(t[1],t[2],t[3],t[4]):(t=zR.exec(e))?ll(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=BR.exec(e))?dx(t[1],t[2]/100,t[3]/100,1):(t=OR.exec(e))?dx(t[1],t[2]/100,t[3]/100,t[4]):ax.hasOwnProperty(e)?lx(ax[e]):e==="transparent"?new Ht(NaN,NaN,NaN,0):null}function lx(e){return new Ht(e>>16&255,e>>8&255,e&255,1)}function ll(e,t,i,a){return a<=0&&(e=t=i=NaN),new Ht(e,t,i,a)}function YR(e){return e instanceof Vo||(e=Mo(e)),e?(e=e.rgb(),new Ht(e.r,e.g,e.b,e.opacity)):new Ht}function Xd(e,t,i,a){return arguments.length===1?YR(e):new Ht(e,t,i,a??1)}function Ht(e,t,i,a){this.r=+e,this.g=+t,this.b=+i,this.opacity=+a}If(Ht,Xd,tb(Vo,{brighter(e){return e=e==null?El:Math.pow(El,e),new Ht(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Io:Math.pow(Io,e),new Ht(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ht(nr(this.r),nr(this.g),nr(this.b),Tl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ux,formatHex:ux,formatHex8:$R,formatRgb:cx,toString:cx}));function ux(){return`#${tr(this.r)}${tr(this.g)}${tr(this.b)}`}function $R(){return`#${tr(this.r)}${tr(this.g)}${tr(this.b)}${tr((isNaN(this.opacity)?1:this.opacity)*255)}`}function cx(){const e=Tl(this.opacity);return`${e===1?"rgb(":"rgba("}${nr(this.r)}, ${nr(this.g)}, ${nr(this.b)}${e===1?")":`, ${e})`}`}function Tl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function nr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function tr(e){return e=nr(e),(e<16?"0":"")+e.toString(16)}function dx(e,t,i,a){return a<=0?e=t=i=NaN:i<=0||i>=1?e=t=NaN:t<=0&&(e=NaN),new Sn(e,t,i,a)}function nb(e){if(e instanceof Sn)return new Sn(e.h,e.s,e.l,e.opacity);if(e instanceof Vo||(e=Mo(e)),!e)return new Sn;if(e instanceof Sn)return e;e=e.rgb();var t=e.r/255,i=e.g/255,a=e.b/255,s=Math.min(t,i,a),l=Math.max(t,i,a),c=NaN,f=l-s,p=(l+s)/2;return f?(t===l?c=(i-a)/f+(i<a)*6:i===l?c=(a-t)/f+2:c=(t-i)/f+4,f/=p<.5?l+s:2-l-s,c*=60):f=p>0&&p<1?0:c,new Sn(c,f,p,e.opacity)}function KR(e,t,i,a){return arguments.length===1?nb(e):new Sn(e,t,i,a??1)}function Sn(e,t,i,a){this.h=+e,this.s=+t,this.l=+i,this.opacity=+a}If(Sn,KR,tb(Vo,{brighter(e){return e=e==null?El:Math.pow(El,e),new Sn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Io:Math.pow(Io,e),new Sn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,a=i+(i<.5?i:1-i)*t,s=2*i-a;return new Ht(Cd(e>=240?e-240:e+120,s,a),Cd(e,s,a),Cd(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new Sn(fx(this.h),ul(this.s),ul(this.l),Tl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Tl(this.opacity);return`${e===1?"hsl(":"hsla("}${fx(this.h)}, ${ul(this.s)*100}%, ${ul(this.l)*100}%${e===1?")":`, ${e})`}`}}));function fx(e){return e=(e||0)%360,e<0?e+360:e}function ul(e){return Math.max(0,Math.min(1,e||0))}function Cd(e,t,i){return(e<60?t+(i-t)*e/60:e<180?i:e<240?t+(i-t)*(240-e)/60:t)*255}const ib=e=>()=>e;function QR(e,t){return function(i){return e+i*t}}function XR(e,t,i){return e=Math.pow(e,i),t=Math.pow(t,i)-e,i=1/i,function(a){return Math.pow(e+a*t,i)}}function ZR(e){return(e=+e)==1?rb:function(t,i){return i-t?XR(t,i,e):ib(isNaN(t)?i:t)}}function rb(e,t){var i=t-e;return i?QR(e,i):ib(isNaN(e)?t:e)}const hx=(function e(t){var i=ZR(t);function a(s,l){var c=i((s=Xd(s)).r,(l=Xd(l)).r),f=i(s.g,l.g),p=i(s.b,l.b),h=rb(s.opacity,l.opacity);return function(g){return s.r=c(g),s.g=f(g),s.b=p(g),s.opacity=h(g),s+""}}return a.gamma=e,a})(1);function Mi(e,t){return e=+e,t=+t,function(i){return e*(1-i)+t*i}}var Zd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_d=new RegExp(Zd.source,"g");function WR(e){return function(){return e}}function eM(e){return function(t){return e(t)+""}}function tM(e,t){var i=Zd.lastIndex=_d.lastIndex=0,a,s,l,c=-1,f=[],p=[];for(e=e+"",t=t+"";(a=Zd.exec(e))&&(s=_d.exec(t));)(l=s.index)>i&&(l=t.slice(i,l),f[c]?f[c]+=l:f[++c]=l),(a=a[0])===(s=s[0])?f[c]?f[c]+=s:f[++c]=s:(f[++c]=null,p.push({i:c,x:Mi(a,s)})),i=_d.lastIndex;return i<t.length&&(l=t.slice(i),f[c]?f[c]+=l:f[++c]=l),f.length<2?p[0]?eM(p[0].x):WR(t):(t=p.length,function(h){for(var g=0,b;g<t;++g)f[(b=p[g]).i]=b.x(h);return f.join("")})}var px=180/Math.PI,Wd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ab(e,t,i,a,s,l){var c,f,p;return(c=Math.sqrt(e*e+t*t))&&(e/=c,t/=c),(p=e*i+t*a)&&(i-=e*p,a-=t*p),(f=Math.sqrt(i*i+a*a))&&(i/=f,a/=f,p/=f),e*a<t*i&&(e=-e,t=-t,p=-p,c=-c),{translateX:s,translateY:l,rotate:Math.atan2(t,e)*px,skewX:Math.atan(p)*px,scaleX:c,scaleY:f}}var cl;function nM(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Wd:ab(t.a,t.b,t.c,t.d,t.e,t.f)}function iM(e){return e==null||(cl||(cl=document.createElementNS("http://www.w3.org/2000/svg","g")),cl.setAttribute("transform",e),!(e=cl.transform.baseVal.consolidate()))?Wd:(e=e.matrix,ab(e.a,e.b,e.c,e.d,e.e,e.f))}function ob(e,t,i,a){function s(h){return h.length?h.pop()+" ":""}function l(h,g,b,w,S,C){if(h!==b||g!==w){var E=S.push("translate(",null,t,null,i);C.push({i:E-4,x:Mi(h,b)},{i:E-2,x:Mi(g,w)})}else(b||w)&&S.push("translate("+b+t+w+i)}function c(h,g,b,w){h!==g?(h-g>180?g+=360:g-h>180&&(h+=360),w.push({i:b.push(s(b)+"rotate(",null,a)-2,x:Mi(h,g)})):g&&b.push(s(b)+"rotate("+g+a)}function f(h,g,b,w){h!==g?w.push({i:b.push(s(b)+"skewX(",null,a)-2,x:Mi(h,g)}):g&&b.push(s(b)+"skewX("+g+a)}function p(h,g,b,w,S,C){if(h!==b||g!==w){var E=S.push(s(S)+"scale(",null,",",null,")");C.push({i:E-4,x:Mi(h,b)},{i:E-2,x:Mi(g,w)})}else(b!==1||w!==1)&&S.push(s(S)+"scale("+b+","+w+")")}return function(h,g){var b=[],w=[];return h=e(h),g=e(g),l(h.translateX,h.translateY,g.translateX,g.translateY,b,w),c(h.rotate,g.rotate,b,w),f(h.skewX,g.skewX,b,w),p(h.scaleX,h.scaleY,g.scaleX,g.scaleY,b,w),h=g=null,function(S){for(var C=-1,E=w.length,R;++C<E;)b[(R=w[C]).i]=R.x(S);return b.join("")}}}var rM=ob(nM,"px, ","px)","deg)"),aM=ob(iM,", ",")",")"),fa=0,wo=0,vo=0,sb=1e3,Cl,So,_l=0,rr=0,Vl=0,Do=typeof performance=="object"&&performance.now?performance:Date,lb=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Rf(){return rr||(lb(oM),rr=Do.now()+Vl)}function oM(){rr=0}function Al(){this._call=this._time=this._next=null}Al.prototype=Mf.prototype={constructor:Al,restart:function(e,t,i){if(typeof e!="function")throw new TypeError("callback is not a function");i=(i==null?Rf():+i)+(t==null?0:+t),!this._next&&So!==this&&(So?So._next=this:Cl=this,So=this),this._call=e,this._time=i,ef()},stop:function(){this._call&&(this._call=null,this._time=1/0,ef())}};function Mf(e,t,i){var a=new Al;return a.restart(e,t,i),a}function sM(){Rf(),++fa;for(var e=Cl,t;e;)(t=rr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--fa}function mx(){rr=(_l=Do.now())+Vl,fa=wo=0;try{sM()}finally{fa=0,uM(),rr=0}}function lM(){var e=Do.now(),t=e-_l;t>sb&&(Vl-=t,_l=e)}function uM(){for(var e,t=Cl,i,a=1/0;t;)t._call?(a>t._time&&(a=t._time),e=t,t=t._next):(i=t._next,t._next=null,t=e?e._next=i:Cl=i);So=e,ef(a)}function ef(e){if(!fa){wo&&(wo=clearTimeout(wo));var t=e-rr;t>24?(e<1/0&&(wo=setTimeout(mx,e-Do.now()-Vl)),vo&&(vo=clearInterval(vo))):(vo||(_l=Do.now(),vo=setInterval(lM,sb)),fa=1,lb(mx))}}function gx(e,t,i){var a=new Al;return t=t==null?0:+t,a.restart(s=>{a.stop(),e(s+t)},t,i),a}var cM=_f("start","end","cancel","interrupt"),dM=[],ub=0,yx=1,tf=2,pl=3,xx=4,nf=5,ml=6;function Gl(e,t,i,a,s,l){var c=e.__transition;if(!c)e.__transition={};else if(i in c)return;fM(e,i,{name:t,index:a,group:s,on:cM,tween:dM,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:ub})}function Df(e,t){var i=En(e,t);if(i.state>ub)throw new Error("too late; already scheduled");return i}function Un(e,t){var i=En(e,t);if(i.state>pl)throw new Error("too late; already running");return i}function En(e,t){var i=e.__transition;if(!i||!(i=i[t]))throw new Error("transition not found");return i}function fM(e,t,i){var a=e.__transition,s;a[t]=i,i.timer=Mf(l,0,i.time);function l(h){i.state=yx,i.timer.restart(c,i.delay,i.time),i.delay<=h&&c(h-i.delay)}function c(h){var g,b,w,S;if(i.state!==yx)return p();for(g in a)if(S=a[g],S.name===i.name){if(S.state===pl)return gx(c);S.state===xx?(S.state=ml,S.timer.stop(),S.on.call("interrupt",e,e.__data__,S.index,S.group),delete a[g]):+g<t&&(S.state=ml,S.timer.stop(),S.on.call("cancel",e,e.__data__,S.index,S.group),delete a[g])}if(gx(function(){i.state===pl&&(i.state=xx,i.timer.restart(f,i.delay,i.time),f(h))}),i.state=tf,i.on.call("start",e,e.__data__,i.index,i.group),i.state===tf){for(i.state=pl,s=new Array(w=i.tween.length),g=0,b=-1;g<w;++g)(S=i.tween[g].value.call(e,e.__data__,i.index,i.group))&&(s[++b]=S);s.length=b+1}}function f(h){for(var g=h<i.duration?i.ease.call(null,h/i.duration):(i.timer.restart(p),i.state=nf,1),b=-1,w=s.length;++b<w;)s[b].call(e,g);i.state===nf&&(i.on.call("end",e,e.__data__,i.index,i.group),p())}function p(){i.state=ml,i.timer.stop(),delete a[t];for(var h in a)return;delete e.__transition}}function hM(e,t){var i=e.__transition,a,s,l=!0,c;if(i){t=t==null?null:t+"";for(c in i){if((a=i[c]).name!==t){l=!1;continue}s=a.state>tf&&a.state<nf,a.state=ml,a.timer.stop(),a.on.call(s?"interrupt":"cancel",e,e.__data__,a.index,a.group),delete i[c]}l&&delete e.__transition}}function pM(e){return this.each(function(){hM(this,e)})}function mM(e,t){var i,a;return function(){var s=Un(this,e),l=s.tween;if(l!==i){a=i=l;for(var c=0,f=a.length;c<f;++c)if(a[c].name===t){a=a.slice(),a.splice(c,1);break}}s.tween=a}}function gM(e,t,i){var a,s;if(typeof i!="function")throw new Error;return function(){var l=Un(this,e),c=l.tween;if(c!==a){s=(a=c).slice();for(var f={name:t,value:i},p=0,h=s.length;p<h;++p)if(s[p].name===t){s[p]=f;break}p===h&&s.push(f)}l.tween=s}}function yM(e,t){var i=this._id;if(e+="",arguments.length<2){for(var a=En(this.node(),i).tween,s=0,l=a.length,c;s<l;++s)if((c=a[s]).name===e)return c.value;return null}return this.each((t==null?mM:gM)(i,e,t))}function Lf(e,t,i){var a=e._id;return e.each(function(){var s=Un(this,a);(s.value||(s.value={}))[t]=i.apply(this,arguments)}),function(s){return En(s,a).value[t]}}function cb(e,t){var i;return(typeof t=="number"?Mi:t instanceof Mo?hx:(i=Mo(t))?(t=i,hx):tM)(e,t)}function xM(e){return function(){this.removeAttribute(e)}}function vM(e){return function(){this.removeAttributeNS(e.space,e.local)}}function bM(e,t,i){var a,s=i+"",l;return function(){var c=this.getAttribute(e);return c===s?null:c===a?l:l=t(a=c,i)}}function wM(e,t,i){var a,s=i+"",l;return function(){var c=this.getAttributeNS(e.space,e.local);return c===s?null:c===a?l:l=t(a=c,i)}}function SM(e,t,i){var a,s,l;return function(){var c,f=i(this),p;return f==null?void this.removeAttribute(e):(c=this.getAttribute(e),p=f+"",c===p?null:c===a&&p===s?l:(s=p,l=t(a=c,f)))}}function NM(e,t,i){var a,s,l;return function(){var c,f=i(this),p;return f==null?void this.removeAttributeNS(e.space,e.local):(c=this.getAttributeNS(e.space,e.local),p=f+"",c===p?null:c===a&&p===s?l:(s=p,l=t(a=c,f)))}}function EM(e,t){var i=Pl(e),a=i==="transform"?aM:cb;return this.attrTween(e,typeof t=="function"?(i.local?NM:SM)(i,a,Lf(this,"attr."+e,t)):t==null?(i.local?vM:xM)(i):(i.local?wM:bM)(i,a,t))}function TM(e,t){return function(i){this.setAttribute(e,t.call(this,i))}}function CM(e,t){return function(i){this.setAttributeNS(e.space,e.local,t.call(this,i))}}function _M(e,t){var i,a;function s(){var l=t.apply(this,arguments);return l!==a&&(i=(a=l)&&CM(e,l)),i}return s._value=t,s}function AM(e,t){var i,a;function s(){var l=t.apply(this,arguments);return l!==a&&(i=(a=l)&&TM(e,l)),i}return s._value=t,s}function kM(e,t){var i="attr."+e;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;var a=Pl(e);return this.tween(i,(a.local?_M:AM)(a,t))}function IM(e,t){return function(){Df(this,e).delay=+t.apply(this,arguments)}}function RM(e,t){return t=+t,function(){Df(this,e).delay=t}}function MM(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?IM:RM)(t,e)):En(this.node(),t).delay}function DM(e,t){return function(){Un(this,e).duration=+t.apply(this,arguments)}}function LM(e,t){return t=+t,function(){Un(this,e).duration=t}}function qM(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?DM:LM)(t,e)):En(this.node(),t).duration}function UM(e,t){if(typeof t!="function")throw new Error;return function(){Un(this,e).ease=t}}function PM(e){var t=this._id;return arguments.length?this.each(UM(t,e)):En(this.node(),t).ease}function VM(e,t){return function(){var i=t.apply(this,arguments);if(typeof i!="function")throw new Error;Un(this,e).ease=i}}function GM(e){if(typeof e!="function")throw new Error;return this.each(VM(this._id,e))}function jM(e){typeof e!="function"&&(e=Fv(e));for(var t=this._groups,i=t.length,a=new Array(i),s=0;s<i;++s)for(var l=t[s],c=l.length,f=a[s]=[],p,h=0;h<c;++h)(p=l[h])&&e.call(p,p.__data__,h,l)&&f.push(p);return new ii(a,this._parents,this._name,this._id)}function HM(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,i=e._groups,a=t.length,s=i.length,l=Math.min(a,s),c=new Array(a),f=0;f<l;++f)for(var p=t[f],h=i[f],g=p.length,b=c[f]=new Array(g),w,S=0;S<g;++S)(w=p[S]||h[S])&&(b[S]=w);for(;f<a;++f)c[f]=t[f];return new ii(c,this._parents,this._name,this._id)}function zM(e){return(e+"").trim().split(/^|\s+/).every(function(t){var i=t.indexOf(".");return i>=0&&(t=t.slice(0,i)),!t||t==="start"})}function BM(e,t,i){var a,s,l=zM(t)?Df:Un;return function(){var c=l(this,e),f=c.on;f!==a&&(s=(a=f).copy()).on(t,i),c.on=s}}function OM(e,t){var i=this._id;return arguments.length<2?En(this.node(),i).on.on(e):this.each(BM(i,e,t))}function FM(e){return function(){var t=this.parentNode;for(var i in this.__transition)if(+i!==e)return;t&&t.removeChild(this)}}function JM(){return this.on("end.remove",FM(this._id))}function YM(e){var t=this._name,i=this._id;typeof e!="function"&&(e=Af(e));for(var a=this._groups,s=a.length,l=new Array(s),c=0;c<s;++c)for(var f=a[c],p=f.length,h=l[c]=new Array(p),g,b,w=0;w<p;++w)(g=f[w])&&(b=e.call(g,g.__data__,w,f))&&("__data__"in g&&(b.__data__=g.__data__),h[w]=b,Gl(h[w],t,i,w,h,En(g,i)));return new ii(l,this._parents,t,i)}function $M(e){var t=this._name,i=this._id;typeof e!="function"&&(e=Ov(e));for(var a=this._groups,s=a.length,l=[],c=[],f=0;f<s;++f)for(var p=a[f],h=p.length,g,b=0;b<h;++b)if(g=p[b]){for(var w=e.call(g,g.__data__,b,p),S,C=En(g,i),E=0,R=w.length;E<R;++E)(S=w[E])&&Gl(S,t,i,E,w,C);l.push(w),c.push(g)}return new ii(l,c,t,i)}var KM=Po.prototype.constructor;function QM(){return new KM(this._groups,this._parents)}function XM(e,t){var i,a,s;return function(){var l=da(this,e),c=(this.style.removeProperty(e),da(this,e));return l===c?null:l===i&&c===a?s:s=t(i=l,a=c)}}function db(e){return function(){this.style.removeProperty(e)}}function ZM(e,t,i){var a,s=i+"",l;return function(){var c=da(this,e);return c===s?null:c===a?l:l=t(a=c,i)}}function WM(e,t,i){var a,s,l;return function(){var c=da(this,e),f=i(this),p=f+"";return f==null&&(p=f=(this.style.removeProperty(e),da(this,e))),c===p?null:c===a&&p===s?l:(s=p,l=t(a=c,f))}}function e6(e,t){var i,a,s,l="style."+t,c="end."+l,f;return function(){var p=Un(this,e),h=p.on,g=p.value[l]==null?f||(f=db(t)):void 0;(h!==i||s!==g)&&(a=(i=h).copy()).on(c,s=g),p.on=a}}function t6(e,t,i){var a=(e+="")=="transform"?rM:cb;return t==null?this.styleTween(e,XM(e,a)).on("end.style."+e,db(e)):typeof t=="function"?this.styleTween(e,WM(e,a,Lf(this,"style."+e,t))).each(e6(this._id,e)):this.styleTween(e,ZM(e,a,t),i).on("end.style."+e,null)}function n6(e,t,i){return function(a){this.style.setProperty(e,t.call(this,a),i)}}function i6(e,t,i){var a,s;function l(){var c=t.apply(this,arguments);return c!==s&&(a=(s=c)&&n6(e,c,i)),a}return l._value=t,l}function r6(e,t,i){var a="style."+(e+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(t==null)return this.tween(a,null);if(typeof t!="function")throw new Error;return this.tween(a,i6(e,t,i??""))}function a6(e){return function(){this.textContent=e}}function o6(e){return function(){var t=e(this);this.textContent=t??""}}function s6(e){return this.tween("text",typeof e=="function"?o6(Lf(this,"text",e)):a6(e==null?"":e+""))}function l6(e){return function(t){this.textContent=e.call(this,t)}}function u6(e){var t,i;function a(){var s=e.apply(this,arguments);return s!==i&&(t=(i=s)&&l6(s)),t}return a._value=e,a}function c6(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,u6(e))}function d6(){for(var e=this._name,t=this._id,i=fb(),a=this._groups,s=a.length,l=0;l<s;++l)for(var c=a[l],f=c.length,p,h=0;h<f;++h)if(p=c[h]){var g=En(p,t);Gl(p,e,i,h,c,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new ii(a,this._parents,e,i)}function f6(){var e,t,i=this,a=i._id,s=i.size();return new Promise(function(l,c){var f={value:c},p={value:function(){--s===0&&l()}};i.each(function(){var h=Un(this,a),g=h.on;g!==e&&(t=(e=g).copy(),t._.cancel.push(f),t._.interrupt.push(f),t._.end.push(p)),h.on=t}),s===0&&l()})}var h6=0;function ii(e,t,i,a){this._groups=e,this._parents=t,this._name=i,this._id=a}function fb(){return++h6}var ni=Po.prototype;ii.prototype={constructor:ii,select:YM,selectAll:$M,selectChild:ni.selectChild,selectChildren:ni.selectChildren,filter:jM,merge:HM,selection:QM,transition:d6,call:ni.call,nodes:ni.nodes,node:ni.node,size:ni.size,empty:ni.empty,each:ni.each,on:OM,attr:EM,attrTween:kM,style:t6,styleTween:r6,text:s6,textTween:c6,remove:JM,tween:yM,delay:MM,duration:qM,ease:PM,easeVarying:GM,end:f6,[Symbol.iterator]:ni[Symbol.iterator]};function p6(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var m6={time:null,delay:0,duration:250,ease:p6};function g6(e,t){for(var i;!(i=e.__transition)||!(i=i[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return i}function y6(e){var t,i;e instanceof ii?(t=e._id,e=e._name):(t=fb(),(i=m6).time=Rf(),e=e==null?null:e+"");for(var a=this._groups,s=a.length,l=0;l<s;++l)for(var c=a[l],f=c.length,p,h=0;h<f;++h)(p=c[h])&&Gl(p,e,t,h,c,i||g6(p,t));return new ii(a,this._parents,e,t)}Po.prototype.interrupt=pM;Po.prototype.transition=y6;function x6(e,t){var i,a=1;e==null&&(e=0),t==null&&(t=0);function s(){var l,c=i.length,f,p=0,h=0;for(l=0;l<c;++l)f=i[l],p+=f.x,h+=f.y;for(p=(p/c-e)*a,h=(h/c-t)*a,l=0;l<c;++l)f=i[l],f.x-=p,f.y-=h}return s.initialize=function(l){i=l},s.x=function(l){return arguments.length?(e=+l,s):e},s.y=function(l){return arguments.length?(t=+l,s):t},s.strength=function(l){return arguments.length?(a=+l,s):a},s}function v6(e){const t=+this._x.call(null,e),i=+this._y.call(null,e);return hb(this.cover(t,i),t,i,e)}function hb(e,t,i,a){if(isNaN(t)||isNaN(i))return e;var s,l=e._root,c={data:a},f=e._x0,p=e._y0,h=e._x1,g=e._y1,b,w,S,C,E,R,A,D;if(!l)return e._root=c,e;for(;l.length;)if((E=t>=(b=(f+h)/2))?f=b:h=b,(R=i>=(w=(p+g)/2))?p=w:g=w,s=l,!(l=l[A=R<<1|E]))return s[A]=c,e;if(S=+e._x.call(null,l.data),C=+e._y.call(null,l.data),t===S&&i===C)return c.next=l,s?s[A]=c:e._root=c,e;do s=s?s[A]=new Array(4):e._root=new Array(4),(E=t>=(b=(f+h)/2))?f=b:h=b,(R=i>=(w=(p+g)/2))?p=w:g=w;while((A=R<<1|E)===(D=(C>=w)<<1|S>=b));return s[D]=l,s[A]=c,e}function b6(e){var t,i,a=e.length,s,l,c=new Array(a),f=new Array(a),p=1/0,h=1/0,g=-1/0,b=-1/0;for(i=0;i<a;++i)isNaN(s=+this._x.call(null,t=e[i]))||isNaN(l=+this._y.call(null,t))||(c[i]=s,f[i]=l,s<p&&(p=s),s>g&&(g=s),l<h&&(h=l),l>b&&(b=l));if(p>g||h>b)return this;for(this.cover(p,h).cover(g,b),i=0;i<a;++i)hb(this,c[i],f[i],e[i]);return this}function w6(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var i=this._x0,a=this._y0,s=this._x1,l=this._y1;if(isNaN(i))s=(i=Math.floor(e))+1,l=(a=Math.floor(t))+1;else{for(var c=s-i||1,f=this._root,p,h;i>e||e>=s||a>t||t>=l;)switch(h=(t<a)<<1|e<i,p=new Array(4),p[h]=f,f=p,c*=2,h){case 0:s=i+c,l=a+c;break;case 1:i=s-c,l=a+c;break;case 2:s=i+c,a=l-c;break;case 3:i=s-c,a=l-c;break}this._root&&this._root.length&&(this._root=f)}return this._x0=i,this._y0=a,this._x1=s,this._y1=l,this}function S6(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function N6(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function kt(e,t,i,a,s){this.node=e,this.x0=t,this.y0=i,this.x1=a,this.y1=s}function E6(e,t,i){var a,s=this._x0,l=this._y0,c,f,p,h,g=this._x1,b=this._y1,w=[],S=this._root,C,E;for(S&&w.push(new kt(S,s,l,g,b)),i==null?i=1/0:(s=e-i,l=t-i,g=e+i,b=t+i,i*=i);C=w.pop();)if(!(!(S=C.node)||(c=C.x0)>g||(f=C.y0)>b||(p=C.x1)<s||(h=C.y1)<l))if(S.length){var R=(c+p)/2,A=(f+h)/2;w.push(new kt(S[3],R,A,p,h),new kt(S[2],c,A,R,h),new kt(S[1],R,f,p,A),new kt(S[0],c,f,R,A)),(E=(t>=A)<<1|e>=R)&&(C=w[w.length-1],w[w.length-1]=w[w.length-1-E],w[w.length-1-E]=C)}else{var D=e-+this._x.call(null,S.data),q=t-+this._y.call(null,S.data),M=D*D+q*q;if(M<i){var V=Math.sqrt(i=M);s=e-V,l=t-V,g=e+V,b=t+V,a=S.data}}return a}function T6(e){if(isNaN(g=+this._x.call(null,e))||isNaN(b=+this._y.call(null,e)))return this;var t,i=this._root,a,s,l,c=this._x0,f=this._y0,p=this._x1,h=this._y1,g,b,w,S,C,E,R,A;if(!i)return this;if(i.length)for(;;){if((C=g>=(w=(c+p)/2))?c=w:p=w,(E=b>=(S=(f+h)/2))?f=S:h=S,t=i,!(i=i[R=E<<1|C]))return this;if(!i.length)break;(t[R+1&3]||t[R+2&3]||t[R+3&3])&&(a=t,A=R)}for(;i.data!==e;)if(s=i,!(i=i.next))return this;return(l=i.next)&&delete i.next,s?(l?s.next=l:delete s.next,this):t?(l?t[R]=l:delete t[R],(i=t[0]||t[1]||t[2]||t[3])&&i===(t[3]||t[2]||t[1]||t[0])&&!i.length&&(a?a[A]=i:this._root=i),this):(this._root=l,this)}function C6(e){for(var t=0,i=e.length;t<i;++t)this.remove(e[t]);return this}function _6(){return this._root}function A6(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function k6(e){var t=[],i,a=this._root,s,l,c,f,p;for(a&&t.push(new kt(a,this._x0,this._y0,this._x1,this._y1));i=t.pop();)if(!e(a=i.node,l=i.x0,c=i.y0,f=i.x1,p=i.y1)&&a.length){var h=(l+f)/2,g=(c+p)/2;(s=a[3])&&t.push(new kt(s,h,g,f,p)),(s=a[2])&&t.push(new kt(s,l,g,h,p)),(s=a[1])&&t.push(new kt(s,h,c,f,g)),(s=a[0])&&t.push(new kt(s,l,c,h,g))}return this}function I6(e){var t=[],i=[],a;for(this._root&&t.push(new kt(this._root,this._x0,this._y0,this._x1,this._y1));a=t.pop();){var s=a.node;if(s.length){var l,c=a.x0,f=a.y0,p=a.x1,h=a.y1,g=(c+p)/2,b=(f+h)/2;(l=s[0])&&t.push(new kt(l,c,f,g,b)),(l=s[1])&&t.push(new kt(l,g,f,p,b)),(l=s[2])&&t.push(new kt(l,c,b,g,h)),(l=s[3])&&t.push(new kt(l,g,b,p,h))}i.push(a)}for(;a=i.pop();)e(a.node,a.x0,a.y0,a.x1,a.y1);return this}function R6(e){return e[0]}function M6(e){return arguments.length?(this._x=e,this):this._x}function D6(e){return e[1]}function L6(e){return arguments.length?(this._y=e,this):this._y}function pb(e,t,i){var a=new qf(t??R6,i??D6,NaN,NaN,NaN,NaN);return e==null?a:a.addAll(e)}function qf(e,t,i,a,s,l){this._x=e,this._y=t,this._x0=i,this._y0=a,this._x1=s,this._y1=l,this._root=void 0}function vx(e){for(var t={data:e.data},i=t;e=e.next;)i=i.next={data:e.data};return t}var It=pb.prototype=qf.prototype;It.copy=function(){var e=new qf(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,i,a;if(!t)return e;if(!t.length)return e._root=vx(t),e;for(i=[{source:t,target:e._root=new Array(4)}];t=i.pop();)for(var s=0;s<4;++s)(a=t.source[s])&&(a.length?i.push({source:a,target:t.target[s]=new Array(4)}):t.target[s]=vx(a));return e};It.add=v6;It.addAll=b6;It.cover=w6;It.data=S6;It.extent=N6;It.find=E6;It.remove=T6;It.removeAll=C6;It.root=_6;It.size=A6;It.visit=k6;It.visitAfter=I6;It.x=M6;It.y=L6;function en(e){return function(){return e}}function na(e){return(e()-.5)*1e-6}function q6(e){return e.index}function bx(e,t){var i=e.get(t);if(!i)throw new Error("node not found: "+t);return i}function U6(e){var t=q6,i=b,a,s=en(30),l,c,f,p,h,g=1;e==null&&(e=[]);function b(R){return 1/Math.min(f[R.source.index],f[R.target.index])}function w(R){for(var A=0,D=e.length;A<g;++A)for(var q=0,M,V,I,U,Q,$,K;q<D;++q)M=e[q],V=M.source,I=M.target,U=I.x+I.vx-V.x-V.vx||na(h),Q=I.y+I.vy-V.y-V.vy||na(h),$=Math.sqrt(U*U+Q*Q),$=($-l[q])/$*R*a[q],U*=$,Q*=$,I.vx-=U*(K=p[q]),I.vy-=Q*K,V.vx+=U*(K=1-K),V.vy+=Q*K}function S(){if(c){var R,A=c.length,D=e.length,q=new Map(c.map((V,I)=>[t(V,I,c),V])),M;for(R=0,f=new Array(A);R<D;++R)M=e[R],M.index=R,typeof M.source!="object"&&(M.source=bx(q,M.source)),typeof M.target!="object"&&(M.target=bx(q,M.target)),f[M.source.index]=(f[M.source.index]||0)+1,f[M.target.index]=(f[M.target.index]||0)+1;for(R=0,p=new Array(D);R<D;++R)M=e[R],p[R]=f[M.source.index]/(f[M.source.index]+f[M.target.index]);a=new Array(D),C(),l=new Array(D),E()}}function C(){if(c)for(var R=0,A=e.length;R<A;++R)a[R]=+i(e[R],R,e)}function E(){if(c)for(var R=0,A=e.length;R<A;++R)l[R]=+s(e[R],R,e)}return w.initialize=function(R,A){c=R,h=A,S()},w.links=function(R){return arguments.length?(e=R,S(),w):e},w.id=function(R){return arguments.length?(t=R,w):t},w.iterations=function(R){return arguments.length?(g=+R,w):g},w.strength=function(R){return arguments.length?(i=typeof R=="function"?R:en(+R),C(),w):i},w.distance=function(R){return arguments.length?(s=typeof R=="function"?R:en(+R),E(),w):s},w}const P6=1664525,V6=1013904223,wx=4294967296;function G6(){let e=1;return()=>(e=(P6*e+V6)%wx)/wx}function j6(e){return e.x}function H6(e){return e.y}var z6=10,B6=Math.PI*(3-Math.sqrt(5));function O6(e){var t,i=1,a=.001,s=1-Math.pow(a,1/300),l=0,c=.6,f=new Map,p=Mf(b),h=_f("tick","end"),g=G6();e==null&&(e=[]);function b(){w(),h.call("tick",t),i<a&&(p.stop(),h.call("end",t))}function w(E){var R,A=e.length,D;E===void 0&&(E=1);for(var q=0;q<E;++q)for(i+=(l-i)*s,f.forEach(function(M){M(i)}),R=0;R<A;++R)D=e[R],D.fx==null?D.x+=D.vx*=c:(D.x=D.fx,D.vx=0),D.fy==null?D.y+=D.vy*=c:(D.y=D.fy,D.vy=0);return t}function S(){for(var E=0,R=e.length,A;E<R;++E){if(A=e[E],A.index=E,A.fx!=null&&(A.x=A.fx),A.fy!=null&&(A.y=A.fy),isNaN(A.x)||isNaN(A.y)){var D=z6*Math.sqrt(.5+E),q=E*B6;A.x=D*Math.cos(q),A.y=D*Math.sin(q)}(isNaN(A.vx)||isNaN(A.vy))&&(A.vx=A.vy=0)}}function C(E){return E.initialize&&E.initialize(e,g),E}return S(),t={tick:w,restart:function(){return p.restart(b),t},stop:function(){return p.stop(),t},nodes:function(E){return arguments.length?(e=E,S(),f.forEach(C),t):e},alpha:function(E){return arguments.length?(i=+E,t):i},alphaMin:function(E){return arguments.length?(a=+E,t):a},alphaDecay:function(E){return arguments.length?(s=+E,t):+s},alphaTarget:function(E){return arguments.length?(l=+E,t):l},velocityDecay:function(E){return arguments.length?(c=1-E,t):1-c},randomSource:function(E){return arguments.length?(g=E,f.forEach(C),t):g},force:function(E,R){return arguments.length>1?(R==null?f.delete(E):f.set(E,C(R)),t):f.get(E)},find:function(E,R,A){var D=0,q=e.length,M,V,I,U,Q;for(A==null?A=1/0:A*=A,D=0;D<q;++D)U=e[D],M=E-U.x,V=R-U.y,I=M*M+V*V,I<A&&(Q=U,A=I);return Q},on:function(E,R){return arguments.length>1?(h.on(E,R),t):h.on(E)}}}function F6(){var e,t,i,a,s=en(-30),l,c=1,f=1/0,p=.81;function h(S){var C,E=e.length,R=pb(e,j6,H6).visitAfter(b);for(a=S,C=0;C<E;++C)t=e[C],R.visit(w)}function g(){if(e){var S,C=e.length,E;for(l=new Array(C),S=0;S<C;++S)E=e[S],l[E.index]=+s(E,S,e)}}function b(S){var C=0,E,R,A=0,D,q,M;if(S.length){for(D=q=M=0;M<4;++M)(E=S[M])&&(R=Math.abs(E.value))&&(C+=E.value,A+=R,D+=R*E.x,q+=R*E.y);S.x=D/A,S.y=q/A}else{E=S,E.x=E.data.x,E.y=E.data.y;do C+=l[E.data.index];while(E=E.next)}S.value=C}function w(S,C,E,R){if(!S.value)return!0;var A=S.x-t.x,D=S.y-t.y,q=R-C,M=A*A+D*D;if(q*q/p<M)return M<f&&(A===0&&(A=na(i),M+=A*A),D===0&&(D=na(i),M+=D*D),M<c&&(M=Math.sqrt(c*M)),t.vx+=A*S.value*a/M,t.vy+=D*S.value*a/M),!0;if(S.length||M>=f)return;(S.data!==t||S.next)&&(A===0&&(A=na(i),M+=A*A),D===0&&(D=na(i),M+=D*D),M<c&&(M=Math.sqrt(c*M)));do S.data!==t&&(q=l[S.data.index]*a/M,t.vx+=A*q,t.vy+=D*q);while(S=S.next)}return h.initialize=function(S,C){e=S,i=C,g()},h.strength=function(S){return arguments.length?(s=typeof S=="function"?S:en(+S),g(),h):s},h.distanceMin=function(S){return arguments.length?(c=S*S,h):Math.sqrt(c)},h.distanceMax=function(S){return arguments.length?(f=S*S,h):Math.sqrt(f)},h.theta=function(S){return arguments.length?(p=S*S,h):Math.sqrt(p)},h}function J6(e){var t=en(.1),i,a,s;typeof e!="function"&&(e=en(e==null?0:+e));function l(f){for(var p=0,h=i.length,g;p<h;++p)g=i[p],g.vx+=(s[p]-g.x)*a[p]*f}function c(){if(i){var f,p=i.length;for(a=new Array(p),s=new Array(p),f=0;f<p;++f)a[f]=isNaN(s[f]=+e(i[f],f,i))?0:+t(i[f],f,i)}}return l.initialize=function(f){i=f,c()},l.strength=function(f){return arguments.length?(t=typeof f=="function"?f:en(+f),c(),l):t},l.x=function(f){return arguments.length?(e=typeof f=="function"?f:en(+f),c(),l):e},l}function Y6(e){var t=en(.1),i,a,s;typeof e!="function"&&(e=en(e==null?0:+e));function l(f){for(var p=0,h=i.length,g;p<h;++p)g=i[p],g.vy+=(s[p]-g.y)*a[p]*f}function c(){if(i){var f,p=i.length;for(a=new Array(p),s=new Array(p),f=0;f<p;++f)a[f]=isNaN(s[f]=+e(i[f],f,i))?0:+t(i[f],f,i)}}return l.initialize=function(f){i=f,c()},l.strength=function(f){return arguments.length?(t=typeof f=="function"?f:en(+f),c(),l):t},l.y=function(f){return arguments.length?(e=typeof f=="function"?f:en(+f),c(),l):e},l}function $6(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Sx=Symbol("implicit");function mb(){var e=new tx,t=[],i=[],a=Sx;function s(l){let c=e.get(l);if(c===void 0){if(a!==Sx)return a;e.set(l,c=t.push(l)-1)}return i[c%i.length]}return s.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new tx;for(const c of l)e.has(c)||e.set(c,t.push(c)-1);return s},s.range=function(l){return arguments.length?(i=Array.from(l),s):i.slice()},s.unknown=function(l){return arguments.length?(a=l,s):a},s.copy=function(){return mb(t,i).unknown(a)},$6.apply(s,arguments),s}function K6(e){for(var t=e.length/6|0,i=new Array(t),a=0;a<t;)i[a]="#"+e.slice(a*6,++a*6);return i}const Q6=K6("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function No(e,t,i){this.k=e,this.x=t,this.y=i}No.prototype={constructor:No,scale:function(e){return e===1?this:new No(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new No(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};No.prototype;const X6=({data:e})=>{const t=H.useRef(null);return H.useEffect(()=>{var w,S;if(!e||e.nodes.length===0||!t.current)return;const i=PR(t.current);i.selectAll("*").remove();const a=((w=i.node())==null?void 0:w.getBoundingClientRect().width)||600,s=((S=i.node())==null?void 0:S.getBoundingClientRect().height)||400,l=e.links.map(C=>Object.create(C)),c=e.nodes.map(C=>Object.create(C)),f=O6(c).force("link",U6(l).id(C=>C.id).distance(70)).force("charge",F6().strength(-150)).force("center",x6(a/2,s/2)).force("x",J6()).force("y",Y6()),p=mb(Q6),h=i.append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(l).join("line").attr("stroke-width",C=>Math.sqrt(C.value)),g=i.append("g").attr("stroke","#fff").attr("stroke-width",1.5).selectAll("circle").data(c).join("circle").attr("r",8).attr("fill",C=>p(C.group.toString())),b=i.append("g").attr("class","labels").selectAll("text").data(c).enter().append("text").attr("class","label").attr("fill","#ddd").attr("font-size","10px").attr("dx",12).attr("dy",".35em").text(C=>C.label);g.append("title").text(C=>C.label),f.on("tick",()=>{h.attr("x1",C=>C.source.x).attr("y1",C=>C.source.y).attr("x2",C=>C.target.x).attr("y2",C=>C.target.y),g.attr("cx",C=>C.x).attr("cy",C=>C.y),b.attr("x",C=>C.x).attr("y",C=>C.y)})},[e]),d.jsxs("div",{className:"w-full h-full p-4 bg-slate-800/50 border-l border-slate-700",children:[d.jsx("h3",{className:"text-xl font-bold text-purple-300 mb-2",children:"Concept Map"}),e.nodes.length===0?d.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:d.jsx("p",{children:"Generate a map from your text to visualize connections."})}):d.jsx("svg",{ref:t,className:"w-full h-full"})]})},Z6="AIzaSyDcN6U-3ferwZqCG-r93GR2kpKpC9U1SA4",jl=new Li({apiKey:Z6}),W6=e=>{switch(e){case Dn.Orthodox:return"You are a theologian from the Eastern Orthodox tradition. Engage with the user's points by drawing upon the Church Fathers, liturgy, and conciliar canons. Emphasize mystery, theosis, and apostolic tradition.";case Dn.Reformed:return"You are a theologian from the Reformed tradition. Engage with the user's points by focusing on the sovereignty of God, scriptural authority (Sola Scriptura), and covenant theology. Reference key figures like Calvin and documents like the Westminster Confession.";case Dn.Catholic:return"You are a theologian from the Roman Catholic tradition. Engage with the user's points by integrating Scripture, Sacred Tradition, and the Magisterium. Use scholastic reasoning and cite sources like Aquinas, Augustine, and papal encyclicals.";case Dn.Socratic:default:return"You are a Socratic guide. Your goal is to deepen the user's theological thinking by asking probing questions. Do not provide direct answers. Instead, challenge assumptions, ask for clarifications, and explore the logical consequences of their statements to help them discover their own conclusions."}},eD=async(e,t)=>{const i=`
    As a theological editor, refine the following text. Improve its clarity, academic rigor, and eloquence while preserving the core meaning. The user is currently in the "${t}" phase of their theological journey.

    Original Text:
    ---
    ${e}
    ---

    Refined Text:
  `;return(await jl.models.generateContent({model:"gemini-2.5-flash",contents:i})).text},tD=async e=>{const t=`
    Based on the following theological text, provide a list of relevant citations. Include:
    1.  Key Scripture passages (book, chapter, verse).
    2.  Relevant writings from Church Fathers (e.g., Augustine, Athanasius).
    3.  Major theological works or thinkers that address these themes.

    Format the output clearly.

    Text:
    ---
    ${e}
    ---

    Citations:
    `;return(await jl.models.generateContent({model:"gemini-2.5-flash",contents:t})).text},nD=async(e,t,i)=>{const a=W6(t),s=e.map(c=>({role:c.role,parts:[{text:c.content}]}));return s.push({role:"user",parts:[{text:i}]}),(await jl.models.generateContent({model:"gemini-2.5-flash",contents:s,config:{systemInstruction:a}})).text},iD=async e=>{try{const i=(await jl.models.generateContent({model:"gemini-2.5-flash",contents:`Analyze the following theological text and generate a JSON object representing a mind map of the key concepts. The JSON should have two keys: "nodes" and "links".
            - "nodes" should be an array of objects, each with "id" (a string), "label" (a string for the concept name), and "group" (a number representing the concept cluster).
            - "links" should be an array of objects, each with "source" (an id from nodes), "target" (an id from nodes), and "value" (a number from 1-10 for link strength).
            - Identify a central theme as group 1. Branch out to related theological concepts, scriptural references, and historical figures.
            
            Text to analyze:
            ---
            ${e}
            ---
            `,config:{responseMimeType:"application/json",responseSchema:{type:Ne.OBJECT,properties:{nodes:{type:Ne.ARRAY,items:{type:Ne.OBJECT,properties:{id:{type:Ne.STRING},label:{type:Ne.STRING},group:{type:Ne.INTEGER}}}},links:{type:Ne.ARRAY,items:{type:Ne.OBJECT,properties:{source:{type:Ne.STRING},target:{type:Ne.STRING},value:{type:Ne.INTEGER}}}}}}}})).text.trim(),a=JSON.parse(i);return a&&Array.isArray(a.nodes)&&Array.isArray(a.links)?a:(console.error("Parsed JSON does not match expected MindMapData structure:",a),{nodes:[],links:[]})}catch(t){return console.error("Error generating or parsing mind map data:",t),{nodes:[],links:[]}}},rD=()=>{const[e,t]=H.useState(pn.InitialConcept),[i,a]=H.useState({[pn.InitialConcept]:"",[pn.CreedContrast]:"",[pn.BiblicalInterpretation]:"",[pn.DoubtPhase]:"",[pn.Revelation]:""}),[s,l]=H.useState([]),[c,f]=H.useState(Dn.Socratic),[p,h]=H.useState({nodes:[],links:[]}),[g,b]=H.useState(!1),[w,S]=H.useState(!1),C=H.useMemo(()=>ex.find(V=>V.key===e),[e]),E=i[e],R=V=>{a(I=>({...I,[e]:V}))},A=async V=>{const I={role:"user",content:V},U=[...s];l(Q=>[...Q,I]),b(!0);try{const $={role:"model",content:await nD(U,c,V)};l(K=>[...K,$])}catch(Q){console.error("Error fetching dialogue response:",Q);const $={role:"model",content:"抱歉，發生錯誤。"};l(K=>[...K,$])}finally{b(!1)}},D=async()=>{if(E){S(!0);try{const V=await eD(E,C.title);R(V)}catch(V){console.error("Error refining text:",V)}finally{S(!1)}}},q=async()=>{if(E){S(!0);try{const V=await tD(E);R(E+`

--- Citations ---
`+V)}catch(V){console.error("Error getting citations:",V)}finally{S(!1)}}},M=async()=>{if(E){S(!0);try{const V=await iD(E);h(V)}catch(V){console.error("Error generating mind map:",V)}finally{S(!1)}}};return d.jsxs("main",{className:"bg-slate-900 text-slate-200 h-screen w-screen flex flex-col font-sans",children:[d.jsxs("header",{className:"p-4 border-b border-slate-700 flex items-center justify-between",children:[d.jsx("div",{className:"flex-1"}),d.jsx("h1",{className:"text-2xl font-bold text-center",children:"神學家思想路線圖"}),d.jsx("div",{className:"flex-1 flex justify-end",children:d.jsx("span",{className:"text-xs text-slate-400",children:"Powered by Gemini AI"})})]}),d.jsxs("div",{className:"flex-grow grid grid-cols-1 md:grid-cols-12 lg:grid-cols-10 gap-0 overflow-hidden",children:[d.jsx("div",{className:"md:col-span-3 lg:col-span-2 overflow-y-auto",children:d.jsx($I,{stages:ex,currentStage:e,onSelectStage:t})}),d.jsxs("div",{className:"md:col-span-9 lg:col-span-8 grid grid-cols-1 lg:grid-cols-2 gap-0 overflow-hidden",children:[d.jsx("div",{className:"overflow-y-auto",children:d.jsx(KI,{text:E,onTextChange:R,stage:C,onRefine:D,onGetCitations:q,onGenerateMindMap:M,isProcessing:w})}),d.jsxs("div",{className:"grid grid-rows-2 gap-0 overflow-hidden",children:[d.jsx("div",{className:"overflow-y-auto",children:d.jsx(ZI,{history:s,perspective:c,onPerspectiveChange:f,onSubmit:A,isLoading:g})}),d.jsx("div",{className:"overflow-y-auto",children:d.jsx(X6,{data:p})})]})]})]})]})},aD=({onBack:e})=>d.jsxs("div",{className:"w-full h-full min-h-screen relative",children:[d.jsx("div",{className:"absolute top-4 left-4 z-50",children:d.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-4 py-2 bg-slate-800/90 backdrop-blur-sm rounded-lg shadow-lg hover:shadow-xl transition-all hover:scale-105 text-slate-200 border border-slate-700",children:[d.jsx(ha,{className:"w-4 h-4"}),d.jsx("span",{className:"font-medium",children:"返回主頁"})]})}),d.jsx(rD,{})]}),gb=new Li({apiKey:"AIzaSyDcN6U-3ferwZqCG-r93GR2kpKpC9U1SA4"}),Ad=async e=>`data:image/jpeg;base64,${(await gb.models.generateImages({model:"imagen-4.0-generate-001",prompt:e,config:{numberOfImages:1,outputMimeType:"image/jpeg",aspectRatio:"16:9"}})).generatedImages[0].image.imageBytes}`,oD={type:Ne.OBJECT,properties:{summary:{type:Ne.STRING,description:"A concise, one-paragraph summary of the sermon's key message and main points."},slides:{type:Ne.ARRAY,description:"An array of 5 slide objects for the presentation.",items:{type:Ne.OBJECT,properties:{title:{type:Ne.STRING,description:"A short, engaging title for the sermon section."},talkingPoints:{type:Ne.ARRAY,description:"An array of 2-3 brief talking points for this section. Where appropriate, these should include supporting scripture references (e.g., 'The command to love your neighbor (Leviticus 19:18)').",items:{type:Ne.STRING}},speakerNotes:{type:Ne.STRING,description:"Detailed speaker notes for this section, forming part of a cohesive sermon of the requested length. This text MUST include scripture references (e.g., 'As it is written in John 3:16...') to support its points."},imagePrompt:{type:Ne.STRING,description:"A descriptive prompt for an image generation model to create a background image for this slide. e.g., 'An abstract representation of the Holy Trinity'."}},required:["title","talkingPoints","speakerNotes","imagePrompt"]}},fullScript:{type:Ne.STRING,description:"The complete, concatenated sermon script from all speaker notes, formatted for readability. This text MUST be well-supported with scripture references."}},required:["summary","slides","fullScript"]},sD=e=>`You are an AI assistant designed to generate Christian sermons. Your persona should be that of a knowledgeable, thoughtful, and humble theologian or pastor. Adhere to the following persona settings:
- Ethical Framework: Your approach to sensitive topics should be ${e.ethics}.
- Political Stance: Maintain a strictly ${e.politicalStand} position.
- Powerfulness of Tone: Your language should be ${e.powerfulness} and convincing, yet pastoral.
- Sentiment: The overall sentiment of the speech should be ${e.sentiment}.
- Empathy Level: Exhibit a ${e.empathy} level of empathy in your writing.
- Personality: Your core personality is: "${e.personality}".
Your primary goal is to create a sermon script that is theologically sound, engaging, and flows logically. Your points MUST be supported with accurate and contextually appropriate scripture references. Do not break character.`,lD=async(e,t,i,a,s)=>{let l;try{const I=localStorage.getItem("ai-insights-prompt-config");l=I?JSON.parse(I):gl}catch{l=gl}const c={[ia.BIBLICAL_STUDY]:"Focus on Biblical Study. Provide a careful exegesis of the text, considering its historical and literary context. Explain its meaning and provide practical applications for a modern Christian audience.",[ia.CHURCH_HISTORY]:"Focus on Church History. Discuss the specified historical event, figure, or movement. Extract key lessons and explain its relevance to the Church today.",[ia.SYSTEMATIC_THEOLOGY]:"Focus on Systematic Theology. Explain the theological doctrine clearly and concisely. Ground the explanation in Scripture and discuss its importance for Christian faith and life."},f=t.filter(I=>I.trim()!=="").map(I=>`- ${I}`).join(`
`),p=`
      Generate a compelling ${a}-minute sermon, a concise summary, and a 5-part presentation structure on the following topic.
      The tone should be reverent, insightful, and suitable for a church congregation.

      **Crucial Requirement:** Throughout the sermon manuscript and talking points, you MUST include relevant scripture references (e.g., John 3:16, Romans 8:28) to support your points. These references must be accurate and contextually appropriate.

      Topic: "${e}"
      Sermon Basis: "${i}"

      Key Verses or Points to include:
      ${f}
      
      Instructions based on Sermon Basis:
      ${c[i]}

      Structure the output as a JSON object that strictly follows the provided schema.
      The summary should be a brief, single-paragraph overview of the sermon's core message.
      The entire sermon should flow logically across the 5 parts. Each part's speaker notes should be a section of this continuous sermon.
      The final 'fullScript' field should be the concatenation of all speaker notes into one cohesive text.
    `,h={responseMimeType:"application/json",responseSchema:oD};l.personaEnabled?(s("正在讀取 AI 神學家角色設定..."),h.systemInstruction=sD(l)):(s("正在使用預設 AI 角色..."),h.temperature=.5),s("正在撰寫講道手稿...");const g=await gb.models.generateContent({model:"gemini-2.5-flash",contents:p,config:h}),b=JSON.parse(g.text),w=b.slides,S=b.fullScript,C=b.summary;s("正在生成視覺素材...");const E=Ad("A pastor or theologian, depicted as a thoughtful and kind person, professional headshot, looking at the camera, photorealistic, warm lighting."),R=Ad("Silhouette of a congregation in a church, looking towards a softly lit pulpit area, shallow depth of field."),A=w.map(I=>{const U=`${I.imagePrompt}, digital painting, stained glass art style, reverent, detailed, cinematic lighting.`;return Ad(U)}),[D,q,...M]=await Promise.all([E,R,...A]),V=w.map((I,U)=>({...I,backgroundUrl:M[U]}));return s("正在彙整講道..."),{slides:V,speakerImageUrl:D,audienceImageUrl:q,fullScript:S,summary:C}},uD=async(e,t,i=.7)=>{try{const a=await fetch("/api/ollama",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:e,messages:[{role:"user",content:t}],temperature:i,max_tokens:4e3,stream:!1})});if(!a.ok){const l=await a.text();throw new Error(`Ollama Cloud API error (${a.status}): ${l}`)}const s=await a.json();if(s.choices&&s.choices[0]&&s.choices[0].message)return s.choices[0].message.content;throw new Error("Invalid response format from Ollama Cloud API")}catch(a){throw console.error("Ollama Cloud API error:",a),new Error(`Failed to generate with Ollama Cloud: ${a.message}`)}},cD=async(e,t,i,a,s,l)=>{console.log("Generating sermon with Ollama Cloud:",l.model),s("連接到 Ollama Cloud API...");const f=`你是一位經驗豐富的牧師和講道專家。請為以下主題創作一篇${a}分鐘的基督教講道。

主題：${e}
神學基礎：${i} - ${{"Biblical Study":"進行深入的釋經研究，關注原文、歷史背景和文學結構","Church History":"從教會歷史的角度來理解，連接過去的智慧與當代應用","Systematic Theology":"系統神學的方法，清晰闡述教義並以聖經為根基"}[i]}
重點要點：${t.join("、")}

請生成一個結構化的講道，包含：
1. 引言 - 吸引會眾注意並介紹主題
2. 聖經基礎 - 深入經文分析
3. 神學反思 - 深層的教義理解
4. 實際應用 - 具體的生活應用
5. 結論與呼召 - 有力的總結和生命邀請

請以JSON格式回應，包含以下結構：
{
  "summary": "講道摘要（200字以內）",
  "slides": [
    {
      "title": "幻燈片標題",
      "talkingPoints": ["要點1", "要點2", "要點3"],
      "speakerNotes": "講員備註（詳細內容）"
    }
  ],
  "fullScript": "完整的講道稿文本"
}

請確保內容：
- 包含準確的聖經經文引用
- 適合${a}分鐘的講道長度
- 語言溫暖、鼓勵且充滿信心
- 神學上準確且實用`;s(`使用 ${l.model} 生成講道內容...`);try{const p=await uD(l.model,f,l.temperature);s("解析生成內容...");let h;try{const w=p.match(/\{[\s\S]*\}/);if(w)h=JSON.parse(w[0]);else throw new Error("No JSON found in response")}catch(w){console.warn("Failed to parse JSON, creating structure from text:",w),h=dD(p,e,t,i,a)}s("組裝最終演示文稿...");const g=(h.slides||[]).map((w,S)=>({title:w.title||`第 ${S+1} 部分`,talkingPoints:Array.isArray(w.talkingPoints)?w.talkingPoints:["重點 1","重點 2","重點 3"],speakerNotes:w.speakerNotes||w.content||"",imagePrompt:w.imagePrompt||`講道場景 ${S+1}`,backgroundUrl:`https://picsum.photos/seed/sermon${S}/800/600`})),b={slides:g.length>0?g:yb(e,t,i,l.model,a),speakerImageUrl:"https://picsum.photos/seed/speaker/150/150",audienceImageUrl:"https://picsum.photos/seed/audience/300/200",fullScript:h.fullScript||p,summary:h.summary||`使用 ${l.model} 生成的關於「${e}」的講道，基於${i}的神學研究方法。`};return s("完成生成！"),b}catch(p){return console.error("Ollama Cloud generation error:",p),s("生成失敗，使用備用內容..."),fD(e,t,i,a,l)}};function dD(e,t,i,a,s){const c=e.split(`

`).filter(f=>f.trim().length>0).slice(0,5).map((f,p)=>{var g;const h=f.split(`
`).filter(b=>b.trim());return{title:((g=h[0])==null?void 0:g.substring(0,50))||`第 ${p+1} 部分`,talkingPoints:h.slice(1,4).length>0?h.slice(1,4):["要點 1","要點 2","要點 3"],speakerNotes:f,imagePrompt:`講道插圖 ${p+1}`,backgroundUrl:`https://picsum.photos/seed/sermon${p}/800/600`}});return{summary:e.substring(0,200)+"...",slides:c,fullScript:e}}function yb(e,t,i,a,s){return[{title:`${e} - 引言`,talkingPoints:["歡迎與開場祈禱",`介紹今日主題：${e}`,"建立會眾期待"],speakerNotes:`使用 ${a} 生成的引言部分。根據${i}的角度來介紹${e}。`,imagePrompt:"教會聚會開始的溫馨場景",backgroundUrl:"https://picsum.photos/seed/sermon1/800/600"},{title:"聖經基礎",talkingPoints:t.length>0?t:["主要經文分析","歷史背景","原文含義"],speakerNotes:`深入探討聖經根據，運用${i}的研究方法。`,imagePrompt:"聖經攤開在講台上的神聖場景",backgroundUrl:"https://picsum.photos/seed/sermon2/800/600"},{title:"神學反思",talkingPoints:["教義的深層含義","與傳統教導的關聯","現代詮釋的平衡"],speakerNotes:`神學分析部分，展現對${i}相關神學觀點的理解。`,imagePrompt:"思考和默想的安靜空間",backgroundUrl:"https://picsum.photos/seed/sermon3/800/600"},{title:"實際應用",talkingPoints:["日常生活的實踐","具體的行動步驟","社群中的見證"],speakerNotes:"應用部分要求實用性和可操作性，貼近會眾需求。",imagePrompt:"基督徒在日常生活中實踐信仰",backgroundUrl:"https://picsum.photos/seed/sermon4/800/600"},{title:"結論與呼召",talkingPoints:["總結核心信息","發出生命的邀請","祝禱與差遣"],speakerNotes:`結尾部分需要有力且溫暖。講道時間控制在${s}分鐘。`,imagePrompt:"會眾響應呼召的感動場面",backgroundUrl:"https://picsum.photos/seed/sermon5/800/600"}]}function fD(e,t,i,a,s){return{slides:yb(e,t,i,s.model,a),speakerImageUrl:"https://picsum.photos/seed/speaker/150/150",audienceImageUrl:"https://picsum.photos/seed/audience/300/200",fullScript:`【${s.model} 備用講道稿】

親愛的弟兄姊妹們，平安！

今天我們要一起探討「${e}」這個重要的主題。

${t.length>0?t.map((l,c)=>`${c+1}. ${l}`).join(`
`):""}

願上帝的話語成為我們腳前的燈，路上的光。

阿們。`,summary:`關於「${e}」的講道，基於${i}的研究方法。預計時長${a}分鐘。`}}const hD=()=>{const[e,t]=H.useState(Ve.LANDING),[i,a]=H.useState(jt.GEMINI),[s,l]=H.useState(""),[c,f]=H.useState(null),[p,h]=H.useState(""),[g,b]=H.useState(null),[w,S]=H.useState([]),[C,E]=H.useState(gl);H.useEffect(()=>{try{const K=localStorage.getItem("ai-insights-presentations");K&&S(JSON.parse(K));const te=localStorage.getItem("ai-insights-prompt-config");te&&E(JSON.parse(te))}catch(K){console.error("Failed to load data from local storage",K)}},[]);const R=H.useCallback(async(K,te,z,re,ie)=>{t(Ve.LOADING),b(null),f(null),h(K);try{let se;if(i===jt.GEMINI)se=await lD(K,te,z,re,l);else if(i===jt.LOCAL_LLM&&ie)se=await cD(K,te,z,re,l,ie);else throw new Error("Please select an AI engine");f(se),t(Ve.RESULT)}catch(se){console.error("Generation failed:",se);const B=se instanceof Error?se.message:"An unknown error occurred.";b(`生成失敗。 ${B}`),t(Ve.ERROR)}},[i]),A=()=>{t(Ve.INPUT),f(null),b(null),h("")},D=()=>{t(Ve.LANDING),f(null),b(null),h("")},q=K=>{switch(K){case"sermon":t(Ve.INPUT);break;case"bible-game":t(Ve.BIBLE);break;case"theology-search":t(Ve.THEOLOGY_SEARCH);break;case"biblical-language":t(Ve.BIBLICAL_LANGUAGE);break;case"theological-journey":t(Ve.THEOLOGICAL_JOURNEY);break}},M=K=>{if(!p)return;const te={...K,id:new Date().toISOString(),topic:p,savedAt:new Date().toISOString()},z=[...w,te];S(z),localStorage.setItem("ai-insights-presentations",JSON.stringify(z)),f(te)},V=K=>{f(K),h(K.topic),t(Ve.RESULT)},I=K=>{const te=w.filter(z=>z.id!==K);S(te),localStorage.setItem("ai-insights-presentations",JSON.stringify(te))},U=K=>{E(K),localStorage.setItem("ai-insights-prompt-config",JSON.stringify(K)),t(Ve.INPUT)},Q=()=>{switch(e){case Ve.LANDING:return d.jsx(VS,{onNavigate:q});case Ve.BIBLE:return d.jsx(L_,{onBack:D});case Ve.THEOLOGY_SEARCH:return d.jsx(rI,{onBack:D});case Ve.BIBLICAL_LANGUAGE:return d.jsx(YI,{onBack:D});case Ve.THEOLOGICAL_JOURNEY:return d.jsx(aD,{onBack:D});case Ve.LOADING:return d.jsx(RS,{message:s});case Ve.RESULT:return c&&d.jsx(LS,{presentation:c,topic:p,onReset:A,onSave:M,isSaved:"id"in c});case Ve.ERROR:return d.jsxs("div",{className:"text-center p-8",children:[d.jsx("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"生成失敗"}),d.jsx("p",{className:"text-gray-300 mb-6",children:g}),d.jsx("button",{onClick:A,className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 rounded-md font-semibold transition-colors",children:"再試一次"})]});case Ve.SAVED:return d.jsx(qS,{presentations:w,onLoad:V,onDelete:I,onBack:A});case Ve.ADMIN:return d.jsx(PS,{config:C,onSave:U,onBack:A});case Ve.INPUT:default:return d.jsx(IS,{onGenerate:R,selectedEngine:i,onEngineChange:a,onShowSaved:()=>t(Ve.SAVED),onBackToLanding:D,hasSavedPresentations:w.length>0})}},$=e!==Ve.LANDING&&e!==Ve.BIBLE&&e!==Ve.THEOLOGY_SEARCH&&e!==Ve.BIBLICAL_LANGUAGE&&e!==Ve.THEOLOGICAL_JOURNEY;return d.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 flex flex-col",children:[$&&d.jsx(Fw,{aiEngine:i,onShowAdmin:()=>t(Ve.ADMIN)}),d.jsx("main",{className:"flex-grow container mx-auto px-4 py-8 flex flex-col items-center justify-center",children:Q()})]})},xb=document.getElementById("root");if(!xb)throw new Error("Could not find root element to mount to");const pD=Ow.createRoot(xb);pD.render(d.jsx(Uw.StrictMode,{children:d.jsx(hD,{})}));export{Li as G};
